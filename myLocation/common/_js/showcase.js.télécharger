/*! For license information please see showcase.js.LICENSE.txt */
(()=>{var e,t,i,n,s,r,a={87207:(e,t,i)=>{"use strict";e.exports=i.p+"images/chrome.png"},75673:(e,t,i)=>{"use strict";e.exports=i.p+"images/edge.png"},68472:(e,t,i)=>{"use strict";e.exports=i.p+"images/firefox.png"},81826:(e,t,i)=>{"use strict";e.exports=i.p+"images/safari.png"},24877:(e,t,i)=>{"use strict";e.exports=i.p+"images/showcase-password-background.jpg"},89992:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyMzAuMDUgNDkuNzUiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6I2Y1ZjRmM30uc3Qye2ZpbGw6I2ZmZn0uc3Qze2ZpbGw6Izk5OX08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02MS4yOCAzNi4xNHYtOC44MmwtLjI0LTUuMDkuMTktLjA0IDIuMDUgNC41NCA0LjgyIDguODYgNC44Mi04Ljg2IDIuMDYtNC41NC4xOC4wNC0uMjQgNS4wOXY4LjgyaDUuMTRWMTQuNGgtNS44MWwtNi4xMSAxMS43N2gtLjA3TDYxLjk1IDE0LjRoLTUuODF2MjEuNzR6TTIxMi42OSAzMC42M2MwIDMuNiAxLjk0IDUuNSA1LjYxIDUuNWgzLjE3di00LjQ1aC0zLjQ1di05LjQ5aDMuNzR2LTQuMzZoLTQuMTV2LTQuMjFoLTQuOTF2MTcuMDF6TTIxMS4yNiAxNy44M2gtLjg3Yy0zLjAxIDAtNC40NCAyLjAzLTQuODkgMy40M2gtLjE4di0zLjQzSDIwMHYxOC4zMWg1LjMyVjI1LjcyYzAtMS4wOC40MS0xLjg0LjkzLTIuMzMuODktLjg2IDIuNzktMS4xMSA1LjAxLTEuMTF2LTQuNDV6TTE1OC42MyAxNy44M2gtLjg3Yy0zLjAxIDAtNC40NCAyLjAzLTQuODkgMy40M2gtLjE4di0zLjQzaC01LjMydjE4LjMxaDUuMzJWMjUuNzJjMC0xLjA4LjQxLTEuODQuOTMtMi4zMy44OS0uODYgMi43OS0xLjExIDUuMDEtMS4xMXYtNC40NXpNMTI3LjQ4IDI3LjI1YzAtNS45NyAzLjE3LTkuODYgOC44NS05Ljg2IDYuMjYgMCA4Ljc4IDQuNTMgOC43OCA5LjY0djEuNThoLTEyLjEydi4xOGMwIDIuMTIgMS4xNCAzLjYgNC4xNyAzLjYgMi4yMyAwIDMuNDUtMS4wNCA0LjY0LTIuMjdsMi42NiAzLjMxYy0xLjY5IDEuOTQtNC40NiAzLjEzLTcuOTEgMy4xMy01LjguMDEtOS4wNy0zLjI3LTkuMDctOS4zMXptNS41LTIuMDV2LjI5aDYuNjJ2LS4zMmMwLTIuMy0xLjA0LTMuODUtMy4xNy0zLjg1cy0zLjQ1IDEuNTQtMy40NSAzLjg4ek0xODAuMDQgMjcuMjVjMC02LjA4IDMuMzEtOS44NiA4Ljg1LTkuODYgNS41NCAwIDguODUgMy43OCA4Ljg1IDkuODZzLTMuMzEgOS4zMi04Ljg1IDkuMzJjLTUuNTUgMC04Ljg1LTMuMjQtOC44NS05LjMyem0xMi4xNSAxLjM3di0zLjI3YzAtMi4zNy0xLjIyLTMuNzQtMy4zMS0zLjc0cy0zLjMxIDEuMzctMy4zMSAzLjc0djMuMjdjMCAyLjM3IDEuMjIgMy43NCAzLjMxIDMuNzRzMy4zMS0xLjM3IDMuMzEtMy43NHpNMTIyLjQyIDEzLjYyaC00Ljc4djIuMTljMCAxLjMtLjQzIDIuMDEtMS44NyAyLjAxaC0xLjMzdjQuMzZoMi42NnY4LjQ0YzAgMy42IDEuOTQgNS41IDUuNjEgNS41aDMuMTd2LTQuNDVoLTMuNDV2LTkuNDloMy43NHYtNC4zNmgtMy43NHYtNC4yek0xMDkuMTcgMTMuNjJoLTQuNzh2Mi4xOWMwIDEuMy0uNDMgMi4wMS0xLjg3IDIuMDFoLTEuMzN2NC4zNmgyLjY2djguNDRjMCAzLjYgMS45NCA1LjUgNS42MSA1LjVoMy4xN3YtNC40NWgtMy40NXYtOS40OWgzLjc0di00LjM2aC0zLjc0di00LjJ6TTE3MC45IDE3LjM5Yy0yLjQ1IDAtNC41MyAxLjUxLTUuMDcgMy42aC0uMTh2LTMuMTdoLTUuMzJ2MjMuODJoNS4zMnYtOC42N2guMThjLjU0IDIuMDUgMi42MyAzLjYgNS4wNyAzLjYgNC43OCAwIDcuMjctMi45MSA3LjI3LTkuMzItLjAxLTYuNC0yLjQ5LTkuODYtNy4yNy05Ljg2em0xLjcyIDExLjUyYzAgMi4zNy0xLjQ4IDMuMzUtMy40OSAzLjM1LTIuMDEgMC0zLjQ5LTEuMDQtMy40OS0yLjc3di01YzAtMS43MyAxLjQ4LTIuNzcgMy40OS0yLjc3IDIuMDEgMCAzLjQ5IDEuNTUgMy40OSAzLjkydjMuMjd6TTk3LjgzIDM2LjE0Yy0xLjkxIDAtMy4yNy0xLjMtMy42LTMuMzFoLS4yMmMtLjU4IDIuNDUtMi42NiAzLjc0LTUuNTQgMy43NC0zLjc4IDAtNS44Ni0yLjIzLTUuODYtNS41IDAtMy45OSAzLjA5LTUuOSA4LjA5LTUuOWgyLjk5di0uNjFjMC0xLjgzLS45LTIuOTktMy4xMy0yLjk5LTIuMTIgMC0zLjI0IDEuMDgtNC4wNiAyLjIzbC0zLjE3LTIuODFjMS41MS0yLjIzIDMuNjctMy42IDcuNjMtMy42IDUuMzIgMCA4LjA2IDIuNDUgOC4wNiA2LjkxdjcuMzhoMS43NnY0LjQ1aC0yLjk1em0tNC4xMy01Ljcydi0yLjIzaC0yLjU5Yy0yLjA1IDAtMy4xMy43Ni0zLjEzIDIuMTJ2LjU0YzAgMS4zNy45IDIuMDEgMi40OCAyLjAxIDEuNzYgMCAzLjI0LS43MiAzLjI0LTIuNDR6Ii8+PGc+PHBhdGggZD0iTTM5LjA1IDYuOTFMMjYuMjQgMTAuNSAxMy40MiA2LjkxIDguMyA4LjM1djMzLjA2bDUuMTMgMS40NCAxMi44Mi0zLjU5IDEyLjgyIDMuNTkgNS4xMy0xLjQ0VjguMzVsLTUuMTUtMS40NHptLTUuMTIgMjQuNjdsLTcuNjktMi4xNS03LjY5IDIuMTV2LTEzLjRsNy42OSAyLjE1IDcuNjktMi4xNXYxMy40eiIgZmlsbD0iI2I3YmFiYiIvPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yNi4yNCAxMy4zN3Y2Ljk2bC0xMi44Mi0zLjU5djI2LjFMOC4zIDQxLjQxVjguMzV6TTMzLjkzIDM0LjQ1bC03LjY5LTIuMTZ2Ni45NmwxMi44MSAzLjU5di0yNi4xbC01LjEyIDEuNDR6Ii8+PGc+PHBhdGggY2xhc3M9InN0MyIgZD0iTTM5LjA1IDYuOTFsNS4xMyAxLjQ0LTE3Ljk0IDUuMDJMOC4zIDguMzVsNS4xMi0xLjQ0IDEyLjgyIDMuNTl6TTI2LjI0IDI5LjQybDcuNjkgMi4xNnYyLjg3bC03LjY5LTIuMTYtNy42OSAyLjE2di0yLjg3eiIvPjwvZz48L2c+PC9zdmc+"},31896:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iODQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNDIgMEMxOC43OSAwIDAgMTguNzkgMCA0MnMxOC43OSA0MiA0MiA0MiA0Mi0xOC43OSA0Mi00MlM2NS4yMSAwIDQyIDB6IiBmaWxsLW9wYWNpdHk9Ii4yNSIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTUxLjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6TTM0LjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg=="},78899:(e,t,i)=>{"use strict";e.exports=i.p+"images/escape.png"},49529:(e,t,i)=>{"use strict";e.exports=i.p+"images/headset-quest-2.png"},57494:(e,t,i)=>{"use strict";e.exports=i.p+"images/MP-logo_H_lock-RGB_color-black.svg"},17111:(e,t,i)=>{"use strict";e.exports=i.p+"images/matterport-app-icon.svg"},31891:(e,t,i)=>{"use strict";e.exports=i.p+"images/Desktop-help-play-button.svg"},71002:(e,t,i)=>{"use strict";e.exports=i.p+"images/Desktop-help-spacebar.png"},69607:(e,t,i)=>{"use strict";e.exports=i.p+"images/matterport-logo-light.svg"},14653:(e,t,i)=>{"use strict";e.exports=i.p+"images/mattertag-disc-128-free.v1.png"},94874:(e,t,i)=>{"use strict";e.exports=i.p+"images/mobile-help-play-button.svg"},86533:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_360.png"},70626:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_click_inside.png"},72145:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_drag.png"},12742:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_drag_two_finger.png"},5435:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_pinch.png"},67649:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_position.png"},2433:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_position_two_finger.png"},24367:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_gesture_tap.png"},64549:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_inside_key.png"},76064:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_keyboard_all.png"},81202:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_keyboard_left_right.png"},42135:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_keyboard_up_down.png"},41891:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_click.png"},73993:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_drag_left.png"},26668:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_drag_right.png"},82906:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_position_left.png"},64991:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_position_right.png"},12136:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_mouse_zoom.png"},90619:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_tap_inside.png"},26407:(e,t,i)=>{"use strict";e.exports=i.p+"images/nav_help_zoom_keys.png"},22016:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":60,"w":876,"h":744,"nm":"Rating Modal","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Vector 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[437.969,578.877,0],"to":[0,-8.167,0],"ti":[0,8.167,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":18,"s":[437.969,529.877,0],"to":[0,0,0],"ti":[0,0,0]},{"t":25,"s":[437.969,529.877,0]}],"ix":2},"a":{"a":0,"k":[0,51.205,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.83,0.808,0.833],"y":[1.233,0.833,0.35]},"o":{"x":[0.283,0.284,0],"y":[-0.056,-0.064,0]},"t":0,"s":[176.81,195.773,100]},{"i":{"x":[0.564,0.562,0.794],"y":[3.244,0.849,2.131]},"o":{"x":[0.466,0.473,0.167],"y":[-4.295,-0.161,0.141]},"t":23,"s":[207.791,222.842,100]},{"t":28,"s":[207.791,207.791,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.52,0.008],[0,0],[0,0],[0.001,-0.183],[-8.335,-0.035],[-1.024,7.367],[-0.728,2.537],[0,0],[2.38,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.516,0.006],[0,0],[0,0],[0.432,0.025],[0,0],[2.518,0.008],[0,0],[0,0],[0.409,-0.037],[0,0],[2.516,0.006],[0,0],[0,0],[0.401,-0.185],[0,0]],"o":[[-2.516,-0.006],[0,0],[0,0],[-0.027,8.335],[7.643,0.021],[0.358,-2.606],[0,0],[0,0],[-2.387,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.514,-0.01],[0,0],[-0.415,-0.039],[0,0],[0,0],[-2.518,-0.01],[0,0],[-0.423,0.021],[0,0],[0,0],[-2.514,-0.008],[0,0],[-0.44,0.144],[0,0],[0,0]],"v":[[-33.701,-15.143],[-36.223,-12.631],[-36.281,6.241],[-36.285,7.503],[-21.234,22.652],[-6.23,9.641],[-4.465,1.945],[-2.629,-4.438],[-4.202,-7.63],[-7.4,-6.064],[-11.102,2.545],[-12.356,1.279],[-12.356,0.023],[-12.35,-1.377],[-12.3,-18.852],[-14.806,-21.374],[-17.328,-18.866],[-17.38,-2.341],[-18.642,-2.448],[-18.584,-20.126],[-21.092,-22.652],[-23.616,-20.144],[-23.674,-2.463],[-24.928,-2.376],[-24.885,-17.628],[-27.394,-20.155],[-29.917,-17.645],[-29.968,-1.429],[-31.228,-0.933],[-31.189,-12.617]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[-2.52,0.008],[0,0],[0,0],[-0.001,-0.183],[8.335,-0.035],[1.024,7.367],[0.728,2.537],[0,0],[-2.378,0.806],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.516,0.006],[0,0],[0,0],[-0.432,0.025],[0,0],[-2.518,0.008],[0,0],[0,0],[-0.407,-0.037],[0,0],[-2.518,0.006],[0,0],[0,0],[-0.399,-0.185],[0,0]],"o":[[2.516,-0.006],[0,0],[0,0],[0.029,8.335],[-7.645,0.021],[-0.358,-2.606],[0,0],[0,0],[2.389,-0.816],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.514,-0.01],[0,0],[0.415,-0.039],[0,0],[0,0],[2.518,-0.01],[0,0],[0.426,0.021],[0,0],[0,0],[2.514,-0.008],[0,0],[0.438,0.144],[0,0],[0,0]],"v":[[33.701,-15.143],[36.223,-12.631],[36.281,6.241],[36.285,7.503],[21.234,22.652],[6.23,9.641],[4.465,1.945],[2.629,-4.438],[4.202,-7.63],[7.4,-6.064],[11.102,2.545],[12.354,1.279],[12.354,0.023],[12.348,-1.377],[12.298,-18.852],[14.804,-21.374],[17.328,-18.866],[17.38,-2.341],[18.642,-2.448],[18.584,-20.126],[21.092,-22.652],[23.618,-20.144],[23.674,-2.463],[24.928,-2.376],[24.882,-17.628],[27.394,-20.155],[29.917,-17.645],[29.968,-1.429],[31.226,-0.933],[31.187,-12.617]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[3.333,-0.333]],"o":[[-1.2,-5.2],[0,0]],"v":[[22.51,8.041],[11.01,2.541]],"c":false},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[-3.333,-0.333]],"o":[[1.2,-5.2],[0,0]],"v":[[-21.99,7.614],[-10.49,2.114]],"c":false},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,0.192156862745,0.345098039216,1]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":19,"s":[1,0.192156862745,0.345098039216,1]},{"t":26,"s":[0.133333333333,0.133333333333,0.133333333333,1]}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Vector","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":23,"s":[0]},{"t":27,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[435.195,196.412,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":23,"s":[209.366,209.366,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":31,"s":[257.214,257.214,100]},{"t":35,"s":[209.366,209.366,100]}],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":23,"s":[{"i":[[33.137,0],[0,-33.137],[-33.137,0],[0,33.137]],"o":[[-33.137,0],[0,33.137],[33.137,0],[0,-33.137]],"v":[[-0.955,14.988],[-60.955,74.988],[-0.955,134.988],[59.045,74.988]],"c":true}]},{"t":31,"s":[{"i":[[47.354,0],[0,-47.354],[-47.354,0],[0,47.354]],"o":[[-47.354,0],[0,47.354],[47.354,0],[0,-47.354]],"v":[[0.906,-36.975],[-84.837,48.768],[0.906,134.511],[86.648,48.768]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.9,-0.695],[-0.438,0],[-0.403,0.524],[0,0],[0.9,0.695],[0.689,-0.896],[0,0]],"o":[[0.372,0.288],[0.617,0],[0,0],[0.695,-0.898],[-0.898,-0.699],[0,0],[-0.695,0.898]],"v":[[10.071,7.71],[11.325,8.137],[12.953,7.34],[19.076,-0.584],[18.706,-3.468],[15.825,-3.098],[9.701,4.826]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.615,0],[-0.376,0.29],[0.693,0.898],[0,0],[0.898,-0.693],[-0.693,-0.898]],"o":[[0.405,0.524],[0.44,0],[0.898,-0.695],[0,0],[-0.697,-0.898],[-0.898,0.695],[0,0]],"v":[[-12.955,7.338],[-11.327,8.137],[-10.069,7.71],[-9.699,4.826],[-15.823,-3.098],[-18.707,-3.468],[-19.079,-0.584]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-1.135,0],[0,1.135],[0,0],[1.137,0],[0,-1.135]],"o":[[0,1.135],[1.137,0],[0,0],[0,-1.135],[-1.135,0],[0,0]],"v":[[-2.12,2.14],[-0.065,4.196],[1.991,2.14],[1.991,-6.082],[-0.065,-8.137],[-2.12,-6.082]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.131453797221,0.131453797221,0.131453797221,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":23,"op":253,"st":-47,"bm":0}],"markers":[]}')},10105:e=>{"use strict";e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":120,"w":250,"h":250,"nm":"Comp 1","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":3,"nm":"▽ phone","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[125,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":3,"nm":"▽ Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,20.039,0],"ix":2},"a":{"a":0,"k":[10.091,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Vector","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[10.091,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-2.523,0.835],[2.523,0.835],[3.364,0],[2.523,-0.835],[-2.523,-0.835],[-3.364,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":3,"nm":"▽ Group 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,192.952,0],"ix":2},"a":{"a":0,"k":[22.705,2.506,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Vector","parent":4,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[22.705,2.506,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.462,0],[0,0],[0,0.459],[0.462,0],[0,0],[0,-0.459]],"o":[[0,0],[0.462,0],[0,-0.459],[0,0],[-0.462,0],[0,0.459]],"v":[[-6.727,0.835],[6.727,0.835],[7.568,0],[6.727,-0.835],[-6.727,-0.835],[-7.568,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":3,"nm":"▽ Group","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[55.5,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Vector","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[55.5,106.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.246,0],[0,0],[0,3.224],[0,0],[3.246,0],[0,0],[0,-3.224],[0,0]],"o":[[0,0],[3.246,0],[0,0],[0,-3.224],[0,0],[-3.246,0],[0,0],[0,3.224]],"v":[[-12.614,35.5],[12.614,35.5],[18.5,29.653],[18.5,-29.653],[12.614,-35.5],[-12.614,-35.5],[-18.5,-29.653],[-18.5,29.653]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-2.321,0],[0,0],[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305]],"o":[[0,-2.305],[0,0],[2.321,0],[0,0],[0,2.305],[0,0],[-2.321,0],[0,0]],"v":[[-16.818,-29.653],[-12.614,-33.829],[12.614,-33.829],[16.818,-29.653],[16.818,29.653],[12.614,33.829],[-12.614,33.829],[-16.818,29.653]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":3,"ty":4,"nm":"Ellipse 19 (Stroke) 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":270,"ix":10},"p":{"a":0,"k":[40.962,100.923,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Ellipse 19 (Stroke)","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":4,"s":[100]}],"ix":11},"r":{"a":0,"k":90,"ix":10},"p":{"a":0,"k":[213.962,108.423,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.155,0.911],[-3.096,-1.097],[-1.899,-2.704],[-0.392,-2.375],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.391,0.391],[0,0],[0.391,0.391],[0.391,-0.391],[0,0],[1.7,2.42],[3.49,1.237],[3.557,-1.027],[2.311,-2.91],[-0.432,-0.344],[-0.344,0.432]],"o":[[3.155,-0.911],[3.097,1.097],[1.392,1.982],[0,0],[-0.391,-0.391],[-0.391,0.391],[0,0],[0.391,0.391],[0,0],[0.391,-0.391],[-0.391,-0.391],[0,0],[-0.368,-2.918],[-2.137,-3.042],[-3.49,-1.237],[-3.557,1.027],[-0.344,0.432],[0.432,0.344],[2.054,-2.586]],"v":[[-9.391,-6.883],[0.218,-6.597],[7.898,-0.754],[10.602,5.87],[6.161,1.429],[4.747,1.429],[4.747,2.843],[11.111,9.207],[12.525,9.207],[18.889,2.843],[18.889,1.429],[17.475,1.429],[12.675,6.228],[9.534,-1.904],[0.886,-8.482],[-9.946,-8.805],[-18.965,-2.753],[-18.804,-1.348],[-17.399,-1.509]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[300,300],"ix":3},"r":{"a":0,"k":-15,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 19 (Stroke)","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":300,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Phone","refId":"comp_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":74,"s":[100]},{"t":79,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"Rotate","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":7,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":51,"s":[100]},{"t":57,"s":[0]}],"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":7,"s":[-90]},{"t":46,"s":[0]}],"ix":10},"p":{"a":0,"k":[127.49999999999999,131,0],"ix":2},"a":{"a":0,"k":[125,106.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":250,"h":213,"ip":0,"op":80,"st":0,"bm":0}],"markers":[]}')},63064:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjE0MiIgdmlld0JveD0iMCAwIDE0MiAxNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik04MiA4Mi41MDAxQzg1LjMzMzMgODIuMTY2NyA5Mi4zIDgyLjgwMDEgOTMuNSA4OC4wMDAxTTYwLjUgODIuMDczM0M1Ny4xNjY3IDgxLjc0IDUwLjIgODIuMzczMyA0OSA4Ny41NzMzTTM0Ljc2NjggNjcuMzI3NUMzNC43NjY4IDY3LjMyNzUgMzQuNzczIDY0LjgwOTQgMzcuMjg5IDY0LjgxNTZDMzkuODA5MSA2NC44MjM4IDM5LjgwMDkgNjcuMzQxOSAzOS44MDA5IDY3LjM0MTlMMzkuNzYxOCA3OS4wMjU3QzQwLjE2MjcgNzguODQwNyA0MC41ODIgNzguNjc0MiA0MS4wMjE5IDc4LjUzMDNMNDEuMDczMyA2Mi4zMTRDNDEuMDczMyA2Mi4zMTQgNDEuMDgxNSA1OS43OTYgNDMuNTk1NCA1OS44MDQyQzQ2LjExMTQgNTkuODEwMyA0Ni4xMDUzIDYyLjMzMDUgNDYuMTA1MyA2Mi4zMzA1TDQ2LjA2MjEgNzcuNTgyN0M0Ni40NzEyIDc3LjU0NTcgNDYuODkyNSA3Ny41MTY5IDQ3LjMxNiA3Ny40OTYzTDQ3LjM3MzUgNTkuODE0NUM0Ny4zNzM1IDU5LjgxNDUgNDcuMzc5NyA1Ny4yOTY0IDQ5Ljg5NzggNTcuMzA2N0M1Mi40MTU4IDU3LjMxNDkgNTIuNDA1NSA1OS44MzI5IDUyLjQwNTUgNTkuODMyOUw1Mi4zNDggNzcuNTEwN0M1Mi43Nzk3IDc3LjUzNTQgNTMuMTk0OSA3Ny41Nzg2IDUzLjYxMDEgNzcuNjE3Nkw1My42NjE1IDYxLjA5M0M1My42NjE1IDYxLjA5MyA1My42Njk3IDU4LjU3NDkgNTYuMTgzNyA1OC41ODUyQzU4LjY5OTcgNTguNTkxNCA1OC42ODk0IDYxLjEwNzQgNTguNjg5NCA2MS4xMDc0TDU4LjY0IDc4LjU4MTdMNTguNjMzOSA3OS45ODE1VjgxLjIzNzRMNTkuODg3OCA4Mi41MDM3TDYzLjU4OTggNzMuODk1QzYzLjU4OTggNzMuODk1IDY0LjQwMTggNzEuNTEyNiA2Ni43ODgzIDcyLjMyODdDNjkuMTY4NiA3My4xMzQ0IDY4LjM2MDggNzUuNTIxIDY4LjM2MDggNzUuNTIxTDY2LjUyNTIgODEuOTAzNUM2NS43OTc1IDg0LjQ0IDY1LjExNzEgODYuOTkzIDY0Ljc1OTQgODkuNTk5NEM2My43MzU4IDk2Ljk2NjYgNTcuMzk4NSAxMDIuNjMyIDQ5Ljc1NTkgMTAyLjYxMUM0MS40MjA3IDEwMi41NzYgMzQuNjc4NCA5NS43OTY5IDM0LjcwNTIgODcuNDYxN0MzNC43MDYgODcuMjc4NyAzNC43MDkzIDg2LjE5OTYgMzQuNzA5MyA4Ni4xOTk2TDM0Ljc2NjggNjcuMzI3NVpNMTA3LjIxMyA2Ny4zMjc1QzEwNy4yMTMgNjcuMzI3NSAxMDcuMjA3IDY0LjgwOTQgMTA0LjY5MSA2NC44MTU2QzEwMi4xNzEgNjQuODIzOCAxMDIuMTc3IDY3LjM0MTkgMTAyLjE3NyA2Ny4zNDE5TDEwMi4yMTYgNzkuMDI1N0MxMDEuODE3IDc4Ljg0MDcgMTAxLjM5NiA3OC42NzQyIDEwMC45NTggNzguNTMwM0wxMDAuOTA2IDYyLjMxNEMxMDAuOTA2IDYyLjMxNCAxMDAuODk4IDU5Ljc5NiA5OC4zODQyIDU5LjgwNDJDOTUuODY2MSA1OS44MTAzIDk1Ljg3MjMgNjIuMzMwNSA5NS44NzIzIDYyLjMzMDVMOTUuOTE3NSA3Ny41ODI3Qzk1LjUxMDUgNzcuNTQ1NyA5NS4wODkxIDc3LjUxNjkgOTQuNjYzNiA3Ny40OTYzTDk0LjYwODIgNTkuODE0NUM5NC42MDgyIDU5LjgxNDUgOTQuNTk5OSA1Ny4yOTY0IDkyLjA4MTkgNTcuMzA2N0M4OS41NjM4IDU3LjMxNDkgODkuNTc0MSA1OS44MzI5IDg5LjU3NDEgNTkuODMyOUw4OS42MzE2IDc3LjUxMDdDODkuMiA3Ny41MzU0IDg4Ljc4NDggNzcuNTc4NiA4OC4zNjk1IDc3LjYxNzZMODguMzE4MSA2MS4wOTNDODguMzE4MSA2MS4wOTMgODguMzA3OSA1OC41NzQ5IDg1Ljc5MzkgNTguNTg1MkM4My4yNzc5IDU4LjU5MTQgODMuMjg4MiA2MS4xMDc0IDgzLjI4ODIgNjEuMTA3NEw4My4zMzc1IDc4LjU4MTdMODMuMzQzNyA3OS45ODE1VjgxLjIzNzRMODIuMDkxOSA4Mi41MDM3TDc4LjM4OTggNzMuODk1Qzc4LjM4OTggNzMuODk1IDc3LjU3OTkgNzEuNTEyNiA3NS4xOTE0IDcyLjMyODdDNzIuODEzMSA3My4xMzQ0IDczLjYxODkgNzUuNTIxIDczLjYxODkgNzUuNTIxTDc1LjQ1NDUgODEuOTAzNUM3Ni4xODIxIDg0LjQ0IDc2Ljg2MjUgODYuOTkzIDc3LjIyMDIgODkuNTk5NEM3OC4yNDM5IDk2Ljk2NjYgODQuNTc5MSAxMDIuNjMyIDkyLjIyMzcgMTAyLjYxMUMxMDAuNTU5IDEwMi41NzYgMTA3LjMwMyA5NS43OTY5IDEwNy4yNzQgODcuNDYxN0MxMDcuMjc0IDg3LjI3ODcgMTA3LjI3IDg2LjE5OTYgMTA3LjI3IDg2LjE5OTZMMTA3LjIxMyA2Ny4zMjc1WiIgc3Ryb2tlPSIjMjIyMjIyIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTgyLjM4OTkgNTYuMjc0OEM4MS45NTIxIDU2LjI3NDggODEuNTA4MSA1Ni4xMzUgODEuMTM2IDU1Ljg0NzJDODAuMjM1NyA1NS4xNTI0IDgwLjA3MTMgNTMuODYxNiA4MC43NjYgNTIuOTYzM0w4Ni44ODk1IDQ1LjAzOTFDODcuNTc4MSA0NC4xNDI5IDg4Ljg3MzEgNDMuOTcwMiA4OS43NzE0IDQ0LjY2OTFDOTAuNjcxOCA0NS4zNjM5IDkwLjgzNjIgNDYuNjU0OCA5MC4xNDE0IDQ3LjU1MzFMODQuMDE3OSA1NS40NzcyQzgzLjYxNSA1Ni4wMDE0IDgzLjAwNjYgNTYuMjc0OCA4Mi4zODk5IDU2LjI3NDhaTTU5LjczNzcgNTYuMjc0OEM1OS4xMjMxIDU2LjI3NDggNTguNTE0NyA1NS45OTkzIDU4LjEwOTcgNTUuNDc1Mkw1MS45ODYyIDQ3LjU1MzFDNTEuMjkzNSA0Ni42NTQ4IDUxLjQ2IDQ1LjM2MzkgNTIuMzU4MyA0NC42NjkxQzUzLjI1NjUgNDMuOTc2NCA1NC41NDU0IDQ0LjE0MDggNTUuMjQyMiA0NS4wMzkxTDYxLjM2NTcgNTIuOTYzM0M2Mi4wNTg0IDUzLjg2MTYgNjEuODk0IDU1LjE1MjQgNjAuOTk1NyA1NS44NDcyQzYwLjYxOTUgNTYuMTM3MSA2MC4xNzc2IDU2LjI3NDggNTkuNzM3NyA1Ni4yNzQ4Wk03MS4wMDAxIDUyLjMzMzNDNjkuODY1NCA1Mi4zMzMzIDY4Ljk0NDUgNTEuNDEyNCA2OC45NDQ1IDUwLjI3NzhWNDIuMDU1NkM2OC45NDQ1IDQwLjkyMDkgNjkuODY1NCA0MCA3MS4wMDAxIDQwQzcyLjEzNjggNDAgNzMuMDU1NiA0MC45MjA5IDczLjA1NTYgNDIuMDU1NlY1MC4yNzc4QzczLjA1NTYgNTEuNDEyNCA3Mi4xMzY4IDUyLjMzMzMgNzEuMDAwMSA1Mi4zMzMzWiIgZmlsbD0iIzIyMjIyMiIvPgo8L3N2Zz4K"},34458:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMTI3Ljk4MzI1bW0iCiAgIGhlaWdodD0iMTI1Ljg3MDg0bW0iCiAgIHZpZXdCb3g9IjAgMCAxMjcuOTgzMjUgMTI1Ljg3MDg0IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmczOSIKICAgc29kaXBvZGk6ZG9jbmFtZT0icm90YXRlLXBob25lLWZhbGxiYWNrLnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4xLjIgKGI4ZTI1YmU4LCAyMDIyLTAyLTA1KSIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9Im5hbWVkdmlldzQxIgogICAgIHBhZ2Vjb2xvcj0iIzUwNTA1MCIKICAgICBib3JkZXJjb2xvcj0iI2VlZWVlZSIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZWNoZWNrZXJib2FyZD0iMCIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0ibW0iCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnNuYXAtcGFnZT0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMC4zMTUxMjI4MSIKICAgICBpbmtzY2FwZTpjeD0iMTc5LjI5NTE4IgogICAgIGlua3NjYXBlOmN5PSI4MDcuNjIxNjMiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxODY0IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEzODciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjI1IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIiAvPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMzNiIgLz4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNC4yOTI2NzM1LC00LjM5MzAzMTgpIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS13aWR0aDowLjI2NDU4MyIKICAgICAgIGQ9Im0gNzIuODIwNTc2LDEyOC4yOTE4IGMgMTEuNzczNzksLTEuMDg5ODggMjEuODgzMTQsLTIuMDUzIDIyLjQ2NTIyLC0yLjE0MDI4IDIuNzI3MzIsLTAuNDA4OTEgNS41ODUwNTQsLTIuNDkxMTIgNi45MzU4NDQsLTUuMDUzNjIgMS42NTQ0MiwtMy4xMzg1MyAxLjkwMTYxLDAuOTY5MTcgLTMuMzYyNTI0LC01NS44NzY4NCAtMi42MjI4MSwtMjguMzIzMTM0IC00Ljg4OTU0LC01Mi4wODEwODggLTUuMDM3MTYsLTUyLjc5NTQ1MyAtMC40MjQwNiwtMi4wNTIwNjEgLTEuMTc3NjcsLTMuNDgzMTc4IC0yLjY1ODk4LC01LjA0OTQ0MyAtMS44Nzk1OCwtMS45ODczNzMgLTMuNzI1MjUsLTIuODM4OTAyIC02LjQ2MDUxLC0yLjk4MDY1NSAtMi4xODE4MiwtMC4xMTMwNyAtNDQuMzU4MzA4LDMuNjc5NjUyIC00Ni42ODc4ODgsNC4xOTg0MTMgLTMuNjY2OSwwLjgxNjU1NCAtNi42MTY4MSw0LjAxNTg5MyAtNy40Mjk1LDguMDU3NjkyIC0wLjI4NjMsMS40MjM4NzEgMC4xMzMwOSw2LjQwNzcwMiA0LjQ4NDkzLDUzLjI5Njc4NiAyLjc3MDM3LDI5Ljg0OTQ4IDQuOTYzNzUsNTIuMjg1NTUgNS4xODYxNCw1My4wNDg5NiAxLjI2OTk5LDQuMzU5NzEgNS4wMDQzNCw3LjI0MjM3IDkuNDEzMzksNy4yNjY0OSAwLjk1OTI4LDAuMDA1IDExLjM3NzI0OCwtMC44ODIxNyAyMy4xNTEwMzgsLTEuOTcyMDUgeiBtIC0yMy43MDQ1NjgsLTAuOTYwNTMgYyAtMC44MDAzNywtMC4wOTQgLTEuNzY5NCwtMC4yOTU5NSAtMi4xNTM0MiwtMC40NDg3NiAtMS42NjUxMiwtMC42NjI1OCAtMy42ODM1LC0zLjEzNTk2IC00LjAzNDA3LC00Ljk0MzQ4IC0wLjA4NDcsLTAuNDM2NTcgLTIuMzA2NDgsLTI0LjA0NCAtNC45MzczNywtNTIuNDYwOTcgLTQuNjUxMjQsLTUwLjIzOTQwNiAtNC43NzIwNCwtNTEuNzA2MzkzIC00LjM3MTI4LC01My4wODQ5NTcgMC41MzgyMSwtMS44NTEzOTUgMi4zMTU1MywtMy44NTE5NDQgNC4xMDY2NywtNC42MjI0NzIgMS4xNTI0MiwtMC40OTU3NTggNC4xNTk3MSwtMC44MzE3MSAyMi45NjAzODgsLTIuNTY0OTY5IDExLjkzMzE4LC0xLjEwMDEzNCAyMi41MzM0MiwtMS45NTc4ODIgMjMuNjM5NDMsLTEuOTEyODUgMS42ODU5NSwwLjA2ODY0IDIuMjEyNDIsMC4yMDkyMjIgMy4zMDcyOSwwLjg4MzEgMS40MjIzMSwwLjg3NTQxNiAyLjg2MzMsMi43NzY4NDQgMy4yNzEwNyw0LjMxNjI4NSAwLjM0Mzk4LDEuMjk4NTg5IDkuNTQwNDY0LDEwMS4yODQzMDMgOS41NDA0NjQsMTAzLjcyNTUwMyAwLDMuMjUwMzcgLTEuMzQxODg0LDUuMzM3MDggLTQuMjYyOTk0LDYuNjI5MjIgLTAuOTk3MjksMC40NDExNSAtNC42OTc5NiwwLjg1MTA3IC0yMi43Mzk2LDIuNTE4ODYgLTExLjg1MTY1LDEuMDk1NTggLTIxLjg0NjEwOCwyLjAyNDQ3IC0yMi4yMDk5MDgsMi4wNjQxOSAtMC4zNjM4MSwwLjAzOTcgLTEuMzE2MzEsLTAuMDA1IC0yLjExNjY3LC0wLjA5ODcgeiBtIDIzLjU0NzkxOCwtOS4xMDY2OSBjIDUuNzQ4MDcsLTAuNTE1OTQgMTAuNzE1NjUsLTEuMDQ4MDcgMTEuMDM5MDUsLTEuMTgyNTEgMC44NzI2MywtMC4zNjI3MyAxLjA2OTAxLC0xLjUwMTExIDAuMzc4MTQsLTIuMTkxOTkgbCAtMC41NTg1LC0wLjU1ODUgLTExLjkxMzY3LDEuMTAzNTIgYyAtNi41NTI1MiwwLjYwNjk0IC0xMi4xNTA4OCwxLjIzMDQ3IC0xMi40NDA4LDEuMzg1NjQgLTAuMzI5ODYsMC4xNzY1MyAtMC41MjU2MiwwLjU1MDkzIC0wLjUyMzA5LDEuMDAwNDEgMC4wMDcsMS4zMjg2NSAwLjU2NDk5LDEuNjgwNDMgMi4zNzcyLDEuNTAwMDQgMC42NTQ4NCwtMC4wNjUyIDUuODkzNTksLTAuNTQwNjYgMTEuNjQxNjcsLTEuMDU2NjEgeiBtIC04Ljc0ODQ5LC05OS4xOTMyMjIgYyAyLjg0NjU2LC0wLjI4NDQ4NyAzLjYyMzk1LC0wLjQ1MDA0NSAzLjkwMjYsLTAuODMxMTI3IDAuNDkzMywtMC42NzQ2MzIgMC40MzE5OCwtMS4yNzUwMzMgLTAuMTg3NSwtMS44MzU2NSAtMC41MDQxMywtMC40NTYyMzIgLTAuNzcxMjMsLTAuNDY1NTY5IC00LjU2NDA2LC0wLjE1OTU0NyAtMi4yMTU3MywwLjE3ODc3NCAtNC40MjIzMiwwLjM5MjkwNyAtNC45MDM1NCwwLjQ3NTg1NCAtMS41OTkzOCwwLjI3NTY3NyAtMi4xMzE1MiwyLjE5MjgxMyAtMC43NTU0MywyLjcyMTYxOCAwLjMxNDYyLDAuMTIwOSAxLjEwNzgyLDAuMTY2NzggMS43NjI2NywwLjEwMTk2IDAuNjU0ODQsLTAuMDY0OCAyLjc5MDIxLC0wLjI3NzcxOCA0Ljc0NTI2LC0wLjQ3MzEwOCB6IE0gMjcuMzI1NjQ4LDEwMC4yMjI2OSBjIDAuNTYyNDUsLTAuODU4NDEgMC4yNDY0LC0xLjkzNzk1IC0wLjcwMjcyLC0yLjQwMDMzIEMgMjYuMjYxMDQ4LDk3LjY0NjA3IDI0LjU5NTc0OCw5Ni44NDc2IDIyLjkyMjI1OCw5Ni4wNDggMTUuMDI1NDQ4LDkyLjI3NDg0IDkuODgwOTc4Miw4NS41NTcyOCA4LjIwMjc2ODIsNzYuODI3NTcgYyAtMC41MDMwOSwtMi42MTY5NyAtMC40ODYzMSwtNy44ODYwMiAwLjAzMzEsLTEwLjQwMDczIDEuMzM1MTUsLTYuNDYzODUgNC45Njk3ODk4LC0xMi4zMzI3ODUgOS45ODc4Mzk4LC0xNi4xMjc1NjUgMy42OTUyNiwtMi43OTQ0NSAzLjYwNDczLC0yLjg3NDE1IDEuNjIzNzgsMS40Mjk1MSAtMi43OTc4Nyw2LjA3ODQ4IC0zLjA2MDU4LDYuNzg0MDcgLTIuNzQ1MjUsNy4zNzMyNiAwLjU3MDI4LDEuMDY1NTg1IDIuMDA4NTMsMS4zODAzMzUgMi43MTMyMSwwLjU5Mzc1NSAwLjU1MTg1LC0wLjYxNTk4NSA3LjA3NTU0LC0xNC44MzcwMTUgNy4wNzU1NCwtMTUuNDI0MDA1IDAsLTAuMjUyMTggLTAuMjA4MzYsLTAuNzAxNzIgLTAuNDYzMDIsLTAuOTk4OTggLTAuNDc1OTcsLTAuNTU1NTY5IC0xNC43MjQ2MywtNy4xOTEwNjkgLTE1LjQ0MTY2LC03LjE5MTA2OSAtMS4yMDEwNTk4LDAgLTIuMDU4NTg5OCwyLjE2NTQzIC0xLjE1NDYyOTgsMi45MTU2NSAwLjIyMTc0OTgsMC4xODQwNCAyLjc5MTUwOTgsMS40MzQ4MiA1LjcxMDU3OTgsMi43Nzk1MSA0LjE3Mzk0LDEuOTIyNzQ5IDUuMjMyMDUsMi41MTAxNzkgNC45NTQ2MiwyLjc1MDYxOSAtMC4xOTQwMiwwLjE2ODE2IC0xLjI1OTUzLDAuODkyODUgLTIuMzY3OCwxLjYxMDQyIC02LjczOTI0LDQuMzYzNDMgLTExLjY0NTcxOTgsMTEuNjUyMjggLTEzLjM2NDg0OTgsMTkuODU0MjU1IC0wLjU3MjkxLDIuNzMzMzggLTAuNjM0OTUsOC4yNTQwNCAtMC4xMjQ3NCwxMS4wOTk5NSAxLjY3Mjg0LDkuMzMwODEgNy43NzI3ODk4LDE3LjYwMDM5IDE2LjEwNTE4OTgsMjEuODMzNDcgNC4yMjAzNywyLjE0NDA1IDUuODE5NDcsMi40NTkyMiA2LjU4MDk1LDEuMjk3MDcgeiBtIDk5LjMxMzI4MiwtNC42MDk3MSBjIDAuNzIwMTIsLTAuNzIwMTEgMC42NjkwNywtMS43NTIwOSAtMC4xMjE2OCwtMi40NjAwMiAtMC4zNTc5NiwtMC4zMjA0OCAtMi44NTgyNywtMS41ODUzMiAtNS41NTYyNSwtMi44MTA3OCAtMi42OTc5NywtMS4yMjU0NSAtNC45MDU0MSwtMi4zMTgzMiAtNC45MDU0MSwtMi40Mjg2IDAsLTAuMTEwMjcgMC45MjI3NCwtMC43NzI0OCAyLjA1MDUzLC0xLjQ3MTU2IDIuNDEyNTQsLTEuNDk1NDYgNy4zOTk2NiwtNi4zMzg2MiA4LjkxMjg3LC04LjY1NTU3IDIuMzI0NTIsLTMuNTU5MiAzLjkxNDQ2LC03LjQxNjc4IDQuODExNzUsLTExLjY3NDUxIDAuNTM4NTcsLTIuNTU1NTUgMC42MDAwMiwtNy45MjM5NTUgMC4xMjExNCwtMTAuNTgzMzI1IC0xLjgwNDAyLC0xMC4wMTgzOSAtNy44NDI5NSwtMTguMDk4ODk5IC0xNi44OTM3NiwtMjIuNjA1MDY5IC0zLjY0Mzg4LC0xLjgxNDIgLTUuMTYwNzcsLTIuMDE5NzEgLTUuODQ3MzksLTAuNzkyMjIgLTAuNzMxNCwxLjMwNzU2IC0wLjI4MDQ4LDEuOTA2OTQgMi4yNzQ2NSwzLjAyMzU1IDYuMTI1NzQsMi42NzY5OCAxMC4wMDMzNCw1LjkwNDc1IDEzLjIxMTM5LDEwLjk5NzMzOSAyLjYwOTc2LDQuMTQyODQgMy43OTcyMyw4LjEyNDU1IDMuOTg3NjYsMTMuMzcxMDcgMC4xOTUxMiw1LjM3NTY2NSAtMC41NzcyLDguODY3NDE1IC0zLjAxNjE2LDEzLjYzNjM4NSAtMS4yMTkzNCwyLjM4NDIxIC00LjYzOTU0LDYuNzQ0OTkgLTYuMjU4OSw3Ljk4MDEzIC0wLjUwOTcsMC4zODg3NiAtMS4wODU4NSwwLjg1NzY4IC0xLjI4MDM1LDEuMDQyMDQgLTAuNjc2NjksMC42NDE0MiAtMi42NTIxMSwxLjgyODE1IC0yLjc5ODg2LDEuNjgxNDEgLTAuMDgxMiwtMC4wODEyIDAuODgxOTEsLTIuMzY2NDcgMi4xNDAzNCwtNS4wNzgyOSAyLjA5Nzg3LC00LjUyMDc1IDIuMjYwNTYsLTQuOTg3OTMgMS45NTczMSwtNS42MjA2NCAtMC40ODk2MywtMS4wMjE1OSAtMS42MTA5MSwtMS4zMzQ1NyAtMi40NjI5OSwtMC42ODc0OSAtMC43NjM0NSwwLjU3OTc4IC03LjI1OTIzLDE0LjUwNDE1IC03LjI1OTIzLDE1LjU2MDkxIDAsMC4zMzc3NCAwLjIyNjIxLDAuODE4NzggMC41MDI2OSwxLjA2ODk4IDAuNzA2NzMsMC42Mzk1OSAxNC41ODE5OCw3LjAwNDc1IDE1LjMwNjE3LDcuMDIxNTkgMC4zMjc0MiwwLjAwOCAwLjgzMzQ0LC0wLjIyNDI4IDEuMTI0NDgsLTAuNTE1MzMgeiIKICAgICAgIGlkPSJwYXRoMTA5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJzc3Nzc3Nzc3NzY2NzY3Nzc3Nzc3Nzc3Nzc3Njc3NzY3NzY3Nzc3Nzc3Nzc3Nzc2NzY3Nzc3Nzc3Nzc3Nzc2Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzY3MiIC8+CiAgPC9nPgo8L3N2Zz4K"},92759:(e,t,i)=>{"use strict";e.exports=i.p+"images/login-screen-background.jpg"},35367:()=>{},29474:(e,t,i)=>{"use strict";i.d(t,{fe:()=>ut,cA:()=>w,h4:()=>tt,createHttpLink:()=>p,Ps:()=>ci});var n=i(23564),s=i(5419),r=i(81707),a=i(80496),o=i(84913),l=Object.prototype.hasOwnProperty;var c=function(e,t){var i;try{i=JSON.stringify(e)}catch(e){var n=new s.ej(23);throw n.parseError=e,n}return i},d=i(90778),u={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},h=i(80285);var p=function(e){void 0===e&&(e={});var t=e.uri,i=void 0===t?"/graphql":t,p=e.fetch,m=e.includeExtensions,f=e.useGETForQueries,g=e.includeUnusedVariables,v=void 0!==g&&g,b=(0,n._T)(e,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);!function(e){if(!e&&"undefined"==typeof fetch)throw new s.ej(22)}(p),p||(p=fetch);var y={http:{includeExtensions:m},options:b.fetchOptions,credentials:b.credentials,headers:b.headers};return new r.i0((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,i),s=e.getContext(),r={};if(s.clientAwareness){var m=s.clientAwareness,g=m.name,b=m.version;g&&(r["apollographql-client-name"]=g),b&&(r["apollographql-client-version"]=b)}var E,S=(0,n.pi)((0,n.pi)({},r),s.headers),T={http:s.http,options:s.fetchOptions,credentials:s.credentials,headers:S},O=function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var r=(0,n.pi)((0,n.pi)({},t.options),{headers:t.headers,credentials:t.credentials}),a=t.http||{};i.forEach((function(e){r=(0,n.pi)((0,n.pi)((0,n.pi)({},r),e.options),{headers:(0,n.pi)((0,n.pi)({},r.headers),e.headers)}),e.credentials&&(r.credentials=e.credentials),a=(0,n.pi)((0,n.pi)({},a),e.http)}));var o=e.operationName,l=e.extensions,c=e.variables,u=e.query,h={operationName:o,variables:c};return a.includeExtensions&&(h.extensions=l),a.includeQuery&&(h.query=(0,d.S)(u)),{options:r,body:h}}(e,u,y,T),_=O.options,N=O.body;if(N.variables&&!v){var A=new Set(Object.keys(N.variables));(0,h.Vn)(e.query,{Variable:function(e,t,i){i&&"VariableDefinition"!==i.kind&&A.delete(e.name.value)}}),A.size&&(N.variables=(0,n.pi)({},N.variables),A.forEach((function(e){delete N.variables[e]})))}if(!_.signal){var w=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),I=w.controller,k=w.signal;(E=I)&&(_.signal=k)}if(f&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(_.method="GET"),"GET"===_.method){var P=function(e,t){var i=[],n=function(e,t){i.push(e+"="+encodeURIComponent(t))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var s=void 0;try{s=c(t.variables)}catch(e){return{parseError:e}}n("variables",s)}if(t.extensions){var r=void 0;try{r=c(t.extensions)}catch(e){return{parseError:e}}n("extensions",r)}var a="",o=e,l=e.indexOf("#");-1!==l&&(a=e.substr(l),o=e.substr(0,l));var d=-1===o.indexOf("?")?"?":"&";return{newURI:o+d+i.join("&")+a}}(t,N),L=P.newURI,C=P.parseError;if(C)return(0,o.Qc)(C);t=L}else try{_.body=c(N)}catch(C){return(0,o.Qc)(C)}return new a.y$((function(i){var n;return p(t,_).then((function(t){return e.setContext({response:t}),t})).then((n=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(n){var i=n;throw i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,i}})).then((function(t){return e.status>=300&&(0,o.PW)(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||l.call(t,"data")||l.call(t,"errors")||(0,o.PW)(e,t,"Server response was missing for query '"+(Array.isArray(n)?n.map((function(e){return e.operationName})):n.operationName)+"'."),t}))})).then((function(e){return i.next(e),i.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&i.next(e.result),i.error(e))})),function(){E&&E.abort()}}))}))},m=function(e){function t(t){void 0===t&&(t={});var i=e.call(this,p(t).request)||this;return i.options=t,i}return(0,n.ZT)(t,e),t}(r.i0),f=Object.prototype,g=f.toString,v=f.hasOwnProperty,b=Function.prototype.toString,y=new Map;function E(e,t){try{return S(e,t)}finally{y.clear()}}function S(e,t){if(e===t)return!0;var i,n,s,r=g.call(e);if(r!==g.call(t))return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(N(e,t))return!0;var a=T(e),o=T(t),l=a.length;if(l!==o.length)return!1;for(var c=0;c<l;++c)if(!v.call(t,a[c]))return!1;for(c=0;c<l;++c){var d=a[c];if(!S(e[d],t[d]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(N(e,t))return!0;for(var u=e.entries(),h="[object Map]"===r;;){var p=u.next();if(p.done)break;var m=p.value,f=m[0],y=m[1];if(!t.has(f))return!1;if(h&&!S(y,t.get(f)))return!1}return!0;case"[object Function]":var E=b.call(e);return E===b.call(t)&&(n=_,!((s=(i=E).length-n.length)>=0&&i.indexOf(n,s)===s))}return!1}function T(e){return Object.keys(e).filter(O,e)}function O(e){return void 0!==this[e]}var _="{ [native code] }";function N(e,t){var i=y.get(e);if(i){if(i.has(t))return!0}else y.set(e,i=new Set);return i.add(t),!1}var A,w=function(e){function t(i){var n,s,r=i.graphQLErrors,o=i.networkError,l=i.errorMessage,c=i.extraInfo,d=e.call(this,l)||this;return d.graphQLErrors=r||[],d.networkError=o||null,d.message=l||(n=d,s="",(0,a.Of)(n.graphQLErrors)&&n.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";s+=t+"\n"})),n.networkError&&(s+=n.networkError.message+"\n"),s=s.replace(/\n$/,"")),d.extraInfo=c,d.__proto__=t.prototype,d}return(0,n.ZT)(t,e),t}(Error);function I(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(A||(A={}));var k=function(){function e(e,t,i,n){this.observer=e,this.options=t,this.fetch=i,this.shouldFetch=n}return e.prototype.reobserve=function(e,t){e?this.updateOptions(e):this.updatePolling();var i=this.fetch(this.options,t);return this.concast&&this.concast.removeObserver(this.observer,!0),i.addObserver(this.observer),(this.concast=i).promise},e.prototype.updateOptions=function(e){return Object.assign(this.options,(0,a.oA)(e)),this.updatePolling(),this},e.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},e.prototype.updatePolling=function(){var e=this,t=this.pollingInfo,i=this.options.pollInterval;if(i){if((!t||t.interval!==i)&&((0,s.kG)(i,20),!1!==this.shouldFetch)){(t||(this.pollingInfo={})).interval=i;var n=function(){e.pollingInfo&&(e.shouldFetch&&e.shouldFetch()?e.reobserve({fetchPolicy:"network-only",nextFetchPolicy:e.options.fetchPolicy||"cache-first"},A.poll).then(r,r):r())},r=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(n,t.interval))};r()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)},e}(),P=function(e){function t(t){var i=t.queryManager,s=t.queryInfo,r=t.options,o=e.call(this,(function(e){return o.onSubscribe(e)}))||this;o.observers=new Set,o.subscriptions=new Set,o.observer={next:function(e){(o.lastError||o.isDifferentFromLastResult(e))&&(o.updateLastResult(e),(0,a.pM)(o.observers,"next",e))},error:function(e){o.updateLastResult((0,n.pi)((0,n.pi)({},o.lastResult),{error:e,errors:e.graphQLErrors,networkStatus:A.error,loading:!1})),(0,a.pM)(o.observers,"error",o.lastError=e)}},o.isTornDown=!1,o.options=r,o.queryId=i.generateQueryId();var l=(0,a.$H)(r.query);return o.queryName=l&&l.name&&l.name.value,o.queryManager=i,o.queryInfo=s,o}return(0,n.ZT)(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,i){var n={next:function(i){t(i),e.observers.delete(n),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){s.unsubscribe()}),0)},error:i},s=e.subscribe(n)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.lastResult,i=this.queryInfo.networkStatus||t&&t.networkStatus||A.ready,s=(0,n.pi)((0,n.pi)({},t),{loading:I(i),networkStatus:i});if(this.isTornDown)return s;var r=this.options.fetchPolicy,a=void 0===r?"cache-first":r;if("no-cache"===a||"network-only"===a)delete s.partial;else if(!s.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var o=this.queryInfo.getDiff();s.data=o.complete||this.options.returnPartialData?o.result:void 0,o.complete?(s.networkStatus!==A.loading||"cache-first"!==a&&"cache-only"!==a||(s.networkStatus=A.ready,s.loading=!1),delete s.partial):s.partial=!0}return e&&this.updateLastResult(s),s},t.prototype.isDifferentFromLastResult=function(e){return!E(this.lastResultSnapshot,e)},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t={pollInterval:0},i=this.options.fetchPolicy;return"no-cache"!==i&&"cache-and-network"!==i&&(t.fetchPolicy="network-only",t.nextFetchPolicy=i||"cache-first"),e&&!E(this.options.variables,e)&&(t.variables=this.options.variables=(0,n.pi)((0,n.pi)({},this.options.variables),e)),this.newReobserver(!1).reobserve(t,A.refetch)},t.prototype.fetchMore=function(e){var t=this,i=(0,n.pi)((0,n.pi)({},e.query?e:(0,n.pi)((0,n.pi)((0,n.pi)({},this.options),e),{variables:(0,n.pi)((0,n.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),s=this.queryManager.generateQueryId();return i.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=A.fetchMore,this.observe()),this.queryManager.fetchQuery(s,i,A.fetchMore).then((function(n){var s=n.data,r=e.updateQuery;return r?t.updateQuery((function(e){return r(e,{fetchMoreResult:s,variables:i.variables})})):t.queryManager.cache.writeQuery({query:i.query,variables:i.variables,data:s}),n})).finally((function(){t.queryManager.stopQuery(s),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,i=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(i){var n=e.updateQuery;n&&t.updateQuery((function(e,t){var s=t.variables;return n(e,{subscriptionData:i,variables:s})}))},error:function(t){e.onError&&e.onError(t)}});return this.subscriptions.add(i),function(){t.subscriptions.delete(i)&&i.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){if(E(this.variables,e))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=e,!this.observers.size)return Promise.resolve();var t=this.options.fetchPolicy,i=void 0===t?"cache-first":t,n={fetchPolicy:i,variables:e};return"cache-first"!==i&&"no-cache"!==i&&"network-only"!==i&&(n.fetchPolicy="cache-and-network",n.nextFetchPolicy=i),this.reobserve(n,A.setVariables)},t.prototype.updateQuery=function(e){var t,i=this.queryManager,n=e(i.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(t=this.lastResult)||void 0===t?void 0:t.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(i.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),i.broadcastQueries())},t.prototype.startPolling=function(e){this.getReobserver().updateOptions({pollInterval:e})},t.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:(0,a.Xh)(e),(0,a.Of)(e.errors)||delete this.lastError,t},t.prototype.onSubscribe=function(e){var t=this;if(e===this.observer)return function(){};try{var i=e._subscription._observer;i&&!i.error&&(i.error=L)}catch(e){}var n=!this.observers.size;return this.observers.add(e),this.lastError?e.error&&e.error(this.lastError):this.lastResult&&e.next&&e.next(this.lastResult),n&&this.reobserve().catch((function(e){})),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},t.prototype.newReobserver=function(e){var t=this,i=this.queryManager,s=this.queryId;return i.setObservableQuery(this),new k(this.observer,e?this.options:(0,n.pi)({},this.options),(function(e,n){return i.setObservableQuery(t),i.fetchQueryObservable(s,e,n)}),!i.ssrMode&&function(){return!I(t.queryInfo.networkStatus)})},t.prototype.reobserve=function(e,t){return this.isTornDown=!1,this.getReobserver().reobserve(e,t)},t.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(a.y$);function L(e){}(0,a.Dy)(P);var C=i(27636),R=function(){return Object.create(null)},D=Array.prototype,M=D.forEach,x=D.slice,j=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=R),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return M.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(x.call(e)))},e.prototype.getChildTrie=function(t){var i=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=i.get(t);return n||i.set(t,n=new e(this.weakness,this.makeData)),n},e}();var U=null,H={},F=1,B="@wry/context:Slot",V=Array,G=V[B]||function(){var e=function(){function e(){this.id=["slot",F++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=U;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===H)break;return e!==U&&(U.slots[this.id]=t),!0}return U&&(U.slots[this.id]=H),!1},e.prototype.getValue=function(){if(this.hasValue())return U.slots[this.id]},e.prototype.withValue=function(e,t,i,n){var s,r=((s={__proto__:null})[this.id]=e,s),a=U;U={parent:a,slots:r};try{return t.apply(n,i)}finally{U=a}},e.bind=function(e){var t=U;return function(){var i=U;try{return U=t,e.apply(this,arguments)}finally{U=i}}},e.noContext=function(e,t,i){if(!U)return e.apply(i,t);var n=U;try{return U=null,e.apply(i,t)}finally{U=n}},e}();try{Object.defineProperty(V,B,{value:V[B]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();G.bind,G.noContext;function W(){}var z=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=W),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var i=t.older,n=t.newer;n&&(n.older=i),i&&(i.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t},e.prototype.set=function(e,t){var i=this.getEntry(e);return i?i.value=t:(i={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),K=new G;function Y(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var $=[];function q(e,t){if(!e)throw new Error(t||"assertion failure")}function Z(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var Q=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!J(this))return this.value[0]},e.prototype.recompute=function(e){return q(!this.recomputing,"already recomputing"),function(e){var t=K.getValue();if(t)e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),J(e)?ie(t,e):ne(t,e)}(this),J(this)?function(e,t){re(e),K.withValue(e,X,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{Y(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,J(e))return;te(e)}(e);return Z(e.value)}(this,e):Z(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ee(this),re(this),Y(this))},e.prototype.dispose=function(){var e=this;re(this),Y(this),this.parents.forEach((function(t){t.setDirty(),ae(t,e)}))},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=$.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(this.deps.forEach((function(t){return t.delete(e)})),this.deps.clear(),$.push(this.deps),this.deps=null)},e.count=0,e}();function X(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function J(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function ee(e){e.parents.forEach((function(t){return ie(t,e)}))}function te(e){e.parents.forEach((function(t){return ne(t,e)}))}function ie(e,t){if(q(e.childValues.has(t)),q(J(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=$.pop()||new Set;e.dirtyChildren.add(t),ee(e)}function ne(e,t){q(e.childValues.has(t)),q(!J(t));var i,n,s,r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):(i=r,n=t.value,(s=i.length)>0&&s===n.length&&i[s-1]===n[s-1]||e.setDirty()),se(e,t),J(e)||te(e)}function se(e,t){var i=e.dirtyChildren;i&&(i.delete(t),0===i.size&&($.length<100&&$.push(i),e.dirtyChildren=null))}function re(e){e.childValues.size>0&&e.childValues.forEach((function(t,i){ae(e,i)})),e.forgetDeps(),q(null===e.dirtyChildren)}function ae(e,t){t.parents.delete(e),e.childValues.delete(t),se(e,t)}function oe(e){var t=new Map,i=e&&e.subscribe;function n(e){var n=K.getValue();if(n){var s=t.get(e);s||t.set(e,s=new Set),n.dependOn(s),"function"==typeof i&&(Y(s),s.unsubscribe=i(e))}}return n.dirty=function(e){var i=t.get(e);i&&(i.forEach((function(e){return e.setDirty()})),t.delete(e),Y(i))},n}var le=new j("function"==typeof WeakMap);function ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return le.lookupArray(e)}var de=new Set;function ue(e,t){void 0===t&&(t=Object.create(null));var i=new z(t.max||Math.pow(2,16),(function(e){return e.dispose()})),n=t.keyArgs||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},s=t.makeCacheKey||ce;function r(){var r=s.apply(null,n.apply(null,arguments));if(void 0===r)return e.apply(null,arguments);var a=i.get(r);a||(i.set(r,a=new Q(e)),a.subscribe=t.subscribe);var o=a.recompute(Array.prototype.slice.call(arguments));return i.set(r,a),de.add(i),K.hasValue()||(de.forEach((function(e){return e.clean()})),de.clear()),o}function a(){var e=s.apply(null,arguments);if(void 0!==e)return i.get(e)}return r.dirty=function(){var e=a.apply(null,arguments);e&&e.setDirty()},r.peek=function(){var e=a.apply(null,arguments);if(e)return e.peek()},r.forget=function(){var e=s.apply(null,arguments);return void 0!==e&&i.delete(e)},r}var he,pe=function(){function e(){this.getFragmentDoc=ue(a.Yk)}return e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.writeQuery=function(e){return this.write({dataId:e.id||"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables,broadcast:e.broadcast})},e.prototype.writeFragment=function(e){return this.write({dataId:e.id,result:e.data,variables:e.variables,query:this.getFragmentDoc(e.fragment,e.fragmentName),broadcast:e.broadcast})},e}();he||(he={});var me=function(e,t,i,n,s){this.message=e,this.path=t,this.query=i,this.clientOnly=n,this.variables=s},fe=Object.prototype.hasOwnProperty;var ge=/^[_a-z][_0-9a-z]*/i;function ve(e){var t=e.match(ge);return t?t[0]:e}function be(e,t,i){return!(!t||"object"!=typeof t)&&(Array.isArray(t)?t.every((function(t){return be(e,t,i)})):e.selections.every((function(e){if((0,a.My)(e)&&(0,a.LZ)(e,i)){var n=(0,a.u2)(e);return fe.call(t,n)&&(!e.selectionSet||be(e.selectionSet,t[n],i))}return!0})))}function ye(e){return null!==e&&"object"==typeof e&&!(0,a.hh)(e)&&!Array.isArray(e)}var Ee=Object.create(null),Se=function(){return Ee},Te=Object.create(null),Oe=function(){function e(e,t){var i=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,a.Jv)((0,a.hh)(e)?i.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return(0,a.hh)(e)?i.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return(0,a.kQ)(e);if((0,a.hh)(e))return e;var n=i.policies.identify(e)[0];if(n){var s=(0,a.kQ)(n);return t&&i.merge(n,e),s}}}return e.prototype.toObject=function(){return(0,n.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),fe.call(this.data,e)){var i=this.data[e];if(i&&fe.call(i,t))return i[t]}return"__typename"===t&&fe.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof Ae?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),fe.call(this.data,e)?this.data[e]:this instanceof Ae?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var i=this,n=this.lookup(e),s=new a.w0(we).merge(n,t);if(this.data[e]=s,s!==n&&(delete this.refs[e],this.group.caching)){var r=Object.create(null);n||(r.__exists=1),Object.keys(t).forEach((function(e){if(!n||n[e]!==s[e]){r[e]=1;var t=ve(e);t===e||i.policies.hasKeyArgs(s.__typename,t)||(r[t]=1),void 0!==s[e]||i instanceof Ae||delete s[e]}})),Object.keys(r).forEach((function(t){return i.group.dirty(e,t)}))}},e.prototype.modify=function(e,t){var i=this,s=this.lookup(e);if(s){var r=Object.create(null),o=!1,l=!0,c={DELETE:Ee,INVALIDATE:Te,isReference:a.hh,toReference:this.toReference,canRead:this.canRead,readField:function(t,n){return i.policies.readField("string"==typeof t?{fieldName:t,from:n||(0,a.kQ)(e)}:t,{store:i})}};if(Object.keys(s).forEach((function(d){var u=ve(d),h=s[d];if(void 0!==h){var p="function"==typeof t?t:t[d]||t[u];if(p){var m=p===Se?Ee:p((0,a.Jv)(h),(0,n.pi)((0,n.pi)({},c),{fieldName:u,storeFieldName:d,storage:i.getStorage(e,d)}));m===Te?i.group.dirty(e,d):(m===Ee&&(m=void 0),m!==h&&(r[d]=m,o=!0,h=m))}void 0!==h&&(l=!1)}})),o)return this.merge(e,r),l&&(this instanceof Ae?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,i){var n,s=this.lookup(e);if(s){var r=this.getFieldValue(s,"__typename"),a=t&&i?this.policies.getStoreFieldName({typename:r,fieldName:t,args:i}):t;return this.modify(e,a?((n={})[a]=Se,n):Se)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(fe.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof Ae&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),i=[];return this.getRootIdSet().forEach((function(t){fe.call(e.policies.rootTypenamesById,t)||i.push(t)})),i.length&&(t.__META={extraRootIds:i.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(i){e&&fe.call(e,i)||t.delete(i)})),e){var i=e.__META,s=(0,n._T)(e,["__META"]);Object.keys(s).forEach((function(e){t.merge(e,s[e])})),i&&i.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Ae?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),i=this.toObject();t.forEach((function(n){fe.call(i,n)&&(Object.keys(e.findChildRefIds(n)).forEach(t.add,t),delete i[n])}));var n=Object.keys(i);if(n.length){for(var s=this;s instanceof Ae;)s=s.parent;n.forEach((function(e){return s.delete(e)}))}return n},e.prototype.findChildRefIds=function(e){if(!fe.call(this.refs,e)){var t=this.refs[e]=Object.create(null),i=new Set([this.data[e]]),n=function(e){return null!==e&&"object"==typeof e};i.forEach((function(e){(0,a.hh)(e)?t[e.__ref]=!0:n(e)&&Object.values(e).filter(n).forEach(i.add,i)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.group.keyMaker.lookupArray(e)},e}(),_e=function(){function e(e){this.caching=e,this.d=null,this.keyMaker=new j(a.mr),this.d=e?oe():null}return e.prototype.depend=function(e,t){if(this.d){this.d(Ne(e,t));var i=ve(t);i!==t&&this.d(Ne(e,i))}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(Ne(e,t))},e}();function Ne(e,t){return t+"#"+e}!function(e){var t=function(e){function t(t){var i=t.policies,n=t.resultCaching,s=void 0===n||n,r=t.seed,o=e.call(this,i,new _e(s))||this;return o.storageTrie=new j(a.mr),o.sharedLayerGroup=new _e(s),r&&o.replace(r),o}return(0,n.ZT)(t,e),t.prototype.addLayer=function(e,t){return new Ae(e,this,t,this.sharedLayerGroup)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(Oe||(Oe={}));var Ae=function(e){function t(t,i,n,s){var r=e.call(this,i.policies,s)||this;return r.id=t,r.parent=i,r.replay=n,r.group=s,n(r),r}return(0,n.ZT)(t,e),t.prototype.addLayer=function(e,i){return new t(e,this,i,this.group)},t.prototype.removeLayer=function(e){var t=this,i=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==i.lookup(e)&&t.delete(e)})),i):i===this.parent?this:i.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,n.pi)((0,n.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var i=this.parent.findChildRefIds(t);return fe.call(this.data,t)?(0,n.pi)((0,n.pi)({},i),e.prototype.findChildRefIds.call(this,t)):i},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(Oe);function we(e,t,i){var n=e[i],s=t[i];return E(n,s)?n:s}function Ie(e){return!!(e instanceof Oe&&e.group.caching)}function ke(e,t){return new me(e.message,t.path.slice(),t.query,t.clientOnly,t.variables)}var Pe=function(){function e(e){var t=this;this.config=e,this.executeSelectionSet=ue((function(e){return t.execSelectionSetImpl(e)}),{keyArgs:function(e){return[e.selectionSet,e.objectOrReference,e.context]},makeCacheKey:function(e,t,i){if(Ie(i.store))return i.store.makeCacheKey(e,(0,a.hh)(t)?t.__ref:t,i.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=ue((function(e){return t.execSubSelectedArrayImpl(e)}),{makeCacheKey:function(e){var t=e.field,i=e.array,n=e.context;if(Ie(n.store))return n.store.makeCacheKey(t,i,n.varString)}}),this.config=(0,n.pi)({addTypename:!0},e)}return e.prototype.diffQueryAgainstStore=function(e){var t=e.store,i=e.query,s=e.rootId,r=void 0===s?"ROOT_QUERY":s,o=e.variables,l=e.returnPartialData,c=void 0===l||l,d=this.config.cache.policies;o=(0,n.pi)((0,n.pi)({},(0,a.O4)((0,a.iW)(i))),o);var u=this.executeSelectionSet({selectionSet:(0,a.p$)(i).selectionSet,objectOrReference:(0,a.kQ)(r),context:{store:t,query:i,policies:d,variables:o,varString:JSON.stringify(o),fragmentMap:(0,a.F)((0,a.kU)(i)),path:[],clientOnly:!1}}),h=u.missing&&u.missing.length>0;if(h&&!c)throw u.missing[0];return{result:u.result,missing:u.missing,complete:!h}},e.prototype.isFresh=function(e,t,i,n){if(Ie(n.store)&&this.knownResults.get(e)===i){var s=this.executeSelectionSet.peek(i,t,n);if(s&&e===s.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,i=e.selectionSet,n=e.objectOrReference,r=e.context;if((0,a.hh)(n)&&!r.policies.rootTypenamesById[n.__ref]&&!r.store.has(n.__ref))return{result:{},missing:[ke(new s.ej(4),r)]};var o=r.variables,l=r.policies,c=r.store,d=[],u={result:null},h=c.getFieldValue(n,"__typename");function p(){return u.missing||(u.missing=[])}function m(e){var t;return e.missing&&(t=p()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof h&&!l.rootIdsByTypename[h]&&d.push({__typename:h});var f=new Set(i.selections);return f.forEach((function(e){var i;if((0,a.LZ)(e,o))if((0,a.My)(e)){var c=l.readField({fieldName:e.name.value,field:e,variables:r.variables,from:n},r),u=(0,a.u2)(e);r.path.push(u);var g=r.clientOnly;r.clientOnly=g||!(!e.directives||!e.directives.some((function(e){return"client"===e.name.value}))),void 0===c?a.Gw.added(e)||p().push(ke(new s.ej(5),r)):Array.isArray(c)?c=m(t.executeSubSelectedArray({field:e,array:c,context:r})):e.selectionSet&&null!=c&&(c=m(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:c,context:r}))),void 0!==c&&d.push(((i={})[u]=c,i)),r.clientOnly=g,(0,s.kG)(r.path.pop()===u)}else{var v=(0,a.hi)(e,r.fragmentMap);v&&l.fragmentMatches(v,h)&&v.selectionSet.selections.forEach(f.add,f)}})),u.result=(0,a.bw)(d),this.knownResults.set(u.result,i),u},e.prototype.execSubSelectedArrayImpl=function(e){var t,i=this,n=e.field,r=e.array,a=e.context;function o(e,i){return e.missing&&(t=t||[]).push.apply(t,e.missing),(0,s.kG)(a.path.pop()===i),e.result}return n.selectionSet&&(r=r.filter(a.store.canRead)),{result:r=r.map((function(e,t){return null===e?null:(a.path.push(t),Array.isArray(e)?o(i.executeSubSelectedArray({field:n,array:e,context:a}),t):n.selectionSet?o(i.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:e,context:a}),t):((0,s.kG)(a.path.pop()===t),e))})),missing:t}},e}();var Le=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e){var t=e.query,i=e.result,r=e.dataId,o=e.store,l=e.variables,c=(0,a.$H)(t),d=new a.w0;l=(0,n.pi)((0,n.pi)({},(0,a.O4)(c)),l);var u=this.processSelectionSet({result:i||Object.create(null),dataId:r,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:{store:o,written:Object.create(null),merge:function(e,t){return d.merge(e,t)},variables:l,varString:JSON.stringify(l),fragmentMap:(0,a.F)((0,a.kU)(t))}});if(!(0,a.hh)(u))throw new s.ej(7);return o.retain(u.__ref),u},e.prototype.processSelectionSet=function(e){var t=this,i=e.dataId,n=e.result,r=e.selectionSet,o=e.context,l=e.mergeTree,c=this.cache.policies,d=c.identify(n,r,o.fragmentMap),u=d[0],h=d[1];if("string"==typeof(i=i||u)){var p=o.written[i]||(o.written[i]=[]),m=(0,a.kQ)(i);if(p.indexOf(r)>=0)return m;if(p.push(r),this.reader&&this.reader.isFresh(n,m,r,o))return m}var f=Object.create(null);h&&(f=o.merge(f,h));var g=i&&c.rootTypenamesById[i]||(0,a.qw)(n,r,o.fragmentMap)||i&&o.store.get(i,"__typename");"string"==typeof g&&(f.__typename=g);var v=new Set(r.selections);if(v.forEach((function(e){var i;if((0,a.LZ)(e,o.variables))if((0,a.My)(e)){var r=(0,a.u2)(e),d=n[r];if(void 0!==d){var u=c.getStoreFieldName({typename:g,fieldName:e.name.value,field:e,variables:o.variables}),h=Re(l,u),p=t.processFieldValue(d,e,o,h),m=e.selectionSet&&o.store.getFieldValue(p,"__typename")||void 0,b=c.getMergeFunction(g,e.name.value,m);b?h.info={field:e,typename:g,merge:b}:De(l,u),f=o.merge(f,((i={})[u]=p,i))}else if(c.usingPossibleTypes&&!(0,a.FS)(["defer","client"],e))throw new s.ej(8)}else{var y=(0,a.hi)(e,o.fragmentMap);y&&c.fragmentMatches(y,g,n,o.variables)&&y.selectionSet.selections.forEach(v.add,v)}})),"string"==typeof i){var b=(0,a.kQ)(i);return l.map.size&&(f=this.applyMerges(l,b,f,o)),o.store.merge(i,f),b}return f},e.prototype.processFieldValue=function(e,t,i,n){var s=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,r){var a=s.processFieldValue(e,t,i,Re(n,r));return De(n,r),a})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:i,mergeTree:n}):e},e.prototype.applyMerges=function(e,t,i,r,o){var l,c=this;if(e.map.size&&!(0,a.hh)(i)){var d,u=Array.isArray(i)||!(0,a.hh)(t)&&!ye(t)?void 0:t,h=i;u&&!o&&(o=[(0,a.hh)(u)?u.__ref:u]);var p=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){o&&o.push(t);var i=p(u,t),n=p(h,t),a=c.applyMerges(e,i,n,r,o);a!==n&&(d=d||new Map).set(t,a),o&&(0,s.kG)(o.pop()===t)})),d&&(i=Array.isArray(h)?h.slice(0):(0,n.pi)({},h),d.forEach((function(e,t){i[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,i,e.info,r,o&&(l=r.store).getStorage.apply(l,o)):i},e}(),Ce=[];function Re(e,t){var i=e.map;return i.has(t)||i.set(t,Ce.pop()||{map:new Map}),i.get(t)}function De(e,t){var i=e.map,n=i.get(t);!n||n.info||n.map.size||(Ce.push(n),i.delete(t))}new Set;var Me=new G;function xe(e,t){if(e.size){var i=[];e.forEach((function(e){return i.push(e)})),e.clear(),i.forEach(t)}}var je=new WeakMap;function Ue(e){var t=je.get(e);return t||je.set(e,t={vars:new Set,dep:oe()}),t}function He(e){var t=new Set,i=new Set,n=function(r){if(arguments.length>0)e!==r&&(e=r,t.forEach((function(e){Ue(e).dep.dirty(n),Fe(e)})),xe(i,(function(t){return t(e)})));else{var a=Me.getValue();a&&(s(a),Ue(a).dep(n))}return e};n.onNextChange=function(e){return i.add(e),function(){i.delete(e)}};var s=n.attachCache=function(e){return t.add(e),Ue(e).vars.add(n),n};return n.forgetCache=function(e){return t.delete(e)},n}function Fe(e){e.broadcastWatches&&e.broadcastWatches()}function Be(e){return void 0!==e.args?e.args:e.field?(0,a.NC)(e.field,e.variables):null}var Ve=function(e,t){var i=e.__typename,n=e.id,s=e._id;if("string"==typeof i&&(t&&(t.keyObject=void 0!==n?{id:n}:void 0!==s?{_id:s}:void 0),void 0===n&&(n=s),void 0!==n))return i+":"+("number"==typeof n||"string"==typeof n?n:JSON.stringify(n))},Ge=function(){},We=function(e,t){return t.fieldName},ze=function(e,t,i){return(0,i.mergeObjects)(e,t)},Ke=function(e,t){return t},Ye=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,n.pi)({dataIdFromObject:Ve},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,i){var n=t&&i?(0,a.qw)(e,t,i):e.__typename;if(n===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s,r={typename:n,selectionSet:t,fragmentMap:i},o=n&&this.getTypePolicy(n),l=o&&o.keyFn||this.config.dataIdFromObject;l;){var c=l(e,r);if(!Array.isArray(c)){s=c;break}l=Qe(c)}return s=s&&String(s),r.keyObject?[s,r.keyObject]:[s]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(i){var s=e[i],r=s.queryType,a=s.mutationType,o=s.subscriptionType,l=(0,n._T)(s,["queryType","mutationType","subscriptionType"]);r&&t.setRootTypename("Query",i),a&&t.setRootTypename("Mutation",i),o&&t.setRootTypename("Subscription",i),fe.call(t.toBeAdded,i)?t.toBeAdded[i].push(l):t.toBeAdded[i]=[l]}))},e.prototype.updateTypePolicy=function(e,t){var i=this,n=this.getTypePolicy(e),s=t.keyFields,r=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?ze:!1===t?Ke:e.merge}a(n,t.merge),n.keyFn=!1===s?Ge:Array.isArray(s)?Qe(s):"function"==typeof s?s:n.keyFn,r&&Object.keys(r).forEach((function(t){var n=i.getFieldPolicy(e,t,!0),s=r[t];if("function"==typeof s)n.read=s;else{var o=s.keyArgs,l=s.read,c=s.merge;n.keyFn=!1===o?We:Array.isArray(o)?Ze(o):"function"==typeof o?o:n.keyFn,"function"==typeof l&&(n.read=l),a(n,c)}n.read&&n.merge&&(n.keyFn=n.keyFn||We)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var i="ROOT_"+e.toUpperCase(),n=this.rootTypenamesById[i];t!==n&&((0,s.kG)(!n||n===e,1),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[t]=i,this.rootTypenamesById[i]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(i){t.getSupertypeSet(i,!0),e[i].forEach((function(e){t.getSupertypeSet(e,!0).add(i);var n=e.match(ge);n&&n[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!fe.call(this.typePolicies,e)){var i=this.typePolicies[e]=Object.create(null);i.fields=Object.create(null);var s=this.supertypeMap.get(e);s&&s.size&&s.forEach((function(e){var s=t.getTypePolicy(e),r=s.fields,a=(0,n._T)(s,["fields"]);Object.assign(i,a),Object.assign(i.fields,r)}))}var r=this.toBeAdded[e];return r&&r.length&&this.updateTypePolicy(e,a.oA.apply(void 0,r.splice(0))),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,i){if(e){var n=this.getTypePolicy(e).fields;return n[t]||i&&(n[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var i=this.supertypeMap.get(e);return!i&&t&&this.supertypeMap.set(e,i=new Set),i},e.prototype.fragmentMatches=function(e,t,i,n){var s=this;if(!e.typeCondition)return!0;if(!t)return!1;var r=e.typeCondition.name.value;if(t===r)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(r))for(var a=this.getSupertypeSet(t,!0),o=[a],l=function(e){var t=s.getSupertypeSet(e,!1);t&&t.size&&o.indexOf(t)<0&&o.push(t)},c=!(!i||!this.fuzzySubtypes.size),d=0;d<o.length;++d){var u=o[d];if(u.has(r))return a.has(r)||a.add(r),!0;u.forEach(l),c&&d===o.length-1&&be(e.selectionSet,i,n)&&(c=!1,!0,this.fuzzySubtypes.forEach((function(e,i){var n=t.match(e);n&&n[0]===t&&l(i)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var i=this.getFieldPolicy(e,t,!1);return!(!i||!i.keyFn)},e.prototype.getStoreFieldName=function(e){var t,i=e.typename,n=e.fieldName,s=this.getFieldPolicy(i,n,!1),r=s&&s.keyFn;if(r&&i)for(var o={typename:i,fieldName:n,field:e.field||null,variables:e.variables},l=Be(e);r;){var c=r(l,o);if(!Array.isArray(c)){t=c||n;break}r=Ze(c)}return void 0===t&&(t=e.field?(0,a.vf)(e.field,e.variables):(0,a.PT)(n,Be(e))),n===ve(t)?t:n+":"+t},e.prototype.readField=function(e,t){var i=e.from;if(i&&(e.field||e.fieldName)){if(void 0===e.typename){var n=t.store.getFieldValue(i,"__typename");n&&(e.typename=n)}var s=this.getStoreFieldName(e),r=ve(s),o=t.store.getFieldValue(i,s),l=this.getFieldPolicy(e.typename,r,!1),c=l&&l.read;if(c){var d=$e(this,i,e,t,t.store.getStorage((0,a.hh)(i)?i.__ref:i,s));return Me.withValue(this.cache,c,[o,d])}return o}},e.prototype.getMergeFunction=function(e,t,i){var n=this.getFieldPolicy(e,t,!1),s=n&&n.merge;return!s&&i&&(s=(n=this.getTypePolicy(i))&&n.merge),s},e.prototype.runMergeFunction=function(e,t,i,n,s){var r=i.field,a=i.typename,o=i.merge;return o===ze?qe(n.store.getFieldValue)(e,t):o===Ke?t:o(e,t,$e(this,void 0,{typename:a,fieldName:r.name.value,field:r,variables:n.variables},n,s||Object.create(null)))},e}();function $e(e,t,i,s,r){var o=e.getStoreFieldName(i),l=ve(o),c=i.variables||s.variables,d=s.store,u=d.getFieldValue,h=d.toReference,p=d.canRead;return{args:Be(i),field:i.field||null,fieldName:l,storeFieldName:o,variables:c,isReference:a.hh,toReference:h,storage:r,cache:e.cache,canRead:p,readField:function(i,r){var a="string"==typeof i?{fieldName:i,from:r}:(0,n.pi)({},i);return void 0===a.from&&(a.from=t),void 0===a.variables&&(a.variables=c),e.readField(a,s)},mergeObjects:qe(u)}}function qe(e){return function(t,i){if(Array.isArray(t)||Array.isArray(i))throw new s.ej(2);if(t&&"object"==typeof t&&i&&"object"==typeof i){var r=e(t,"__typename"),a=e(i,"__typename");return!(r&&a&&r!==a)&&ye(t)&&ye(i)?(0,n.pi)((0,n.pi)({},t),i):i}return i}}function Ze(e){return function(t,i){return t?i.fieldName+":"+JSON.stringify(Je(t,e,!1)):i.fieldName}}function Qe(e){var t=new j(a.mr);return function(i,n){var s;if(n.selectionSet&&n.fragmentMap){var r=t.lookupArray([n.selectionSet,n.fragmentMap]);s=r.aliasMap||(r.aliasMap=Xe(n.selectionSet,n.fragmentMap))}var a=n.keyObject=Je(i,e,!0,s);return n.typename+":"+JSON.stringify(a)}}function Xe(e,t){var i=Object.create(null),n=new Set([e]);return n.forEach((function(e){e.selections.forEach((function(e){if((0,a.My)(e)){if(e.alias){var s=e.alias.value,r=e.name.value;if(r!==s)(i.aliases||(i.aliases=Object.create(null)))[r]=s}if(e.selectionSet)(i.subsets||(i.subsets=Object.create(null)))[e.name.value]=Xe(e.selectionSet,t)}else{var o=(0,a.hi)(e,t);o&&n.add(o.selectionSet)}}))})),i}function Je(e,t,i,n){var r,a=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof r){var o=n&&n.subsets,l=o&&o[r];a[r]=Je(e[r],t,i,l)}}else{var c=n&&n.aliases,d=c&&c[t]||t;fe.call(e,d)?a[r=t]=e[d]:((0,s.kG)(!i,3),r=void 0)}})),a}var et={dataIdFromObject:Ve,addTypename:!0,resultCaching:!0,typePolicies:{}},tt=function(e){function t(t){void 0===t&&(t={});var i=e.call(this)||this;return i.watches=new Set,i.typenameDocumentCache=new Map,i.makeVar=He,i.txCount=0,i.maybeBroadcastWatch=ue((function(e,t){return i.broadcastWatch.call(i,e,!!t)}),{makeCacheKey:function(e){var t=e.optimistic?i.optimisticData:i.data;if(Ie(t)){var n=e.optimistic,s=e.rootId,r=e.variables;return t.makeCacheKey(e.query,e.callback,JSON.stringify({optimistic:n,rootId:s,variables:r}))}}}),i.watchDep=oe(),i.config=(0,n.pi)((0,n.pi)({},et),t),i.addTypename=!!i.config.addTypename,i.policies=new Ye({cache:i,dataIdFromObject:i.config.dataIdFromObject,possibleTypes:i.config.possibleTypes,typePolicies:i.config.typePolicies}),i.data=new Oe.Root({policies:i.policies,resultCaching:i.config.resultCaching}),i.optimisticData=i.data,i.storeWriter=new Le(i,i.storeReader=new Pe({cache:i,addTypename:i.addTypename})),i}return(0,n.ZT)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,i=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config,returnPartialData:i}).result||null}catch(e){if(e instanceof me)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables})}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(fe.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var t,i=this;return this.watches.size||Ue(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){i.watches.delete(e)&&!i.watches.size&&function(e){Ue(e).vars.forEach((function(t){return t.forgetCache(e)}))}(i),i.watchDep.dirty(e),i.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return(0,a.hh)(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(fe.call(e,"id"))return!1;e=(0,n.pi)((0,n.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.performTransaction=function(e,t){var i=this,n=function(t){var n=i,s=n.data,r=n.optimisticData;++i.txCount,t&&(i.data=i.optimisticData=t);try{e(i)}finally{--i.txCount,i.data=s,i.optimisticData=r}},s=!1;"string"==typeof t?(this.optimisticData=this.optimisticData.addLayer(t,n),s=!0):null===t?n(this.data):n(),this.broadcastWatches(s)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=(0,a.Gw)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(i){return t.maybeBroadcastWatch(i,e)}))},t.prototype.broadcastWatch=function(e,t){this.watchDep.dirty(e),this.watchDep(e);var i=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});e.optimistic&&t&&(i.fromOptimisticTransaction=!0),e.callback(i)},t}(pe),it=function(){function e(e){var t=e.cache,i=e.client,n=e.resolvers,s=e.fragmentMatcher;this.cache=t,i&&(this.client=i),n&&this.addResolvers(n),s&&this.setFragmentMatcher(s)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=(0,a.Ee)(t.resolvers,e)})):this.resolvers=(0,a.Ee)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,i=e.remoteResult,s=e.context,r=e.variables,a=e.onlyRunForcedResolvers,o=void 0!==a&&a;return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){return t?[2,this.resolveDocument(t,i.data,s,r,this.fragmentMatcher,o).then((function(e){return(0,n.pi)((0,n.pi)({},i),{data:e.result})}))]:[2,i]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,a.FS)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,a.ob)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,n.pi)((0,n.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(s){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(i),t).then((function(e){return(0,n.pi)((0,n.pi)({},t),e.exportedVariables)}))]:[2,(0,n.pi)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,C.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return C.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,a.aL)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,i,s,r,o){return void 0===i&&(i={}),void 0===s&&(s={}),void 0===r&&(r=function(){return!0}),void 0===o&&(o=!1),(0,n.mG)(this,void 0,void 0,(function(){var l,c,d,u,h,p,m,f,g;return(0,n.Jh)(this,(function(v){return l=(0,a.p$)(e),c=(0,a.kU)(e),d=(0,a.F)(c),u=l.operation,h=u?u.charAt(0).toUpperCase()+u.slice(1):"Query",m=(p=this).cache,f=p.client,g={fragmentMap:d,context:(0,n.pi)((0,n.pi)({},i),{cache:m,client:f}),variables:s,fragmentMatcher:r,defaultOperationType:h,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(l.selectionSet,t,g).then((function(e){return{result:e,exportedVariables:g.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,o,l,c,d,u=this;return(0,n.Jh)(this,(function(h){return r=i.fragmentMap,o=i.context,l=i.variables,c=[t],d=function(e){return(0,n.mG)(u,void 0,void 0,(function(){var d,u;return(0,n.Jh)(this,(function(n){return(0,a.LZ)(e,l)?(0,a.My)(e)?[2,this.resolveField(e,t,i).then((function(t){var i;void 0!==t&&c.push(((i={})[(0,a.u2)(e)]=t,i))}))]:((0,a.Ao)(e)?d=e:(d=r[e.name.value],(0,s.kG)(d,11)),d&&d.typeCondition&&(u=d.typeCondition.name.value,i.fragmentMatcher(t,u,o))?[2,this.resolveSelectionSet(d.selectionSet,t,i).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(d)).then((function(){return(0,a.bw)(c)}))]}))}))},e.prototype.resolveField=function(e,t,i){return(0,n.mG)(this,void 0,void 0,(function(){var s,r,o,l,c,d,u,h,p,m=this;return(0,n.Jh)(this,(function(n){return s=i.variables,r=e.name.value,o=(0,a.u2)(e),l=r!==o,c=t[o]||t[r],d=Promise.resolve(c),i.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=t.__typename||i.defaultOperationType,(h=this.resolvers&&this.resolvers[u])&&(p=h[l?r:o])&&(d=Promise.resolve(Me.withValue(this.cache,p,[t,(0,a.NC)(e,s),i.context,{field:e,fragmentMap:i.fragmentMap}])))),[2,d.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(i.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?m.resolveSubSelectedArray(e,t,i):e.selectionSet?m.resolveSelectionSet(e.selectionSet,t,i):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,i){var n=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?n.resolveSubSelectedArray(e,t,i):e.selectionSet?n.resolveSelectionSet(e.selectionSet,t,i):void 0})))},e}(),nt=new(a.mr?WeakMap:Map);function st(e,t){var i=e[t];"function"==typeof i&&(e[t]=function(){return nt.set(e,(nt.get(e)+1)%1e15),i.apply(this,arguments)})}function rt(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var at=function(){function e(e){this.cache=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,nt.has(e)||(nt.set(e,0),st(e,"evict"),st(e,"modify"),st(e,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||A.loading;return this.variables&&this.networkStatus!==A.loading&&!E(this.variables,e.variables)&&(t=A.setVariables),E(e.variables,this.variables)||(this.diff=null),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){rt(this),this.diff=null,this.dirty=!1},e.prototype.getDiff=function(e){return void 0===e&&(e=this.variables),this.diff&&E(e,this.variables)?this.diff:(this.updateWatch(this.variables=e),this.diff=this.cache.diff({query:this.document,variables:e,returnPartialData:!0,optimistic:!0}))},e.prototype.setDiff=function(e){var t=this,i=this.diff;this.diff=e,this.dirty||(e&&e.result)===(i&&i.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;rt(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(I(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.cancel(),delete this.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var e=this.observableQuery;e&&e.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var i=this.observableQuery;i&&"no-cache"===i.options.fetchPolicy||this.lastWatch&&this.lastWatch.query===this.document&&E(e,this.lastWatch.variables)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:e,optimistic:!0,callback:function(e){return t.setDiff(e)}}))},e.prototype.shouldWrite=function(e,t){var i=this.lastWrite;return!(i&&i.dmCount===nt.get(this.cache)&&E(t,i.variables)&&E(e.data,i.result.data))},e.prototype.markResult=function(e,t,i){var n=this;this.graphQLErrors=(0,a.Of)(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.diff={result:e.data,complete:!0}:!this.stopped&&i&&(ot(e,t.errorPolicy)?this.cache.performTransaction((function(i){if(n.shouldWrite(e,t.variables))i.writeQuery({query:n.document,data:e.data,variables:t.variables}),n.lastWrite={result:e,variables:t.variables,dmCount:nt.get(n.cache)};else if(n.diff&&n.diff.complete)return void(e.data=n.diff.result);var s=i.diff({query:n.document,variables:t.variables,returnPartialData:!0,optimistic:!0});n.stopped||n.updateWatch(t.variables),n.diff=s,s.complete&&(e.data=s.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=A.ready},e.prototype.markError=function(e){return this.networkStatus=A.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function ot(e,t){void 0===t&&(t="none");var i="ignore"===t||"all"===t,n=!(0,a.d2)(e);return!n&&i&&e.data&&(n=!0),n}var lt=Object.prototype.hasOwnProperty,ct=function(){function e(e){var t=e.cache,i=e.link,n=e.queryDeduplication,s=void 0!==n&&n,r=e.onBroadcast,o=e.ssrMode,l=void 0!==o&&o,c=e.clientAwareness,d=void 0===c?{}:c,u=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(a.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=i,this.queryDeduplication=s,this.clientAwareness=d,this.localState=u||new it({cache:t}),this.ssrMode=l,this.assumeImmutableResults=!!h,(this.onBroadcast=r)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,i){e.stopQueryNoBroadcast(i)})),this.cancelPendingFetches(new s.ej(12))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,i=e.variables,r=e.optimisticResponse,o=e.updateQueries,l=e.refetchQueries,c=void 0===l?[]:l,d=e.awaitRefetchQueries,u=void 0!==d&&d,h=e.update,p=e.errorPolicy,m=void 0===p?"none":p,f=e.fetchPolicy,g=e.context,v=void 0===g?{}:g;return(0,n.mG)(this,void 0,void 0,(function(){var e,l,d;return(0,n.Jh)(this,(function(p){switch(p.label){case 0:return(0,s.kG)(t,13),(0,s.kG)(!f||"no-cache"===f,14),e=this.generateMutationId(),t=this.transform(t).document,i=this.getVariables(t,i),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,i,v)]:[3,2];case 1:i=p.sent(),p.label=2;case 2:return l=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:i,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:i,errorPolicy:m,updateQueries:o,update:h}),this.broadcastQueries(),d=this,[2,new Promise((function(s,p){var g,b;d.getObservableFromLink(t,(0,n.pi)((0,n.pi)({},v),{optimisticResponse:r}),i,!1).subscribe({next:function(n){if((0,a.d2)(n)&&"none"===m)b=new w({graphQLErrors:n.errors});else{if(l&&(l.loading=!1,l.error=null),"no-cache"!==f)try{d.markMutationResult({mutationId:e,result:n,document:t,variables:i,errorPolicy:m,updateQueries:o,update:h})}catch(e){return void(b=new w({networkError:e}))}g=n}},error:function(t){l&&(l.loading=!1,l.error=t),r&&d.cache.removeOptimistic(e),d.broadcastQueries(),p(new w({networkError:t}))},complete:function(){if(b&&l&&(l.loading=!1,l.error=b),r&&d.cache.removeOptimistic(e),d.broadcastQueries(),b)p(b);else{"function"==typeof c&&(c=c(g));var t=[];(0,a.Of)(c)&&c.forEach((function(e){if("string"==typeof e)d.queries.forEach((function(i){var n=i.observableQuery;n&&n.queryName===e&&t.push(n.refetch())}));else{var i={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(i.context=e.context),t.push(d.query(i))}})),Promise.all(u?t:[]).then((function(){"ignore"===m&&g&&(0,a.d2)(g)&&delete g.errors,s(g)}),p)}}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var i=this;if(void 0===t&&(t=this.cache),ot(e.result,e.errorPolicy)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],s=e.updateQueries;s&&this.queries.forEach((function(r,o){var l=r.observableQuery,c=l&&l.queryName;if(c&&lt.call(s,c)){var d=s[c],u=i.queries.get(o),h=u.document,p=u.variables,m=t.diff({query:h,variables:p,returnPartialData:!0,optimistic:!1}),f=m.result;if(m.complete&&f){var g=d(f,{mutationResult:e.result,queryName:h&&(0,a.rY)(h)||void 0,queryVariables:p});g&&n.push({result:g,dataId:"ROOT_QUERY",query:h,variables:p})}}})),t.performTransaction((function(t){n.forEach((function(e){return t.write(e)}));var i=e.update;i&&i(t,e.result)}),null)}},e.prototype.markMutationOptimistic=function(e,t){var i=this,s="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{i.markMutationResult((0,n.pi)((0,n.pi)({},t),{result:{data:s}}),e)}catch(e){}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,i){return this.fetchQueryObservable(e,t,i).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,i){e[i]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var i=this.cache.transformDocument(e),n=(0,a.Fo)(this.cache.transformForLink(i)),s=this.localState.clientQuery(i),r=n&&this.localState.serverQuery(n),o={document:i,hasClientExports:(0,a.mj)(i),hasForcedResolvers:this.localState.shouldForceResolvers(i),clientQuery:s,serverQuery:r,defaultVars:(0,a.O4)((0,a.$H)(i))},l=function(e){e&&!t.has(e)&&t.set(e,o)};l(e),l(i),l(s),l(r)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,n.pi)((0,n.pi)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=(0,n.pi)((0,n.pi)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new at(this.cache),i=new P({queryManager:this,queryInfo:t,options:e});return this.queries.set(i.queryId,t),t.init({document:e.query,observableQuery:i,variables:e.variables}),i},e.prototype.query=function(e){var t=this;(0,s.kG)(e.query,15),(0,s.kG)("Document"===e.query.kind,16),(0,s.kG)(!e.returnPartialData,17),(0,s.kG)(!e.pollInterval,18);var i=this.generateQueryId();return this.fetchQuery(i,e).finally((function(){return t.stopQuery(i)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(){return this.cancelPendingFetches(new s.ej(19)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=A.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var i=[];return this.queries.forEach((function(n,s){var r=n.observableQuery;if(r&&r.hasObservers()){var a=r.options.fetchPolicy;r.resetLastResults(),"cache-only"===a||!e&&"standby"===a||i.push(r.refetch()),t.getQuery(s).setDiff(null)}})),this.broadcastQueries(),Promise.all(i)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,i=e.query,n=e.fetchPolicy,s=e.errorPolicy,r=e.variables,o=e.context,l=void 0===o?{}:o;i=this.transform(i).document,r=this.getVariables(i,r);var c=function(e){return t.getObservableFromLink(i,l,e,!1).map((function(r){if("no-cache"!==n&&(ot(r,s)&&t.cache.write({query:i,result:r.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),(0,a.d2)(r))throw new w({graphQLErrors:r.errors});return r}))};if(this.transform(i).hasClientExports){var d=this.localState.addExportedVariables(i,r,l).then(c);return new a.y$((function(e){var t=null;return d.then((function(i){return t=i.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return c(r)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,i,s){var o,l,c=this;void 0===s&&(s=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var d=this.transform(e).serverQuery;if(d){var u=this.inFlightLinkObservables,h=this.link,p={query:d,variables:i,operationName:(0,a.rY)(d)||void 0,context:this.prepareContext((0,n.pi)((0,n.pi)({},t),{forceFetch:!s}))};if(t=p.context,s){var m=u.get(d)||new Map;u.set(d,m);var f=JSON.stringify(i);if(!(l=m.get(f))){var g=new a.X_([(0,r.ht)(h,p)]);m.set(f,l=g),g.cleanup((function(){m.delete(f)&&m.size<1&&u.delete(d)}))}}else l=new a.X_([(0,r.ht)(h,p)])}else l=new a.X_([a.y$.of({data:{}})]),t=this.prepareContext(t);var v=this.transform(e).clientQuery;return v&&(l=(0,a.sz)(l,(function(e){return c.localState.runResolvers({document:v,remoteResult:e,context:t,variables:i})}))),l},e.prototype.getResultsFromLink=function(e,t,i){var n=e.lastRequestId;return(0,a.sz)(this.getObservableFromLink(e.document,i.context,i.variables),(function(s){var r=(0,a.Of)(s.errors);if(n>=e.lastRequestId){if(r&&"none"===i.errorPolicy)throw e.markError(new w({graphQLErrors:s.errors}));e.markResult(s,i,t),e.markReady()}var o={data:s.data,loading:!1,networkStatus:e.networkStatus||A.ready};return r&&"ignore"!==i.errorPolicy&&(o.errors=s.errors),o}),(function(t){var i=t.hasOwnProperty("graphQLErrors")?t:new w({networkError:t});throw n>=e.lastRequestId&&e.markError(i),i}))},e.prototype.fetchQueryObservable=function(e,t,i){var n=this;void 0===i&&(i=A.loading);var s=this.transform(t.query).document,r=this.getVariables(s,t.variables),o=this.getQuery(e),l=o.networkStatus,c=t.fetchPolicy,d=void 0===c?"cache-first":c,u=t.errorPolicy,h=void 0===u?"none":u,p=t.returnPartialData,m=void 0!==p&&p,f=t.notifyOnNetworkStatusChange,g=void 0!==f&&f,v=t.context,b=void 0===v?{}:v;("cache-first"===d||"cache-and-network"===d||"network-only"===d||"no-cache"===d)&&g&&"number"==typeof l&&l!==i&&I(i)&&("cache-first"!==d&&(d="cache-and-network"),m=!0);var y=Object.assign({},t,{query:s,variables:r,fetchPolicy:d,errorPolicy:h,returnPartialData:m,notifyOnNetworkStatusChange:g,context:b}),E=function(e){return y.variables=e,n.fetchQueryByPolicy(o,y,i)};this.fetchCancelFns.set(e,(function(e){Promise.resolve().then((function(){return S.cancel(e)}))}));var S=new a.X_(this.transform(y.query).hasClientExports?this.localState.addExportedVariables(y.query,y.variables,y.context).then(E):E(y.variables));return S.cleanup((function(){n.fetchCancelFns.delete(e);var i=t.nextFetchPolicy;i&&(t.nextFetchPolicy=void 0,t.fetchPolicy="function"==typeof i?i.call(t,t.fetchPolicy||"cache-first"):i)})),S},e.prototype.fetchQueryByPolicy=function(e,t,i){var s=this,r=t.query,o=t.variables,l=t.fetchPolicy,c=t.errorPolicy,d=t.returnPartialData,u=t.context;e.init({document:r,variables:o,lastRequestId:this.generateRequestId(),networkStatus:i});var h=function(){return e.getDiff(o)},p=function(t,i){void 0===i&&(i=e.networkStatus||A.loading);var l=t.result;var c=function(e){return a.y$.of((0,n.pi)({data:e,loading:I(i),networkStatus:i},t.complete?null:{partial:!0}))};return s.transform(r).hasForcedResolvers?s.localState.runResolvers({document:r,remoteResult:{data:l},context:u,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data)})):c(l)},m=function(t){return s.getResultsFromLink(e,t,{variables:o,context:u,fetchPolicy:l,errorPolicy:c})};switch(l){default:case"cache-first":return(f=h()).complete?[p(f,e.markReady())]:d?[p(f),m(!0)]:[m(!0)];case"cache-and-network":var f;return(f=h()).complete||d?[p(f),m(!0)]:[m(!0)];case"cache-only":return[p(h(),e.markReady())];case"network-only":return[m(!0)];case"no-cache":return[m(!1)];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new at(this.cache)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,n.pi)((0,n.pi)({},t),{clientAwareness:this.clientAwareness})},e}();function dt(e,t){return(0,a.oA)(e,t,t.variables&&{variables:(0,n.pi)((0,n.pi)({},e.variables),t.variables)})}var ut=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.uri,n=e.credentials,a=e.headers,o=e.cache,l=e.ssrMode,c=void 0!==l&&l,d=e.ssrForceFetchDelay,u=void 0===d?0:d,h=e.connectToDevTools,p=void 0===h?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1:h,f=e.queryDeduplication,g=void 0===f||f,v=e.defaultOptions,b=e.assumeImmutableResults,y=void 0!==b&&b,E=e.resolvers,S=e.typeDefs,T=e.fragmentMatcher,O=e.name,_=e.version,N=e.link;if(N||(N=i?new m({uri:i,credentials:n,headers:a}):r.i0.empty()),!o)throw new s.ej(9);this.link=N,this.cache=o,this.disableNetworkFetches=c||u>0,this.queryDeduplication=g,this.defaultOptions=v||{},this.typeDefs=S,u&&setTimeout((function(){return t.disableNetworkFetches=!1}),u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),p&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),this.version="3.3.11",this.localState=new it({cache:o,client:this,resolvers:E,fragmentMatcher:T}),this.queryManager=new ct({cache:this.cache,link:this.link,queryDeduplication:g,ssrMode:c,clientAwareness:{name:O,version:_},localState:this.localState,assumeImmutableResults:y,onBroadcast:p?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=dt(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,n.pi)((0,n.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=dt(this.defaultOptions.query,e)),(0,s.kG)("cache-and-network"!==e.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,n.pi)((0,n.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=dt(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return(0,r.ht)(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}();i(72191),i(35367);var ht=function(){return(ht=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var mt="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function ft(e,t){for(var i,n=/\r\n|[\n\r]/g,s=1,r=t+1;(i=n.exec(e.body))&&i.index<t;)s+=1,r=t+1-(i.index+i[0].length);return{line:s,column:r}}function gt(e){return vt(e.source,ft(e.source,e.start))}function vt(e,t){var i=e.locationOffset.column-1,n=yt(i)+e.body,s=t.line-1,r=e.locationOffset.line-1,a=t.line+r,o=1===t.line?i:0,l=t.column+o,c="".concat(e.name,":").concat(a,":").concat(l,"\n"),d=n.split(/\r\n|[\n\r]/g),u=d[s];if(u.length>120){for(var h=Math.floor(l/80),p=l%80,m=[],f=0;f<u.length;f+=80)m.push(u.slice(f,f+80));return c+bt([["".concat(a),m[0]]].concat(m.slice(1,h+1).map((function(e){return["",e]})),[[" ",yt(p-1)+"^"],["",m[h+1]]]))}return c+bt([["".concat(a-1),d[s-1]],["".concat(a),u],["",yt(l-1)+"^"],["".concat(a+1),d[s+1]]])}function bt(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),i=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,n=e[0],s=e[1];return yt(i-(t=n).length)+t+(s?" | "+s:" |")})).join("\n")}function yt(e){return Array(e+1).join(" ")}function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tt(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?Ot(e):t}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){var t="function"==typeof Map?new Map:void 0;return(_t=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Nt(e,arguments,It(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),wt(n,e)})(e)}function Nt(e,t,i){return(Nt=At()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var s=new(Function.bind.apply(e,n));return i&&wt(s,i.prototype),s}).apply(null,arguments)}function At(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(o,e);var t,i,n,s,r,a=(t=o,i=At(),function(){var e,n=It(t);if(i){var s=It(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return Tt(this,e)});function o(e,t,i,n,s,r,l){var c,d,u,h,p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),p=a.call(this,e);var m,f=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,g=i;!g&&f&&(g=null===(m=f[0].loc)||void 0===m?void 0:m.source);var v,b=n;!b&&f&&(b=f.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),b&&0===b.length&&(b=void 0),n&&i?v=n.map((function(e){return ft(i,e)})):f&&(v=f.reduce((function(e,t){return t.loc&&e.push(ft(t.loc.source,t.loc.start)),e}),[]));var y,E=l;if(null==E&&null!=r){var S=r.extensions;"object"==pt(y=S)&&null!==y&&(E=S)}return Object.defineProperties(Ot(p),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(c=v)&&void 0!==c?c:void 0,enumerable:null!=v},path:{value:null!=s?s:void 0,enumerable:null!=s},nodes:{value:null!=f?f:void 0},source:{value:null!==(d=g)&&void 0!==d?d:void 0},positions:{value:null!==(u=b)&&void 0!==u?u:void 0},originalError:{value:r},extensions:{value:null!==(h=E)&&void 0!==h?h:void 0,enumerable:null!=E}}),null!=r&&r.stack?(Object.defineProperty(Ot(p),"stack",{value:r.stack,writable:!0,configurable:!0}),Tt(p)):(Error.captureStackTrace?Error.captureStackTrace(Ot(p),o):Object.defineProperty(Ot(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return n=o,(s=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var i=0,n=e.nodes;i<n.length;i++){var s=n[i];s.loc&&(t+="\n\n"+gt(s.loc))}else if(e.source&&e.locations)for(var r=0,a=e.locations;r<a.length;r++){var o=a[r];t+="\n\n"+vt(e.source,o)}return t}(this)}},{key:mt,get:function(){return"Object"}}])&&St(n.prototype,s),r&&St(n,r),o}(_t(Error));function Pt(e,t,i){return new kt("Syntax Error: ".concat(i),void 0,e,[t])}var Lt=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),Ct=i(83059),Rt=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),Dt=i(6589);function Mt(e,t){if(!Boolean(e))throw new Error(t)}const xt=function(e,t){return e instanceof t};function jt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ut=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||Mt(0,"Body must be a string. Received: ".concat((0,Dt.Z)(e),".")),this.body=e,this.name=t,this.locationOffset=i,this.locationOffset.line>0||Mt(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Mt(0,"column in locationOffset is 1-indexed and must be positive.")}var t,i,n;return t=e,(i=[{key:mt,get:function(){return"Source"}}])&&jt(t.prototype,i),n&&jt(t,n),e}();var Ht=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),Ft=i(7420),Bt=function(){function e(e){var t=new Ct.WU(Rt.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==Rt.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=Gt(this,e)}while(e.kind===Rt.COMMENT);return e},e}();function Vt(e){return isNaN(e)?Rt.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Gt(e,t){for(var i=e.source,n=i.body,s=n.length,r=t.end;r<s;){var a=n.charCodeAt(r),o=e.line,l=1+r-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:10===n.charCodeAt(r+1)?r+=2:++r,++e.line,e.lineStart=r;continue;case 33:return new Ct.WU(Rt.BANG,r,r+1,o,l,t);case 35:return zt(i,r,o,l,t);case 36:return new Ct.WU(Rt.DOLLAR,r,r+1,o,l,t);case 38:return new Ct.WU(Rt.AMP,r,r+1,o,l,t);case 40:return new Ct.WU(Rt.PAREN_L,r,r+1,o,l,t);case 41:return new Ct.WU(Rt.PAREN_R,r,r+1,o,l,t);case 46:if(46===n.charCodeAt(r+1)&&46===n.charCodeAt(r+2))return new Ct.WU(Rt.SPREAD,r,r+3,o,l,t);break;case 58:return new Ct.WU(Rt.COLON,r,r+1,o,l,t);case 61:return new Ct.WU(Rt.EQUALS,r,r+1,o,l,t);case 64:return new Ct.WU(Rt.AT,r,r+1,o,l,t);case 91:return new Ct.WU(Rt.BRACKET_L,r,r+1,o,l,t);case 93:return new Ct.WU(Rt.BRACKET_R,r,r+1,o,l,t);case 123:return new Ct.WU(Rt.BRACE_L,r,r+1,o,l,t);case 124:return new Ct.WU(Rt.PIPE,r,r+1,o,l,t);case 125:return new Ct.WU(Rt.BRACE_R,r,r+1,o,l,t);case 34:return 34===n.charCodeAt(r+1)&&34===n.charCodeAt(r+2)?qt(i,r,o,l,t,e):$t(i,r,o,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Kt(i,r,a,o,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Qt(i,r,o,l,t)}throw Pt(i,r,Wt(a))}var c=e.line,d=1+r-e.lineStart;return new Ct.WU(Rt.EOF,s,s,c,d,t)}function Wt(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(Vt(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(Vt(e),".")}function zt(e,t,i,n,s){var r,a=e.body,o=t;do{r=a.charCodeAt(++o)}while(!isNaN(r)&&(r>31||9===r));return new Ct.WU(Rt.COMMENT,t,o,i,n,s,a.slice(t+1,o))}function Kt(e,t,i,n,s,r){var a=e.body,o=i,l=t,c=!1;if(45===o&&(o=a.charCodeAt(++l)),48===o){if((o=a.charCodeAt(++l))>=48&&o<=57)throw Pt(e,l,"Invalid number, unexpected digit after 0: ".concat(Vt(o),"."))}else l=Yt(e,l,o),o=a.charCodeAt(l);if(46===o&&(c=!0,o=a.charCodeAt(++l),l=Yt(e,l,o),o=a.charCodeAt(l)),69!==o&&101!==o||(c=!0,43!==(o=a.charCodeAt(++l))&&45!==o||(o=a.charCodeAt(++l)),l=Yt(e,l,o),o=a.charCodeAt(l)),46===o||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(o))throw Pt(e,l,"Invalid number, expected digit but got: ".concat(Vt(o),"."));return new Ct.WU(c?Rt.FLOAT:Rt.INT,t,l,n,s,r,a.slice(t,l))}function Yt(e,t,i){var n=e.body,s=t,r=i;if(r>=48&&r<=57){do{r=n.charCodeAt(++s)}while(r>=48&&r<=57);return s}throw Pt(e,s,"Invalid number, expected digit but got: ".concat(Vt(r),"."))}function $t(e,t,i,n,s){for(var r,a,o,l,c=e.body,d=t+1,u=d,h=0,p="";d<c.length&&!isNaN(h=c.charCodeAt(d))&&10!==h&&13!==h;){if(34===h)return p+=c.slice(u,d),new Ct.WU(Rt.STRING,t,d+1,i,n,s,p);if(h<32&&9!==h)throw Pt(e,d,"Invalid character within String: ".concat(Vt(h),"."));if(++d,92===h){switch(p+=c.slice(u,d-1),h=c.charCodeAt(d)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var m=(r=c.charCodeAt(d+1),a=c.charCodeAt(d+2),o=c.charCodeAt(d+3),l=c.charCodeAt(d+4),Zt(r)<<12|Zt(a)<<8|Zt(o)<<4|Zt(l));if(m<0){var f=c.slice(d+1,d+5);throw Pt(e,d,"Invalid character escape sequence: \\u".concat(f,"."))}p+=String.fromCharCode(m),d+=4;break;default:throw Pt(e,d,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}u=++d}}throw Pt(e,d,"Unterminated string.")}function qt(e,t,i,n,s,r){for(var a=e.body,o=t+3,l=o,c=0,d="";o<a.length&&!isNaN(c=a.charCodeAt(o));){if(34===c&&34===a.charCodeAt(o+1)&&34===a.charCodeAt(o+2))return d+=a.slice(l,o),new Ct.WU(Rt.BLOCK_STRING,t,o+3,i,n,s,(0,Ft.W7)(d));if(c<32&&9!==c&&10!==c&&13!==c)throw Pt(e,o,"Invalid character within String: ".concat(Vt(c),"."));10===c?(++o,++r.line,r.lineStart=o):13===c?(10===a.charCodeAt(o+1)?o+=2:++o,++r.line,r.lineStart=o):92===c&&34===a.charCodeAt(o+1)&&34===a.charCodeAt(o+2)&&34===a.charCodeAt(o+3)?(d+=a.slice(l,o)+'"""',l=o+=4):++o}throw Pt(e,o,"Unterminated string.")}function Zt(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Qt(e,t,i,n,s){for(var r=e.body,a=r.length,o=t+1,l=0;o!==a&&!isNaN(l=r.charCodeAt(o))&&(95===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++o;return new Ct.WU(Rt.NAME,t,o,i,n,s,r.slice(t,o))}var Xt=function(){function e(e,t){var i=function(e){return xt(e,Ut)}(e)?e:new Ut(e);this._lexer=new Bt(i),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(Rt.NAME);return{kind:Lt.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:Lt.DOCUMENT,definitions:this.many(Rt.SOF,this.parseDefinition,Rt.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(Rt.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Rt.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(Rt.BRACE_L))return{kind:Lt.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,i=this.parseOperationType();return this.peek(Rt.NAME)&&(t=this.parseName()),{kind:Lt.OPERATION_DEFINITION,operation:i,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(Rt.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(Rt.PAREN_L,this.parseVariableDefinition,Rt.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Lt.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Rt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Rt.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(Rt.DOLLAR),{kind:Lt.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Lt.SELECTION_SET,selections:this.many(Rt.BRACE_L,this.parseSelection,Rt.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(Rt.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,i=this._lexer.token,n=this.parseName();return this.expectOptionalToken(Rt.COLON)?(e=n,t=this.parseName()):t=n,{kind:Lt.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Rt.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(i)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Rt.PAREN_L,t,Rt.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(Rt.COLON),{kind:Lt.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:Lt.ARGUMENT,name:this.parseName(),value:(this.expectToken(Rt.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(Rt.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Rt.NAME)?{kind:Lt.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Lt.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:Lt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:Lt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case Rt.BRACKET_L:return this.parseList(e);case Rt.BRACE_L:return this.parseObject(e);case Rt.INT:return this._lexer.advance(),{kind:Lt.INT,value:t.value,loc:this.loc(t)};case Rt.FLOAT:return this._lexer.advance(),{kind:Lt.FLOAT,value:t.value,loc:this.loc(t)};case Rt.STRING:case Rt.BLOCK_STRING:return this.parseStringLiteral();case Rt.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:Lt.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:Lt.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:Lt.NULL,loc:this.loc(t)};default:return{kind:Lt.ENUM,value:t.value,loc:this.loc(t)}}case Rt.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Lt.STRING,value:e.value,block:e.kind===Rt.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,i=this._lexer.token;return{kind:Lt.LIST,values:this.any(Rt.BRACKET_L,(function(){return t.parseValueLiteral(e)}),Rt.BRACKET_R),loc:this.loc(i)}},t.parseObject=function(e){var t=this,i=this._lexer.token;return{kind:Lt.OBJECT,fields:this.any(Rt.BRACE_L,(function(){return t.parseObjectField(e)}),Rt.BRACE_R),loc:this.loc(i)}},t.parseObjectField=function(e){var t=this._lexer.token,i=this.parseName();return this.expectToken(Rt.COLON),{kind:Lt.OBJECT_FIELD,name:i,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(Rt.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(Rt.AT),{kind:Lt.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(Rt.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(Rt.BRACKET_R),e={kind:Lt.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(Rt.BANG)?{kind:Lt.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:Lt.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===Rt.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(Rt.STRING)||this.peek(Rt.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var i=this.parseDirectives(!0),n=this.many(Rt.BRACE_L,this.parseOperationTypeDefinition,Rt.BRACE_R);return{kind:Lt.SCHEMA_DEFINITION,description:t,directives:i,operationTypes:n,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Rt.COLON);var i=this.parseNamedType();return{kind:Lt.OPERATION_TYPE_DEFINITION,operation:t,type:i,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var i=this.parseName(),n=this.parseDirectives(!0);return{kind:Lt.SCALAR_TYPE_DEFINITION,description:t,name:i,directives:n,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var i=this.parseName(),n=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),r=this.parseFieldsDefinition();return{kind:Lt.OBJECT_TYPE_DEFINITION,description:t,name:i,interfaces:n,directives:s,fields:r,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(Rt.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(Rt.AMP)||this.peek(Rt.NAME));return t}return this.delimitedMany(Rt.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(Rt.BRACE_L)&&this._lexer.lookahead().kind===Rt.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Rt.BRACE_L,this.parseFieldDefinition,Rt.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),i=this.parseName(),n=this.parseArgumentDefs();this.expectToken(Rt.COLON);var s=this.parseTypeReference(),r=this.parseDirectives(!0);return{kind:Lt.FIELD_DEFINITION,description:t,name:i,arguments:n,type:s,directives:r,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(Rt.PAREN_L,this.parseInputValueDef,Rt.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),i=this.parseName();this.expectToken(Rt.COLON);var n,s=this.parseTypeReference();this.expectOptionalToken(Rt.EQUALS)&&(n=this.parseValueLiteral(!0));var r=this.parseDirectives(!0);return{kind:Lt.INPUT_VALUE_DEFINITION,description:t,name:i,type:s,defaultValue:n,directives:r,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var i=this.parseName(),n=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),r=this.parseFieldsDefinition();return{kind:Lt.INTERFACE_TYPE_DEFINITION,description:t,name:i,interfaces:n,directives:s,fields:r,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var i=this.parseName(),n=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:Lt.UNION_TYPE_DEFINITION,description:t,name:i,directives:n,types:s,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Rt.EQUALS)?this.delimitedMany(Rt.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var i=this.parseName(),n=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:Lt.ENUM_TYPE_DEFINITION,description:t,name:i,directives:n,values:s,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Rt.BRACE_L,this.parseEnumValueDefinition,Rt.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),i=this.parseName(),n=this.parseDirectives(!0);return{kind:Lt.ENUM_VALUE_DEFINITION,description:t,name:i,directives:n,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var i=this.parseName(),n=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:Lt.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:i,directives:n,fields:s,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Rt.BRACE_L,this.parseInputValueDef,Rt.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===Rt.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),i=this.optionalMany(Rt.BRACE_L,this.parseOperationTypeDefinition,Rt.BRACE_R);if(0===t.length&&0===i.length)throw this.unexpected();return{kind:Lt.SCHEMA_EXTENSION,directives:t,operationTypes:i,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),i=this.parseDirectives(!0);if(0===i.length)throw this.unexpected();return{kind:Lt.SCALAR_TYPE_EXTENSION,name:t,directives:i,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(0===i.length&&0===n.length&&0===s.length)throw this.unexpected();return{kind:Lt.OBJECT_TYPE_EXTENSION,name:t,interfaces:i,directives:n,fields:s,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(0===i.length&&0===n.length&&0===s.length)throw this.unexpected();return{kind:Lt.INTERFACE_TYPE_EXTENSION,name:t,interfaces:i,directives:n,fields:s,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),i=this.parseDirectives(!0),n=this.parseUnionMemberTypes();if(0===i.length&&0===n.length)throw this.unexpected();return{kind:Lt.UNION_TYPE_EXTENSION,name:t,directives:i,types:n,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),i=this.parseDirectives(!0),n=this.parseEnumValuesDefinition();if(0===i.length&&0===n.length)throw this.unexpected();return{kind:Lt.ENUM_TYPE_EXTENSION,name:t,directives:i,values:n,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),i=this.parseDirectives(!0),n=this.parseInputFieldsDefinition();if(0===i.length&&0===n.length)throw this.unexpected();return{kind:Lt.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:i,fields:n,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Rt.AT);var i=this.parseName(),n=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var r=this.parseDirectiveLocations();return{kind:Lt.DIRECTIVE_DEFINITION,description:t,name:i,arguments:n,repeatable:s,locations:r,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Rt.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==Ht[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new Ct.Ye(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Pt(this._lexer.source,t.start,"Expected ".concat(ei(e),", found ").concat(Jt(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==Rt.NAME||t.value!==e)throw Pt(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(Jt(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===Rt.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return Pt(this._lexer.source,t.start,"Unexpected ".concat(Jt(t),"."))},t.any=function(e,t,i){this.expectToken(e);for(var n=[];!this.expectOptionalToken(i);)n.push(t.call(this));return n},t.optionalMany=function(e,t,i){if(this.expectOptionalToken(e)){var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(i));return n}return[]},t.many=function(e,t,i){this.expectToken(e);var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(i));return n},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var i=[];do{i.push(t.call(this))}while(this.expectOptionalToken(e));return i},e}();function Jt(e){var t=e.value;return ei(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function ei(e){return function(e){return e===Rt.BANG||e===Rt.DOLLAR||e===Rt.AMP||e===Rt.PAREN_L||e===Rt.PAREN_R||e===Rt.SPREAD||e===Rt.COLON||e===Rt.EQUALS||e===Rt.AT||e===Rt.BRACKET_L||e===Rt.BRACKET_R||e===Rt.BRACE_L||e===Rt.PIPE||e===Rt.BRACE_R}(e)?'"'.concat(e,'"'):e}var ti=new Map,ii=new Map,ni=!0,si=!1;function ri(e){return e.replace(/[\s,]+/g," ").trim()}function ai(e){var t=new Set,i=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var n=e.name.value,s=ri((a=e.loc).source.body.substring(a.start,a.end)),r=ii.get(n);r&&!r.has(s)?ni&&console.warn("Warning: fragment with name "+n+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):r||ii.set(n,r=new Set),r.add(s),t.has(s)||(t.add(s),i.push(e))}else i.push(e);var a})),ht(ht({},e),{definitions:i})}function oi(e){var t=ri(e);if(!ti.has(t)){var i=function(e,t){return new Xt(e,t).parseDocument()}(e,{experimentalFragmentVariables:si});if(!i||"Document"!==i.kind)throw new Error("Not a valid GraphQL document.");ti.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(i){var n=e[i];n&&"object"==typeof n&&t.add(n)}))}));var i=e.loc;return i&&(delete i.startToken,delete i.endToken),e}(ai(i)))}return ti.get(t)}function li(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];"string"==typeof e&&(e=[e]);var n=e[0];return t.forEach((function(t,i){t&&"Document"===t.kind?n+=t.loc.source.body:n+=t,n+=e[i+1]})),oi(n)}const ci=Object.assign(li,{gql:li,default:li,resetCaches:function(){ti.clear(),ii.clear()},disableFragmentWarnings:function(){ni=!1},enableExperimentalFragmentVariables:function(){si=!0},disableExperimentalFragmentVariables:function(){si=!1}});(0,s.U6)("log");ci.resetCaches,ci.disableFragmentWarnings,ci.enableExperimentalFragmentVariables,ci.disableExperimentalFragmentVariables},72191:()=>{},97222:(e,t,i)=>{"use strict";i.d(t,{i:()=>d});var n=i(23564),s=i(5419),r=i(80496),a=i(84913);function o(e,t){return t?t(e):r.y$.of()}function l(e){return"function"==typeof e?new d(e):e}function c(e){return e.request.length<=1}!function(e){function t(t,i){var n=e.call(this,t)||this;return n.link=i,n}(0,n.ZT)(t,e)}(Error);var d=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return r.y$.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(l).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,i,n){var s=l(i),a=l(n||new e(o));return c(s)&&c(a)?new e((function(e){return t(e)?s.request(e)||r.y$.of():a.request(e)||r.y$.of()})):new e((function(e,i){return t(e)?s.request(e,i)||r.y$.of():a.request(e,i)||r.y$.of()}))},e.execute=function(e,t){return e.request((0,a.zi)(t.context,(0,a.DQ)((0,a.Ak)(t))))||r.y$.of()},e.concat=function(t,i){var n=l(t);if(c(n))return n;var s=l(i);return c(s)?new e((function(e){return n.request(e,(function(e){return s.request(e)||r.y$.of()}))||r.y$.of()})):new e((function(e,t){return n.request(e,(function(e){return s.request(e,t)||r.y$.of()}))||r.y$.of()}))},e.prototype.split=function(t,i,n){return this.concat(e.split(t,i,n||new e(o)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw new s.ej(21)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}()},24957:(e,t,i)=>{"use strict";i(97222).i.concat},67325:(e,t,i)=>{"use strict";i(97222).i.empty},2550:(e,t,i)=>{"use strict";i.d(t,{h:()=>n});var n=i(97222).i.execute},34674:(e,t,i)=>{"use strict";i(97222).i.from},81707:(e,t,i)=>{"use strict";i.d(t,{ht:()=>n.h,i0:()=>s.i});i(67325),i(34674),i(64738),i(24957);var n=i(2550),s=i(97222),r=i(79875);i.o(r,"createHttpLink")&&i.d(t,{createHttpLink:function(){return r.createHttpLink}})},64738:(e,t,i)=>{"use strict";i(97222).i.split},79875:()=>{},84913:(e,t,i)=>{"use strict";i.d(t,{zi:()=>c,Qc:()=>s,PW:()=>a,DQ:()=>d,Ak:()=>o});var n=i(80496);function s(e){return new n.y$((function(t){t.error(e)}))}var r=i(5419);var a=function(e,t,i){var n=new Error(i);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n};function o(e){for(var t=["query","operationName","variables","extensions","context"],i=0,n=Object.keys(e);i<n.length;i++){var s=n[i];if(t.indexOf(s)<0)throw new r.ej(26)}return e}var l=i(23564);function c(e,t){var i=(0,l.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){i="function"==typeof e?(0,l.pi)((0,l.pi)({},i),e(i)):(0,l.pi)((0,l.pi)({},i),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,l.pi)({},i)}}),t}function d(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?(0,n.rY)(t.query)||void 0:""),t}},23564:(e,t,i)=>{"use strict";i.d(t,{ZT:()=>s,pi:()=>r,_T:()=>a,mG:()=>o,Jh:()=>l,pr:()=>c});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function s(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function a(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}function o(e,t,i,n){return new(i||(i=Promise))((function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}l((n=n.apply(e,t||[])).next())}))}function l(e,t){var i,n,s,r,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){a.label=r[1];break}if(6===r[0]&&a.label<s[1]){a.label=s[1],s=r;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(r);break}s[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}function c(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),s=0;for(t=0;t<i;t++)for(var r=arguments[t],a=0,o=r.length;a<o;a++,s++)n[s]=r[a];return n}},80496:(e,t,i)=>{"use strict";i.d(t,{X_:()=>ae,w0:()=>q,y$:()=>Q(),Gw:()=>U,NC:()=>E,sz:()=>ne,aL:()=>V,mr:()=>ce,Xh:()=>J,oA:()=>de,F:()=>d,Dy:()=>se,O4:()=>L,kU:()=>I,hi:()=>u,Yk:()=>c,p$:()=>P,$H:()=>A,rY:()=>w,iW:()=>k,PT:()=>y,qw:()=>T,d2:()=>le,mj:()=>o,FS:()=>a,My:()=>O,Ao:()=>_,Of:()=>oe,hh:()=>f,pM:()=>ie,kQ:()=>m,Jv:()=>te,Ee:()=>z,bw:()=>K,ob:()=>G,Fo:()=>F,u2:()=>S,LZ:()=>r,vf:()=>v});var n=i(27636),s=i(5419);function r(e,t){var i=e.directives;return!i||!i.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var i=e.arguments;e.name.value;(0,s.kG)(i&&1===i.length,39);var n=i[0];(0,s.kG)(n.name&&"if"===n.name.value,40);var r=n.value;(0,s.kG)(r&&("Variable"===r.kind||"BooleanValue"===r.kind),41),t.push({directive:e,ifArgument:n})}}));return t}(i).every((function(e){var i=e.directive,n=e.ifArgument,r=!1;return"Variable"===n.value.kind?(r=t&&t[n.value.name.value],(0,s.kG)(void 0!==r,38)):r=n.value.value,"skip"===i.name.value?!r:r}))}function a(e,t){return function(e){var t=[];return(0,n.Vn)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function o(e){return e&&a(["client"],e)&&a(["export"],e)}var l=i(23564);function c(e,t){var i=t,n=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new s.ej(42);"FragmentDefinition"===e.kind&&n.push(e)})),void 0===i&&((0,s.kG)(1===n.length,43),i=n[0].name.value),(0,l.pi)((0,l.pi)({},e),{definitions:(0,l.pr)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:i}}]}}],e.definitions)})}function d(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function u(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var i=t&&t[e.name.value];return(0,s.kG)(i,44),i;default:return null}}var h=i(35035),p=i.n(h);function m(e){return{__ref:String(e)}}function f(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function g(e,t,i,n){if(function(e){return"IntValue"===e.kind}(i)||function(e){return"FloatValue"===e.kind}(i))e[t.value]=Number(i.value);else if(function(e){return"BooleanValue"===e.kind}(i)||function(e){return"StringValue"===e.kind}(i))e[t.value]=i.value;else if(function(e){return"ObjectValue"===e.kind}(i)){var r={};i.fields.map((function(e){return g(r,e.name,e.value,n)})),e[t.value]=r}else if(function(e){return"Variable"===e.kind}(i)){var a=(n||{})[i.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(i))e[t.value]=i.values.map((function(e){var i={};return g(i,t,e,n),i[t.value]}));else if(function(e){return"EnumValue"===e.kind}(i))e[t.value]=i.value;else{if(!function(e){return"NullValue"===e.kind}(i))throw new s.ej(53);e[t.value]=null}}function v(e,t){var i=null;e.directives&&(i={},e.directives.forEach((function(e){i[e.name.value]={},e.arguments&&e.arguments.forEach((function(n){var s=n.name,r=n.value;return g(i[e.name.value],s,r,t)}))})));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach((function(e){var i=e.name,s=e.value;return g(n,i,s,t)}))),y(e.name.value,n,i)}var b=["connection","include","skip","client","rest","export"];function y(e,t,i){if(t&&i&&i.connection&&i.connection.key){if(i.connection.filter&&i.connection.filter.length>0){var n=i.connection.filter?i.connection.filter:[];n.sort();var s={};return n.forEach((function(e){s[e]=t[e]})),i.connection.key+"("+JSON.stringify(s)+")"}return i.connection.key}var r=e;if(t){var a=p()(t);r+="("+a+")"}return i&&Object.keys(i).forEach((function(e){-1===b.indexOf(e)&&(i[e]&&Object.keys(i[e]).length?r+="@"+e+"("+JSON.stringify(i[e])+")":r+="@"+e)})),r}function E(e,t){if(e.arguments&&e.arguments.length){var i={};return e.arguments.forEach((function(e){var n=e.name,s=e.value;return g(i,n,s,t)})),i}return null}function S(e){return e.alias?e.alias.value:e.name.value}function T(e,t,i){if("string"==typeof e.__typename)return e.__typename;for(var n=0,s=t.selections;n<s.length;n++){var r=s[n];if(O(r)){if("__typename"===r.name.value)return e[S(r)]}else{var a=T(e,u(r,i).selectionSet,i);if("string"==typeof a)return a}}}function O(e){return"Field"===e.kind}function _(e){return"InlineFragment"===e.kind}function N(e){(0,s.kG)(e&&"Document"===e.kind,45);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new s.ej(46);return e}));return(0,s.kG)(t.length<=1,47),e}function A(e){return N(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function w(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function I(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function k(e){var t=A(e);return(0,s.kG)(t&&"query"===t.operation,48),t}function P(e){var t;N(e);for(var i=0,n=e.definitions;i<n.length;i++){var r=n[i];if("OperationDefinition"===r.kind){var a=r.operation;if("query"===a||"mutation"===a||"subscription"===a)return r}"FragmentDefinition"!==r.kind||t||(t=r)}if(t)return t;throw new s.ej(52)}function L(e){var t=Object.create(null),i=e&&e.variableDefinitions;return i&&i.length&&i.forEach((function(e){e.defaultValue&&g(t,e.variable.name,e.defaultValue)})),t}function C(e,t,i){var n=0;return e.forEach((function(i,s){t.call(this,i,s,e)&&(e[n++]=i)}),i),e.length=n,e}var R={kind:"Field",name:{kind:"Name",value:"__typename"}};function D(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&D(t[e.name.value],t)}))}function M(e){return D(A(e)||function(e){(0,s.kG)("Document"===e.kind,49),(0,s.kG)(e.definitions.length<=1,50);var t=e.definitions[0];return(0,s.kG)("FragmentDefinition"===t.kind,51),t}(e),d(I(e)))?null:e}function x(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function j(e,t){var i=Object.create(null),s=[],r=Object.create(null),a=[],o=M((0,n.Vn)(t,{Variable:{enter:function(e,t,n){"VariableDefinition"!==n.kind&&(i[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(x(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&s.push({name:e.value.name.value})})),t.selectionSet&&B(t.selectionSet).forEach((function(e){a.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){r[e.name.value]=!0}},Directive:{enter:function(t){if(x(e)(t))return null}}}));return o&&C(s,(function(e){return!!e.name&&!i[e.name]})).length&&(o=function(e,t){var i=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return M((0,n.Vn)(t,{OperationDefinition:{enter:function(t){return(0,l.pi)((0,l.pi)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var n=0;if(t.arguments&&t.arguments.forEach((function(e){i(e)&&(n+=1)})),1===n)return null}}},Argument:{enter:function(e){if(i(e))return null}}}))}(s,o)),o&&C(a,(function(e){return!!e.name&&!r[e.name]})).length&&(o=function(e,t){function i(t){if(e.some((function(e){return e.name===t.name.value})))return null}return M((0,n.Vn)(t,{FragmentSpread:{enter:i},FragmentDefinition:{enter:i}}))}(a,o)),o}function U(e){return(0,n.Vn)(N(e),{SelectionSet:{enter:function(e,t,i){if(!i||"OperationDefinition"!==i.kind){var n=e.selections;if(n)if(!n.some((function(e){return O(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var s=i;if(!(O(s)&&s.directives&&s.directives.some((function(e){return"export"===e.name.value}))))return(0,l.pi)((0,l.pi)({},e),{selections:(0,l.pr)(n,[R])})}}}}})}U.added=function(e){return e===R};var H={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some((function(e){return"key"===e.name.value}))),t}};function F(e){return j([H],N(e))}function B(e){var t=[];return e.selections.forEach((function(e){(O(e)||_(e))&&e.selectionSet?B(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function V(e){return"query"===P(e).operation?e:(0,n.Vn)(e,{OperationDefinition:{enter:function(e){return(0,l.pi)((0,l.pi)({},e),{operation:"query"})}}})}function G(e){N(e);var t=j([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=(0,n.Vn)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return O(e)&&"__typename"===e.name.value})))return null}}})),t}var W=Object.prototype.hasOwnProperty;function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return K(e)}function K(e){var t=e[0]||{},i=e.length;if(i>1)for(var n=new q,s=1;s<i;++s)t=n.merge(t,e[s]);return t}function Y(e){return null!==e&&"object"==typeof e}var $=function(e,t,i){return this.merge(e[i],t[i])},q=function(){function e(e){void 0===e&&(e=$),this.reconciler=e,this.isObject=Y,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var i=this,n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];return Y(t)&&Y(e)?(Object.keys(t).forEach((function(s){if(W.call(e,s)){var r=e[s];if(t[s]!==r){var a=i.reconciler.apply(i,(0,l.pr)([e,t,s],n));a!==r&&((e=i.shallowCopyForMerge(e))[s]=a)}}else(e=i.shallowCopyForMerge(e))[s]=t[s]})),e):t},e.prototype.shallowCopyForMerge=function(e){return Y(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):(0,l.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}();var Z=i(49329),Q=i.n(Z);i(67121);Q().prototype["@@observable"]=function(){return this};var X=Object.prototype.toString;function J(e){return ee(e)}function ee(e,t){switch(X.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var i=e.slice(0);return t.set(e,i),i.forEach((function(e,n){i[n]=ee(e,t)})),i;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));return t.set(e,n),Object.keys(e).forEach((function(i){n[i]=ee(e[i],t)})),n;default:return e}}function te(e){return e}function ie(e,t,i){var n=[];e.forEach((function(e){return e[t]&&n.push(e)})),n.forEach((function(e){return e[t](i)}))}function ne(e,t,i){return new(Q())((function(n){var s=n.next,r=n.error,a=n.complete,o=0,l=!1;function c(e,t){return e?function(t){++o,new Promise((function(i){return i(e(t))})).then((function(e){--o,s&&s.call(n,e),l&&d.complete()}),(function(e){--o,r&&r.call(n,e)}))}:function(e){return t&&t.call(n,e)}}var d={next:c(t,s),error:c(i,r),complete:function(){l=!0,o||a&&a.call(n)}},u=e.subscribe(d);return function(){return u.unsubscribe()}}))}function se(e){function t(t){Object.defineProperty(e,t,{value:Q()})}return"function"==typeof Symbol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function re(e){return e&&"function"==typeof e.then}var ae=function(e){function t(t){var i=e.call(this,(function(e){return i.addObserver(e),function(){return i.removeObserver(e)}}))||this;return i.observers=new Set,i.addCount=0,i.promise=new Promise((function(e,t){i.resolve=e,i.reject=t})),i.handlers={next:function(e){null!==i.sub&&(i.latest=["next",e],ie(i.observers,"next",e))},error:function(e){var t=i.sub;null!==t&&(t&&Promise.resolve().then((function(){return t.unsubscribe()})),i.sub=null,i.latest=["error",e],i.reject(e),ie(i.observers,"error",e))},complete:function(){if(null!==i.sub){var e=i.sources.shift();e?re(e)?e.then((function(e){return i.sub=e.subscribe(i.handlers)})):i.sub=e.subscribe(i.handlers):(i.sub=null,i.latest&&"next"===i.latest[0]?i.resolve(i.latest[1]):i.resolve(),ie(i.observers,"complete"))}}},i.cancel=function(e){i.reject(e),i.sources=[],i.handlers.complete()},i.promise.catch((function(e){})),"function"==typeof t&&(t=[new(Q())(t)]),re(t)?t.then((function(e){return i.start(e)}),i.handlers.error):i.start(t),i}return(0,l.ZT)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],i=e[t];i&&i.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,i=!1,n=function(){i||(i=!0,t.observers.delete(s),e())},s={next:n,error:n,complete:n},r=this.addCount;this.addObserver(s),this.addCount=r},t}(Q());function oe(e){return Array.isArray(e)&&e.length>0}function le(e){return e.errors&&e.errors.length>0||!1}se(ae);var ce="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product);function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(i[t]=n)}))})),i}},85925:(e,t,i)=>{"use strict";i(54443)},38772:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m,A:()=>f});var n=i(67294),s=i(37262);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=p(e);if(t){var s=p(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return h(this,i)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=g(e,E));e.prototype.shouldComponentUpdate=b}function f(e){if(!e.prototype||!e.prototype.render)return e.__scuWrap||(e.__scuWrap=g(e,s.NK));e.prototype.shouldComponentUpdate=y}function g(e,t){var i=function(e){c(i,e);var t=u(i);function i(){return l(this,i),t.apply(this,arguments)}return o(i)}(v);return i.prototype.renderChild=e,i.prototype.diffFunc=t,i}var v=function(e){c(i,e);var t=u(i);function i(){return l(this,i),t.apply(this,arguments)}return o(i,[{key:"shouldComponentUpdate",value:function(e){return this.diffFunc(e,this.props)}},{key:"render",value:function(){return this.renderChild(this.props,this.context)}}]),i}(n.Component);function b(e,t){return E(e,this.props)||E(t,this.state)}function y(e,t){return E(e,this.props)||(0,s.NK)(t,this.state)}function E(e,t){for(var i in e)if(e[i]!==t[i])return!0;for(var n in t)if(!(n in e))return!0;return!1}},49627:(e,t,i)=>{"use strict";i.d(t,{h4:()=>p,OR:()=>r,_:()=>l,Fx:()=>g,rf:()=>d,iP:()=>y});var n=i(67294);const s="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;const r=function(e,t,i){var r=(0,n.useRef)(t);s((function(){r.current=t}),[t]),(0,n.useEffect)((function(){var t=(null==i?void 0:i.current)||window;if(t&&t.addEventListener){var n=function(e){return r.current(e)};return t.addEventListener(e,n),function(){t.removeEventListener(e,n)}}}),[e,i])};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,s,r=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw s}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}const l=function(e,t){var i=(0,n.useCallback)((function(){if("undefined"==typeof window)return t;try{var i=window.localStorage.getItem(e);return i?function(e){try{return"undefined"===e?void 0:JSON.parse(null!=e?e:"")}catch(t){return void console.log("parsing error on",{value:e})}}(i):t}catch(i){return console.warn("Error reading localStorage key “".concat(e,"”:"),i),t}}),[t,e]),s=a((0,n.useState)(i),2),o=s[0],l=s[1],c=(0,n.useCallback)((function(t){"undefined"==typeof window&&console.warn("Tried setting localStorage key “".concat(e,"” even though environment is not a client"));try{var i=t instanceof Function?t(o):t;window.localStorage.setItem(e,JSON.stringify(i)),l(i),window.dispatchEvent(new Event("local-storage"))}catch(t){console.warn("Error setting localStorage key “".concat(e,"”:"),t)}}),[e,o]);(0,n.useEffect)((function(){l(i())}),[]);var d=(0,n.useCallback)((function(){l(i())}),[i]);return r("storage",d),r("local-storage",d),[o,c]};const c=function(){var e=(0,n.useRef)(!0);return e.current?(e.current=!1,!0):e.current};const d=function(e,t){var i=c();(0,n.useEffect)((function(){if(!i)return e()}),t)};function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,s,r=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw s}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}const p=function(){var e=u((0,n.useState)(null),2),t=e[0],i=e[1],a=u((0,n.useState)({width:0,height:0}),2),o=a[0],l=a[1],c=(0,n.useCallback)((function(){l({width:(null==t?void 0:t.offsetWidth)||0,height:(null==t?void 0:t.offsetHeight)||0})}),[null==t?void 0:t.offsetHeight,null==t?void 0:t.offsetWidth]);return r("resize",c),s((function(){c()}),[null==t?void 0:t.offsetHeight,null==t?void 0:t.offsetWidth]),[i,o]};function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,s,r=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw s}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}const g=function(e){var t=(0,n.useCallback)((function(){if("undefined"==typeof window)return null;try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Error reading localStorage key “".concat(e,"”:"),t),null}}),[e]),i=m((0,n.useState)(t),2),s=i[0],a=i[1];(0,n.useEffect)((function(){a(t())}),[]);var o=(0,n.useCallback)((function(){a(t())}),[t]);return r("storage",o),r("local-storage",o),s};function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var n,s,r=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw s}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}const y=function(){var e=v((0,n.useState)({width:0,height:0}),2),t=e[0],i=e[1],a=function(){i({width:window.innerWidth,height:window.innerHeight})};return r("resize",a),s((function(){a()}),[]),t}},21924:(e,t,i)=>{"use strict";var n=i(10492),s=i(55559),r=s(n("String.prototype.indexOf"));e.exports=function(e,t){var i=n(e,!!t);return"function"==typeof i&&r(e,".prototype.")>-1?s(i):i}},55559:(e,t,i)=>{"use strict";var n=i(58612),s=i(10492),r=s("%Function.prototype.apply%"),a=s("%Function.prototype.call%"),o=s("%Reflect.apply%",!0)||n.call(a,r),l=s("%Object.getOwnPropertyDescriptor%",!0),c=s("%Object.defineProperty%",!0),d=s("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=o(n,a,arguments);if(l&&c){var i=l(t,"length");i.configurable&&c(t,"length",{value:1+d(0,e.length-(arguments.length-1))})}return t};var u=function(){return o(n,r,arguments)};c?c(e.exports,"apply",{value:u}):e.exports.apply=u},10492:(e,t,i)=>{"use strict";var n,s=SyntaxError,r=Function,a=TypeError,o=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},d=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,u=i(41405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p=o("async function* () {}"),m=p?p.prototype:n,f=m?m.prototype:n,g="undefined"==typeof Uint8Array?n:h(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":o("async function () {}"),"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":f?h(f):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":o("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":d,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=i(58612),E=i(17642),S=y.call(Function.call,Array.prototype.concat),T=y.call(Function.apply,Array.prototype.splice),O=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,w=function(e){var t=_(e,0,1),i=_(e,-1);if("%"===t&&"%"!==i)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return O(e,N,(function(e,t,i,s){n[n.length]=i?O(s,A,"$1"):t||e})),n},I=function(e,t){var i,n=e;if(E(b,n)&&(n="%"+(i=b[n])[0]+"%"),E(v,n)){var r=v[n];if(void 0===r&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:r}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var i=w(e),n=i.length>0?i[0]:"",r=I("%"+n+"%",t),o=r.name,c=r.value,d=!1,u=r.alias;u&&(n=u[0],T(i,S([0,1],u)));for(var h=1,p=!0;h<i.length;h+=1){var m=i[h],f=_(m,0,1),g=_(m,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new s("property names with quotes must have matching quotes");if("constructor"!==m&&p||(d=!0),E(v,o="%"+(n+="."+m)+"%"))c=v[o];else if(null!=c){if(!(m in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=i.length){var b=l(c,m);c=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[m]}else p=E(c,m),c=c[m];p&&!d&&(v[o]=c)}}return c}},94184:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)){if(i.length){var a=s.apply(null,i);a&&e.push(a)}}else if("object"===r)if(i.toString===Object.prototype.toString)for(var o in i)n.call(i,o)&&i[o]&&e.push(o);else e.push(i.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(i=function(){return s}.apply(t,[]))||(e.exports=i)}()},5220:(e,t,i)=>{var n=i(8492);e.exports=n},1939:(e,t,i)=>{var n=i(5220);e.exports=n},19662:(e,t,i)=>{var n=i(17854),s=i(60614),r=i(66330),a=n.TypeError;e.exports=function(e){if(s(e))return e;throw a(r(e)+" is not a function")}},96077:(e,t,i)=>{var n=i(17854),s=i(60614),r=n.String,a=n.TypeError;e.exports=function(e){if("object"==typeof e||s(e))return e;throw a("Can't set "+r(e)+" as a prototype")}},51223:(e,t,i)=>{var n=i(5112),s=i(70030),r=i(3070),a=n("unscopables"),o=Array.prototype;null==o[a]&&r.f(o,a,{configurable:!0,value:s(null)}),e.exports=function(e){o[a][e]=!0}},25787:(e,t,i)=>{var n=i(17854),s=i(47976),r=n.TypeError;e.exports=function(e,t){if(s(t,e))return e;throw r("Incorrect invocation")}},19670:(e,t,i)=>{var n=i(17854),s=i(70111),r=n.String,a=n.TypeError;e.exports=function(e){if(s(e))return e;throw a(r(e)+" is not an object")}},41318:(e,t,i)=>{var n=i(45656),s=i(51400),r=i(26244),a=function(e){return function(t,i,a){var o,l=n(t),c=r(l),d=s(a,c);if(e&&i!=i){for(;c>d;)if((o=l[d++])!=o)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},41589:(e,t,i)=>{var n=i(17854),s=i(51400),r=i(26244),a=i(86135),o=n.Array,l=Math.max;e.exports=function(e,t,i){for(var n=r(e),c=s(t,n),d=s(void 0===i?n:i,n),u=o(l(d-c,0)),h=0;c<d;c++,h++)a(u,h,e[c]);return u.length=h,u}},94362:(e,t,i)=>{var n=i(41589),s=Math.floor,r=function(e,t){var i=e.length,l=s(i/2);return i<8?a(e,t):o(e,r(n(e,0,l),t),r(n(e,l),t),t)},a=function(e,t){for(var i,n,s=e.length,r=1;r<s;){for(n=r,i=e[r];n&&t(e[n-1],i)>0;)e[n]=e[--n];n!==r++&&(e[n]=i)}return e},o=function(e,t,i,n){for(var s=t.length,r=i.length,a=0,o=0;a<s||o<r;)e[a+o]=a<s&&o<r?n(t[a],i[o])<=0?t[a++]:i[o++]:a<s?t[a++]:i[o++];return e};e.exports=r},84326:(e,t,i)=>{var n=i(1702),s=n({}.toString),r=n("".slice);e.exports=function(e){return r(s(e),8,-1)}},70648:(e,t,i)=>{var n=i(17854),s=i(51694),r=i(60614),a=i(84326),o=i(5112)("toStringTag"),l=n.Object,c="Arguments"==a(function(){return arguments}());e.exports=s?a:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=l(e),o))?i:c?a(t):"Object"==(n=a(t))&&r(t.callee)?"Arguments":n}},99920:(e,t,i)=>{var n=i(92597),s=i(53887),r=i(31236),a=i(3070);e.exports=function(e,t,i){for(var o=s(t),l=a.f,c=r.f,d=0;d<o.length;d++){var u=o[d];n(e,u)||i&&n(i,u)||l(e,u,c(t,u))}}},49920:(e,t,i)=>{var n=i(47293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},24994:(e,t,i)=>{"use strict";var n=i(13383).IteratorPrototype,s=i(70030),r=i(79114),a=i(58003),o=i(97497),l=function(){return this};e.exports=function(e,t,i,c){var d=t+" Iterator";return e.prototype=s(n,{next:r(+!c,i)}),a(e,d,!1,!0),o[d]=l,e}},68880:(e,t,i)=>{var n=i(19781),s=i(3070),r=i(79114);e.exports=n?function(e,t,i){return s.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},79114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},86135:(e,t,i)=>{"use strict";var n=i(34948),s=i(3070),r=i(79114);e.exports=function(e,t,i){var a=n(t);a in e?s.f(e,a,r(0,i)):e[a]=i}},70654:(e,t,i)=>{"use strict";var n=i(82109),s=i(46916),r=i(31913),a=i(76530),o=i(60614),l=i(24994),c=i(79518),d=i(27674),u=i(58003),h=i(68880),p=i(31320),m=i(5112),f=i(97497),g=i(13383),v=a.PROPER,b=a.CONFIGURABLE,y=g.IteratorPrototype,E=g.BUGGY_SAFARI_ITERATORS,S=m("iterator"),T="keys",O="values",_="entries",N=function(){return this};e.exports=function(e,t,i,a,m,g,A){l(i,t,a);var w,I,k,P=function(e){if(e===m&&M)return M;if(!E&&e in R)return R[e];switch(e){case T:case O:case _:return function(){return new i(this,e)}}return function(){return new i(this)}},L=t+" Iterator",C=!1,R=e.prototype,D=R[S]||R["@@iterator"]||m&&R[m],M=!E&&D||P(m),x="Array"==t&&R.entries||D;if(x&&(w=c(x.call(new e)))!==Object.prototype&&w.next&&(r||c(w)===y||(d?d(w,y):o(w[S])||p(w,S,N)),u(w,L,!0,!0),r&&(f[L]=N)),v&&m==O&&D&&D.name!==O&&(!r&&b?h(R,"name",O):(C=!0,M=function(){return s(D,this)})),m)if(I={values:P(O),keys:g?M:P(T),entries:P(_)},A)for(k in I)(E||C||!(k in R))&&p(R,k,I[k]);else n({target:t,proto:!0,forced:E||C},I);return r&&!A||R[S]===M||p(R,S,M,{name:m}),f[t]=M,I}},19781:(e,t,i)=>{var n=i(47293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},80317:(e,t,i)=>{var n=i(17854),s=i(70111),r=n.document,a=s(r)&&s(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},48324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:(e,t,i)=>{var n=i(80317)("span").classList,s=n&&n.constructor&&n.constructor.prototype;e.exports=s===Object.prototype?void 0:s},88113:(e,t,i)=>{var n=i(35005);e.exports=n("navigator","userAgent")||""},7392:(e,t,i)=>{var n,s,r=i(17854),a=i(88113),o=r.process,l=r.Deno,c=o&&o.versions||l&&l.version,d=c&&c.v8;d&&(s=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!s&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(s=+n[1]),e.exports=s},80748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:(e,t,i)=>{var n=i(17854),s=i(31236).f,r=i(68880),a=i(31320),o=i(83505),l=i(99920),c=i(54705);e.exports=function(e,t){var i,d,u,h,p,m=e.target,f=e.global,g=e.stat;if(i=f?n:g?n[m]||o(m,{}):(n[m]||{}).prototype)for(d in t){if(h=t[d],u=e.noTargetGet?(p=s(i,d))&&p.value:i[d],!c(f?d:m+(g?".":"#")+d,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;l(h,u)}(e.sham||u&&u.sham)&&r(h,"sham",!0),a(i,d,h,e)}}},47293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},49974:(e,t,i)=>{var n=i(1702),s=i(19662),r=n(n.bind);e.exports=function(e,t){return s(e),void 0===t?e:r?r(e,t):function(){return e.apply(t,arguments)}}},46916:e=>{var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},76530:(e,t,i)=>{var n=i(19781),s=i(92597),r=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,o=s(r,"name"),l=o&&"something"===function(){}.name,c=o&&(!n||n&&a(r,"name").configurable);e.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},1702:e=>{var t=Function.prototype,i=t.bind,n=t.call,s=i&&i.bind(n,n);e.exports=i?function(e){return e&&s(e)}:function(e){return e&&function(){return n.apply(e,arguments)}}},35005:(e,t,i)=>{var n=i(17854),s=i(60614),r=function(e){return s(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(n[e]):n[e]&&n[e][t]}},71246:(e,t,i)=>{var n=i(70648),s=i(58173),r=i(97497),a=i(5112)("iterator");e.exports=function(e){if(null!=e)return s(e,a)||s(e,"@@iterator")||r[n(e)]}},18554:(e,t,i)=>{var n=i(17854),s=i(46916),r=i(19662),a=i(19670),o=i(66330),l=i(71246),c=n.TypeError;e.exports=function(e,t){var i=arguments.length<2?l(e):t;if(r(i))return a(s(i,e));throw c(o(e)+" is not iterable")}},58173:(e,t,i)=>{var n=i(19662);e.exports=function(e,t){var i=e[t];return null==i?void 0:n(i)}},17854:(e,t,i)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},92597:(e,t,i)=>{var n=i(1702),s=i(47908),r=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(s(e),t)}},3501:e=>{e.exports={}},60490:(e,t,i)=>{var n=i(35005);e.exports=n("document","documentElement")},64664:(e,t,i)=>{var n=i(19781),s=i(47293),r=i(80317);e.exports=!n&&!s((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},68361:(e,t,i)=>{var n=i(17854),s=i(1702),r=i(47293),a=i(84326),o=n.Object,l=s("".split);e.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?l(e,""):o(e)}:o},42788:(e,t,i)=>{var n=i(1702),s=i(60614),r=i(5465),a=n(Function.toString);s(r.inspectSource)||(r.inspectSource=function(e){return a(e)}),e.exports=r.inspectSource},29909:(e,t,i)=>{var n,s,r,a=i(68536),o=i(17854),l=i(1702),c=i(70111),d=i(68880),u=i(92597),h=i(5465),p=i(6200),m=i(3501),f="Object already initialized",g=o.TypeError,v=o.WeakMap;if(a||h.state){var b=h.state||(h.state=new v),y=l(b.get),E=l(b.has),S=l(b.set);n=function(e,t){if(E(b,e))throw new g(f);return t.facade=e,S(b,e,t),t},s=function(e){return y(b,e)||{}},r=function(e){return E(b,e)}}else{var T=p("state");m[T]=!0,n=function(e,t){if(u(e,T))throw new g(f);return t.facade=e,d(e,T,t),t},s=function(e){return u(e,T)?e[T]:{}},r=function(e){return u(e,T)}}e.exports={set:n,get:s,has:r,enforce:function(e){return r(e)?s(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!c(t)||(i=s(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return i}}}},60614:e=>{e.exports=function(e){return"function"==typeof e}},54705:(e,t,i)=>{var n=i(47293),s=i(60614),r=/#|\.prototype\./,a=function(e,t){var i=l[o(e)];return i==d||i!=c&&(s(t)?n(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",d=a.POLYFILL="P";e.exports=a},70111:(e,t,i)=>{var n=i(60614);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},31913:e=>{e.exports=!1},52190:(e,t,i)=>{var n=i(17854),s=i(35005),r=i(60614),a=i(47976),o=i(43307),l=n.Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=s("Symbol");return r(t)&&a(t.prototype,l(e))}},13383:(e,t,i)=>{"use strict";var n,s,r,a=i(47293),o=i(60614),l=i(70030),c=i(79518),d=i(31320),u=i(5112),h=i(31913),p=u("iterator"),m=!1;[].keys&&("next"in(r=[].keys())?(s=c(c(r)))!==Object.prototype&&(n=s):m=!0),null==n||a((function(){var e={};return n[p].call(e)!==e}))?n={}:h&&(n=l(n)),o(n[p])||d(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},97497:e=>{e.exports={}},26244:(e,t,i)=>{var n=i(17466);e.exports=function(e){return n(e.length)}},30133:(e,t,i)=>{var n=i(7392),s=i(47293);e.exports=!!Object.getOwnPropertySymbols&&!s((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},590:(e,t,i)=>{var n=i(47293),s=i(5112),r=i(31913),a=s("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,i="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),i+=n+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},68536:(e,t,i)=>{var n=i(17854),s=i(60614),r=i(42788),a=n.WeakMap;e.exports=s(a)&&/native code/.test(r(a))},70030:(e,t,i)=>{var n,s=i(19670),r=i(36048),a=i(80748),o=i(3501),l=i(60490),c=i(80317),d=i(6200),u=d("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"</"+"script>"},m=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&n?m(n):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):m(n);for(var i=a.length;i--;)delete f.prototype[a[i]];return f()};o[u]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(h.prototype=s(e),i=new h,h.prototype=null,i[u]=e):i=f(),void 0===t?i:r.f(i,t)}},36048:(e,t,i)=>{var n=i(19781),s=i(3353),r=i(3070),a=i(19670),o=i(45656),l=i(81956);t.f=n&&!s?Object.defineProperties:function(e,t){a(e);for(var i,n=o(t),s=l(t),c=s.length,d=0;c>d;)r.f(e,i=s[d++],n[i]);return e}},3070:(e,t,i)=>{var n=i(17854),s=i(19781),r=i(64664),a=i(3353),o=i(19670),l=i(34948),c=n.TypeError,d=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",m="writable";t.f=s?a?function(e,t,i){if(o(e),t=l(t),o(i),"function"==typeof e&&"prototype"===t&&"value"in i&&m in i&&!i.writable){var n=u(e,t);n&&n.writable&&(e[t]=i.value,i={configurable:p in i?i.configurable:n.configurable,enumerable:h in i?i.enumerable:n.enumerable,writable:!1})}return d(e,t,i)}:d:function(e,t,i){if(o(e),t=l(t),o(i),r)try{return d(e,t,i)}catch(e){}if("get"in i||"set"in i)throw c("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},31236:(e,t,i)=>{var n=i(19781),s=i(46916),r=i(55296),a=i(79114),o=i(45656),l=i(34948),c=i(92597),d=i(64664),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=o(e),t=l(t),d)try{return u(e,t)}catch(e){}if(c(e,t))return a(!s(r.f,e,t),e[t])}},8006:(e,t,i)=>{var n=i(16324),s=i(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},25181:(e,t)=>{t.f=Object.getOwnPropertySymbols},79518:(e,t,i)=>{var n=i(17854),s=i(92597),r=i(60614),a=i(47908),o=i(6200),l=i(49920),c=o("IE_PROTO"),d=n.Object,u=d.prototype;e.exports=l?d.getPrototypeOf:function(e){var t=a(e);if(s(t,c))return t[c];var i=t.constructor;return r(i)&&t instanceof i?i.prototype:t instanceof d?u:null}},47976:(e,t,i)=>{var n=i(1702);e.exports=n({}.isPrototypeOf)},16324:(e,t,i)=>{var n=i(1702),s=i(92597),r=i(45656),a=i(41318).indexOf,o=i(3501),l=n([].push);e.exports=function(e,t){var i,n=r(e),c=0,d=[];for(i in n)!s(o,i)&&s(n,i)&&l(d,i);for(;t.length>c;)s(n,i=t[c++])&&(~a(d,i)||l(d,i));return d}},81956:(e,t,i)=>{var n=i(16324),s=i(80748);e.exports=Object.keys||function(e){return n(e,s)}},55296:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!i.call({1:2},1);t.f=s?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},27674:(e,t,i)=>{var n=i(1702),s=i(19670),r=i(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return s(i),r(n),t?e(i,n):i.__proto__=n,i}}():void 0)},92140:(e,t,i)=>{var n=i(17854),s=i(46916),r=i(60614),a=i(70111),o=n.TypeError;e.exports=function(e,t){var i,n;if("string"===t&&r(i=e.toString)&&!a(n=s(i,e)))return n;if(r(i=e.valueOf)&&!a(n=s(i,e)))return n;if("string"!==t&&r(i=e.toString)&&!a(n=s(i,e)))return n;throw o("Can't convert object to primitive value")}},53887:(e,t,i)=>{var n=i(35005),s=i(1702),r=i(8006),a=i(25181),o=i(19670),l=s([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(o(e)),i=a.f;return i?l(t,i(e)):t}},40857:(e,t,i)=>{var n=i(17854);e.exports=n},12248:(e,t,i)=>{var n=i(31320);e.exports=function(e,t,i){for(var s in t)n(e,s,t[s],i);return e}},31320:(e,t,i)=>{var n=i(17854),s=i(60614),r=i(92597),a=i(68880),o=i(83505),l=i(42788),c=i(29909),d=i(76530).CONFIGURABLE,u=c.get,h=c.enforce,p=String(String).split("String");(e.exports=function(e,t,i,l){var c,u=!!l&&!!l.unsafe,m=!!l&&!!l.enumerable,f=!!l&&!!l.noTargetGet,g=l&&void 0!==l.name?l.name:t;s(i)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!r(i,"name")||d&&i.name!==g)&&a(i,"name",g),(c=h(i)).source||(c.source=p.join("string"==typeof g?g:""))),e!==n?(u?!f&&e[t]&&(m=!0):delete e[t],m?e[t]=i:a(e,t,i)):m?e[t]=i:o(t,i)})(Function.prototype,"toString",(function(){return s(this)&&u(this).source||l(this)}))},84488:(e,t,i)=>{var n=i(17854).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},83505:(e,t,i)=>{var n=i(17854),s=Object.defineProperty;e.exports=function(e,t){try{s(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},58003:(e,t,i)=>{var n=i(3070).f,s=i(92597),r=i(5112)("toStringTag");e.exports=function(e,t,i){e&&!i&&(e=e.prototype),e&&!s(e,r)&&n(e,r,{configurable:!0,value:t})}},6200:(e,t,i)=>{var n=i(72309),s=i(69711),r=n("keys");e.exports=function(e){return r[e]||(r[e]=s(e))}},5465:(e,t,i)=>{var n=i(17854),s=i(83505),r="__core-js_shared__",a=n[r]||s(r,{});e.exports=a},72309:(e,t,i)=>{var n=i(31913),s=i(5465);(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.2",mode:n?"pure":"global",copyright:"© 2022 Denis Pushkarev (zloirock.ru)"})},51400:(e,t,i)=>{var n=i(19303),s=Math.max,r=Math.min;e.exports=function(e,t){var i=n(e);return i<0?s(i+t,0):r(i,t)}},45656:(e,t,i)=>{var n=i(68361),s=i(84488);e.exports=function(e){return n(s(e))}},19303:e=>{var t=Math.ceil,i=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?i:t)(n)}},17466:(e,t,i)=>{var n=i(19303),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},47908:(e,t,i)=>{var n=i(17854),s=i(84488),r=n.Object;e.exports=function(e){return r(s(e))}},57593:(e,t,i)=>{var n=i(17854),s=i(46916),r=i(70111),a=i(52190),o=i(58173),l=i(92140),c=i(5112),d=n.TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var i,n=o(e,u);if(n){if(void 0===t&&(t="default"),i=s(n,e,t),!r(i)||a(i))return i;throw d("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},34948:(e,t,i)=>{var n=i(57593),s=i(52190);e.exports=function(e){var t=n(e,"string");return s(t)?t:t+""}},51694:(e,t,i)=>{var n={};n[i(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},41340:(e,t,i)=>{var n=i(17854),s=i(70648),r=n.String;e.exports=function(e){if("Symbol"===s(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},66330:(e,t,i)=>{var n=i(17854).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},69711:(e,t,i)=>{var n=i(1702),s=0,r=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++s+r,36)}},43307:(e,t,i)=>{var n=i(30133);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,i)=>{var n=i(19781),s=i(47293);e.exports=n&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:(e,t,i)=>{var n=i(17854),s=i(72309),r=i(92597),a=i(69711),o=i(30133),l=i(43307),c=s("wks"),d=n.Symbol,u=d&&d.for,h=l?d:d&&d.withoutSetter||a;e.exports=function(e){if(!r(c,e)||!o&&"string"!=typeof c[e]){var t="Symbol."+e;o&&r(d,e)?c[e]=d[e]:c[e]=l&&u?u(t):h(t)}return c[e]}},66992:(e,t,i)=>{"use strict";var n=i(45656),s=i(51223),r=i(97497),a=i(29909),o=i(3070).f,l=i(70654),c=i(31913),d=i(19781),u="Array Iterator",h=a.set,p=a.getterFor(u);e.exports=l(Array,"Array",(function(e,t){h(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var m=r.Arguments=r.Array;if(s("keys"),s("values"),s("entries"),!c&&d&&"values"!==m.name)try{o(m,"name",{value:"values"})}catch(e){}},33948:(e,t,i)=>{var n=i(17854),s=i(48324),r=i(98509),a=i(66992),o=i(68880),l=i(5112),c=l("iterator"),d=l("toStringTag"),u=a.values,h=function(e,t){if(e){if(e[c]!==u)try{o(e,c,u)}catch(t){e[c]=u}if(e[d]||o(e,d,t),s[t])for(var i in a)if(e[i]!==a[i])try{o(e,i,a[i])}catch(t){e[i]=a[i]}}};for(var p in s)h(n[p]&&n[p].prototype,p);h(r,"DOMTokenList")},41637:(e,t,i)=>{"use strict";i(66992);var n=i(82109),s=i(17854),r=i(35005),a=i(46916),o=i(1702),l=i(590),c=i(31320),d=i(12248),u=i(58003),h=i(24994),p=i(29909),m=i(25787),f=i(60614),g=i(92597),v=i(49974),b=i(70648),y=i(19670),E=i(70111),S=i(41340),T=i(70030),O=i(79114),_=i(18554),N=i(71246),A=i(5112),w=i(94362),I=A("iterator"),k="URLSearchParams",P="URLSearchParamsIterator",L=p.set,C=p.getterFor(k),R=p.getterFor(P),D=r("fetch"),M=r("Request"),x=r("Headers"),j=M&&M.prototype,U=x&&x.prototype,H=s.RegExp,F=s.TypeError,B=s.decodeURIComponent,V=s.encodeURIComponent,G=o("".charAt),W=o([].join),z=o([].push),K=o("".replace),Y=o([].shift),$=o([].splice),q=o("".split),Z=o("".slice),Q=/\+/g,X=Array(4),J=function(e){return X[e-1]||(X[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},ee=function(e){try{return B(e)}catch(t){return e}},te=function(e){var t=K(e,Q," "),i=4;try{return B(t)}catch(e){for(;i;)t=K(t,J(i--),ee);return t}},ie=/[!'()~]|%20/g,ne={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ne[e]},re=function(e){return K(V(e),ie,se)},ae=function(e,t){if(e<t)throw F("Not enough arguments")},oe=h((function(e,t){L(this,{type:P,iterator:_(C(e).entries),kind:t})}),"Iterator",(function(){var e=R(this),t=e.kind,i=e.iterator.next(),n=i.value;return i.done||(i.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),i}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?Z(e,1):e:S(e)))};le.prototype={type:k,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,i,n,s,r,o,l,c=N(e);if(c)for(i=(t=_(e,c)).next;!(n=a(i,t)).done;){if(r=(s=_(y(n.value))).next,(o=a(r,s)).done||(l=a(r,s)).done||!a(r,s).done)throw F("Expected sequence with length 2");z(this.entries,{key:S(o.value),value:S(l.value)})}else for(var d in e)g(e,d)&&z(this.entries,{key:d,value:S(e[d])})},parseQuery:function(e){if(e)for(var t,i,n=q(e,"&"),s=0;s<n.length;)(t=n[s++]).length&&(i=q(t,"="),z(this.entries,{key:te(Y(i)),value:te(W(i,"="))}))},serialize:function(){for(var e,t=this.entries,i=[],n=0;n<t.length;)e=t[n++],z(i,re(e.key)+"="+re(e.value));return W(i,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ce=function(){m(this,de);var e=arguments.length>0?arguments[0]:void 0;L(this,new le(e))},de=ce.prototype;if(d(de,{append:function(e,t){ae(arguments.length,2);var i=C(this);z(i.entries,{key:S(e),value:S(t)}),i.updateURL()},delete:function(e){ae(arguments.length,1);for(var t=C(this),i=t.entries,n=S(e),s=0;s<i.length;)i[s].key===n?$(i,s,1):s++;t.updateURL()},get:function(e){ae(arguments.length,1);for(var t=C(this).entries,i=S(e),n=0;n<t.length;n++)if(t[n].key===i)return t[n].value;return null},getAll:function(e){ae(arguments.length,1);for(var t=C(this).entries,i=S(e),n=[],s=0;s<t.length;s++)t[s].key===i&&z(n,t[s].value);return n},has:function(e){ae(arguments.length,1);for(var t=C(this).entries,i=S(e),n=0;n<t.length;)if(t[n++].key===i)return!0;return!1},set:function(e,t){ae(arguments.length,1);for(var i,n=C(this),s=n.entries,r=!1,a=S(e),o=S(t),l=0;l<s.length;l++)(i=s[l]).key===a&&(r?$(s,l--,1):(r=!0,i.value=o));r||z(s,{key:a,value:o}),n.updateURL()},sort:function(){var e=C(this);w(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,i=C(this).entries,n=v(e,arguments.length>1?arguments[1]:void 0),s=0;s<i.length;)n((t=i[s++]).value,t.key,this)},keys:function(){return new oe(this,"keys")},values:function(){return new oe(this,"values")},entries:function(){return new oe(this,"entries")}},{enumerable:!0}),c(de,I,de.entries,{name:"entries"}),c(de,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),u(ce,k),n({global:!0,forced:!l},{URLSearchParams:ce}),!l&&f(x)){var ue=o(U.has),he=o(U.set),pe=function(e){if(E(e)){var t,i=e.body;if(b(i)===k)return t=e.headers?new x(e.headers):new x,ue(t,"content-type")||he(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(e,{body:O(0,S(i)),headers:O(0,t)})}return e};if(f(D)&&n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return D(e,arguments.length>1?pe(arguments[1]):{})}}),f(M)){var me=function(e){return m(this,j),new M(e,arguments.length>1?pe(arguments[1]):{})};j.constructor=me,me.prototype=j,n({global:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:ce,getState:C}},8492:(e,t,i)=>{var n=i(98504);i(33948),e.exports=n},98504:(e,t,i)=>{i(41637);var n=i(40857);e.exports=n.URLSearchParams},4289:(e,t,i)=>{"use strict";var n=i(82215),s="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),r=Object.prototype.toString,a=Array.prototype.concat,o=Object.defineProperty,l=o&&function(){var e={};try{for(var t in o(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,i,n){var s;(!(t in e)||"function"==typeof(s=n)&&"[object Function]"===r.call(s)&&n())&&(l?o(e,t,{configurable:!0,enumerable:!1,value:i,writable:!0}):e[t]=i)},d=function(e,t){var i=arguments.length>2?arguments[2]:{},r=n(t);s&&(r=a.call(r,Object.getOwnPropertySymbols(t)));for(var o=0;o<r.length;o+=1)c(e,r[o],t[r[o]],i[r[o]])};d.supportsDescriptors=!!l,e.exports=d},35035:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var i,n="boolean"==typeof t.cycles&&t.cycles,s=t.cmp&&(i=t.cmp,function(e){return function(t,n){var s={key:t,value:e[t]},r={key:n,value:e[n]};return i(s,r)}}),r=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var i,a;if(Array.isArray(t)){for(a="[",i=0;i<t.length;i++)i&&(a+=","),a+=e(t[i])||"null";return a+"]"}if(null===t)return"null";if(-1!==r.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=r.push(t)-1,l=Object.keys(t).sort(s&&s(t));for(a="",i=0;i<l.length;i++){var c=l[i],d=e(t[c]);d&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d)}return r.splice(o,1),"{"+a+"}"}}(e)}},94029:(e,t,i)=>{"use strict";var n=i(95320),s=Object.prototype.toString,r=Object.prototype.hasOwnProperty,a=function(e,t,i){for(var n=0,s=e.length;n<s;n++)r.call(e,n)&&(null==i?t(e[n],n,e):t.call(i,e[n],n,e))},o=function(e,t,i){for(var n=0,s=e.length;n<s;n++)null==i?t(e.charAt(n),n,e):t.call(i,e.charAt(n),n,e)},l=function(e,t,i){for(var n in e)r.call(e,n)&&(null==i?t(e[n],n,e):t.call(i,e[n],n,e))};e.exports=function(e,t,i){if(!n(t))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=i),"[object Array]"===s.call(e)?a(e,t,r):"string"==typeof e?o(e,t,r):l(e,t,r)}},17648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,n=Object.prototype.toString,s="[object Function]";e.exports=function(e){var r=this;if("function"!=typeof r||n.call(r)!==s)throw new TypeError(t+r);for(var a,o=i.call(arguments,1),l=function(){if(this instanceof a){var t=r.apply(this,o.concat(i.call(arguments)));return Object(t)===t?t:this}return r.apply(e,o.concat(i.call(arguments)))},c=Math.max(0,r.length-o.length),d=[],u=0;u<c;u++)d.push("$"+u);if(a=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(l),r.prototype){var h=function(){};h.prototype=r.prototype,a.prototype=new h,h.prototype=null}return a}},58612:(e,t,i)=>{"use strict";var n=i(17648);e.exports=Function.prototype.bind||n},50972:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,n.default)(0),e.prototype.inspect=t,s.default&&(e.prototype[s.default]=t)};var n=r(i(7706)),s=r(i(79466));function r(e){return e&&e.__esModule?e:{default:e}}},8002:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a(e,[])};var n,s=(n=i(79466))&&n.__esModule?n:{default:n};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){switch(r(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var i=[].concat(t,[e]),n=function(e){var t=e[String(s.default)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==n){var r=n.call(e);if(r!==e)return"string"==typeof r?r:a(r,i)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var i=Math.min(10,e.length),n=e.length-i,s=[],r=0;r<i;++r)s.push(a(e[r],t));1===n?s.push("... 1 more item"):n>1&&s.push("... ".concat(n," more items"));return"["+s.join(", ")+"]"}(e,i);return function(e,t){var i=Object.keys(e);if(0===i.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var i=e.constructor.name;if("string"==typeof i&&""!==i)return i}return t}(e)+"]";return"{ "+i.map((function(i){return i+": "+a(e[i],t)})).join(", ")+" }"}(e,i)}(e,t);default:return String(e)}}},6589:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(97986);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return a(e,[])}function a(e,t){switch(s(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var i=[].concat(t,[e]),s=function(e){var t=e[String(n.Z)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==s){var r=s.call(e);if(r!==e)return"string"==typeof r?r:a(r,i)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var i=Math.min(10,e.length),n=e.length-i,s=[],r=0;r<i;++r)s.push(a(e[r],t));1===n?s.push("... 1 more item"):n>1&&s.push("... ".concat(n," more items"));return"["+s.join(", ")+"]"}(e,i);return function(e,t){var i=Object.keys(e);if(0===i.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var i=e.constructor.name;if("string"==typeof i&&""!==i)return i}return t}(e)+"]";return"{ "+i.map((function(i){return i+": "+a(e[i],t)})).join(", ")+" }"}(e,i)}(e,t);default:return String(e)}}},7706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},79466:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=i},97986:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0},91807:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var n,s=(n=i(50972))&&n.__esModule?n:{default:n};var r=function(){function e(e,t,i){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=i}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=r,(0,s.default)(r);var a=function(){function e(e,t,i,n,s,r,a){this.kind=e,this.start=t,this.end=i,this.line=n,this.column=s,this.value=a,this.prev=r,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=a,(0,s.default)(a)},83059:(e,t,i)=>{"use strict";i.d(t,{Ye:()=>r,WU:()=>a,UG:()=>o});var n=i(97986);function s(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,n.Z&&(e.prototype[n.Z]=t)}var r=function(){function e(e,t,i){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=i}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();s(r);var a=function(){function e(e,t,i,n,s,r,a){this.kind=e,this.start=t,this.end=i,this.line=n,this.column=s,this.value=a,this.prev=r,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function o(e){return null!=e&&"string"==typeof e.kind}s(a)},7420:(e,t,i)=>{"use strict";function n(e){var t=e.split(/\r\n|[\n\r]/g),i=function(e){for(var t,i=!0,n=!0,s=0,r=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:i=!1,n=!0,s=0;break;case 9:case 32:++s;break;default:n&&!i&&(null===r||s<r)&&(r=s),n=!1}return null!==(t=r)&&void 0!==t?t:0}(e);if(0!==i)for(var n=1;n<t.length;n++)t[n]=t[n].slice(i);for(var r=0;r<t.length&&s(t[r]);)++r;for(var a=t.length;a>r&&s(t[a-1]);)--a;return t.slice(r,a).join("\n")}function s(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1===e.indexOf("\n"),s=" "===e[0]||"\t"===e[0],r='"'===e[e.length-1],a="\\"===e[e.length-1],o=!n||r||a||i,l="";return!o||n&&s||(l+="\n"+t),l+=t?e.replace(/\n/g,"\n"+t):e,o&&(l+="\n"),'"""'+l.replace(/"""/g,'\\"""')+'"""'}i.d(t,{W7:()=>n,LZ:()=>r})},90778:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var n=i(27636),s=i(7420);function r(e){return(0,n.Vn)(e,{leave:a})}var a={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return l(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,i=e.name,n=d("(",l(e.variableDefinitions,", "),")"),s=l(e.directives," "),r=e.selectionSet;return i||s||n||"query"!==t?l([t,l([i,n]),s,r]," "):r},VariableDefinition:function(e){var t=e.variable,i=e.type,n=e.defaultValue,s=e.directives;return t+": "+i+d(" = ",n)+d(" ",l(s," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,i=e.name,n=e.arguments,s=e.directives,r=e.selectionSet,a=d("",t,": ")+i,o=a+d("(",l(n,", "),")");return o.length>80&&(o=a+d("(\n",u(l(n,"\n")),"\n)")),l([o,l(s," "),r]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+d(" ",l(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,i=e.directives,n=e.selectionSet;return l(["...",d("on ",t),l(i," "),n]," ")},FragmentDefinition:function(e){var t=e.name,i=e.typeCondition,n=e.variableDefinitions,s=e.directives,r=e.selectionSet;return"fragment ".concat(t).concat(d("(",l(n,", "),")")," ")+"on ".concat(i," ").concat(d("",l(s," ")," "))+r},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var i=e.value;return e.block?(0,s.LZ)(i,"description"===t?"":"  "):JSON.stringify(i)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+l(e.values,", ")+"]"},ObjectValue:function(e){return"{"+l(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+d("(",l(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:o((function(e){var t=e.directives,i=e.operationTypes;return l(["schema",l(t," "),c(i)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o((function(e){return l(["scalar",e.name,l(e.directives," ")]," ")})),ObjectTypeDefinition:o((function(e){var t=e.name,i=e.interfaces,n=e.directives,s=e.fields;return l(["type",t,d("implements ",l(i," & ")),l(n," "),c(s)]," ")})),FieldDefinition:o((function(e){var t=e.name,i=e.arguments,n=e.type,s=e.directives;return t+(p(i)?d("(\n",u(l(i,"\n")),"\n)"):d("(",l(i,", "),")"))+": "+n+d(" ",l(s," "))})),InputValueDefinition:o((function(e){var t=e.name,i=e.type,n=e.defaultValue,s=e.directives;return l([t+": "+i,d("= ",n),l(s," ")]," ")})),InterfaceTypeDefinition:o((function(e){var t=e.name,i=e.interfaces,n=e.directives,s=e.fields;return l(["interface",t,d("implements ",l(i," & ")),l(n," "),c(s)]," ")})),UnionTypeDefinition:o((function(e){var t=e.name,i=e.directives,n=e.types;return l(["union",t,l(i," "),n&&0!==n.length?"= "+l(n," | "):""]," ")})),EnumTypeDefinition:o((function(e){var t=e.name,i=e.directives,n=e.values;return l(["enum",t,l(i," "),c(n)]," ")})),EnumValueDefinition:o((function(e){return l([e.name,l(e.directives," ")]," ")})),InputObjectTypeDefinition:o((function(e){var t=e.name,i=e.directives,n=e.fields;return l(["input",t,l(i," "),c(n)]," ")})),DirectiveDefinition:o((function(e){var t=e.name,i=e.arguments,n=e.repeatable,s=e.locations;return"directive @"+t+(p(i)?d("(\n",u(l(i,"\n")),"\n)"):d("(",l(i,", "),")"))+(n?" repeatable":"")+" on "+l(s," | ")})),SchemaExtension:function(e){var t=e.directives,i=e.operationTypes;return l(["extend schema",l(t," "),c(i)]," ")},ScalarTypeExtension:function(e){return l(["extend scalar",e.name,l(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,i=e.interfaces,n=e.directives,s=e.fields;return l(["extend type",t,d("implements ",l(i," & ")),l(n," "),c(s)]," ")},InterfaceTypeExtension:function(e){var t=e.name,i=e.interfaces,n=e.directives,s=e.fields;return l(["extend interface",t,d("implements ",l(i," & ")),l(n," "),c(s)]," ")},UnionTypeExtension:function(e){var t=e.name,i=e.directives,n=e.types;return l(["extend union",t,l(i," "),n&&0!==n.length?"= "+l(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,i=e.directives,n=e.values;return l(["extend enum",t,l(i," "),c(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,i=e.directives,n=e.fields;return l(["extend input",t,l(i," "),c(n)]," ")}};function o(e){return function(t){return l([t.description,e(t)],"\n")}}function l(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(i))&&void 0!==t?t:""}function c(e){return d("{\n",u(l(e,"\n")),"\n}")}function d(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+i:""}function u(e){return d("  ",e.replace(/\n/g,"\n  "))}function h(e){return-1!==e.indexOf("\n")}function p(e){return null!=e&&e.some(h)}},80285:(e,t,i)=>{"use strict";t.Vn=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,n=void 0,c=Array.isArray(e),d=[e],u=-1,h=[],p=void 0,m=void 0,f=void 0,g=[],v=[],b=e;do{var y=++u===d.length,E=y&&0!==h.length;if(y){if(m=0===v.length?void 0:g[g.length-1],p=f,f=v.pop(),E){if(c)p=p.slice();else{for(var S={},T=0,O=Object.keys(p);T<O.length;T++){var _=O[T];S[_]=p[_]}p=S}for(var N=0,A=0;A<h.length;A++){var w=h[A][0],I=h[A][1];c&&(w-=N),c&&null===I?(p.splice(w,1),N++):p[w]=I}}u=n.index,d=n.keys,h=n.edits,c=n.inArray,n=n.prev}else{if(m=f?c?u:d[u]:void 0,null==(p=f?f[m]:b))continue;f&&g.push(m)}var k,P=void 0;if(!Array.isArray(p)){if(!(0,r.isNode)(p))throw new Error("Invalid AST Node: ".concat((0,s.default)(p),"."));var L=l(t,p.kind,y);if(L){if((P=L.call(t,p,m,f,g,v))===o)break;if(!1===P){if(!y){g.pop();continue}}else if(void 0!==P&&(h.push([m,P]),!y)){if(!(0,r.isNode)(P)){g.pop();continue}p=P}}}if(void 0===P&&E&&h.push([m,p]),y)g.pop();else n={inArray:c,index:u,keys:d,edits:h,prev:n},c=Array.isArray(p),d=c?p:null!==(k=i[p.kind])&&void 0!==k?k:[],u=-1,h=[],f&&v.push(f),f=p}while(void 0!==n);0!==h.length&&(b=h[h.length-1][1]);return b};var n,s=(n=i(8002))&&n.__esModule?n:{default:n},r=i(91807);var a={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};var o=Object.freeze({});function l(e,t,i){var n=e[t];if(n){if(!i&&"function"==typeof n)return n;var s=i?n.leave:n.enter;if("function"==typeof s)return s}else{var r=i?e.leave:e.enter;if(r){if("function"==typeof r)return r;var a=r[t];if("function"==typeof a)return a}}}},27636:(e,t,i)=>{"use strict";i.d(t,{$_:()=>a,Vn:()=>o});var n=i(6589),s=i(83059),r={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},a=Object.freeze({});function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=void 0,c=Array.isArray(e),d=[e],u=-1,h=[],p=void 0,m=void 0,f=void 0,g=[],v=[],b=e;do{var y=++u===d.length,E=y&&0!==h.length;if(y){if(m=0===v.length?void 0:g[g.length-1],p=f,f=v.pop(),E){if(c)p=p.slice();else{for(var S={},T=0,O=Object.keys(p);T<O.length;T++){var _=O[T];S[_]=p[_]}p=S}for(var N=0,A=0;A<h.length;A++){var w=h[A][0],I=h[A][1];c&&(w-=N),c&&null===I?(p.splice(w,1),N++):p[w]=I}}u=o.index,d=o.keys,h=o.edits,c=o.inArray,o=o.prev}else{if(m=f?c?u:d[u]:void 0,null==(p=f?f[m]:b))continue;f&&g.push(m)}var k,P=void 0;if(!Array.isArray(p)){if(!(0,s.UG)(p))throw new Error("Invalid AST Node: ".concat((0,n.Z)(p),"."));var L=l(t,p.kind,y);if(L){if((P=L.call(t,p,m,f,g,v))===a)break;if(!1===P){if(!y){g.pop();continue}}else if(void 0!==P&&(h.push([m,P]),!y)){if(!(0,s.UG)(P)){g.pop();continue}p=P}}}if(void 0===P&&E&&h.push([m,p]),y)g.pop();else o={inArray:c,index:u,keys:d,edits:h,prev:o},d=(c=Array.isArray(p))?p:null!==(k=i[p.kind])&&void 0!==k?k:[],u=-1,h=[],f&&v.push(f),f=p}while(void 0!==o);return 0!==h.length&&(b=h[h.length-1][1]),b}function l(e,t,i){var n=e[t];if(n){if(!i&&"function"==typeof n)return n;var s=i?n.leave:n.enter;if("function"==typeof s)return s}else{var r=i?e.leave:e.enter;if(r){if("function"==typeof r)return r;var a=r[t];if("function"==typeof a)return a}}}},41405:(e,t,i)=>{"use strict";var n=i.g.Symbol,s=i(55419);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&s())))}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},17642:(e,t,i)=>{"use strict";var n=i(58612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},95320:e=>{"use strict";var t,i,n=Function.prototype.toString,s="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof s&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw i}}),i={},s((function(){throw 42}),null,t)}catch(e){e!==i&&(s=null)}else s=null;var r=/^\s*class\b/,a=function(e){try{var t=n.call(e);return r.test(t)}catch(e){return!1}},o=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=s?function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{s(e,null,t)}catch(e){if(e!==i)return!1}return!a(e)}:function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}}(e);if(a(e))return!1;var t=o.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},54443:(e,t,i)=>{"use strict";i.r(t)},87435:()=>{},15930:()=>{},110:()=>{},52424:()=>{},96845:()=>{},5819:()=>{},47281:(e,t,i)=>{"use strict";var n=i(94029),s=i(42473),r=i(17642),a=i(46057),o=function(e){s(!1,e)},l=String.prototype.replace,c=String.prototype.split,d="||||",u=function(e){var t=e%100,i=t%10;return 11!==t&&1===i?0:2<=i&&i<=4&&!(t>=12&&t<=14)?1:2},h={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:u,chinese:function(){return 0},croatian:u,french:function(e){return e>1?1:0},german:function(e){return 1!==e?1:0},russian:u,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function p(e,t){var i,s,r=(i=e.pluralTypeToLanguages,s={},n(i,(function(e,t){n(e,(function(e){s[e]=t}))})),s);return r[t]||r[c.call(t,/-/,1)[0]]||r.en}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var f=/%\{(.*?)\}/g;function g(e,t,i,n,s){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var o=e,u=n||f,m=s||h,g="number"==typeof t?{smart_count:t}:t;if(null!=g.smart_count&&o){var v=c.call(o,d);o=a(v[function(e,t,i){return e.pluralTypes[p(e,t)](i)}(m,i||"en",g.smart_count)]||v[0])}return o=l.call(o,u,(function(e,t){return r(g,t)&&null!=g[t]?g[t]:e}))}function v(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var i=t.allowMissing?g:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:i,this.warn=t.warn||o,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",i=e&&e.suffix||"}";if(t===d||i===d)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(m(t)+"(.*?)"+m(i),"g")}(t.interpolation),this.pluralRules=t.pluralRules||h}v.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},v.prototype.extend=function(e,t){n(e,(function(e,i){var n=t?t+"."+i:i;"object"==typeof e?this.extend(e,n):this.phrases[n]=e}),this)},v.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:n(e,(function(e,i){var n=t?t+"."+i:i;"object"==typeof e?this.unset(e,n):delete this.phrases[n]}),this)},v.prototype.clear=function(){this.phrases={}},v.prototype.replace=function(e){this.clear(),this.extend(e)},v.prototype.t=function(e,t){var i,n,s=null==t?{}:t;if("string"==typeof this.phrases[e])i=this.phrases[e];else if("string"==typeof s._)i=s._;else if(this.onMissingKey){n=(0,this.onMissingKey)(e,s,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+e+'"'),n=e;return"string"==typeof i&&(n=g(i,s,this.currentLocale,this.tokenRegex,this.pluralRules)),n},v.prototype.has=function(e){return r(this.phrases,e)},v.transformPhrase=function(e,t,i){return g(e,t,i)},e.exports=v},18987:(e,t,i)=>{"use strict";var n;if(!Object.keys){var s=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=i(21414),o=Object.prototype.propertyIsEnumerable,l=!o.call({toString:null},"toString"),c=o.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&s.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===r.call(e),n=a(e),o=t&&"[object String]"===r.call(e),h=[];if(!t&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var m=c&&i;if(o&&e.length>0&&!s.call(e,0))for(var f=0;f<e.length;++f)h.push(String(f));if(n&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var v in e)m&&"prototype"===v||!s.call(e,v)||h.push(String(v));if(l)for(var b=function(e){if("undefined"==typeof window||!p)return u(e);try{return u(e)}catch(e){return!1}}(e),y=0;y<d.length;++y)b&&"constructor"===d[y]||!s.call(e,d[y])||h.push(d[y]);return h}}e.exports=n},82215:(e,t,i)=>{"use strict";var n=Array.prototype.slice,s=i(21414),r=Object.keys,a=r?function(e){return r(e)}:i(18987),o=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return s(e)?o(n.call(e)):o(e)}):Object.keys=a;return Object.keys||a},e.exports=a},21414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var i=t.call(e),n="[object Arguments]"===i;return n||(n="[object Array]"!==i&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},17141:(e,t,i)=>{var n;!function(s,r){var a={};function o(e){return function(){var t={method:e},i=Array.prototype.slice.call(arguments);/^get/.test(e)?(a.assert(i.length>0,"Get methods require a callback."),i.unshift(t)):(/^set/.test(e)&&(a.assert(0!==i.length,"Set methods require a value."),t.value=i[0]),i=[t]),this.send.apply(this,i)}}a.DEBUG=!1,a.VERSION="0.0.11",a.CONTEXT="player.js",a.POST_MESSAGE=!!s.postMessage,a.origin=function(e){return"//"===e.substr(0,2)&&(e=s.location.protocol+e),e.split("/").slice(0,3).join("/")},a.addEvent=function(e,t,i){e&&(e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i)},a.log=function(){a.log.history=a.log.history||[],a.log.history.push(arguments),s.console&&a.DEBUG&&s.console.log(Array.prototype.slice.call(arguments))},a.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},a.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},a.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isNone=function(e){return null==e},a.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.indexOf=function(e,t){if(null==e)return-1;var i=0,n=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;i<n;i++)if(e[i]===t)return i;return-1},a.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},a.Keeper=function(){this.init()},a.Keeper.prototype.init=function(){this.data={}},a.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},a.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(a.isNone(t))return!0;for(var i=this.data[e],n=0;n<i.length;n++)if(i[n].id===t)return!0;return!1},a.Keeper.prototype.add=function(e,t,i,n,s){var r={id:e,event:t,cb:i,ctx:n,one:s};this.has(t)?this.data[t].push(r):this.data[t]=[r]},a.Keeper.prototype.execute=function(e,t,i,n){if(!this.has(e,t))return!1;for(var s=[],r=[],o=0;o<this.data[e].length;o++){var l=this.data[e][o];a.isNone(t)||!a.isNone(t)&&l.id===t?(r.push({cb:l.cb,ctx:l.ctx?l.ctx:n,data:i}),!1===l.one&&s.push(l)):s.push(l)}0===s.length?delete this.data[e]:this.data[e]=s;for(var c=0;c<r.length;c++){var d=r[c];d.cb.call(d.ctx,d.data)}},a.Keeper.prototype.on=function(e,t,i,n){this.add(e,t,i,n,!1)},a.Keeper.prototype.one=function(e,t,i,n){this.add(e,t,i,n,!0)},a.Keeper.prototype.off=function(e,t){var i=[];if(!this.data.hasOwnProperty(e))return i;for(var n=[],s=0;s<this.data[e].length;s++){var r=this.data[e][s];a.isNone(t)||r.cb===t?a.isNone(r.id)||i.push(r.id):n.push(r)}return 0===n.length?delete this.data[e]:this.data[e]=n,i},a.Player=function(e,t){if(!(this instanceof a.Player))return new a.Player(e,t);this.init(e,t)},a.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},a.EVENTS.all=function(){var e=[];for(var t in a.EVENTS)a.has(a.EVENTS,t)&&a.isString(a.EVENTS[t])&&e.push(a.EVENTS[t]);return e},a.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},a.METHODS.all=function(){var e=[];for(var t in a.METHODS)a.has(a.METHODS,t)&&a.isString(a.METHODS[t])&&e.push(a.METHODS[t]);return e},a.READIED=[],a.Player.prototype.init=function(e,t){var i=this;a.isString(e)&&(e=r.getElementById(e)),this.elem=e,a.assert("IFRAME"===e.nodeName,'playerjs.Player constructor requires an Iframe, got "'+e.nodeName+'"'),a.assert(e.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=a.origin(e.src),this.keeper=new a.Keeper,this.isReady=!1,this.queue=[],this.events=a.EVENTS.all(),this.methods=a.METHODS.all(),a.POST_MESSAGE?a.addEvent(s,"message",(function(e){i.receive(e)})):a.log("Post Message is not Available."),a.indexOf(a.READIED,e.src)>-1?i.loaded=!0:this.elem.onload=function(){i.loaded=!0}},a.Player.prototype.send=function(e,t,i){if(e.context=a.CONTEXT,e.version=a.VERSION,t){var n=this.keeper.getUUID();e.listener=n,this.keeper.one(n,e.method,t,i)}return this.isReady||"ready"===e.value?(a.log("Player.send",e,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0):(a.log("Player.queue",e),this.queue.push(e),!1)},a.Player.prototype.receive=function(e){if(a.log("Player.receive",e),e.origin!==this.origin)return!1;var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},a.Player.prototype.ready=function(e){if(!0===this.isReady)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var i=this.queue[t];a.log("Player.dequeue",i),"ready"===e.event&&this.keeper.execute(i.event,i.listener,!0,this),this.send(i)}this.queue=[]},a.Player.prototype.on=function(e,t,i){var n=this.keeper.getUUID();return"ready"===e?this.keeper.one(n,e,t,i):this.keeper.on(n,e,t,i),this.send({method:"addEventListener",value:e,listener:n}),!0},a.Player.prototype.off=function(e,t){var i=this.keeper.off(e,t);if(a.log("Player.off",i),i.length>0)for(var n in i)return this.send({method:"removeEventListener",value:e,listener:i[n]}),!0;return!1},a.Player.prototype.supports=function(e,t){a.assert(a.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=a.isArray(t)?t:[t];for(var i="event"===e?this.events:this.methods,n=0;n<t.length;n++)if(-1===a.indexOf(i,t[n]))return!1;return!0};for(var l=0,c=a.METHODS.all().length;l<c;l++){var d=a.METHODS.all()[l];a.Player.prototype.hasOwnProperty(d)||(a.Player.prototype[d]=o(d))}a.addEvent(s,"message",(function(e){var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&a.READIED.push(t.value.src)})),a.Receiver=function(e,t){this.init(e,t)},a.Receiver.prototype.init=function(e,t){var i=this;this.isReady=!1,this.origin=a.origin(r.referrer),this.methods={},this.supported={events:e||a.EVENTS.all(),methods:t||a.METHODS.all()},this.eventListeners={},this.reject=!(s.self!==s.top&&a.POST_MESSAGE),this.reject||a.addEvent(s,"message",(function(e){i.receive(e)}))},a.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var t={};if(a.isObject(e.data))t=e.data;else try{t=s.JSON.parse(e.data)}catch(e){a.log("JSON Parse Error",e)}if(a.log("Receiver.receive",e,t),!t.method)return!1;if(t.context!==a.CONTEXT)return!1;if(-1===a.indexOf(a.METHODS.all(),t.method))return this.emit("error",{code:2,msg:'Invalid Method "'+t.method+'"'}),!1;var i=a.isNone(t.listener)?null:t.listener;if("addEventListener"===t.method)this.eventListeners.hasOwnProperty(t.value)?-1===a.indexOf(this.eventListeners[t.value],i)&&this.eventListeners[t.value].push(i):this.eventListeners[t.value]=[i],"ready"===t.value&&this.isReady&&this.ready();else if("removeEventListener"===t.method){if(this.eventListeners.hasOwnProperty(t.value)){var n=a.indexOf(this.eventListeners[t.value],i);n>-1&&this.eventListeners[t.value].splice(n,1),0===this.eventListeners[t.value].length&&delete this.eventListeners[t.value]}}else this.get(t.method,t.value,i)},a.Receiver.prototype.get=function(e,t,i){var n=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var s=this.methods[e];if("get"===e.substr(0,3)){s.call(this,(function(t){n.send(e,t,i)}))}else s.call(this,t)},a.Receiver.prototype.on=function(e,t){this.methods[e]=t},a.Receiver.prototype.send=function(e,t,i){if(a.log("Receiver.send",e,t,i),this.reject)return a.log("Receiver.send.reject",e,t,i),!1;var n={context:a.CONTEXT,version:a.VERSION,event:e};a.isNone(t)||(n.value=t),a.isNone(i)||(n.listener=i);var r=JSON.stringify(n);s.parent.postMessage(r,""===this.origin?"*":this.origin)},a.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;a.log("Instance.emit",e,t,this.eventListeners[e]);for(var i=0;i<this.eventListeners[e].length;i++){var n=this.eventListeners[e][i];this.send(e,t,n)}return!0},a.Receiver.prototype.ready=function(){a.log("Receiver.ready"),this.isReady=!0;var e={src:s.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},a.HTML5Adapter=function(e){if(!(this instanceof a.HTML5Adapter))return new a.HTML5Adapter(e);this.init(e)},a.HTML5Adapter.prototype.init=function(e){a.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new a.Receiver;e.addEventListener("playing",(function(){t.emit("play")})),e.addEventListener("pause",(function(){t.emit("pause")})),e.addEventListener("ended",(function(){t.emit("ended")})),e.addEventListener("timeupdate",(function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})})),e.addEventListener("progress",(function(){t.emit("buffered",{percent:e.buffered.length})})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(100*e.volume)})),t.on("setVolume",(function(t){e.volume=t/100})),t.on("mute",(function(){e.muted=!0})),t.on("unmute",(function(){e.muted=!1})),t.on("getMuted",(function(t){t(e.muted)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},a.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},a.JWPlayerAdapter=function(e){if(!(this instanceof a.JWPlayerAdapter))return new a.JWPlayerAdapter(e);this.init(e)},a.JWPlayerAdapter.prototype.init=function(e){a.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new a.Receiver;this.looped=!1,e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("time",(function(e){var i=e.position,n=e.duration;if(!i||!n)return!1;var s={seconds:i,duration:n};t.emit("timeupdate",s)}));var i=this;e.on("complete",(function(){!0===i.looped?e.seek(0):t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play(!0)})),t.on("pause",(function(){e.pause(!0)})),t.on("getPaused",(function(t){t(e.getState().toLowerCase()!=="PLAYING".toLowerCase())})),t.on("getCurrentTime",(function(t){t(e.getPosition())})),t.on("setCurrentTime",(function(t){e.seek(t)})),t.on("getDuration",(function(t){t(e.getDuration())})),t.on("getVolume",(function(t){t(e.getVolume())})),t.on("setVolume",(function(t){e.setVolume(t)})),t.on("mute",(function(){e.setMute(!0)})),t.on("unmute",(function(){e.setMute(!1)})),t.on("getMuted",(function(t){t(!0===e.getMute())})),t.on("getLoop",(function(e){e(this.looped)}),this),t.on("setLoop",(function(e){this.looped=e}),this)},a.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},a.MockAdapter=function(){if(!(this instanceof a.MockAdapter))return new a.MockAdapter;this.init()},a.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval((function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})}),250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new a.Receiver;t.on("play",(function(){var t=this;e.play(),this.emit("play"),e.timeupdate=function(e){t.emit("timeupdate",e)}})),t.on("pause",(function(){e.pause(),this.emit("pause")})),t.on("getPaused",(function(t){t(!e.playing)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(e.volume)})),t.on("setVolume",(function(t){e.volume=t})),t.on("mute",(function(){e.mute=!0})),t.on("unmute",(function(){e.mute=!1})),t.on("getMuted",(function(t){t(e.mute)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},a.MockAdapter.prototype.ready=function(){this.receiver.ready()},a.VideoJSAdapter=function(e){if(!(this instanceof a.VideoJSAdapter))return new a.VideoJSAdapter(e);this.init(e)},a.VideoJSAdapter.prototype.init=function(e){a.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new a.Receiver;e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("timeupdate",(function(i){var n=e.currentTime(),s=e.duration();if(!n||!s)return!1;var r={seconds:n,duration:s};t.emit("timeupdate",r)})),e.on("ended",(function(){t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused())})),t.on("getCurrentTime",(function(t){t(e.currentTime())})),t.on("setCurrentTime",(function(t){e.currentTime(t)})),t.on("getDuration",(function(t){t(e.duration())})),t.on("getVolume",(function(t){t(100*e.volume())})),t.on("setVolume",(function(t){e.volume(t/100)})),t.on("mute",(function(){e.volume(0)})),t.on("unmute",(function(){e.volume(1)})),t.on("getMuted",(function(t){t(0===e.volume())})),t.on("getLoop",(function(t){t(e.loop())})),t.on("setLoop",(function(t){e.loop(t)}))},a.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},void 0===(n=function(){return a}.call(t,i,t,e))||(e.exports=n)}(window,document)},64448:(e,t,i)=>{"use strict";var n=i(67294),s=i(63840);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,i,n,s,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,i,n){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null==t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,s,n)&&(i=null),n||null===s?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=null===i?3!==s.type&&"":i:(t=s.attributeName,n=s.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(s=s.type)||4===s&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),T=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),w=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var x,j=Object.assign;function U(e){if(void 0===x)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return"\n"+x+e}var H=!1;function F(e,t){if(!e||H)return"";H=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),r=n.stack.split("\n"),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==r[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{H=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case O:return"Fragment";case T:return"Portal";case N:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case w:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=z(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function $(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var i=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function Z(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=W(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Q(e,t);var i=W(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&$(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,n){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&n&&(e[i].defaultSelected=!0)}else{for(i=""+W(i),t=null,s=0;s<e.length;s++){if(e[s].value===i)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(r(92));if(te(i)){if(1<i.length)throw Error(r(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:W(i)}}function re(e,t){var i=W(t.value),n=W(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,i){return null==t||"boolean"==typeof t||""===t?"":i||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),s=fe(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,s):e[i]=s}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Oe=null,_e=null;function Ne(e){if(e=ps(e)){if("function"!=typeof Te)throw Error(r(280));var t=e.stateNode;t&&(t=fs(t),Te(e.stateNode,e.type,t))}}function Ae(e){Oe?_e?_e.push(e):_e=[e]:Oe=e}function we(){if(Oe){var e=Oe,t=_e;if(_e=Oe=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ie(e,t){return e(t)}function ke(){}var Pe=!1;function Le(e,t,i){if(Pe)return e(t,i);Pe=!0;try{return Ie(e,t,i)}finally{Pe=!1,(null!==Oe||null!==_e)&&(ke(),we())}}function Ce(e,t){var i=e.stateNode;if(null===i)return null;var n=fs(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!=typeof i)throw Error(r(231,t,typeof i));return i}var Re=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Re=!1}function Me(e,t,i,n,s,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(e){this.onError(e)}}var xe=!1,je=null,Ue=!1,He=null,Fe={onError:function(e){xe=!0,je=e}};function Be(e,t,i,n,s,r,a,o,l){xe=!1,je=null,Me.apply(Fe,arguments)}function Ve(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(r(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(r(188));return t!==e?null:e}for(var i=e,n=t;;){var s=i.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(n=s.return)){i=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===i)return We(s),e;if(a===n)return We(s),t;a=a.sibling}throw Error(r(188))}if(i.return!==n.return)i=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===i){o=!0,i=s,n=a;break}if(l===n){o=!0,n=s,i=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===i){o=!0,i=a,n=s;break}if(l===n){o=!0,n=a,i=s;break}l=l.sibling}if(!o)throw Error(r(189))}}if(i.alternate!==n)throw Error(r(190))}if(3!==i.tag)throw Error(r(188));return i.stateNode.current===i?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=s.unstable_scheduleCallback,$e=s.unstable_cancelCallback,qe=s.unstable_shouldYield,Ze=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,it=s.unstable_LowPriority,nt=s.unstable_IdlePriority,st=null,rt=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,s=e.suspendedLanes,r=e.pingedLanes,a=268435455&i;if(0!==a){var o=a&~s;0!==o?n=ut(o):0!==(r&=a)&&(n=ut(r))}else 0!==(a=i&~s)?n=ut(a):0!==r&&(n=ut(r));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&s)&&((s=n&-n)>=(r=t&-t)||16===s&&0!=(4194240&r)))return t;if(0!=(4&n)&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)s=1<<(i=31-at(t)),n|=e[i],t&=~s;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function gt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=i}function vt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-at(i),s=1<<n;s&t|e[n]&t&&(e[n]|=t),i&=~s}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Et,St,Tt,Ot,_t,Nt=!1,At=[],wt=null,It=null,kt=null,Pt=new Map,Lt=new Map,Ct=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Mt(e,t,i,n,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=ps(t))&&St(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xt(e){var t=hs(e.target);if(null!==t){var i=Ve(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=Ge(i)))return e.blockedOn=t,void _t(e.priority,(function(){Tt(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=ps(i))&&St(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);Ee=n,i.target.dispatchEvent(n),Ee=null,t.shift()}return!0}function Ut(e,t,i){jt(e)&&i.delete(t)}function Ht(){Nt=!1,null!==wt&&jt(wt)&&(wt=null),null!==It&&jt(It)&&(It=null),null!==kt&&jt(kt)&&(kt=null),Pt.forEach(Ut),Lt.forEach(Ut)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ht)))}function Bt(e){function t(t){return Ft(t,e)}if(0<At.length){Ft(At[0],e);for(var i=1;i<At.length;i++){var n=At[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==wt&&Ft(wt,e),null!==It&&Ft(It,e),null!==kt&&Ft(kt,e),Pt.forEach(t),Lt.forEach(t),i=0;i<Ct.length;i++)(n=Ct[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Ct.length&&null===(i=Ct[0]).blockedOn;)xt(i),null===i.blockedOn&&Ct.shift()}var Vt=E.ReactCurrentBatchConfig;function Gt(e,t,i,n){var s=bt,r=Vt.transition;Vt.transition=null;try{bt=1,zt(e,t,i,n)}finally{bt=s,Vt.transition=r}}function Wt(e,t,i,n){var s=bt,r=Vt.transition;Vt.transition=null;try{bt=4,zt(e,t,i,n)}finally{bt=s,Vt.transition=r}}function zt(e,t,i,n){var s=Yt(e,t,i,n);if(null===s)Hn(e,t,n,Kt,i),Dt(e,n);else if(function(e,t,i,n,s){switch(t){case"focusin":return wt=Mt(wt,e,t,i,n,s),!0;case"dragenter":return It=Mt(It,e,t,i,n,s),!0;case"mouseover":return kt=Mt(kt,e,t,i,n,s),!0;case"pointerover":var r=s.pointerId;return Pt.set(r,Mt(Pt.get(r)||null,e,t,i,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Lt.set(r,Mt(Lt.get(r)||null,e,t,i,n,s)),!0}return!1}(s,e,t,i,n))n.stopPropagation();else if(Dt(e,n),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var r=ps(s);if(null!==r&&Et(r),null===(r=Yt(e,t,i,n))&&Hn(e,t,n,Kt,i),r===s)break;s=r}null!==s&&n.stopPropagation()}else Hn(e,t,n,null,i)}var Kt=null;function Yt(e,t,i,n){if(Kt=null,null!==(e=hs(e=Se(n))))if(null===(t=Ve(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case it:return 16;case nt:return 536870912;default:return 16}default:return 16}}var qt=null,Zt=null,Qt=null;function Xt(){if(Qt)return Qt;var e,t,i=Zt,n=i.length,s="value"in qt?qt.value:qt.textContent,r=s.length;for(e=0;e<n&&i[e]===s[e];e++);var a=n-e;for(t=1;t<=a&&i[n-t]===s[r-t];t++);return Qt=s.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ei(){return!0}function ti(){return!1}function ii(e){function t(t,i,n,s,r){for(var a in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?ei:ti,this.isPropagationStopped=ti,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),t}var ni,si,ri,ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=ii(ai),li=j({},ai,{view:0,detail:0}),ci=ii(li),di=j({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Si,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&"mousemove"===e.type?(ni=e.screenX-ri.screenX,si=e.screenY-ri.screenY):si=ni=0,ri=e),ni)},movementY:function(e){return"movementY"in e?e.movementY:si}}),ui=ii(di),hi=ii(j({},di,{dataTransfer:0})),pi=ii(j({},li,{relatedTarget:0})),mi=ii(j({},ai,{animationName:0,elapsedTime:0,pseudoElement:0})),fi=ii(j({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),gi=ii(j({},ai,{data:0})),vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ei(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yi[e])&&!!t[e]}function Si(){return Ei}var Ti=ii(j({},li,{key:function(e){if(e.key){var t=vi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Si,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Oi=ii(j({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_i=ii(j({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Si})),Ni=ii(j({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ai=ii(j({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wi=[9,13,27,32],Ii=d&&"CompositionEvent"in window,ki=null;d&&"documentMode"in document&&(ki=document.documentMode);var Pi=d&&"TextEvent"in window&&!ki,Li=d&&(!Ii||ki&&8<ki&&11>=ki),Ci=String.fromCharCode(32),Ri=!1;function Di(e,t){switch(e){case"keyup":return-1!==wi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var xi=!1;var ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ji[e.type]:"textarea"===t}function Hi(e,t,i,n){Ae(n),0<(t=Bn(t,"onChange")).length&&(i=new oi("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Fi=null,Bi=null;function Vi(e){Rn(e,0)}function Gi(e){if(Y(ms(e)))return e}function Wi(e,t){if("change"===e)return t}var zi=!1;if(d){var Ki;if(d){var Yi="oninput"in document;if(!Yi){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),Yi="function"==typeof $i.oninput}Ki=Yi}else Ki=!1;zi=Ki&&(!document.documentMode||9<document.documentMode)}function qi(){Fi&&(Fi.detachEvent("onpropertychange",Zi),Bi=Fi=null)}function Zi(e){if("value"===e.propertyName&&Gi(Bi)){var t=[];Hi(t,Bi,e,Se(e)),Le(Vi,t)}}function Qi(e,t,i){"focusin"===e?(qi(),Bi=i,(Fi=t).attachEvent("onpropertychange",Zi)):"focusout"===e&&qi()}function Xi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gi(Bi)}function Ji(e,t){if("click"===e)return Gi(t)}function en(e,t){if("input"===e||"change"===e)return Gi(t)}var tn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nn(e,t){if(tn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!u.call(t,s)||!tn(e[s],t[s]))return!1}return!0}function sn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rn(e,t){var i,n=sn(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sn(n)}}function an(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?an(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function on(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var i="string"==typeof t.contentWindow.location.href}catch(e){i=!1}if(!i)break;t=$((e=t.contentWindow).document)}return t}function ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cn(e){var t=on(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&an(i.ownerDocument.documentElement,i)){if(null!==n&&ln(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=i.textContent.length,r=Math.min(n.start,s);n=void 0===n.end?r:Math.min(n.end,s),!e.extend&&r>n&&(s=n,n=r,r=s),s=rn(i,r);var a=rn(i,n);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dn=d&&"documentMode"in document&&11>=document.documentMode,un=null,hn=null,pn=null,mn=!1;function fn(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;mn||null==un||un!==$(n)||("selectionStart"in(n=un)&&ln(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},pn&&nn(pn,n)||(pn=n,0<(n=Bn(hn,"onSelect")).length&&(t=new oi("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=un)))}function gn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var vn={animationend:gn("Animation","AnimationEnd"),animationiteration:gn("Animation","AnimationIteration"),animationstart:gn("Animation","AnimationStart"),transitionend:gn("Transition","TransitionEnd")},bn={},yn={};function En(e){if(bn[e])return bn[e];if(!vn[e])return e;var t,i=vn[e];for(t in i)if(i.hasOwnProperty(t)&&t in yn)return bn[e]=i[t];return e}d&&(yn=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);var Sn=En("animationend"),Tn=En("animationiteration"),On=En("animationstart"),_n=En("transitionend"),Nn=new Map,An="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){Nn.set(e,t),l(t,[e])}for(var In=0;In<An.length;In++){var kn=An[In];wn(kn.toLowerCase(),"on"+(kn[0].toUpperCase()+kn.slice(1)))}wn(Sn,"onAnimationEnd"),wn(Tn,"onAnimationIteration"),wn(On,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(_n,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function Cn(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,s,a,o,l,c){if(Be.apply(this,arguments),xe){if(!xe)throw Error(r(198));var d=je;xe=!1,je=null,Ue||(Ue=!0,He=d)}}(n,t,void 0,e),e.currentTarget=null}function Rn(e,t){t=0!=(4&t);for(var i=0;i<e.length;i++){var n=e[i],s=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;Cn(s,o,c),r=l}else for(a=0;a<n.length;a++){if(l=(o=n[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;Cn(s,o,c),r=l}}}if(Ue)throw e=He,Ue=!1,He=null,e}function Dn(e,t){var i=t[cs];void 0===i&&(i=t[cs]=new Set);var n=e+"__bubble";i.has(n)||(Un(t,e,2,!1),i.add(n))}function Mn(e,t,i){var n=0;t&&(n|=4),Un(i,e,n,t)}var xn="_reactListening"+Math.random().toString(36).slice(2);function jn(e){if(!e[xn]){e[xn]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ln.has(t)||Mn(t,!1,e),Mn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[xn]||(t[xn]=!0,Mn("selectionchange",!1,t))}}function Un(e,t,i,n){switch($t(t)){case 1:var s=Gt;break;case 4:s=Wt;break;default:s=zt}i=s.bind(null,t,i,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):void 0!==s?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function Hn(e,t,i,n,s){var r=n;if(0==(1&t)&&0==(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var o=n.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=hs(o)))return;if(5===(l=a.tag)||6===l){n=r=a;continue e}o=o.parentNode}}n=n.return}Le((function(){var n=r,s=Se(i),a=[];e:{var o=Nn.get(e);if(void 0!==o){var l=oi,c=e;switch(e){case"keypress":if(0===Jt(i))break e;case"keydown":case"keyup":l=Ti;break;case"focusin":c="focus",l=pi;break;case"focusout":c="blur",l=pi;break;case"beforeblur":case"afterblur":l=pi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_i;break;case Sn:case Tn:case On:l=mi;break;case _n:l=Ni;break;case"scroll":l=ci;break;case"wheel":l=Ai;break;case"copy":case"cut":case"paste":l=fi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Oi}var d=0!=(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=n;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Ce(m,h))&&d.push(Fn(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,i,s),a.push({event:o,listeners:d}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||i===Ee||!(c=i.relatedTarget||i.fromElement)||!hs(c)&&!c[ls])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?hs(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=ui,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Oi,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:ms(l),p=null==c?o:ms(c),(o=new d(f,m+"leave",l,i,s)).target=u,o.relatedTarget=p,f=null,hs(s)===n&&((d=new d(h,m+"enter",c,i,s)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Vn(p))m++;for(p=0,f=h;f;f=Vn(f))p++;for(;0<m-p;)d=Vn(d),m--;for(;0<p-m;)h=Vn(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Vn(d),h=Vn(h)}d=null}else d=null;null!==l&&Gn(a,o,l,d,!1),null!==c&&null!==u&&Gn(a,u,c,d,!0)}if("select"===(l=(o=n?ms(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Wi;else if(Ui(o))if(zi)g=en;else{g=Xi;var v=Qi}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=Ji);switch(g&&(g=g(e,n))?Hi(a,g,i,s):(v&&v(e,o,n),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=n?ms(n):window,e){case"focusin":(Ui(v)||"true"===v.contentEditable)&&(un=v,hn=n,pn=null);break;case"focusout":pn=hn=un=null;break;case"mousedown":mn=!0;break;case"contextmenu":case"mouseup":case"dragend":mn=!1,fn(a,i,s);break;case"selectionchange":if(dn)break;case"keydown":case"keyup":fn(a,i,s)}var b;if(Ii)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else xi?Di(e,i)&&(y="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(y="onCompositionStart");y&&(Li&&"ko"!==i.locale&&(xi||"onCompositionStart"!==y?"onCompositionEnd"===y&&xi&&(b=Xt()):(Zt="value"in(qt=s)?qt.value:qt.textContent,xi=!0)),0<(v=Bn(n,y)).length&&(y=new gi(y,e,null,i,s),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Mi(i))&&(y.data=b))),(b=Pi?function(e,t){switch(e){case"compositionend":return Mi(t);case"keypress":return 32!==t.which?null:(Ri=!0,Ci);case"textInput":return(e=t.data)===Ci&&Ri?null:e;default:return null}}(e,i):function(e,t){if(xi)return"compositionend"===e||!Ii&&Di(e,t)?(e=Xt(),Qt=Zt=qt=null,xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Li&&"ko"!==t.locale?null:t.data;default:return null}}(e,i))&&(0<(n=Bn(n,"onBeforeInput")).length&&(s=new gi("onBeforeInput","beforeinput",null,i,s),a.push({event:s,listeners:n}),s.data=b))}Rn(a,t)}))}function Fn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Bn(e,t){for(var i=t+"Capture",n=[];null!==e;){var s=e,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=Ce(e,i))&&n.unshift(Fn(e,r,s)),null!=(r=Ce(e,t))&&n.push(Fn(e,r,s))),e=e.return}return n}function Vn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gn(e,t,i,n,s){for(var r=t._reactName,a=[];null!==i&&i!==n;){var o=i,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ce(i,r))&&a.unshift(Fn(i,l,o)):s||null!=(l=Ce(i,r))&&a.push(Fn(i,l,o))),i=i.return}0!==a.length&&e.push({event:t,listeners:a})}var Wn=/\r\n?/g,zn=/\u0000|\uFFFD/g;function Kn(e){return("string"==typeof e?e:""+e).replace(Wn,"\n").replace(zn,"")}function Yn(e,t,i){if(t=Kn(t),Kn(e)!==t&&i)throw Error(r(425))}function $n(){}var qn=null;function Zn(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qn="function"==typeof setTimeout?setTimeout:void 0,Xn="function"==typeof clearTimeout?clearTimeout:void 0,Jn="function"==typeof Promise?Promise:void 0,es="function"==typeof queueMicrotask?queueMicrotask:void 0!==Jn?function(e){return Jn.resolve(null).then(e).catch(ts)}:Qn;function ts(e){setTimeout((function(){throw e}))}function is(e,t){var i=t,n=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&8===s.nodeType)if("/$"===(i=s.data)){if(0===n)return e.removeChild(s),void Bt(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=s}while(i);Bt(t)}function ns(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ss(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),as="__reactFiber$"+rs,os="__reactProps$"+rs,ls="__reactContainer$"+rs,cs="__reactEvents$"+rs,ds="__reactListeners$"+rs,us="__reactHandles$"+rs;function hs(e){var t=e[as];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ls]||i[as]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=ss(e);null!==e;){if(i=e[as])return i;e=ss(e)}return t}i=(e=i).parentNode}return null}function ps(e){return!(e=e[as]||e[ls])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ms(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function fs(e){return e[os]||null}var gs=[],vs=-1;function bs(e){return{current:e}}function ys(e){0>vs||(e.current=gs[vs],gs[vs]=null,vs--)}function Es(e,t){vs++,gs[vs]=e.current,e.current=t}var Ss={},Ts=bs(Ss),Os=bs(!1),_s=Ss;function Ns(e,t){var i=e.type.contextTypes;if(!i)return Ss;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in i)r[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function As(e){return null!=(e=e.childContextTypes)}function ws(){ys(Os),ys(Ts)}function Is(e,t,i){if(Ts.current!==Ss)throw Error(r(168));Es(Ts,t),Es(Os,i)}function ks(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return i;for(var s in n=n.getChildContext())if(!(s in t))throw Error(r(108,G(e)||"Unknown",s));return j({},i,n)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,_s=Ts.current,Es(Ts,e),Es(Os,Os.current),!0}function Ls(e,t,i){var n=e.stateNode;if(!n)throw Error(r(169));i?(e=ks(e,t,_s),n.__reactInternalMemoizedMergedChildContext=e,ys(Os),ys(Ts),Es(Ts,e)):ys(Os),Es(Os,i)}var Cs=null,Rs=!1,Ds=!1;function Ms(e){null===Cs?Cs=[e]:Cs.push(e)}function xs(){if(!Ds&&null!==Cs){Ds=!0;var e=0,t=bt;try{var i=Cs;for(bt=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}Cs=null,Rs=!1}catch(t){throw null!==Cs&&(Cs=Cs.slice(e+1)),Ye(Je,xs),t}finally{bt=t,Ds=!1}}return null}var js=E.ReactCurrentBatchConfig;function Us(e,t){if(e&&e.defaultProps){for(var i in t=j({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var Hs=bs(null),Fs=null,Bs=null,Vs=null;function Gs(){Vs=Bs=Fs=null}function Ws(e){var t=Hs.current;ys(Hs),e._currentValue=t}function zs(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Ks(e,t){Fs=e,Vs=Bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(mo=!0),e.firstContext=null)}function Ys(e){var t=e._currentValue;if(Vs!==e)if(e={context:e,memoizedValue:t,next:null},null===Bs){if(null===Fs)throw Error(r(308));Bs=e,Fs.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var $s=null,qs=!1;function Zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Js(e,t){var i=e.updateQueue;null!==i&&(i=i.shared,null!==fl&&0!=(1&e.mode)&&0==(2&ml)?(null===(e=i.interleaved)?(t.next=t,null===$s?$s=[i]:$s.push(i)):(t.next=e.next,e.next=t),i.interleaved=t):(null===(e=i.pending)?t.next=t:(t.next=e.next,e.next=t),i.pending=t))}function er(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&i))){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}function tr(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var s=null,r=null;if(null!==(i=i.firstBaseUpdate)){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===r?s=r=a:r=r.next=a,i=i.next}while(null!==i);null===r?s=r=t:r=r.next=t}else s=r=t;return i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ir(e,t,i,n){var s=e.updateQueue;qs=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=s.baseState;for(a=0,d=c=l=null,o=r;;){var h=o.lane,p=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=i,f.tag){case 1:if("function"==typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=f.payload)?m.call(p,u,h):m))break e;u=j({},u,h);break e;case 2:qs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===r&&(s.shared.lanes=0);Tl|=a,e.lanes=a,e.memoizedState=u}}function nr(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=i,"function"!=typeof s)throw Error(r(191,s));s.call(n)}}}var sr=(new n.Component).refs;function rr(e,t,i,n){i=null==(i=i(n,t=e.memoizedState))?t:j({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var ar={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=Hl(),s=Fl(e),r=Xs(n,s);r.payload=t,null!=i&&(r.callback=i),Js(e,r),null!==(t=Bl(e,s,n))&&er(t,e,s)},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=Hl(),s=Fl(e),r=Xs(n,s);r.tag=1,r.payload=t,null!=i&&(r.callback=i),Js(e,r),null!==(t=Bl(e,s,n))&&er(t,e,s)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Hl(),n=Fl(e),s=Xs(i,n);s.tag=2,null!=t&&(s.callback=t),Js(e,s),null!==(t=Bl(e,n,i))&&er(t,e,n)}};function or(e,t,i,n,s,r,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!nn(i,n)||!nn(s,r))}function lr(e,t,i){var n=!1,s=Ss,r=t.contextType;return"object"==typeof r&&null!==r?r=Ys(r):(s=As(t)?_s:Ts.current,r=(n=null!=(n=t.contextTypes))?Ns(e,s):Ss),t=new t(i,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ar,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function cr(e,t,i,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&ar.enqueueReplaceState(t,t.state,null)}function dr(e,t,i,n){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs=sr,Zs(e);var r=t.contextType;"object"==typeof r&&null!==r?s.context=Ys(r):(r=As(t)?_s:Ts.current,s.context=Ns(e,r)),s.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(rr(e,t,r,i),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ar.enqueueReplaceState(s,s.state,null),ir(e,i,s,n),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}var ur=[],hr=0,pr=null,mr=0,fr=[],gr=0,vr=null,br=1,yr="";function Er(e,t){ur[hr++]=mr,ur[hr++]=pr,pr=e,mr=t}function Sr(e,t,i){fr[gr++]=br,fr[gr++]=yr,fr[gr++]=vr,vr=e;var n=br;e=yr;var s=32-at(n)-1;n&=~(1<<s),i+=1;var r=32-at(t)+s;if(30<r){var a=s-s%5;r=(n&(1<<a)-1).toString(32),n>>=a,s-=a,br=1<<32-at(t)+s|i<<s|n,yr=r+e}else br=1<<r|i<<s|n,yr=e}function Tr(e){null!==e.return&&(Er(e,1),Sr(e,1,0))}function Or(e){for(;e===pr;)pr=ur[--hr],ur[hr]=null,mr=ur[--hr],ur[hr]=null;for(;e===vr;)vr=fr[--gr],fr[gr]=null,yr=fr[--gr],fr[gr]=null,br=fr[--gr],fr[gr]=null}var _r=null,Nr=null,Ar=!1,wr=null;function Ir(e,t){var i=vc(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function kr(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,_r=e,Nr=ns(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,_r=e,Nr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==vr?{id:br,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=vc(18,null,null,0)).stateNode=t,i.return=e,e.child=i,_r=e,Nr=null,!0);default:return!1}}function Pr(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Lr(e){if(Ar){var t=Nr;if(t){var i=t;if(!kr(e,t)){if(Pr(e))throw Error(r(418));t=ns(i.nextSibling);var n=_r;t&&kr(e,t)?Ir(n,i):(e.flags=-4097&e.flags|2,Ar=!1,_r=e)}}else{if(Pr(e))throw Error(r(418));e.flags=-4097&e.flags|2,Ar=!1,_r=e}}}function Cr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_r=e}function Rr(e){if(e!==_r)return!1;if(!Ar)return Cr(e),Ar=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zn(e.type,e.memoizedProps)),t&&(t=Nr)){if(Pr(e)){for(e=Nr;e;)e=ns(e.nextSibling);throw Error(r(418))}for(;t;)Ir(e,t),t=ns(t.nextSibling)}if(Cr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){Nr=ns(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}Nr=null}}else Nr=_r?ns(e.stateNode.nextSibling):null;return!0}function Dr(){Nr=_r=null,Ar=!1}function Mr(e){null===wr?wr=[e]:wr.push(e)}function xr(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(r(309));var n=i.stateNode}if(!n)throw Error(r(147,e));var s=n,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=s.refs;t===sr&&(t=s.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function jr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ur(e){return(0,e._init)(e._payload)}function Hr(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=yc(e,t)).index=0,e.sibling=null,e}function a(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=Oc(i,e.mode,n)).return=e,t):((t=s(t,i)).return=e,t)}function c(e,t,i,n){var r=i.type;return r===O?u(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===C&&Ur(r)===t.type)?((n=s(t,i.props)).ref=xr(e,t,i),n.return=e,n):((n=Ec(i.type,i.key,i.props,null,e.mode,n)).ref=xr(e,t,i),n.return=e,n)}function d(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=_c(i,e.mode,n)).return=e,t):((t=s(t,i.children||[])).return=e,t)}function u(e,t,i,n,r){return null===t||7!==t.tag?((t=Sc(i,e.mode,n,r)).return=e,t):((t=s(t,i)).return=e,t)}function h(e,t,i){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Oc(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(i=Ec(t.type,t.key,t.props,null,e.mode,i)).ref=xr(e,null,t),i.return=e,i;case T:return(t=_c(t,e.mode,i)).return=e,t;case C:return h(e,(0,t._init)(t._payload),i)}if(te(t)||M(t))return(t=Sc(t,e.mode,i,null)).return=e,t;jr(e,t)}return null}function p(e,t,i,n){var s=null!==t?t.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==s?null:l(e,t,""+i,n);if("object"==typeof i&&null!==i){switch(i.$$typeof){case S:return i.key===s?c(e,t,i,n):null;case T:return i.key===s?d(e,t,i,n):null;case C:return p(e,t,(s=i._init)(i._payload),n)}if(te(i)||M(i))return null!==s?null:u(e,t,i,n,null);jr(e,i)}return null}function m(e,t,i,n,s){if("string"==typeof n&&""!==n||"number"==typeof n)return l(t,e=e.get(i)||null,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return c(t,e=e.get(null===n.key?i:n.key)||null,n,s);case T:return d(t,e=e.get(null===n.key?i:n.key)||null,n,s);case C:return m(e,t,i,(0,n._init)(n._payload),s)}if(te(n)||M(n))return u(t,e=e.get(i)||null,n,s,null);jr(t,n)}return null}function f(s,r,o,l){for(var c=null,d=null,u=r,f=r=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=p(s,u,o[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(s,u),r=a(v,r,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===o.length)return i(s,u),Ar&&Er(s,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(s,o[f],l))&&(r=a(u,r,f),null===d?c=u:d.sibling=u,d=u);return Ar&&Er(s,f),c}for(u=n(s,u);f<o.length;f++)null!==(g=m(u,s,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),r=a(g,r,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(s,e)})),Ar&&Er(s,f),c}function g(s,o,l,c){var d=M(l);if("function"!=typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,f=o,g=o=0,v=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var y=p(s,f,b.value,c);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(s,f),o=a(y,o,g),null===u?d=y:u.sibling=y,u=y,f=v}if(b.done)return i(s,f),Ar&&Er(s,g),d;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=h(s,b.value,c))&&(o=a(b,o,g),null===u?d=b:u.sibling=b,u=b);return Ar&&Er(s,g),d}for(f=n(s,f);!b.done;g++,b=l.next())null!==(b=m(f,s,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),o=a(b,o,g),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach((function(e){return t(s,e)})),Ar&&Er(s,g),d}return function e(n,r,a,l){if("object"==typeof a&&null!==a&&a.type===O&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var c=a.key,d=r;null!==d;){if(d.key===c){if((c=a.type)===O){if(7===d.tag){i(n,d.sibling),(r=s(d,a.props.children)).return=n,n=r;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===C&&Ur(c)===d.type){i(n,d.sibling),(r=s(d,a.props)).ref=xr(n,d,a),r.return=n,n=r;break e}i(n,d);break}t(n,d),d=d.sibling}a.type===O?((r=Sc(a.props.children,n.mode,l,a.key)).return=n,n=r):((l=Ec(a.type,a.key,a.props,null,n.mode,l)).ref=xr(n,r,a),l.return=n,n=l)}return o(n);case T:e:{for(d=a.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){i(n,r.sibling),(r=s(r,a.children||[])).return=n,n=r;break e}i(n,r);break}t(n,r),r=r.sibling}(r=_c(a,n.mode,l)).return=n,n=r}return o(n);case C:return e(n,r,(d=a._init)(a._payload),l)}if(te(a))return f(n,r,a,l);if(M(a))return g(n,r,a,l);jr(n,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==r&&6===r.tag?(i(n,r.sibling),(r=s(r,a)).return=n,n=r):(i(n,r),(r=Oc(a,n.mode,l)).return=n,n=r),o(n)):i(n,r)}}var Fr=Hr(!0),Br=Hr(!1),Vr={},Gr=bs(Vr),Wr=bs(Vr),zr=bs(Vr);function Kr(e){if(e===Vr)throw Error(r(174));return e}function Yr(e,t){switch(Es(zr,t),Es(Wr,e),Es(Gr,Vr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ys(Gr),Es(Gr,t)}function $r(){ys(Gr),ys(Wr),ys(zr)}function qr(e){Kr(zr.current);var t=Kr(Gr.current),i=le(t,e.type);t!==i&&(Es(Wr,e),Es(Gr,i))}function Zr(e){Wr.current===e&&(ys(Gr),ys(Wr))}var Qr=bs(0);function Xr(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jr=[];function ea(){for(var e=0;e<Jr.length;e++)Jr[e]._workInProgressVersionPrimary=null;Jr.length=0}var ta=E.ReactCurrentDispatcher,ia=E.ReactCurrentBatchConfig,na=0,sa=null,ra=null,aa=null,oa=!1,la=!1,ca=0,da=0;function ua(){throw Error(r(321))}function ha(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!tn(e[i],t[i]))return!1;return!0}function pa(e,t,i,n,s,a){if(na=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=null===e||null===e.memoizedState?qa:Za,e=i(n,s),la){a=0;do{if(la=!1,ca=0,25<=a)throw Error(r(301));a+=1,aa=ra=null,t.updateQueue=null,ta.current=Qa,e=i(n,s)}while(la)}if(ta.current=$a,t=null!==ra&&null!==ra.next,na=0,aa=ra=sa=null,oa=!1,t)throw Error(r(300));return e}function ma(){var e=0!==ca;return ca=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===aa?sa.memoizedState=aa=e:aa=aa.next=e,aa}function ga(){if(null===ra){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ra.next;var t=null===aa?sa.memoizedState:aa.next;if(null!==t)aa=t,ra=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ra=e).memoizedState,baseState:ra.baseState,baseQueue:ra.baseQueue,queue:ra.queue,next:null},null===aa?sa.memoizedState=aa=e:aa=aa.next=e}return aa}function va(e,t){return"function"==typeof t?t(e):t}function ba(e){var t=ga(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=ra,s=n.baseQueue,a=i.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,i.pending=null}if(null!==s){a=s.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((na&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,sa.lanes|=u,Tl|=u}d=d.next}while(null!==d&&d!==a);null===c?o=n:c.next=l,tn(n,t.memoizedState)||(mo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,i.lastRenderedState=n}if(null!==(e=i.interleaved)){s=e;do{a=s.lane,sa.lanes|=a,Tl|=a,s=s.next}while(s!==e)}else null===s&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function ya(e){var t=ga(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=i.dispatch,s=i.pending,a=t.memoizedState;if(null!==s){i.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);tn(a,t.memoizedState)||(mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),i.lastRenderedState=a}return[a,n]}function Ea(){}function Sa(e,t){var i=sa,n=ga(),s=t(),a=!tn(n.memoizedState,s);if(a&&(n.memoizedState=s,mo=!0),n=n.queue,Ca(_a.bind(null,i,n,e),[e]),n.getSnapshot!==t||a||null!==aa&&1&aa.memoizedState.tag){if(i.flags|=2048,wa(9,Oa.bind(null,i,n,s,t),void 0,null),null===fl)throw Error(r(349));0!=(30&na)||Ta(i,t,s)}return s}function Ta(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function Oa(e,t,i,n){t.value=i,t.getSnapshot=n,Na(t)&&Bl(e,1,-1)}function _a(e,t,i){return i((function(){Na(t)&&Bl(e,1,-1)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!tn(e,i)}catch(e){return!0}}function Aa(e){var t=fa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[t.memoizedState,e]}function wa(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function Ia(){return ga().memoizedState}function ka(e,t,i,n){var s=fa();sa.flags|=e,s.memoizedState=wa(1|t,i,void 0,void 0===n?null:n)}function Pa(e,t,i,n){var s=ga();n=void 0===n?null:n;var r=void 0;if(null!==ra){var a=ra.memoizedState;if(r=a.destroy,null!==n&&ha(n,a.deps))return void(s.memoizedState=wa(t,i,r,n))}sa.flags|=e,s.memoizedState=wa(1|t,i,r,n)}function La(e,t){return ka(8390656,8,e,t)}function Ca(e,t){return Pa(2048,8,e,t)}function Ra(e,t){return Pa(4,2,e,t)}function Da(e,t){return Pa(4,4,e,t)}function Ma(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,i){return i=null!=i?i.concat([e]):null,Pa(4,4,Ma.bind(null,t,e),i)}function ja(){}function Ua(e,t){var i=ga();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&ha(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Ha(e,t){var i=ga();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&ha(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function Fa(e,t){var i=bt;bt=0!==i&&4>i?i:4,e(!0);var n=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=i,ia.transition=n}}function Ba(){return ga().memoizedState}function Va(e,t,i){var n=Fl(e);i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Wa(e)?za(t,i):(Ka(e,t,i),null!==(e=Bl(e,n,i=Hl()))&&Ya(e,t,n))}function Ga(e,t,i){var n=Fl(e),s={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Wa(e))za(t,s);else{Ka(e,t,s);var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=r(a,i);if(s.hasEagerState=!0,s.eagerState=o,tn(o,a))return}catch(e){}null!==(e=Bl(e,n,i=Hl()))&&Ya(e,t,n)}}function Wa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function za(e,t){la=oa=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ka(e,t,i){null!==fl&&0!=(1&e.mode)&&0==(2&ml)?(null===(e=t.interleaved)?(i.next=i,null===$s?$s=[t]:$s.push(t)):(i.next=e.next,e.next=i),t.interleaved=i):(null===(e=t.pending)?i.next=i:(i.next=e.next,e.next=i),t.pending=i)}function Ya(e,t,i){if(0!=(4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}var $a={readContext:Ys,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useInsertionEffect:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useDeferredValue:ua,useTransition:ua,useMutableSource:ua,useSyncExternalStore:ua,useId:ua,unstable_isNewReconciler:!1},qa={readContext:Ys,useCallback:function(e,t){return fa().memoizedState=[e,void 0===t?null:t],e},useContext:Ys,useEffect:La,useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,ka(4194308,4,Ma.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var i=fa();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=fa();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Va.bind(null,sa,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},fa().memoizedState=e},useState:Aa,useDebugValue:ja,useDeferredValue:function(e){var t=Aa(e),i=t[0],n=t[1];return La((function(){var t=ia.transition;ia.transition={};try{n(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){var e=Aa(!1),t=e[0];return e=Fa.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=sa,s=fa();if(Ar){if(void 0===i)throw Error(r(407));i=i()}else{if(i=t(),null===fl)throw Error(r(349));0!=(30&na)||Ta(n,t,i)}s.memoizedState=i;var a={value:i,getSnapshot:t};return s.queue=a,La(_a.bind(null,n,a,e),[e]),n.flags|=2048,wa(9,Oa.bind(null,n,a,i,t),void 0,null),i},useId:function(){var e=fa(),t=fl.identifierPrefix;if(Ar){var i=yr;t=":"+t+"R"+(i=(br&~(1<<32-at(br)-1)).toString(32)+i),0<(i=ca++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Ys,useCallback:Ua,useContext:Ys,useEffect:Ca,useImperativeHandle:xa,useInsertionEffect:Ra,useLayoutEffect:Da,useMemo:Ha,useReducer:ba,useRef:Ia,useState:function(){return ba(va)},useDebugValue:ja,useDeferredValue:function(e){var t=ba(va),i=t[0],n=t[1];return Ca((function(){var t=ia.transition;ia.transition={};try{n(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){return[ba(va)[0],ga().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Sa,useId:Ba,unstable_isNewReconciler:!1},Qa={readContext:Ys,useCallback:Ua,useContext:Ys,useEffect:Ca,useImperativeHandle:xa,useInsertionEffect:Ra,useLayoutEffect:Da,useMemo:Ha,useReducer:ya,useRef:Ia,useState:function(){return ya(va)},useDebugValue:ja,useDeferredValue:function(e){var t=ya(va),i=t[0],n=t[1];return Ca((function(){var t=ia.transition;ia.transition={};try{n(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){return[ya(va)[0],ga().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Sa,useId:Ba,unstable_isNewReconciler:!1};function Xa(e,t){try{var i="",n=t;do{i+=B(n),n=n.return}while(n);var s=i}catch(e){s="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:s}}function Ja(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var eo,to,io,no="function"==typeof WeakMap?WeakMap:Map;function so(e,t,i){(i=Xs(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){kl||(kl=!0,Pl=n),Ja(0,t)},i}function ro(e,t,i){(i=Xs(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var s=t.value;i.payload=function(){return n(s)},i.callback=function(){Ja(0,t)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(i.callback=function(){Ja(0,t),"function"!=typeof n&&(null===Ll?Ll=new Set([this]):Ll.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function ao(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new no;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(i)||(s.add(i),e=uc.bind(null,e,t,i),t.then(e,e))}function oo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function lo(e,t,i,n,s){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Xs(-1,1)).tag=2,Js(i,t))),i.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}function co(e,t){if(!Ar)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function uo(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var s=e.child;null!==s;)i|=s.lanes|s.childLanes,n|=14680064&s.subtreeFlags,n|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function ho(e,t,i){var n=t.pendingProps;switch(Or(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return uo(t),null;case 1:return As(t.type)&&ws(),uo(t),null;case 3:return n=t.stateNode,$r(),ys(Os),ys(Ts),ea(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Rr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==wr&&(Kl(wr),wr=null))),uo(t),null;case 5:Zr(t);var s=Kr(zr.current);if(i=t.type,null!==e&&null!=t.stateNode)to(e,t,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return uo(t),null}if(e=Kr(Gr.current),Rr(t)){n=t.stateNode,i=t.type;var a=t.memoizedProps;switch(n[as]=t,n[os]=a,e=0!=(1&t.mode),i){case"dialog":Dn("cancel",n),Dn("close",n);break;case"iframe":case"object":case"embed":Dn("load",n);break;case"video":case"audio":for(s=0;s<Pn.length;s++)Dn(Pn[s],n);break;case"source":Dn("error",n);break;case"img":case"image":case"link":Dn("error",n),Dn("load",n);break;case"details":Dn("toggle",n);break;case"input":Z(n,a),Dn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Dn("invalid",n);break;case"textarea":se(n,a),Dn("invalid",n)}for(var l in be(i,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?n.textContent!==c&&(Yn(n.textContent,c,e),s=["children",c]):"number"==typeof c&&n.textContent!==""+c&&(Yn(n.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Dn("scroll",n)}switch(i){case"input":K(n),J(n,a,!0);break;case"textarea":K(n),ae(n);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(n.onclick=$n)}n=s,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(i,{is:n.is}):(e=l.createElement(i),"select"===i&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,i),e[as]=t,e[os]=n,eo(e,t),t.stateNode=e;e:{switch(l=ye(i,n),i){case"dialog":Dn("cancel",e),Dn("close",e),s=n;break;case"iframe":case"object":case"embed":Dn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Pn.length;s++)Dn(Pn[s],e);s=n;break;case"source":Dn("error",e),s=n;break;case"img":case"image":case"link":Dn("error",e),Dn("load",e),s=n;break;case"details":Dn("toggle",e),s=n;break;case"input":Z(e,n),s=q(e,n),Dn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=j({},n,{value:void 0}),Dn("invalid",e);break;case"textarea":se(e,n),s=ne(e,n),Dn("invalid",e);break;default:s=n}for(a in be(i,s),c=s)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"==typeof d?("textarea"!==i||""!==d)&&he(e,d):"number"==typeof d&&he(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Dn("scroll",e):null!=d&&y(e,a,d,l))}switch(i){case"input":K(e),J(e,n,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(a=n.value)?ie(e,!!n.multiple,a,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=$n)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return uo(t),null;case 6:if(e&&null!=t.stateNode)io(0,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(r(166));if(i=Kr(zr.current),Kr(Gr.current),Rr(t)){if(n=t.stateNode,i=t.memoizedProps,n[as]=t,(a=n.nodeValue!==i)&&null!==(e=_r))switch(l=0!=(1&e.mode),e.tag){case 3:Yn(n.nodeValue,i,l);break;case 5:!0!==e.memoizedProps[void 0]&&Yn(n.nodeValue,i,l)}a&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[as]=t,t.stateNode=n}return uo(t),null;case 13:if(ys(Qr),n=t.memoizedState,Ar&&null!==Nr&&0!=(1&t.mode)&&0==(128&t.flags)){for(n=Nr;n;)n=ns(n.nextSibling);return Dr(),t.flags|=98560,t}if(null!==n&&null!==n.dehydrated){if(n=Rr(t),null===e){if(!n)throw Error(r(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(r(317));n[as]=t}else Dr(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return uo(t),null}return null!==wr&&(Kl(wr),wr=null),0!=(128&t.flags)?(t.lanes=i,t):(n=null!==n,i=!1,null===e?Rr(t):i=null!==e.memoizedState,n&&!i&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&Qr.current)?0===El&&(El=3):tc())),null!==t.updateQueue&&(t.flags|=4),uo(t),null);case 4:return $r(),null===e&&jn(t.stateNode.containerInfo),uo(t),null;case 10:return Ws(t.type._context),uo(t),null;case 17:return As(t.type)&&ws(),uo(t),null;case 19:if(ys(Qr),null===(a=t.memoizedState))return uo(t),null;if(n=0!=(128&t.flags),null===(l=a.rendering))if(n)co(a,!1);else{if(0!==El||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Xr(e))){for(t.flags|=128,co(a,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(a=i).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Es(Qr,1&Qr.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Il&&(t.flags|=128,n=!0,co(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Xr(l))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),co(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Ar)return uo(t),null}else 2*Qe()-a.renderingStartTime>Il&&1073741824!==i&&(t.flags|=128,n=!0,co(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=a.last)?i.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,i=Qr.current,Es(Qr,n?1&i|2:1&i),t):(uo(t),null);case 22:case 23:return Ql(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!=(1&t.mode)?0!=(1073741824&bl)&&(uo(t),6&t.subtreeFlags&&(t.flags|=8192)):uo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}eo=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},to=function(e,t,i,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Kr(Gr.current);var r,a=null;switch(i){case"input":s=q(e,s),n=q(e,n),a=[];break;case"select":s=j({},s,{value:void 0}),n=j({},n,{value:void 0}),a=[];break;case"textarea":s=ne(e,s),n=ne(e,n),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof n.onClick&&(e.onclick=$n)}for(d in be(i,n),i=null,s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(r in l)l.hasOwnProperty(r)&&(i||(i={}),i[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=s?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(i||(i={}),i[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(i||(i={}),i[r]=c[r])}else i||(a||(a=[]),a.push(d,i)),i=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Dn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}i&&(a=a||[]).push("style",i);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},io=function(e,t,i,n){i!==n&&(t.flags|=4)};var po=E.ReactCurrentOwner,mo=!1;function fo(e,t,i,n){t.child=null===e?Br(t,null,i,n):Fr(t,e.child,i,n)}function go(e,t,i,n,s){i=i.render;var r=t.ref;return Ks(t,s),n=pa(e,t,i,n,r,s),i=ma(),null===e||mo?(Ar&&i&&Tr(t),t.flags|=1,fo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xo(e,t,s))}function vo(e,t,i,n,s){if(null===e){var r=i.type;return"function"!=typeof r||bc(r)||void 0!==r.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Ec(i.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,bo(e,t,r,n,s))}if(r=e.child,0==(e.lanes&s)){var a=r.memoizedProps;if((i=null!==(i=i.compare)?i:nn)(a,n)&&e.ref===t.ref)return xo(e,t,s)}return t.flags|=1,(e=yc(r,n)).ref=t.ref,e.return=t,t.child=e}function bo(e,t,i,n,s){if(null!==e&&nn(e.memoizedProps,n)&&e.ref===t.ref){if(mo=!1,0==(e.lanes&s))return t.lanes=e.lanes,xo(e,t,s);0!=(131072&e.flags)&&(mo=!0)}return So(e,t,i,n,s)}function yo(e,t,i){var n=t.pendingProps,s=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Es(yl,bl),bl|=i;else{if(0==(1073741824&i))return e=null!==r?r.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Es(yl,bl),bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null},n=null!==r?r.baseLanes:i,Es(yl,bl),bl|=n}else null!==r?(n=r.baseLanes|i,t.memoizedState=null):n=i,Es(yl,bl),bl|=n;return fo(e,t,s,i),t.child}function Eo(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,i,n,s){var r=As(i)?_s:Ts.current;return r=Ns(t,r),Ks(t,s),i=pa(e,t,i,n,r,s),n=ma(),null===e||mo?(Ar&&n&&Tr(t),t.flags|=1,fo(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xo(e,t,s))}function To(e,t,i,n,s){if(As(i)){var r=!0;Ps(t)}else r=!1;if(Ks(t,s),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),lr(t,i,n),dr(t,i,n,s),n=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=i.contextType;"object"==typeof c&&null!==c?c=Ys(c):c=Ns(t,c=As(i)?_s:Ts.current);var d=i.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==n||l!==c)&&cr(t,a,n,c),qs=!1;var h=t.memoizedState;a.state=h,ir(t,n,a,s),l=t.memoizedState,o!==n||h!==l||Os.current||qs?("function"==typeof d&&(rr(t,i,d,n),l=t.memoizedState),(o=qs||or(t,i,o,n,h,l,c))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Qs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Us(t.type,o),a.props=c,u=t.pendingProps,h=a.context,"object"==typeof(l=i.contextType)&&null!==l?l=Ys(l):l=Ns(t,l=As(i)?_s:Ts.current);var p=i.getDerivedStateFromProps;(d="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==u||h!==l)&&cr(t,a,n,l),qs=!1,h=t.memoizedState,a.state=h,ir(t,n,a,s);var m=t.memoizedState;o!==u||h!==m||Os.current||qs?("function"==typeof p&&(rr(t,i,p,n),m=t.memoizedState),(c=qs||or(t,i,c,n,h,m,l)||!1)?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,m,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,m,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Oo(e,t,i,n,r,s)}function Oo(e,t,i,n,s,r){Eo(e,t);var a=0!=(128&t.flags);if(!n&&!a)return s&&Ls(t,i,!1),xo(e,t,r);n=t.stateNode,po.current=t;var o=a&&"function"!=typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Fr(t,e.child,null,r),t.child=Fr(t,null,o,r)):fo(e,t,o,r),t.memoizedState=n.state,s&&Ls(t,i,!0),t.child}function _o(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),Yr(e,t.containerInfo)}function No(e,t,i,n,s){return Dr(),Mr(s),t.flags|=256,fo(e,t,i,n),t.child}var Ao={dehydrated:null,treeContext:null,retryLane:0};function wo(e){return{baseLanes:e,cachePool:null}}function Io(e,t,i){var n,s=t.pendingProps,a=Qr.current,o=!1,l=0!=(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!=(2&a)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Es(Qr,1&a),null===e)return Lr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},0==(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Tc(a,s,0,null),e=Sc(e,s,i,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=wo(i),t.memoizedState=Ao,e):ko(t,a));if(null!==(a=e.memoizedState)){if(null!==(n=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Co(e,t,i,Error(r(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=Tc({mode:"visible",children:s.children},a,0,null),(o=Sc(o,a,i,null)).flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,0!=(1&t.mode)&&Fr(t,e.child,null,i),t.child.memoizedState=wo(i),t.memoizedState=Ao,o);if(0==(1&t.mode))t=Co(e,t,i,null);else if("$!"===n.data)t=Co(e,t,i,Error(r(419)));else if(s=0!=(i&e.childLanes),mo||s){if(null!==(s=fl)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(s=0!=(o&(s.suspendedLanes|i))?0:o)&&s!==a.retryLane&&(a.retryLane=s,Bl(e,s,-1))}tc(),t=Co(e,t,i,Error(r(421)))}else"$?"===n.data?(t.flags|=128,t.child=e.child,t=pc.bind(null,e),n._reactRetry=t,t=null):(i=a.treeContext,Nr=ns(n.nextSibling),_r=t,Ar=!0,wr=null,null!==i&&(fr[gr++]=br,fr[gr++]=yr,fr[gr++]=vr,br=i.id,yr=i.overflow,vr=t),(t=ko(t,t.pendingProps.children)).flags|=4096);return t}return o?(s=Lo(e,t,s.children,s.fallback,i),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?wo(i):{baseLanes:a.baseLanes|i,cachePool:null},o.childLanes=e.childLanes&~i,t.memoizedState=Ao,s):(i=Po(e,t,s.children,i),t.memoizedState=null,i)}return o?(s=Lo(e,t,s.children,s.fallback,i),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?wo(i):{baseLanes:a.baseLanes|i,cachePool:null},o.childLanes=e.childLanes&~i,t.memoizedState=Ao,s):(i=Po(e,t,s.children,i),t.memoizedState=null,i)}function ko(e,t){return(t=Tc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Po(e,t,i,n){var s=e.child;return e=s.sibling,i=yc(s,{mode:"visible",children:i}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i}function Lo(e,t,i,n,s){var r=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:i};return 0==(1&r)&&t.child!==e?((i=t.child).childLanes=0,i.pendingProps=o,t.deletions=null):(i=yc(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?n=yc(a,n):(n=Sc(n,r,s,null)).flags|=2,n.return=t,i.return=t,i.sibling=n,t.child=i,n}function Co(e,t,i,n){return null!==n&&Mr(n),Fr(t,e.child,null,i),(e=ko(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ro(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),zs(e.return,t,i)}function Do(e,t,i,n,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=s)}function Mo(e,t,i){var n=t.pendingProps,s=n.revealOrder,r=n.tail;if(fo(e,t,n.children,i),0!=(2&(n=Qr.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ro(e,i,t);else if(19===e.tag)Ro(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Es(Qr,n),0==(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;null!==i;)null!==(e=i.alternate)&&null===Xr(e)&&(s=i),i=i.sibling;null===(i=s)?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Do(t,!1,s,i,r);break;case"backwards":for(i=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Xr(e)){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Do(t,!0,i,null,r);break;case"together":Do(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Tl|=t.lanes,0==(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(i=yc(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=yc(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function jo(e,t){switch(Or(t),t.tag){case 1:return As(t.type)&&ws(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $r(),ys(Os),ys(Ts),ea(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zr(t),null;case 13:if(ys(Qr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));Dr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ys(Qr),null;case 4:return $r(),null;case 10:return Ws(t.type._context),null;case 22:case 23:return Ql(),null;case 24:default:return null}}var Uo=!1,Ho=!1,Fo="function"==typeof WeakSet?WeakSet:Set,Bo=null;function Vo(e,t){var i=e.ref;if(null!==i)if("function"==typeof i)try{i(null)}catch(i){dc(e,t,i)}else i.current=null}function Go(e,t,i){try{i()}catch(i){dc(e,t,i)}}var Wo=!1;function zo(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,void 0!==r&&Go(t,i,r)}s=s.next}while(s!==n)}}function Ko(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function Yo(e){var t=e.ref;if(null!==t){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}"function"==typeof t?t(e):t.current=e}}function $o(e,t,i){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(st,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var s=n,r=s.destroy;s=s.tag,void 0!==r&&(0!=(2&s)||0!=(4&s))&&Go(t,i,r),n=n.next}while(n!==e)}break;case 1:if(Vo(t,i),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){dc(t,i,e)}break;case 5:Vo(t,i);break;case 4:tl(e,t,i)}}function qo(e){var t=e.alternate;null!==t&&(e.alternate=null,qo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[as],delete t[os],delete t[cs],delete t[ds],delete t[us])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zo(e){return 5===e.tag||3===e.tag||4===e.tag}function Qo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xo(e){e:{for(var t=e.return;null!==t;){if(Zo(t))break e;t=t.return}throw Error(r(160))}var i=t;switch(i.tag){case 5:t=i.stateNode,32&i.flags&&(he(t,""),i.flags&=-33),el(e,i=Qo(e),t);break;case 3:case 4:t=i.stateNode.containerInfo,Jo(e,i=Qo(e),t);break;default:throw Error(r(161))}}function Jo(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!=(i=i._reactRootContainer)||null!==t.onclick||(t.onclick=$n));else if(4!==n&&null!==(e=e.child))for(Jo(e,t,i),e=e.sibling;null!==e;)Jo(e,t,i),e=e.sibling}function el(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(el(e,t,i),e=e.sibling;null!==e;)el(e,t,i),e=e.sibling}function tl(e,t,i){for(var n,s,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(r(160));switch(n=o.stateNode,o.tag){case 5:s=!1;break e;case 3:case 4:n=n.containerInfo,s=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var l=e,c=a,d=i,u=c;;)if($o(l,u,d),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(l=n,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):n.removeChild(a.stateNode)}else if(18===a.tag)s?(l=n,c=a.stateNode,8===l.nodeType?is(l.parentNode,c):1===l.nodeType&&is(l,c),Bt(l)):is(n,a.stateNode);else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,s=!0,a.child.return=a,a=a.child;continue}}else if($o(e,a,i),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function il(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return zo(3,t,t.return),Ko(3,t),void zo(5,t,t.return);case 1:return;case 5:var i=t.stateNode;if(null!=i){var n=t.memoizedProps,s=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for("input"===e&&"radio"===n.type&&null!=n.name&&Q(i,n),ye(e,s),t=ye(e,n),s=0;s<a.length;s+=2){var o=a[s],l=a[s+1];"style"===o?ge(i,l):"dangerouslySetInnerHTML"===o?ue(i,l):"children"===o?he(i,l):y(i,o,l,t)}switch(e){case"input":X(i,n);break;case"textarea":re(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(a=n.value)?ie(i,!!n.multiple,a,!1):e!==!!n.multiple&&(null!=n.defaultValue?ie(i,!!n.multiple,n.defaultValue,!0):ie(i,!!n.multiple,n.multiple?[]:"",!1))}i[os]=n}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Bt(t.stateNode.containerInfo));case 12:return;case 13:case 19:return void nl(t);case 17:return}throw Error(r(163))}function nl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Fo),t.forEach((function(t){var n=mc.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function sl(e,t,i){Bo=e,rl(e,t,i)}function rl(e,t,i){for(var n=0!=(1&e.mode);null!==Bo;){var s=Bo,r=s.child;if(22===s.tag&&n){var a=null!==s.memoizedState||Uo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Ho;o=Uo;var c=Ho;if(Uo=a,(Ho=l)&&!c)for(Bo=s;null!==Bo;)l=(a=Bo).child,22===a.tag&&null!==a.memoizedState?ll(s):null!==l?(l.return=a,Bo=l):ll(s);for(;null!==r;)Bo=r,rl(r,t,i),r=r.sibling;Bo=s,Uo=o,Ho=c}al(e)}else 0!=(8772&s.subtreeFlags)&&null!==r?(r.return=s,Bo=r):al(e)}}function al(e){for(;null!==Bo;){var t=Bo;if(0!=(8772&t.flags)){var i=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ho||Ko(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ho)if(null===i)n.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:Us(t.type,i.memoizedProps);n.componentDidUpdate(s,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&nr(t,a,n);break;case 3:var o=t.updateQueue;if(null!==o){if(i=null,null!==t.child)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}nr(t,o,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Bt(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(r(163))}Ho||512&t.flags&&Yo(t)}catch(e){dc(t,t.return,e)}}if(t===e){Bo=null;break}if(null!==(i=t.sibling)){i.return=t.return,Bo=i;break}Bo=t.return}}function ol(e){for(;null!==Bo;){var t=Bo;if(t===e){Bo=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Bo=i;break}Bo=t.return}}function ll(e){for(;null!==Bo;){var t=Bo;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ko(4,t)}catch(e){dc(t,i,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var s=t.return;try{n.componentDidMount()}catch(e){dc(t,s,e)}}var r=t.return;try{Yo(t)}catch(e){dc(t,r,e)}break;case 5:var a=t.return;try{Yo(t)}catch(e){dc(t,a,e)}}}catch(e){dc(t,t.return,e)}if(t===e){Bo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Bo=o;break}Bo=t.return}}var cl,dl=Math.ceil,ul=E.ReactCurrentDispatcher,hl=E.ReactCurrentOwner,pl=E.ReactCurrentBatchConfig,ml=0,fl=null,gl=null,vl=0,bl=0,yl=bs(0),El=0,Sl=null,Tl=0,Ol=0,_l=0,Nl=null,Al=null,wl=0,Il=1/0,kl=!1,Pl=null,Ll=null,Cl=!1,Rl=null,Dl=0,Ml=0,xl=null,jl=-1,Ul=0;function Hl(){return 0!=(6&ml)?Qe():-1!==jl?jl:jl=Qe()}function Fl(e){return 0==(1&e.mode)?1:0!=(2&ml)&&0!==vl?vl&-vl:null!==js.transition?(0===Ul&&(e=ct,0==(4194240&(ct<<=1))&&(ct=64),Ul=e),Ul):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Bl(e,t,i){if(50<Ml)throw Ml=0,xl=null,Error(r(185));var n=Vl(e,t);return null===n?null:(gt(n,t,i),0!=(2&ml)&&n===fl||(n===fl&&(0==(2&ml)&&(Ol|=t),4===El&&Yl(n,vl)),Gl(n,i),1===t&&0===ml&&0==(1&e.mode)&&(Il=Qe()+500,Rs&&xs())),n)}function Vl(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}function Gl(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-at(r),o=1<<a,l=s[a];-1===l?0!=(o&i)&&0==(o&n)||(s[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}}(e,t);var n=ht(e,e===fl?vl:0);if(0===n)null!==i&&$e(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&$e(i),1===t)0===e.tag?function(e){Rs=!0,Ms(e)}($l.bind(null,e)):Ms($l.bind(null,e)),es((function(){0===ml&&xs()})),i=null;else{switch(yt(n)){case 1:i=Je;break;case 4:i=et;break;case 16:i=tt;break;case 536870912:i=nt;break;default:i=tt}i=fc(i,Wl.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Wl(e,t){if(jl=-1,Ul=0,0!=(6&ml))throw Error(r(327));var i=e.callbackNode;if(lc()&&e.callbackNode!==i)return null;var n=ht(e,e===fl?vl:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=ic(e,n);else{t=n;var s=ml;ml|=2;var a=ec();for(fl===e&&vl===t||(Il=Qe()+500,Xl(e,t));;)try{sc();break}catch(t){Jl(e,t)}Gs(),ul.current=a,ml=s,null!==gl?t=0:(fl=null,vl=0,t=El)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(n=s,t=zl(e,s))),1===t)throw i=Sl,Xl(e,0),Yl(e,n),Gl(e,Qe()),i;if(6===t)Yl(e,n);else{if(s=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var s=i[n],r=s.getSnapshot;s=s.value;try{if(!tn(r(),s))return!1}catch(e){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=ic(e,n))&&(0!==(a=mt(e))&&(n=a,t=zl(e,a))),1===t))throw i=Sl,Xl(e,0),Yl(e,n),Gl(e,Qe()),i;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:oc(e,Al);break;case 3:if(Yl(e,n),(130023424&n)===n&&10<(t=wl+500-Qe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&n)!==n){Hl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Qn(oc.bind(null,e,Al),t);break}oc(e,Al);break;case 4:if(Yl(e,n),(4194240&n)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-at(n);a=1<<o,(o=t[o])>s&&(s=o),n&=~a}if(n=s,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dl(n/1960))-n)){e.timeoutHandle=Qn(oc.bind(null,e,Al),n);break}oc(e,Al);break;case 5:oc(e,Al);break;default:throw Error(r(329))}}}return Gl(e,Qe()),e.callbackNode===i?Wl.bind(null,e):null}function zl(e,t){var i=Nl;return e.current.memoizedState.isDehydrated&&(Xl(e,t).flags|=256),2!==(e=ic(e,t))&&(t=Al,Al=i,null!==t&&Kl(t)),e}function Kl(e){null===Al?Al=e:Al.push.apply(Al,e)}function Yl(e,t){for(t&=~_l,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-at(t),n=1<<i;e[i]=-1,t&=~n}}function $l(e){if(0!=(6&ml))throw Error(r(327));lc();var t=ht(e,0);if(0==(1&t))return Gl(e,Qe()),null;var i=ic(e,t);if(0!==e.tag&&2===i){var n=mt(e);0!==n&&(t=n,i=zl(e,n))}if(1===i)throw i=Sl,Xl(e,0),Yl(e,t),Gl(e,Qe()),i;if(6===i)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oc(e,Al),Gl(e,Qe()),null}function ql(e,t){var i=ml;ml|=1;try{return e(t)}finally{0===(ml=i)&&(Il=Qe()+500,Rs&&xs())}}function Zl(e){null!==Rl&&0===Rl.tag&&0==(6&ml)&&lc();var t=ml;ml|=1;var i=pl.transition,n=bt;try{if(pl.transition=null,bt=1,e)return e()}finally{bt=n,pl.transition=i,0==(6&(ml=t))&&xs()}}function Ql(){bl=yl.current,ys(yl)}function Xl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,Xn(i)),null!==gl)for(i=gl.return;null!==i;){var n=i;switch(Or(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&ws();break;case 3:$r(),ys(Os),ys(Ts),ea();break;case 5:Zr(n);break;case 4:$r();break;case 13:case 19:ys(Qr);break;case 10:Ws(n.type._context);break;case 22:case 23:Ql()}i=i.return}if(fl=e,gl=e=yc(e.current,null),vl=bl=t,El=0,Sl=null,_l=Ol=Tl=0,Al=Nl=null,null!==$s){for(t=0;t<$s.length;t++)if(null!==(n=(i=$s[t]).interleaved)){i.interleaved=null;var s=n.next,r=i.pending;if(null!==r){var a=r.next;r.next=s,n.next=a}i.pending=n}$s=null}return e}function Jl(e,t){for(;;){var i=gl;try{if(Gs(),ta.current=$a,oa){for(var n=sa.memoizedState;null!==n;){var s=n.queue;null!==s&&(s.pending=null),n=n.next}oa=!1}if(na=0,aa=ra=sa=null,la=!1,ca=0,hl.current=null,null===i||null===i.return){El=1,Sl=t,gl=null;break}e:{var a=e,o=i.return,l=i,c=t;if(t=vl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,h=u.tag;if(0==(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=oo(o);if(null!==m){m.flags&=-257,lo(m,o,l,0,t),1&m.mode&&ao(a,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0==(1&t)){ao(a,d,t),tc();break e}c=Error(r(426))}else if(Ar&&1&l.mode){var v=oo(o);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),lo(v,o,l,0,t),Mr(c);break e}}a=c,4!==El&&(El=2),null===Nl?Nl=[a]:Nl.push(a),c=Xa(c,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,tr(l,so(0,c,t));break e;case 1:a=c;var b=l.type,y=l.stateNode;if(0==(128&l.flags)&&("function"==typeof b.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Ll||!Ll.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t,tr(l,ro(l,a,t));break e}}l=l.return}while(null!==l)}ac(i)}catch(e){t=e,gl===i&&null!==i&&(gl=i=i.return);continue}break}}function ec(){var e=ul.current;return ul.current=$a,null===e?$a:e}function tc(){0!==El&&3!==El&&2!==El||(El=4),null===fl||0==(268435455&Tl)&&0==(268435455&Ol)||Yl(fl,vl)}function ic(e,t){var i=ml;ml|=2;var n=ec();for(fl===e&&vl===t||Xl(e,t);;)try{nc();break}catch(t){Jl(e,t)}if(Gs(),ml=i,ul.current=n,null!==gl)throw Error(r(261));return fl=null,vl=0,El}function nc(){for(;null!==gl;)rc(gl)}function sc(){for(;null!==gl&&!qe();)rc(gl)}function rc(e){var t=cl(e.alternate,e,bl);e.memoizedProps=e.pendingProps,null===t?ac(e):gl=t,hl.current=null}function ac(e){var t=e;do{var i=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(i=ho(i,t,bl)))return void(gl=i)}else{if(null!==(i=jo(i,t)))return i.flags&=32767,void(gl=i);if(null===e)return El=6,void(gl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===El&&(El=5)}function oc(e,t){var i=bt,n=pl.transition;try{pl.transition=null,bt=1,function(e,t,i){do{lc()}while(null!==Rl);if(0!=(6&ml))throw Error(r(327));var n=e.finishedWork,s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-at(i),r=1<<s;t[s]=0,n[s]=-1,e[s]=-1,i&=~r}}(e,a),e===fl&&(gl=fl=null,vl=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Cl||(Cl=!0,fc(tt,(function(){return lc(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=pl.transition,pl.transition=null;var o=bt;bt=1;var l=ml;ml|=4,hl.current=null,function(e,t){if(ln(e=on())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{i.nodeType,a.nodeType}catch(e){i=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==i||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===i&&++d===s&&(l=o),p===a&&++u===n&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(qn={focusedElem:e,selectionRange:i},Bo=t;null!==Bo;)if(e=(t=Bo).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Bo=e;else for(;null!==Bo;){t=Bo;try{var f=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:Us(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=t.stateNode.containerInfo;if(1===E.nodeType)E.textContent="";else if(9===E.nodeType){var S=E.body;null!=S&&(S.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(e){dc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Bo=e;break}Bo=t.return}f=Wo,Wo=!1}(e,n),function(e,t){for(Bo=t;null!==Bo;){var i=(t=Bo).deletions;if(null!==i)for(var n=0;n<i.length;n++){var s=i[n];try{tl(e,s,t);var r=s.alternate;null!==r&&(r.return=null),s.return=null}catch(e){dc(s,t,e)}}if(i=t.child,0!=(12854&t.subtreeFlags)&&null!==i)i.return=t,Bo=i;else for(;null!==Bo;){t=Bo;try{var a=t.flags;if(32&a&&he(t.stateNode,""),512&a){var o=t.alternate;if(null!==o){var l=o.ref;null!==l&&("function"==typeof l?l(null):l.current=null)}}if(8192&a)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(wl=Qe())}break;case 22:var d=null!==t.memoizedState,u=t.alternate,h=null!==u&&null!==u.memoizedState;e:{s=d;for(var p=null,m=n=i=t;;){if(5===m.tag){if(null===p){p=m;var f=m.stateNode;if(s){var g=f.style;"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var v=m.stateNode,b=m.memoizedProps.style,y=null!=b&&b.hasOwnProperty("display")?b.display:null;v.style.display=fe("display",y)}}}else if(6===m.tag)null===p&&(m.stateNode.nodeValue=s?"":m.memoizedProps);else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===n)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===n)break;for(;null===m.sibling;){if(null===m.return||m.return===n)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}if(d&&!h&&0!=(1&i.mode)){Bo=i;for(var E=i.child;null!==E;){for(i=Bo=E;null!==Bo;){var S=(n=Bo).child;switch(n.tag){case 0:case 11:case 14:case 15:zo(4,n,n.return);break;case 1:Vo(n,n.return);var T=n.stateNode;if("function"==typeof T.componentWillUnmount){var O=n.return;try{T.props=n.memoizedProps,T.state=n.memoizedState,T.componentWillUnmount()}catch(e){dc(n,O,e)}}break;case 5:Vo(n,n.return);break;case 22:if(null!==n.memoizedState){ol(i);continue}}null!==S?(S.return=n,Bo=S):ol(i)}E=E.sibling}}}switch(4102&a){case 2:Xo(t),t.flags&=-3;break;case 6:Xo(t),t.flags&=-3,il(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,il(t.alternate,t);break;case 4:il(t.alternate,t)}}catch(e){dc(t,t.return,e)}if(null!==(i=t.sibling)){i.return=t.return,Bo=i;break}Bo=t.return}}}(e,n),cn(qn),qn=null,e.current=n,sl(n,e,s),Ze(),ml=l,bt=o,pl.transition=a}else e.current=n;if(Cl&&(Cl=!1,Rl=e,Dl=s),0===(a=e.pendingLanes)&&(Ll=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(st,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),Gl(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i(t[n]);if(kl)throw kl=!1,e=Pl,Pl=null,e;0!=(1&Dl)&&0!==e.tag&&lc(),0!=(1&(a=e.pendingLanes))?e===xl?Ml++:(Ml=0,xl=e):Ml=0,xs()}(e,t,i)}finally{pl.transition=n,bt=i}return null}function lc(){if(null!==Rl){var e=yt(Dl),t=pl.transition,i=bt;try{if(pl.transition=null,bt=16>e?16:e,null===Rl)var n=!1;else{if(e=Rl,Rl=null,Dl=0,0!=(6&ml))throw Error(r(331));var s=ml;for(ml|=4,Bo=e.current;null!==Bo;){var a=Bo,o=a.child;if(0!=(16&Bo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Bo=d;null!==Bo;){var u=Bo;switch(u.tag){case 0:case 11:case 15:zo(8,u,a)}var h=u.child;if(null!==h)h.return=u,Bo=h;else for(;null!==Bo;){var p=(u=Bo).sibling,m=u.return;if(qo(u),u===d){Bo=null;break}if(null!==p){p.return=m,Bo=p;break}Bo=m}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Bo=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,Bo=o;else e:for(;null!==Bo;){if(0!=(2048&(a=Bo).flags))switch(a.tag){case 0:case 11:case 15:zo(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Bo=b;break e}Bo=a.return}}var y=e.current;for(Bo=y;null!==Bo;){var E=(o=Bo).child;if(0!=(2064&o.subtreeFlags)&&null!==E)E.return=o,Bo=E;else e:for(o=y;null!==Bo;){if(0!=(2048&(l=Bo).flags))try{switch(l.tag){case 0:case 11:case 15:Ko(9,l)}}catch(e){dc(l,l.return,e)}if(l===o){Bo=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Bo=S;break e}Bo=l.return}}if(ml=s,xs(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(st,e)}catch(e){}n=!0}return n}finally{bt=i,pl.transition=t}}return!1}function cc(e,t,i){Js(e,t=so(0,t=Xa(i,t),1)),t=Hl(),null!==(e=Vl(e,1))&&(gt(e,1,t),Gl(e,t))}function dc(e,t,i){if(3===e.tag)cc(e,e,i);else for(;null!==t;){if(3===t.tag){cc(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Ll||!Ll.has(n))){Js(t,e=ro(t,e=Xa(i,e),1)),e=Hl(),null!==(t=Vl(t,1))&&(gt(t,1,e),Gl(t,e));break}}t=t.return}}function uc(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=Hl(),e.pingedLanes|=e.suspendedLanes&i,fl===e&&(vl&i)===i&&(4===El||3===El&&(130023424&vl)===vl&&500>Qe()-wl?Xl(e,0):_l|=i),Gl(e,t)}function hc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=dt,0==(130023424&(dt<<=1))&&(dt=4194304)));var i=Hl();null!==(e=Vl(e,t))&&(gt(e,t,i),Gl(e,i))}function pc(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),hc(e,i)}function mc(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(i=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),hc(e,i)}function fc(e,t){return Ye(e,t)}function gc(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(e,t,i,n){return new gc(e,t,i,n)}function bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function yc(e,t){var i=e.alternate;return null===i?((i=vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ec(e,t,i,n,s,a){var o=2;if(n=e,"function"==typeof e)bc(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case O:return Sc(i.children,s,a,t);case _:o=8,s|=8;break;case N:return(e=vc(12,i,t,2|s)).elementType=N,e.lanes=a,e;case k:return(e=vc(13,i,t,s)).elementType=k,e.lanes=a,e;case P:return(e=vc(19,i,t,s)).elementType=P,e.lanes=a,e;case R:return Tc(i,s,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case w:o=9;break e;case I:o=11;break e;case L:o=14;break e;case C:o=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=vc(o,i,t,s)).elementType=e,t.type=n,t.lanes=a,t}function Sc(e,t,i,n){return(e=vc(7,e,n,t)).lanes=i,e}function Tc(e,t,i,n){return(e=vc(22,e,n,t)).elementType=R,e.lanes=i,e.stateNode={},e}function Oc(e,t,i){return(e=vc(6,e,null,t)).lanes=i,e}function _c(e,t,i){return(t=vc(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nc(e,t,i,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ac(e,t,i,n,s,r,a,o,l){return e=new Nc(e,t,i,o,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=vc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null},Zs(r),e}function wc(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}function Ic(e){if(!e)return Ss;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var i=e.type;if(As(i))return ks(e,i,t)}return t}function kc(e,t,i,n,s,r,a,o,l){return(e=Ac(i,n,!0,e,0,r,0,o,l)).context=Ic(null),i=e.current,(r=Xs(n=Hl(),s=Fl(i))).callback=null!=t?t:null,Js(i,r),e.current.lanes=s,gt(e,s,n),Gl(e,n),e}function Pc(e,t,i,n){var s=t.current,r=Hl(),a=Fl(s);return i=Ic(i),null===t.context?t.context=i:t.pendingContext=i,(t=Xs(r,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),Js(s,t),null!==(e=Bl(s,a,r))&&er(e,s,a),a}function Lc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Cc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Rc(e,t){Cc(e,t),(e=e.alternate)&&Cc(e,t)}cl=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Os.current)mo=!0;else{if(0==(e.lanes&i)&&0==(128&t.flags))return mo=!1,function(e,t,i){switch(t.tag){case 3:_o(t),Dr();break;case 5:qr(t);break;case 1:As(t.type)&&Ps(t);break;case 4:Yr(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Es(Hs,n._currentValue),n._currentValue=s;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Es(Qr,1&Qr.current),t.flags|=128,null):0!=(i&t.child.childLanes)?Io(e,t,i):(Es(Qr,1&Qr.current),null!==(e=xo(e,t,i))?e.sibling:null);Es(Qr,1&Qr.current);break;case 19:if(n=0!=(i&t.childLanes),0!=(128&e.flags)){if(n)return Mo(e,t,i);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Es(Qr,Qr.current),n)break;return null;case 22:case 23:return t.lanes=0,yo(e,t,i)}return xo(e,t,i)}(e,t,i);mo=0!=(131072&e.flags)}else mo=!1,Ar&&0!=(1048576&t.flags)&&Sr(t,mr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var s=Ns(t,Ts.current);Ks(t,i),s=pa(null,t,n,e,s,i);var a=ma();return t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(n)?(a=!0,Ps(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Zs(t),s.updater=ar,t.stateNode=s,s._reactInternals=t,dr(t,n,e,i),t=Oo(null,t,n,!0,a,i)):(t.tag=0,Ar&&a&&Tr(t),fo(null,t,s,i),t=t.child),t;case 16:n=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=(s=n._init)(n._payload),t.type=n,s=t.tag=function(e){if("function"==typeof e)return bc(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===L)return 14}return 2}(n),e=Us(n,e),s){case 0:t=So(null,t,n,e,i);break e;case 1:t=To(null,t,n,e,i);break e;case 11:t=go(null,t,n,e,i);break e;case 14:t=vo(null,t,n,Us(n.type,e),i);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,So(e,t,n,s=t.elementType===n?s:Us(n,s),i);case 1:return n=t.type,s=t.pendingProps,To(e,t,n,s=t.elementType===n?s:Us(n,s),i);case 3:e:{if(_o(t),null===e)throw Error(r(387));n=t.pendingProps,s=(a=t.memoizedState).element,Qs(e,t),ir(t,n,null,i);var o=t.memoizedState;if(n=o.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=No(e,t,n,i,s=Error(r(423)));break e}if(n!==s){t=No(e,t,n,i,s=Error(r(424)));break e}for(Nr=ns(t.stateNode.containerInfo.firstChild),_r=t,Ar=!0,wr=null,i=Br(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(Dr(),n===s){t=xo(e,t,i);break e}fo(e,t,n,i)}t=t.child}return t;case 5:return qr(t),null===e&&Lr(t),n=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,Zn(n,s)?o=null:null!==a&&Zn(n,a)&&(t.flags|=32),Eo(e,t),fo(e,t,o,i),t.child;case 6:return null===e&&Lr(t),null;case 13:return Io(e,t,i);case 4:return Yr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Fr(t,null,n,i):fo(e,t,n,i),t.child;case 11:return n=t.type,s=t.pendingProps,go(e,t,n,s=t.elementType===n?s:Us(n,s),i);case 7:return fo(e,t,t.pendingProps,i),t.child;case 8:case 12:return fo(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Es(Hs,n._currentValue),n._currentValue=o,null!==a)if(tn(a.value,o)){if(a.children===s.children&&!Os.current){t=xo(e,t,i);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===a.tag){(c=Xs(-1,i&-i)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=i,null!==(c=a.alternate)&&(c.lanes|=i),zs(a.return,i,t),l.lanes|=i;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=i,null!==(l=o.alternate)&&(l.lanes|=i),zs(o,i,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}fo(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ks(t,i),n=n(s=Ys(s)),t.flags|=1,fo(e,t,n,i),t.child;case 14:return s=Us(n=t.type,t.pendingProps),vo(e,t,n,s=Us(n.type,s),i);case 15:return bo(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Us(n,s),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,As(n)?(e=!0,Ps(t)):e=!1,Ks(t,i),lr(t,n,s),dr(t,n,s,i),Oo(null,t,n,!0,e,i);case 19:return Mo(e,t,i);case 22:return yo(e,t,i)}throw Error(r(156,t.tag))};var Dc="function"==typeof reportError?reportError:function(e){console.error(e)};function Mc(e){this._internalRoot=e}function xc(e){this._internalRoot=e}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Hc(){}function Fc(e,t,i,n,s){var r=i._reactRootContainer;if(r){var a=r;if("function"==typeof s){var o=s;s=function(){var e=Lc(a);o.call(e)}}Pc(t,a,e,s)}else a=function(e,t,i,n,s){if(s){if("function"==typeof n){var r=n;n=function(){var e=Lc(a);r.call(e)}}var a=kc(t,n,e,0,null,!1,0,"",Hc);return e._reactRootContainer=a,e[ls]=a.current,jn(8===e.nodeType?e.parentNode:e),Zl(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof n){var o=n;n=function(){var e=Lc(l);o.call(e)}}var l=Ac(e,0,!1,null,0,!1,0,"",Hc);return e._reactRootContainer=l,e[ls]=l.current,jn(8===e.nodeType?e.parentNode:e),Zl((function(){Pc(t,l,i,n)})),l}(i,t,e,s,n);return Lc(a)}xc.prototype.render=Mc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Pc(e,t,null,null)},xc.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zl((function(){Pc(null,e,null,null)})),t[ls]=null}},xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ot();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ct.length&&0!==t&&t<Ct[i].priority;i++);Ct.splice(i,0,e),0===i&&xt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ut(t.pendingLanes);0!==i&&(vt(t,1|i),Gl(t,Qe()),0==(6&ml)&&(Il=Qe()+500,xs()))}break;case 13:var n=Hl();Zl((function(){return Bl(e,1,n)})),Rc(e,1)}},St=function(e){13===e.tag&&(Bl(e,134217728,Hl()),Rc(e,134217728))},Tt=function(e){if(13===e.tag){var t=Hl(),i=Fl(e);Bl(e,i,t),Rc(e,i)}},Ot=function(){return bt},_t=function(e,t){var i=bt;try{return bt=e,t()}finally{bt=i}},Te=function(e,t,i){switch(t){case"input":if(X(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var s=fs(n);if(!s)throw Error(r(90));Y(n),X(n,s)}}}break;case"textarea":re(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Ie=ql,ke=Zl;var Bc={usingClientEntryPoint:!1,Events:[ps,ms,fs,Ae,we,ql]},Vc={findFiberByHostInstance:hs,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gc={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{st=Wc.inject(Gc),rt=Wc}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bc,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!jc(t))throw Error(r(200));return wc(e,t,null,i)},t.createRoot=function(e,t){if(!jc(e))throw Error(r(299));var i=!1,n="",s=Dc;return null!=t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Ac(e,1,!1,null,0,i,0,n,s),e[ls]=t.current,jn(8===e.nodeType?e.parentNode:e),new Mc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return Zl(e)},t.hydrate=function(e,t,i){if(!Uc(t))throw Error(r(200));return Fc(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!jc(e))throw Error(r(405));var n=null!=i&&i.hydratedSources||null,s=!1,a="",o=Dc;if(null!=i&&(!0===i.unstable_strictMode&&(s=!0),void 0!==i.identifierPrefix&&(a=i.identifierPrefix),void 0!==i.onRecoverableError&&(o=i.onRecoverableError)),t=kc(t,null,e,1,null!=i?i:null,s,0,a,o),e[ls]=t.current,jn(e),n)for(e=0;e<n.length;e++)s=(s=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new xc(t)},t.render=function(e,t,i){if(!Uc(t))throw Error(r(200));return Fc(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(r(40));return!!e._reactRootContainer&&(Zl((function(){Fc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ls]=null}))})),!0)},t.unstable_batchedUpdates=ql,t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!Uc(i))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Fc(e,t,i,!1,n)},t.version="18.0.0-fc46dba67-20220329"},20745:(e,t,i)=>{"use strict";var n=i(73935);t.s=n.createRoot,n.hydrateRoot},73935:(e,t,i)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=i(64448)},69590:e=>{var t="undefined"!=typeof Element,i="function"==typeof Map,n="function"==typeof Set,s="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function r(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var o,l,c,d;if(Array.isArray(e)){if((o=e.length)!=a.length)return!1;for(l=o;0!=l--;)if(!r(e[l],a[l]))return!1;return!0}if(i&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!r(l.value[1],a.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((o=e.length)!=a.length)return!1;for(l=o;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((o=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=o;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!r(e[c[l]],a[c[l]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return r(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},77294:(e,t,i)=>{"use strict";i.d(t,{D:()=>ge});var n=i(67294);function s(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function r(e){return e instanceof s(e).Element||e instanceof Element}function a(e){return e instanceof s(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!=typeof ShadowRoot&&(e instanceof s(e).ShadowRoot||e instanceof ShadowRoot)}var l=Math.max,c=Math.min,d=Math.round;function u(e,t){void 0===t&&(t=!1);var i=e.getBoundingClientRect(),n=1,s=1;if(a(e)&&t){var r=e.offsetHeight,o=e.offsetWidth;o>0&&(n=d(i.width)/o||1),r>0&&(s=d(i.height)/r||1)}return{width:i.width/n,height:i.height/s,top:i.top/s,right:i.right/n,bottom:i.bottom/s,left:i.left/n,x:i.left/n,y:i.top/s}}function h(e){var t=s(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function m(e){return((r(e)?e.ownerDocument:e.document)||window.document).documentElement}function f(e){return u(m(e)).left+h(e).scrollLeft}function g(e){return s(e).getComputedStyle(e)}function v(e){var t=g(e),i=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function b(e,t,i){void 0===i&&(i=!1);var n,r,o=a(t),l=a(t)&&function(e){var t=e.getBoundingClientRect(),i=d(t.width)/e.offsetWidth||1,n=d(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),c=m(t),g=u(e,l),b={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(o||!o&&!i)&&(("body"!==p(t)||v(c))&&(b=(n=t)!==s(n)&&a(n)?{scrollLeft:(r=n).scrollLeft,scrollTop:r.scrollTop}:h(n)),a(t)?((y=u(t,!0)).x+=t.clientLeft,y.y+=t.clientTop):c&&(y.x=f(c))),{x:g.left+b.scrollLeft-y.x,y:g.top+b.scrollTop-y.y,width:g.width,height:g.height}}function y(e){var t=u(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function E(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||m(e)}function S(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:a(e)&&v(e)?e:S(E(e))}function T(e,t){var i;void 0===t&&(t=[]);var n=S(e),r=n===(null==(i=e.ownerDocument)?void 0:i.body),a=s(n),o=r?[a].concat(a.visualViewport||[],v(n)?n:[]):n,l=t.concat(o);return r?l:l.concat(T(E(o)))}function O(e){return["table","td","th"].indexOf(p(e))>=0}function _(e){return a(e)&&"fixed"!==g(e).position?e.offsetParent:null}function N(e){for(var t=s(e),i=_(e);i&&O(i)&&"static"===g(i).position;)i=_(i);return i&&("html"===p(i)||"body"===p(i)&&"static"===g(i).position)?t:i||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&a(e)&&"fixed"===g(e).position)return null;for(var i=E(e);a(i)&&["html","body"].indexOf(p(i))<0;){var n=g(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}var A="top",w="bottom",I="right",k="left",P="auto",L=[A,w,I,k],C="start",R="end",D="viewport",M="popper",x=L.reduce((function(e,t){return e.concat([t+"-"+C,t+"-"+R])}),[]),j=[].concat(L,[P]).reduce((function(e,t){return e.concat([t,t+"-"+C,t+"-"+R])}),[]),U=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(e){var t=new Map,i=new Set,n=[];function s(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&s(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||s(e)})),n}var F={placement:"bottom",modifiers:[],strategy:"absolute"};function B(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function V(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,s=t.defaultOptions,a=void 0===s?F:s;return function(e,t,i){void 0===i&&(i=a);var s,o,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},F,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],d=!1,u={state:l,setOptions:function(i){var s="function"==typeof i?i(l.options):i;h(),l.options=Object.assign({},a,l.options,s),l.scrollParents={reference:r(e)?T(e):e.contextElement?T(e.contextElement):[],popper:T(t)};var o=function(e){var t=H(e);return U.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}(function(e){var t=e.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,l.options.modifiers)));return l.orderedModifiers=o.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,s=e.effect;if("function"==typeof s){var r=s({state:l,name:t,instance:u,options:n}),a=function(){};c.push(r||a)}})),u.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,i=e.popper;if(B(t,i)){l.rects={reference:b(t,N(i),"fixed"===l.options.strategy),popper:y(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<l.orderedModifiers.length;n++)if(!0!==l.reset){var s=l.orderedModifiers[n],r=s.fn,a=s.options,o=void 0===a?{}:a,c=s.name;"function"==typeof r&&(l=r({state:l,options:o,name:c,instance:u})||l)}else l.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(s())}))}))),o}),destroy:function(){h(),d=!0}};if(!B(e,t))return u;function h(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(i).then((function(e){!d&&i.onFirstUpdate&&i.onFirstUpdate(e)})),u}}var G={passive:!0};function W(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function K(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e){var t,i=e.reference,n=e.element,s=e.placement,r=s?W(s):null,a=s?z(s):null,o=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(r){case A:t={x:o,y:i.y-n.height};break;case w:t={x:o,y:i.y+i.height};break;case I:t={x:i.x+i.width,y:l};break;case k:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=r?K(r):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case C:t[c]=t[c]-(i[d]/2-n[d]/2);break;case R:t[c]=t[c]+(i[d]/2-n[d]/2)}}return t}var $={top:"auto",right:"auto",bottom:"auto",left:"auto"};function q(e){var t,i=e.popper,n=e.popperRect,r=e.placement,a=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,p=e.isFixed,f=o.x,v=void 0===f?0:f,b=o.y,y=void 0===b?0:b,E="function"==typeof h?h({x:v,y:y}):{x:v,y:y};v=E.x,y=E.y;var S=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),O=k,_=A,P=window;if(u){var L=N(i),C="clientHeight",D="clientWidth";if(L===s(i)&&"static"!==g(L=m(i)).position&&"absolute"===l&&(C="scrollHeight",D="scrollWidth"),L=L,r===A||(r===k||r===I)&&a===R)_=w,y-=(p&&P.visualViewport?P.visualViewport.height:L[C])-n.height,y*=c?1:-1;if(r===k||(r===A||r===w)&&a===R)O=I,v-=(p&&P.visualViewport?P.visualViewport.width:L[D])-n.width,v*=c?1:-1}var M,x=Object.assign({position:l},u&&$),j=!0===h?function(e){var t=e.x,i=e.y,n=window.devicePixelRatio||1;return{x:d(t*n)/n||0,y:d(i*n)/n||0}}({x:v,y:y}):{x:v,y:y};return v=j.x,y=j.y,c?Object.assign({},x,((M={})[_]=T?"0":"",M[O]=S?"0":"",M.transform=(P.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",M)):Object.assign({},x,((t={})[_]=T?y+"px":"",t[O]=S?v+"px":"",t.transform="",t))}var Z={left:"right",right:"left",bottom:"top",top:"bottom"};function Q(e){return e.replace(/left|right|bottom|top/g,(function(e){return Z[e]}))}var X={start:"end",end:"start"};function J(e){return e.replace(/start|end/g,(function(e){return X[e]}))}function ee(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&o(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function te(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ie(e,t){return t===D?te(function(e){var t=s(e),i=m(e),n=t.visualViewport,r=i.clientWidth,a=i.clientHeight,o=0,l=0;return n&&(r=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,l=n.offsetTop)),{width:r,height:a,x:o+f(e),y:l}}(e)):r(t)?function(e){var t=u(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):te(function(e){var t,i=m(e),n=h(e),s=null==(t=e.ownerDocument)?void 0:t.body,r=l(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=l(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-n.scrollLeft+f(e),c=-n.scrollTop;return"rtl"===g(s||i).direction&&(o+=l(i.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:o,y:c}}(m(e)))}function ne(e,t,i){var n="clippingParents"===t?function(e){var t=T(E(e)),i=["absolute","fixed"].indexOf(g(e).position)>=0&&a(e)?N(e):e;return r(i)?t.filter((function(e){return r(e)&&ee(e,i)&&"body"!==p(e)})):[]}(e):[].concat(t),s=[].concat(n,[i]),o=s[0],d=s.reduce((function(t,i){var n=ie(e,i);return t.top=l(n.top,t.top),t.right=c(n.right,t.right),t.bottom=c(n.bottom,t.bottom),t.left=l(n.left,t.left),t}),ie(e,o));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function se(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function re(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}function ae(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=void 0===n?e.placement:n,a=i.boundary,o=void 0===a?"clippingParents":a,l=i.rootBoundary,c=void 0===l?D:l,d=i.elementContext,h=void 0===d?M:d,p=i.altBoundary,f=void 0!==p&&p,g=i.padding,v=void 0===g?0:g,b=se("number"!=typeof v?v:re(v,L)),y=h===M?"reference":M,E=e.rects.popper,S=e.elements[f?y:h],T=ne(r(S)?S:S.contextElement||m(e.elements.popper),o,c),O=u(e.elements.reference),_=Y({reference:O,element:E,strategy:"absolute",placement:s}),N=te(Object.assign({},E,_)),k=h===M?N:O,P={top:T.top-k.top+b.top,bottom:k.bottom-T.bottom+b.bottom,left:T.left-k.left+b.left,right:k.right-T.right+b.right},C=e.modifiersData.offset;if(h===M&&C){var R=C[s];Object.keys(P).forEach((function(e){var t=[I,w].indexOf(e)>=0?1:-1,i=[A,w].indexOf(e)>=0?"y":"x";P[e]+=R[i]*t}))}return P}function oe(e,t,i){return l(e,c(t,i))}function le(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function ce(e){return[A,I,w,k].some((function(t){return e[t]>=0}))}var de=V({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,a=void 0===r||r,o=n.resize,l=void 0===o||o,c=s(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&d.forEach((function(e){e.addEventListener("scroll",i.update,G)})),l&&c.addEventListener("resize",i.update,G),function(){a&&d.forEach((function(e){e.removeEventListener("scroll",i.update,G)})),l&&c.removeEventListener("resize",i.update,G)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,s=void 0===n||n,r=i.adaptive,a=void 0===r||r,o=i.roundOffsets,l=void 0===o||o,c={placement:W(t.placement),variation:z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,q(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,q(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},s=t.elements[e];a(s)&&p(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],s=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});a(n)&&p(n)&&(Object.assign(n.style,r),Object.keys(s).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,s=i.offset,r=void 0===s?[0,0]:s,a=j.reduce((function(e,i){return e[i]=function(e,t,i){var n=W(e),s=[k,A].indexOf(n)>=0?-1:1,r="function"==typeof i?i(Object.assign({},t,{placement:e})):i,a=r[0],o=r[1];return a=a||0,o=(o||0)*s,[k,I].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}(i,t.rects,r),e}),{}),o=a[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=i.mainAxis,r=void 0===s||s,a=i.altAxis,o=void 0===a||a,l=i.fallbackPlacements,c=i.padding,d=i.boundary,u=i.rootBoundary,h=i.altBoundary,p=i.flipVariations,m=void 0===p||p,f=i.allowedAutoPlacements,g=t.options.placement,v=W(g),b=l||(v===g||!m?[Q(g)]:function(e){if(W(e)===P)return[];var t=Q(e);return[J(e),t,J(t)]}(g)),y=[g].concat(b).reduce((function(e,i){return e.concat(W(i)===P?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=i.boundary,r=i.rootBoundary,a=i.padding,o=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?j:l,d=z(n),u=d?o?x:x.filter((function(e){return z(e)===d})):L,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,i){return t[i]=ae(e,{placement:i,boundary:s,rootBoundary:r,padding:a})[W(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:i,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:f}):i)}),[]),E=t.rects.reference,S=t.rects.popper,T=new Map,O=!0,_=y[0],N=0;N<y.length;N++){var R=y[N],D=W(R),M=z(R)===C,U=[A,w].indexOf(D)>=0,H=U?"width":"height",F=ae(t,{placement:R,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),B=U?M?I:k:M?w:A;E[H]>S[H]&&(B=Q(B));var V=Q(B),G=[];if(r&&G.push(F[D]<=0),o&&G.push(F[B]<=0,F[V]<=0),G.every((function(e){return e}))){_=R,O=!1;break}T.set(R,G)}if(O)for(var K=function(e){var t=y.find((function(t){var i=T.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},Y=m?3:1;Y>0;Y--){if("break"===K(Y))break}t.placement!==_&&(t.modifiersData[n]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,s=i.mainAxis,r=void 0===s||s,a=i.altAxis,o=void 0!==a&&a,d=i.boundary,u=i.rootBoundary,h=i.altBoundary,p=i.padding,m=i.tether,f=void 0===m||m,g=i.tetherOffset,v=void 0===g?0:g,b=ae(t,{boundary:d,rootBoundary:u,padding:p,altBoundary:h}),E=W(t.placement),S=z(t.placement),T=!S,O=K(E),_="x"===O?"y":"x",P=t.modifiersData.popperOffsets,L=t.rects.reference,R=t.rects.popper,D="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,M="number"==typeof D?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(P){if(r){var U,H="y"===O?A:k,F="y"===O?w:I,B="y"===O?"height":"width",V=P[O],G=V+b[H],Y=V-b[F],$=f?-R[B]/2:0,q=S===C?L[B]:R[B],Z=S===C?-R[B]:-L[B],Q=t.elements.arrow,X=f&&Q?y(Q):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=J[H],te=J[F],ie=oe(0,L[B],X[B]),ne=T?L[B]/2-$-ie-ee-M.mainAxis:q-ie-ee-M.mainAxis,se=T?-L[B]/2+$+ie+te+M.mainAxis:Z+ie+te+M.mainAxis,re=t.elements.arrow&&N(t.elements.arrow),le=re?"y"===O?re.clientTop||0:re.clientLeft||0:0,ce=null!=(U=null==x?void 0:x[O])?U:0,de=V+se-ce,ue=oe(f?c(G,V+ne-ce-le):G,V,f?l(Y,de):Y);P[O]=ue,j[O]=ue-V}if(o){var he,pe="x"===O?A:k,me="x"===O?w:I,fe=P[_],ge="y"===_?"height":"width",ve=fe+b[pe],be=fe-b[me],ye=-1!==[A,k].indexOf(E),Ee=null!=(he=null==x?void 0:x[_])?he:0,Se=ye?ve:fe-L[ge]-R[ge]-Ee+M.altAxis,Te=ye?fe+L[ge]+R[ge]-Ee-M.altAxis:be,Oe=f&&ye?function(e,t,i){var n=oe(e,t,i);return n>i?i:n}(Se,fe,Te):oe(f?Se:ve,fe,f?Te:be);P[_]=Oe,j[_]=Oe-fe}t.modifiersData[n]=j}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,s=e.options,r=i.elements.arrow,a=i.modifiersData.popperOffsets,o=W(i.placement),l=K(o),c=[k,I].indexOf(o)>=0?"height":"width";if(r&&a){var d=function(e,t){return se("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:re(e,L))}(s.padding,i),u=y(r),h="y"===l?A:k,p="y"===l?w:I,m=i.rects.reference[c]+i.rects.reference[l]-a[l]-i.rects.popper[c],f=a[l]-i.rects.reference[l],g=N(r),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=m/2-f/2,E=d[h],S=v-u[c]-d[p],T=v/2-u[c]/2+b,O=oe(E,T,S),_=l;i.modifiersData[n]=((t={})[_]=O,t.centerOffset=O-T,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&ee(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,a=ae(t,{elementContext:"reference"}),o=ae(t,{altBoundary:!0}),l=le(a,n),c=le(o,s,r),d=ce(l),u=ce(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),ue=i(69590),he=i.n(ue),pe=function(e){return e.reduce((function(e,t){var i=t[0],n=t[1];return e[i]=n,e}),{})},me="undefined"!=typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect,fe=[],ge=function(e,t,i){void 0===i&&(i={});var s=n.useRef(null),r={onFirstUpdate:i.onFirstUpdate,placement:i.placement||"bottom",strategy:i.strategy||"absolute",modifiers:i.modifiers||fe},a=n.useState({styles:{popper:{position:r.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=a[0],l=a[1],c=n.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,i=Object.keys(t.elements);l({styles:pe(i.map((function(e){return[e,t.styles[e]||{}]}))),attributes:pe(i.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),d=n.useMemo((function(){var e={onFirstUpdate:r.onFirstUpdate,placement:r.placement,strategy:r.strategy,modifiers:[].concat(r.modifiers,[c,{name:"applyStyles",enabled:!1}])};return he()(s.current,e)?s.current||e:(s.current=e,e)}),[r.onFirstUpdate,r.placement,r.strategy,r.modifiers,c]),u=n.useRef();return me((function(){u.current&&u.current.setOptions(d)}),[d]),me((function(){if(null!=e&&null!=t){var n=(i.createPopper||de)(e,t,d);return u.current=n,function(){n.destroy(),u.current=null}}}),[e,t,i.createPopper]),{state:u.current?u.current.state:null,styles:o.styles,attributes:o.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}}},75251:(e,t,i)=>{"use strict";var n=i(67294),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var n,r={},c=null,d=null;for(n in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},72408:(e,t)=>{"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,i){this.props=e,this.context=t,this.refs=g,this.updater=i||m}function b(){}function y(e,t,i){this.props=e,this.context=t,this.refs=g,this.updater=i||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var E=y.prototype=new b;E.constructor=y,f(E,v.prototype),E.isPureReactComponent=!0;var S=Array.isArray,T=Object.prototype.hasOwnProperty,O={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var s,r={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,s)&&!_.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:i,type:e,key:a,ref:o,props:r,_owner:O.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var w=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,s,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case n:l=!0}}if(l)return a=a(l=e),e=""===r?"."+I(l,0):r,S(a)?(s="",null!=e&&(s=e.replace(w,"$&/")+"/"),k(a,t,s,"",(function(e){return e}))):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(w,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",S(e))for(var c=0;c<e.length;c++){var d=r+I(o=e[c],c);l+=k(o,t,s,d,a)}else if("function"==typeof(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=d.call(e),c=0;!(o=e.next()).done;)l+=k(o=o.value,t,s,d=r+I(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,i){if(null==e)return e;var n=[],s=0;return k(e,n,"","",(function(e){return t.call(i,e,s++)})),n}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},R={transition:null},D={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:R,ReactCurrentOwner:O};t.Children={map:P,forEach:function(e,t,i){P(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=y,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),r=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=O.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)T.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:i,type:e.type,key:r,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,i){return C.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,i){return C.current.useReducer(e,t,i)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return C.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return C.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},67294:(e,t,i)=>{"use strict";e.exports=i(72408)},85893:(e,t,i)=>{"use strict";e.exports=i(75251)},91033:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,n){return e[0]===t&&(i=n,!0)})),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var s=n[i];e.call(t,s[1],s[0])}},t}()}(),s="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,n=!1,s=0;function r(){i&&(i=!1,e()),n&&l()}function o(){a(r)}function l(){var e=Date.now();if(i){if(e-s<2)return;n=!0}else i=!0,n=!1,setTimeout(o,t);s=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){s&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){s&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;o.some((function(e){return!!~i.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var s=n[i];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},h=b(0,0,0,0);function p(e){return parseFloat(e)||0}function m(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce((function(t,i){return t+p(e["border-"+i+"-width"])}),0)}function f(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return h;var n=u(e).getComputedStyle(e),s=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var s=n[i],r=e["padding-"+s];t[s]=p(r)}return t}(n),r=s.left+s.right,a=s.top+s.bottom,o=p(n.width),l=p(n.height);if("border-box"===n.boxSizing&&(Math.round(o+r)!==t&&(o-=m(n,"left","right")+r),Math.round(l+a)!==i&&(l-=m(n,"top","bottom")+a)),!function(e){return e===u(e).document.documentElement}(e)){var c=Math.round(o+r)-t,d=Math.round(l+a)-i;1!==Math.abs(c)&&(o-=c),1!==Math.abs(d)&&(l-=d)}return b(s.left,s.top,o,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return s?g(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):f(e):h}function b(e,t,i,n){return{x:e,y:t,width:i,height:n}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),E=function(e,t){var i,n,s,r,a,o,l,c=(n=(i=t).x,s=i.y,r=i.width,a=i.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(o.prototype),d(l,{x:n,y:s,width:r,height:a,top:s,right:n+r,bottom:a+s,left:n}),l);d(this,{target:e,contentRect:c})},S=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new E(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),T="undefined"!=typeof WeakMap?new WeakMap:new n,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=c.getInstance(),n=new S(t,i,this);T.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=T.get(this))[e].apply(t,arguments)}}));const _=void 0!==r.ResizeObserver?r.ResizeObserver:O},473:e=>{function t(e,t){this._elements=new Array(e||50),this._first=0,this._last=0,this._size=0,this._evictedCb=t}e.exports=t,t.prototype.capacity=function(){return this._elements.length},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.isFull=function(){return this.size()===this.capacity()},t.prototype.peek=function(){if(this.isEmpty())throw new Error("RingBuffer is empty");return this._elements[this._first]},t.prototype.peekN=function(e){if(e>this._size)throw new Error("Not enough elements in RingBuffer");var t=Math.min(this._first+e,this.capacity()),i=this._elements.slice(this._first,t);if(t<this.capacity())return i;var n=this._elements.slice(0,e-i.length);return i.concat(n)},t.prototype.deq=function(){var e=this.peek();return this._size--,this._first=(this._first+1)%this.capacity(),e},t.prototype.deqN=function(e){var t=this.peekN(e);return this._size-=e,this._first=(this._first+e)%this.capacity(),t},t.prototype.enq=function(e){this._end=(this._first+this.size())%this.capacity();var t=this.isFull();return t&&this._evictedCb&&this._evictedCb(this._elements[this._end]),this._elements[this._end]=e,t?this._first=(this._first+1)%this.capacity():this._size++,this.size()},t.prototype.size=function(){return this._size}},60053:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,s=e[n];if(!(0<r(s,t)))break e;e[n]=t,e[i]=s,i=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,s=e.length,a=s>>>1;n<a;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,i))c<s&&0>r(d,l)?(e[n]=d,e[c]=i,n=c):(e[n]=l,e[o]=i,n=o);else{if(!(c<s&&0>r(d,i)))break e;e[n]=d,e[c]=i,n=c}}}return t}function r(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=n(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,i(c,t)}t=n(d)}}function S(e){if(g=!1,E(e),!f)if(null!==n(c))f=!0,R(T);else{var t=n(d);null!==t&&D(S,t.startTime-e)}}function T(e,i){f=!1,g&&(g=!1,b(A),A=-1),m=!0;var r=p;try{for(E(i),h=n(c);null!==h&&(!(h.expirationTime>i)||e&&!k());){var a=h.callback;if("function"==typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=i);i=t.unstable_now(),"function"==typeof o?h.callback=o:h===n(c)&&s(c),E(i)}else s(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&D(S,u.startTime-i),l=!1}return l}finally{h=null,p=r,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,_=!1,N=null,A=-1,w=5,I=-1;function k(){return!(t.unstable_now()-I<w)}function P(){if(null!==N){var e=t.unstable_now();I=e;var i=!0;try{i=N(!0,e)}finally{i?O():(_=!1,N=null)}}else _=!1}if("function"==typeof y)O=function(){y(P)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,C=L.port2;L.port1.onmessage=P,O=function(){C.postMessage(null)}}else O=function(){v(P,0)};function R(e){N=e,_||(_=!0,O())}function D(e,i){A=v((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,R(T))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var i=p;p=t;try{return e()}finally{p=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=p;p=e;try{return t()}finally{p=i}},t.unstable_scheduleCallback=function(e,s,r){var a=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(e.sortIndex=r,i(d,e),null===n(c)&&e===n(d)&&(g?(b(A),A=-1):g=!0,D(S,r-a))):(e.sortIndex=o,i(c,e),f||m||(f=!0,R(T))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=p;return function(){var i=p;p=t;try{return e.apply(this,arguments)}finally{p=i}}}},63840:(e,t,i)=>{"use strict";e.exports=i(60053)},61040:(e,t,i)=>{"use strict";var n=i(11132),s=i(22566),r=i(21924)("String.prototype.replace"),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=s(n(this));return r(r(e,a,""),o,"")}},46057:(e,t,i)=>{"use strict";var n=i(55559),s=i(4289),r=i(61040),a=i(30254),o=i(60029),l=n(a());s(l,{getPolyfill:a,implementation:r,shim:o}),e.exports=l},11132:(e,t,i)=>{"use strict";e.exports=i(37981)},22566:(e,t,i)=>{"use strict";var n=i(18989),s=n("%String%"),r=n("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new r("Cannot convert a Symbol value to a string");return s(e)}},37981:(e,t,i)=>{"use strict";var n=i(18989)("%TypeError%");e.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},18989:(e,t,i)=>{"use strict";var n,s=SyntaxError,r=Function,a=TypeError,o=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},d=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,u=i(41405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p=o("async function* () {}"),m=p?p.prototype:n,f=m?m.prototype:n,g="undefined"==typeof Uint8Array?n:h(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":o("async function () {}"),"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":f?h(f):n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":o("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":d,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=i(58612),E=i(17642),S=y.call(Function.call,Array.prototype.concat),T=y.call(Function.apply,Array.prototype.splice),O=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,w=function(e){var t=_(e,0,1),i=_(e,-1);if("%"===t&&"%"!==i)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return O(e,N,(function(e,t,i,s){n[n.length]=i?O(s,A,"$1"):t||e})),n},I=function(e,t){var i,n=e;if(E(b,n)&&(n="%"+(i=b[n])[0]+"%"),E(v,n)){var r=v[n];if(void 0===r&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:r}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var i=w(e),n=i.length>0?i[0]:"",r=I("%"+n+"%",t),o=r.name,c=r.value,d=!1,u=r.alias;u&&(n=u[0],T(i,S([0,1],u)));for(var h=1,p=!0;h<i.length;h+=1){var m=i[h],f=_(m,0,1),g=_(m,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new s("property names with quotes must have matching quotes");if("constructor"!==m&&p||(d=!0),E(v,o="%"+(n+="."+m)+"%"))c=v[o];else if(null!=c){if(!(m in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=i.length){var b=l(c,m);c=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[m]}else p=E(c,m),c=c[m];p&&!d&&(v[o]=c)}}return c}},30254:(e,t,i)=>{"use strict";var n=i(61040);e.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:n}},60029:(e,t,i)=>{"use strict";var n=i(4289),s=i(30254);e.exports=function(){var e=s();return n(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},67121:(e,t,i)=>{"use strict";e=i.hmd(e);!function(e){var t,i=e.Symbol;if("function"==typeof i)if(i.observable)t=i.observable;else{t=i.for("https://github.com/benlesh/symbol-observable");try{i.observable=t}catch(e){}}else t="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:e)},13187:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TGALoader:()=>s});var n=i(84428);class s extends n.DataTextureLoader{constructor(e){super(e)}parse(e){const t=0,i=1,s=2,r=3,a=9,o=10,l=11,c=48,d=4,u=0,h=1,p=2,m=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let f=0;const g=new Uint8Array(e),v={id_length:g[f++],colormap_type:g[f++],image_type:g[f++],colormap_index:g[f++]|g[f++]<<8,colormap_length:g[f++]|g[f++]<<8,colormap_size:g[f++],origin:[g[f++]|g[f++]<<8,g[f++]|g[f++]<<8],width:g[f++]|g[f++]<<8,height:g[f++]|g[f++]<<8,pixel_size:g[f++],flags:g[f++]};!function(e){switch(e.image_type){case i:case a:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case s:case r:case o:case l:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(v),v.id_length+f>e.length&&console.error("THREE.TGALoader: No data."),f+=v.id_length;let b=!1,y=!1,E=!1;switch(v.image_type){case a:b=!0,y=!0;break;case i:y=!0;break;case o:b=!0;break;case s:break;case l:b=!0,E=!0;break;case r:E=!0}const S=new Uint8Array(v.width*v.height*4),T=function(e,t,i,n,s){let r,a;const o=i.pixel_size>>3,l=i.width*i.height*o;if(t&&(a=s.subarray(n,n+=i.colormap_length*(i.colormap_size>>3))),e){let e,t,i;r=new Uint8Array(l);let a=0;const c=new Uint8Array(o);for(;a<l;)if(e=s[n++],t=1+(127&e),128&e){for(i=0;i<o;++i)c[i]=s[n++];for(i=0;i<t;++i)r.set(c,a+i*o);a+=o*t}else{for(t*=o,i=0;i<t;++i)r[a+i]=s[n++];a+=t}}else r=s.subarray(n,n+=t?i.width*i.height:l);return{pixel_data:r,palettes:a}}(b,y,v,f,g);return function(e,t,i,n,s){let r,a,o,l,f,g;switch((v.flags&c)>>d){default:case p:r=0,o=1,f=t,a=0,l=1,g=i;break;case u:r=0,o=1,f=t,a=i-1,l=-1,g=-1;break;case m:r=t-1,o=-1,f=-1,a=0,l=1,g=i;break;case h:r=t-1,o=-1,f=-1,a=i-1,l=-1,g=-1}if(E)switch(v.pixel_size){case 8:!function(e,t,i,n,s,r,a,o){let l,c,d,u=0;const h=v.width;for(d=t;d!==n;d+=i)for(c=s;c!==a;c+=r,u++)l=o[u],e[4*(c+h*d)+0]=l,e[4*(c+h*d)+1]=l,e[4*(c+h*d)+2]=l,e[4*(c+h*d)+3]=255}(e,a,l,g,r,o,f,n);break;case 16:!function(e,t,i,n,s,r,a,o){let l,c,d=0;const u=v.width;for(c=t;c!==n;c+=i)for(l=s;l!==a;l+=r,d+=2)e[4*(l+u*c)+0]=o[d+0],e[4*(l+u*c)+1]=o[d+0],e[4*(l+u*c)+2]=o[d+0],e[4*(l+u*c)+3]=o[d+1]}(e,a,l,g,r,o,f,n);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(v.pixel_size){case 8:!function(e,t,i,n,s,r,a,o,l){const c=l;let d,u,h,p=0;const m=v.width;for(h=t;h!==n;h+=i)for(u=s;u!==a;u+=r,p++)d=o[p],e[4*(u+m*h)+3]=255,e[4*(u+m*h)+2]=c[3*d+0],e[4*(u+m*h)+1]=c[3*d+1],e[4*(u+m*h)+0]=c[3*d+2]}(e,a,l,g,r,o,f,n,s);break;case 16:!function(e,t,i,n,s,r,a,o){let l,c,d,u=0;const h=v.width;for(d=t;d!==n;d+=i)for(c=s;c!==a;c+=r,u+=2)l=o[u+0]+(o[u+1]<<8),e[4*(c+h*d)+0]=(31744&l)>>7,e[4*(c+h*d)+1]=(992&l)>>2,e[4*(c+h*d)+2]=(31&l)<<3,e[4*(c+h*d)+3]=32768&l?0:255}(e,a,l,g,r,o,f,n);break;case 24:!function(e,t,i,n,s,r,a,o){let l,c,d=0;const u=v.width;for(c=t;c!==n;c+=i)for(l=s;l!==a;l+=r,d+=3)e[4*(l+u*c)+3]=255,e[4*(l+u*c)+2]=o[d+0],e[4*(l+u*c)+1]=o[d+1],e[4*(l+u*c)+0]=o[d+2]}(e,a,l,g,r,o,f,n);break;case 32:!function(e,t,i,n,s,r,a,o){let l,c,d=0;const u=v.width;for(c=t;c!==n;c+=i)for(l=s;l!==a;l+=r,d+=4)e[4*(l+u*c)+2]=o[d+0],e[4*(l+u*c)+1]=o[d+1],e[4*(l+u*c)+0]=o[d+2],e[4*(l+u*c)+3]=o[d+3]}(e,a,l,g,r,o,f,n);break;default:console.error("THREE.TGALoader: Format not supported.")}}(S,v.width,v.height,T.pixel_data,T.palettes),{data:S,width:v.width,height:v.height,flipY:!0,generateMipmaps:!0,minFilter:n.LinearMipmapLinearFilter}}}},5419:(e,t,i)=>{"use strict";i.d(t,{ej:()=>l,kG:()=>c,U6:()=>p});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};!function(e){function t(){var t=this||self;t.globalThis=t,delete e.prototype._T_}"object"!=typeof globalThis&&(this?t():(e.defineProperty(e.prototype,"_T_",{configurable:!0,get:t}),_T_))}(Object);const s=globalThis;var r="Invariant Violation",a=Object.setPrototypeOf,o=void 0===a?function(e,t){return e.__proto__=t,e}:a,l=function(e){function t(i){void 0===i&&(i=r);var n=e.call(this,"number"==typeof i?r+": "+i+" (see https://github.com/apollographql/invariant-packages)":i)||this;return n.framesToPop=1,n.name=r,o(n,t.prototype),n}return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t}(Error);function c(e,t){if(!e)throw new l(t)}var d=["log","warn","error","silent"],u=d.indexOf("log");function h(e){return function(){if(d.indexOf(e)>=u)return console[e].apply(console,arguments)}}function p(e){var t=d[u];return u=Math.max(0,d.indexOf(e)),t}!function(e){e.log=h("log"),e.warn=h("warn"),e.error=h("error")}(c||(c={}));var m=s.process||{env:{}};if(!s.process)try{Object.defineProperty(s,"process",{value:m})}catch(e){}},52502:(e,t,i)=>{"use strict";i.r(t),i.d(t,{LazyLoader:()=>dt,loadInterface:()=>ut});var n,s,r=i(947),a=i(57956),o=i(96135);!function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade",e.MOVEFADE="transition.movefade"}(n||(n={}));class l{constructor(e){this.THREE=e,this.tempEuler=new e.Euler}quaternionToRotation(e,t){const i=this.tempEuler.setFromQuaternion(e,l.eulerOrder),n=t||{};return n.x=this.THREE.MathUtils.radToDeg(i.x),n.y=this.THREE.MathUtils.radToDeg(i.y),n.z=this.THREE.MathUtils.radToDeg(i.z),n}rotationToQuaternion(e,t){const i=t||new this.THREE.Quaternion;return this.tempEuler.x=this.THREE.MathUtils.degToRad(e.x),this.tempEuler.y=this.THREE.MathUtils.degToRad(e.y),this.tempEuler.z=this.THREE.MathUtils.degToRad(e.z||0),this.tempEuler.order=l.eulerOrder,i.setFromEuler(this.tempEuler)}}l.eulerOrder="YXZ",function(e){e.LEGACY="legacy",e.API="api"}(s||(s={}));i(53261);var c=i(97998);const d=new c.Z("asset.registerTexture");class u{constructor(e){this.queue=e}async load(e){const t=await this.queue.get(e,{responseType:"text"}),i=document.createElement("div");i.innerHTML=t;const n=i.querySelector("svg");if(!n)throw Error("Failed trying to load "+e+"as an svg.");const s=n.getAttribute("width"),r=n.getAttribute("height");return s||r?(r&&!s&&(d.warn(e,"does not have a defined width. Defaulting width equal to height"),n.setAttribute("width",r)),s&&!r&&(d.warn(e,"does not have a defined height. Defaulting height equal to width"),n.setAttribute("height",s))):(d.warn(e,"does not have a defined size. Defaulting to a 128x128 resolution"),n.setAttribute("width",u.defaultResolution),n.setAttribute("height",u.defaultResolution)),new Promise((e=>{const t=new Image;t.onload=()=>e(t),t.src=URL.createObjectURL(new Blob([n.outerHTML],{type:"image/svg+xml"}))}))}}u.defaultResolution="128";Math.PI;new c.Z("broadcast.move");new c.Z("command.zoom");new c.Z("mattertag-util");new c.Z("mattertag.add");new c.Z("mattertag.edit");var h;!function(e){e.LABEL="label",e.DESCRIPTION="description",e.MEDIA="media"}(h||(h={}));new c.Z("command.editOpacity");i(69675),i(31693);var p;i(56382);!function(e){e.IMAGE="tag.attachment.image",e.RICH="tag.attachment.rich",e.VIDEO="tag.attachment.video"}(p||(p={}));Symbol.iterator;o.Uv.MediaType.PHOTO,p.IMAGE,o.Uv.MediaType.RICH,p.RICH,o.Uv.MediaType.VIDEO,p.VIDEO;var m=i(64918);o.Uv.Transition.FLY,m.n.Interpolate,o.Uv.Transition.FADEOUT,m.n.FadeToBlack,o.Uv.Transition.INSTANT,m.n.Instant;new c.Z("move-to-mode-command");new c.Z("mpSdk.R3F.navigationToggle");new c.Z("mpSdk.R3F.controlsToggle");new c.Z("command.takeScreenshot");var f;!function(e){e.Base64JPG="screenshot.base64.jpg",e.ArrayBufferJPG="screenshot.arraybuffer.jpg"}(f||(f={}));class g{constructor(e,t,i,n,s,r,a,o){this.renderer=n,this.renderToTexture=s,this.viewmodeData=r,this.sweepData=a,this.sweepTextureLoader=o,this.Viewmode=t.Viewmode,this.requestTarget=i.requestTarget,this.encodeRenderTarget=i.encodeRenderTarget,this.jpegAsBase64=i.jpegAsBase64,this.getXmp=i.getXmp,this.getOrientedAngleTo=i.getOrientedAngleTo,this.forward=new e.Vector3(0,0,-1),this.sweepForward=new e.Vector3,this.viewForward=new e.Vector3}validateInput(e){return e}async exec(e,t){if(!this.sweepData.currentSweep||this.viewmodeData.currentMode!==this.Viewmode.Panorama)throw new Error("Can only capture equirectangular projections while stationary in a sweep");const i=this.renderer.getScene().camera,n=this.sweepData.getSweep(this.sweepData.currentSweep),s=await this.sweepTextureLoader.load(n);this.sweepForward.copy(this.forward),this.sweepForward.copy(this.forward).applyQuaternion(n.rotation).setY(0);const r=this.getOrientedAngleTo(this.sweepForward,i.getWorldDirection(this.viewForward).setY(0))+Math.PI,a=await this.requestTarget();a.setSize(g.equirectangularRes.width,g.equirectangularRes.height),this.renderToTexture.renderEquirectangular(s,a.target,r);const o=await this.encodeRenderTarget(a,this.getXmp(a.width,a.height,0,0));return this.jpegAsBase64(o)}}g.equirectangularRes={width:4096,height:2048};i(34028);new c.Z("serialize");function v(e,t,i){return(i=i||{}).x=e[t].x,i.y=e[t].y,i.z=e[t].z,i}class b{constructor(e){this.sensor=e,this.sourceMap=new Map,this.reverseSourceLookup=new Map,this.sourceId=0,this._data={}}get data(){return this._data}isItemEqual(e,t){return e.data[t].inRange===this.data[t].inRange&&e.data[t].inView===this.data[t].inView}update(){for(const[e,t]of this.sensor.readings){const i=this.addOrGetSourceId(e),n=this._data[i]||{};n.inRange=t.inRange,n.inView=t.inView,n.distanceSquared=t.distanceSq,n.direction=v(t,"direction",n.direction),this._data[i]=n}for(const e in this.data){const t=this.reverseSourceLookup.get(e);t&&!this.sensor.readings.get(t)&&(this.sourceMap.delete(t),this.reverseSourceLookup.delete(e),delete this._data[e])}}clear(){this._data={}}addOrGetSourceId(e){const t=this.sourceMap.get(e);if(t)return t;const i="source-"+ ++this.sourceId;return this.sourceMap.set(e,i),this.reverseSourceLookup.set(i,e),i}}class y{constructor(...e){this.dependencies=e}async getDependencies(){return Promise.all(this.dependencies)}static extend(e,...t){return new y(...e.dependencies,...t)}static combine(e,t){return new y(...e.dependencies,...t.dependencies)}}class E{constructor(e,...t){this.ctor=e,this.args=t}create(...e){return new this.ctor(...this.args,...e)}}class S{constructor(e,t,i){this.dependencies=e,this.subscriptionFactory=t,this.dataFactory=i,this.dirty=!0,this.observers=new Set,this.currentData=i.create(...e);this.changeSubscription=this.subscriptionFactory.create(new class{constructor(e){this.collection=e}onChanged(){this.collection.dirty=!0;for(const e of this.collection.observers)e.onChanged()}}(this),...this.dependencies),this.changeSubscription.cancel()}static async create(e,t,i){const n=await e.getDependencies();return new S(n,t,i)}getData(){return this.currentData.data}subscribe(e){const t=this.dependencies;const i=new class{constructor(e){this.sdkCollection=e,this.needsUpdate=!0,this.diffRecord={added:new Map,removed:new Map,updated:new Map},this.dataView=e.dataFactory.create(...t)}get dirty(){return this.needsUpdate}readDiff(){const{added:e,removed:t,updated:i}=this.diffRecord;if(e.clear(),t.clear(),i.clear(),!this.dirty)return this.diffRecord;this.sdkCollection.update();const n=this.sdkCollection.currentData;for(const t in n.data)this.dataView.data.hasOwnProperty(t)?this.dataView.isItemEqual(n,t)||i.set(t,n.data[t]):e.set(t,n.data[t]);for(const e in this.dataView.data)n.data.hasOwnProperty(e)||t.set(e,this.dataView.data[e]);return this.dataView.update(),this.needsUpdate=!1,this.diffRecord}onChanged(){this.needsUpdate=!0}renew(){this.sdkCollection.addObserver(this)}cancel(){this.sdkCollection.removeObserver(this)}}(this);return this.addObserver(i),i}update(){this.dirty&&(this.currentData.update(),this.dirty=!1)}addObserver(e){0===this.observers.size&&(this.changeSubscription.renew(),this.dirty=!0),this.observers.add(e)}removeObserver(e){this.observers.delete(e),0===this.observers.size&&(this.changeSubscription.cancel(),this.currentData.clear())}}var T=i(38126);function O(e,t){!function(e,t){e.x=t.x,e.y=t.y}(e,t),e.z=t.z}var _=i(64186);class N{constructor(){this._data={origin:{x:0,y:0,z:0},forward:{x:0,y:0,z:-1}}}get data(){return this._data}equals(e){const t=1e-5;return(0,_.wo)(this.data.origin,e.data.origin,t)&&(0,_.wo)(this.data.forward,e.data.forward,t)}copy(e){O(this._data.origin,e.data.origin),O(this._data.forward,e.data.forward)}update(e){O(this._data.origin,e.frustum.origin),O(this._data.forward,e.frustum.forward)}}var A=i(29708);class w{constructor(e,t,i,n,s){this.sdkModule=e,this.sensorFactories=t,this.sensors=i,this.sensorMap=n,this.removerMap=s}validateInput(e){if(!(0,A.p)(o.LM.SensorType,e.type))throw Error(e.type+" is not a valid sensor type");return this.sensorFactories[e.type].validateInput(e)}async exec(e,t){const i=this.sensorFactories[e.type].create(e,this.sensors),n="sensor-"+ ++w.nextSensorId;this.sensorMap.set(n,i);const s=T.l.create(new y(i),new I,new E(N)),r=this.sdkModule.addObservable(n,s),a=S.create(new y(i),new k,new E(b)),o=this.sdkModule.addCollection(n,a);return this.removerMap.set(n,{dispose(){r.dispose(),o.dispose()}}),{sensorId:n}}}w.nextSensorId=0;class I{create(e,t){return t.frustum.observe(new P(e))}}class k{create(e,t){return t.onReadingsUpdated(new P(e))}}class P{constructor(e){this.dependencyObserver=e}notify(){this.dependencyObserver.onChanged()}}i(29199),i(54028);Math.PI;class L{constructor(e,t){this.sourceFactories=e,this.sourceMap=t}validateInput(e){if(!(0,A.p)(o.LM.SourceType,e.type))throw Error(e.type+" is not a valid source type");return this.sourceFactories[e.type].validateInput(e)}async exec(e,t){const i=this.sourceFactories[e.type].create(e),n="source-"+ ++L.nextSourceId;return this.sourceMap.set(n,i),{sourceId:n,type:e.type,volume:i.describeVolume()}}}L.nextSourceId=0;var C;!function(e){e.FPS="stat.fps"}(C||(C={}));var R=i(21646);class D{constructor(e,t){this.currentSweep=Object.assign(Object.assign({},D.empty),{floorInfo:Object.assign({},D.empty.floorInfo),neighbors:[],position:Object.assign({},D.empty.position),rotation:Object.assign({},D.empty.rotation)}),this.Viewmode=e.Viewmode,this.sweepPlacementConverter=t.sweepPlacementConverter}get data(){return this.currentSweep}equals(e){const t=R.Z.epsilon;return this.currentSweep.id===e.data.id&&this.currentSweep.enabled===e.data.enabled&&this.currentSweep.alignmentType===e.data.alignmentType&&this.currentSweep.placementType===e.data.placementType&&this.currentSweep.floorInfo.id===e.data.floorInfo.id&&this.currentSweep.floorInfo.sequence===e.data.floorInfo.sequence&&this.compareNeighbors(e.currentSweep)&&(0,_.wo)(this.currentSweep.position,e.data.position,t)&&(0,_.wo)(this.currentSweep.rotation,e.data.rotation,t)}copy(e){this.copySweep(e.data)}update(e,t,i,n,s){const r=e.currentSweepObject;if(!r||e.transition.active||t.transition.active||!t.isInside()&&t.currentMode!==this.Viewmode.Outdoor)return void this.copySweep(D.empty);let a;try{a=i.getFloor(r.floorId||"")}catch(e){a={id:void 0,index:void 0}}const l=n.getIdForSweep(r);this.currentSweep.uuid=r.uuid,this.currentSweep.sid=l,this.currentSweep.id=l,this.currentSweep.enabled=r.enabled,this.currentSweep.alignmentType=this.sweepPlacementConverter.toSdkAlignment(r.alignmentType),this.currentSweep.placementType=this.sweepPlacementConverter.toSdkPlacement(r.placementType),this.currentSweep.neighbors=[...r.neighbours],O(this.currentSweep.position,r.position),O(this.currentSweep.rotation,r.rotation),this.currentSweep.alignmentType===o.pz.Alignment.UNALIGNED&&this.currentSweep.placementType===o.pz.Placement.UNPLACED?(this.currentSweep.floorInfo.id=void 0,this.currentSweep.floorInfo.sequence=void 0):(this.currentSweep.floorInfo.id=a.id?s.getIdFromCwfId(a.id):a.id,this.currentSweep.floorInfo.sequence=a.index)}copySweep(e){this.currentSweep.uuid=e.uuid,this.currentSweep.sid=e.sid,this.currentSweep.id=e.id,this.currentSweep.enabled=e.enabled,this.currentSweep.alignmentType=e.alignmentType,this.currentSweep.placementType=e.placementType,this.currentSweep.floorInfo.id=e.floorInfo.id,this.currentSweep.floorInfo.sequence=e.floorInfo.sequence,this.currentSweep.neighbors=[...e.neighbors],O(this.currentSweep.position,e.position),O(this.currentSweep.rotation,e.rotation)}compareNeighbors(e){const t=this.currentSweep.neighbors.length;for(let i=0;i<t;++i)if(this.currentSweep.neighbors[i]!==e.neighbors[i])return!1;return t===e.neighbors.length}}D.empty={uuid:"",sid:"",id:"",enabled:!1,alignmentType:o.pz.Alignment.ALIGNED,placementType:o.pz.Placement.UNPLACED,floorInfo:{id:void 0,sequence:void 0},neighbors:[],position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}};new c.Z("command.add");var M;!function(e){e.ENUM1="test.enum1",e.ENUM2="test.enum2"}(M||(M={}));new c.Z("sdk: tours");const x=new c.Z("SDK interface");"undefined"!=typeof __SDK_INTERFACE_VERSION__&&x.info("Showcase SDK interface version",__SDK_INTERFACE_VERSION__);var j=i(88931),U=i(87926),H=i(41187),F=i(66777),B=i(67944),V=i(59370),G=i(74533),W=i(17878),z=i(59625),K=i(10374),Y=i(29900),$=i(56159),q=i(69739),Z=i(33324),Q=i(19648),X=i(30643),J=i(49947),ee=i(55502),te=i(36120),ie=i(11200),ne=i(82814),se=i(12039),re=i(13132),ae=i(33160),oe=i(62612),le=i(72936),ce=i(60083),de=i(79183),ue=i(19663);class he extends ue.m{constructor(e){super(),this.payload={key:e}}}he.id="SETTING_GET";class pe extends ue.m{constructor(e,t){super(),this.payload={key:e,value:t}}}pe.id="SETTING_UPDATE";var me=i(8948),fe=i(63252),ge=i(18923),ve=i(66563),be=i(89549),ye=i(76631),Ee=i(96154),Se=i(15462),Te=i(90304),Oe=i(95882),_e=i(41326),Ne=i(5090),Ae=i(10699),we=i(54244),Ie=i(25985),ke=i(5332),Pe=i(76957),Le=i(79727),Ce=i(34361),Re=i(85679),De=i(67511),Me=i(20341),xe=i(92294),je=i(26568),Ue=i(85992),He=i(28269),Fe=i(34029),Be=i(53954),Ve=i(21973),Ge=i(2473),We=i(23254),ze=i(3090),Ke=i(33585),Ye=i(41603),$e=i(77950),qe=i(99539),Ze=i(57898),Qe=i(24484),Xe=i(60699),Je=i(32347),et=i(43470),tt=i(16935),it=i(43037),nt=i(61774),st=i(84428),rt=i(76532),at=i(73339),ot=i(46950),lt=i(48945),ct=i(5823);class dt{constructor(){this.module=null,this.loaderReady=new ot.Q,this.loader=null}setLoader(e){this.loader||(this.loader=e,this.loaderReady.resolve())}async getModule(){if(this.module)return this.module;if(await this.loaderReady,this.loader&&(this.module=await this.loader()),this.module)return this.module;throw new Error("There was an error setting up the factory")}}async function ut(e,t,i,n,r){const o=new URLSearchParams(window.location.search);let l=o.get("sdkInterfaceVersion");l||(l=i.interface);const c=new j.M;let d;try{d=await c.load(l)}catch(e){throw Error("Unable to fetch the sdk interface. The sdk will be disabled. "+e)}const u={THREE:st,oEmbed:r},h={MpSdkAuthentication:G.w,RenderLayers:W.o,OptionsKey:z.gx,Application:we.Mx,AppPhase:we.nh,AppPhaseChangeMessage:K.LZ,CameraTransitionType:m.n,GetFloorIntersectCommand:Y.Z,StartMoveToFloorMessage:$.S,EndMoveToFloorMessage:q.P,MoveToFloorIndexCommand:Z.h9,ShowAllFloorsCommand:Z.EU,MattertagMediaType:ct.L0,RemoveMattertagCommand:Q.Gn,CloseAnnotationCommand:et.Aj,TagDescriptionChunkType:X.z,TagLinkType:J.U,AddMattertagCommand:Q.Fz,EditMattertagCommand:Q.Ek,MattertagLinkOpenedMessage:ee.Ik,NavigateToMattertagCommand:te.Y,ModelDataLoadedMessage:ie.Z,ModelColliderTarget:ne.S,NavigateToSweepCommand:se.ju,MeasuringPhase:Me.au,SettingGetCommand:he,SettingUpdateCommand:pe,PuckCollider:me.YY,PinClickedMessage:re.F7,PinHoverChangeMessage:re.tP,PinHeadMesh:ae.$,InstancedPinHeads:de.z,PinType:oe.Er,OpenTagCommand:it.lt,CloseTagCommand:it.xb,DockAnnotationCommand:et.bd,ChangePinOpacityScaleCommand:le.nP,MovePinCommand:le.I$,UpdatePinCommand:le.tE,RemovePinCommand:le.OL,FocusOnPinInsideCommand:se.OR,SelectAnnotationCommand:et.oM,SweepAlignmentType:fe.z9,SweepPlacementType:fe.hU,BeginMoveToSweepMessage:ge.Z,EndMoveToSweepMessage:ve.Z,ToggleToolCommand:be.tT,Tools:ye.w1,TourStartedMessage:Ee.oR,TourStoppedMessage:Ee.NR,TourEndedMessage:Ee.Mt,TourSteppedMessage:Ee.Vx,Color:Se.I,Vectors:Te.f,Viewmode:Oe.Ey,CommandViewmode:_e.BD,ChangeViewmodeCommand:_e._i,BeginSwitchViewmodeMessage:Ne.Z,EndSwitchViewmodeMessage:Ae.Z,GetScreenPositionCommand:ze.b,ZoomInCommand:Ke.bj,ZoomResetCommand:Ke.ob,ZoomSetCommand:Ke.ts,SourceType:$e.SourceType,sensorVolumes:{sphere:qe.b,box:Ze.k,cylinder:Qe.X},TourState:Xe.Vs,MediaType:Je.DD},p=ht(t),f=function(e,t){const i=(async()=>{const t=(await e.getModuleBySymbol(a.y.MODEL_DATA)).getSignedUrls();return new F.Z(t)})();return{applicationData:e.market.waitForData(we.pu),cameraData:e.market.waitForData(Ie.M),canvasData:e.market.waitForData(ke.W),cursorController:e.getModuleBySymbol(a.y.CURSOR_CONTROLLER),deepLinks:e.getModuleBySymbol(a.y.DEEP_LINKS),externalR3FModule:e.getModuleBySymbol(a.y.REACT_THREE_FIBER_EXTERNAL),floorData:e.market.waitForData(Pe.i),floorViewData:e.market.waitForData(Le.c),labelData:e.market.waitForData(Ce.D),mattertagData:e.market.waitForData(Re.n),mattertagViewData:e.market.waitForData(De.P5),measurementModeData:e.market.waitForData(xe.X),modelData:e.market.waitForData(je.T),pinViewData:e.market.waitForData(ce.B),annotationsViewData:e.market.waitForData(tt.A),tagsViewData:e.market.waitForData(nt.n),plugin:e.getModuleBySymbol(a.y.PLUGIN),raycasterData:e.market.waitForData(Ue.P),roomData:e.market.waitForData(He.Z),settingsData:e.market.waitForData(Fe.e),sweepData:e.market.waitForData(Be.Z),sweepViewData:e.market.waitForData(Ve.D),tourData:e.market.waitForData(Ge.k),viewmodeData:e.market.waitForData(We.O),appPhaseModule:e.getModuleBySymbol(a.y.APP_PHASE),commonControlsModule:e.getModuleBySymbol(a.y.CONTROLS_COMMON),floorCasterModule:e.getModuleBySymbol(a.y.FLOOR_RAYCAST),mattertagDataModule:e.getModuleBySymbol(a.y.MATTERTAG_DATA),mattertagMeshModule:e.getModuleBySymbol(a.y.MATTERTAG_MESH),mattertagViewDataModule:e.getModuleBySymbol(a.y.MATTERTAG_VIEWDATA),meshQuery:e.getModuleBySymbol(a.y.MESH_QUERY),modelDataModule:e.getModuleBySymbol(a.y.MODEL_DATA),modelMeshModule:e.getModuleBySymbol(a.y.MODEL_MESH),meshData:e.market.waitForData(rt._),navigationModule:e.getModuleBySymbol(a.y.NAVIGATION),renderToTextureModule:e.getModuleBySymbol(a.y.RENDER_TO_TEXTURE),sceneModule:t.scene.getModule(),sensorModule:e.getModuleBySymbol(a.y.SENSORS),settingsModule:e.getModuleBySymbol(a.y.SETTINGS),tourControlsModule:e.getModuleBySymbol(a.y.TOUR_CONTROLS),webglRendererModule:e.getModuleBySymbol(a.y.WEBGL_RENDERER),zoomControlModule:e.getModuleBySymbol(a.y.CONTROLS_ZOOM),sweepTextureLoader:i,pluginData:e.market.waitForData(at.e)}}(t,n),g=o.get("useLegacyIds"),v=null===g||parseInt(g,10)?s.LEGACY:s.API,b=!!(await t.market.waitForData(Fe.e)).tryGetProperty(lt.RY,!1);d.setup(e,u,h,p,f,{idOption:v,useNewTags:b,sandboxPath:i.sandbox})}function ht(e){return{loadImage:U.p,waitForUpdate:()=>e.after(r.A.End),subscribe:(t,i)=>e.subscribe(t,i),addBinding:(t,i)=>e.commandBinder.addBinding(t,i),issueCommand:t=>e.commandBinder.issueCommand(t),requestTarget:()=>e.commandBinder.issueCommand(new H.oM),getRenderLayer:t=>e.getRenderLayer(t),jpegAsBase64:Ye.jJ,encodeRenderTarget:Ye.vP,getXmp:Ye.fY,getOrientedAngleTo:B.k2,screenPositionToNDC:V.z5,ndcToWorldPosition:V.st,worldToScreenPosition:V.q9}}},30365:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ErrorType:()=>v,default:()=>b});var n=i(97542),s=i(57956),r=i(38399),a=i(31362),o=i(87207),l=i(68472),c=i(75673),d=i(81826);const u=e=>({problem:"",solution:e.t(r.Z.ERROR_BROWSER_SOLUTION),explanation:e.t(r.Z.ERROR_BROWSER_EXPLANATION),actions:(0,a.tq)()?"":["<div id='browser-tiles'>","<a href='https://www.google.com/chrome/browser/' target='_blank'>","<div class='tile'>",`<img src=${o}>`,"</div>","</a>","<a href='https://www.mozilla.org/en-US/firefox/new/' target='_blank'>","<div class='tile'>",`<img src=${l}>`,"</div>","</a>","<a href='https://www.microsoft.com/en-us/edge' target='_blank'>","<div class='tile'>",`<img src=${c}>`,"</div>","</a>","<a href='https://support.apple.com/en-us/HT204416' target='_blank'>","<div class='tile'>",`<img src=${d}>`,"</div>","</a>","</div>"].join("")}),h="https://support.matterport.com/",p=e=>{const t=e.t(r.Z.ERROR_CONTEXT_LOST_ACTIONS,{"support-url":"https://support.matterport.com/"});return{problem:e.t(r.Z.ERROR_CONTEXT_LOST_PROBLEM),solution:"",explanation:"",actions:t}},m=e=>Object.assign(Object.assign({},u(e)),{problem:`${e.t(r.Z.ERROR_WEBGL_UNSUPPORTED_PROBLEM)}`}),f=e=>{const t=h,i=(0,a.tq)()?e.t(r.Z.ERROR_GENERIC_ACTIONS_MOBILE,{"support-url":t}):e.t(r.Z.ERROR_GENERIC_ACTIONS,{"browsers-url":"#install-browser","support-url":t});return{problem:e.t(r.Z.ERROR_GENERIC_PROBLEM),solution:e.t(r.Z.ERROR_GENERIC_SOLUTION),explanation:"",actions:i}},g=e=>{const t=e.t(r.Z.ERROR_LOADING_FAILED_ACTIONS,{"support-url":"https://support.matterport.com/s/article/Oops-Model-Not-Available"});return{problem:e.t(r.Z.ERROR_LOADING_FAILED_PROBLEM),solution:"",explanation:"",actions:t}};var v;!function(e){e[e.UNSUPPORTED=1]="UNSUPPORTED",e[e.WEBGL=2]="WEBGL",e[e.WEBGL_CONTEXT_LOST=3]="WEBGL_CONTEXT_LOST",e[e.GENERIC=4]="GENERIC"}(v||(v={}));class b extends n.Y{constructor(){super(...arguments),this.name="error-gui",this.errorType=null}async init({container:e},t){this.container=e.querySelector("#error-container"),this.problem=e.querySelector("#error-problem"),this.solution=e.querySelector("#error-solution"),this.explanation=e.querySelector("#error-explanation"),this.actions=e.querySelector("#error-actions"),this.localeModule=await t.getModuleBySymbol(s.y.LOCALE)}get currentErrorType(){return this.errorType}showError(e){switch(this.errorType=e,e){case v.UNSUPPORTED:this.populateErrorScreen(m);break;case v.WEBGL:this.populateErrorScreen(f);break;case v.WEBGL_CONTEXT_LOST:this.populateErrorScreen(p);break;case v.GENERIC:default:this.populateErrorScreen(g)}const t=this.actions.querySelector('[href="#install-browser"]');t&&t.addEventListener("click",(e=>{e.preventDefault(),this.populateErrorScreen(u)}))}hideError(){this.errorType=null,this.container.classList.add("hidden");for(const e of[this.problem,this.solution,this.explanation,this.actions])e.innerHTML=""}populateErrorScreen(e){const t=e(this.localeModule);this.container.classList.remove("hidden"),this.problem.innerText=t.problem,this.solution.innerText=t.solution,this.explanation.innerText=t.explanation,this.actions.innerHTML=t.actions}}},76250:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Vs});var n=i(67294),s=i(20745),r=i(97542),a=i(85893),o=i(94184),l=i.n(o),c=i(10374),d=i(54244),u=i(76631),h=i(33558),p=i(38399),m=i(39880),f=i(29708),g=i(89323),v=i(54569),b=i(84637),y=i(39642),E=i(66102),S=i(73536),T=i(92211),O=i(47457);function _(){const e=(0,E.b)(),{commandBinder:t}=(0,n.useContext)(h.I),i=(0,n.useCallback)((()=>{t.issueCommand(new T.Bz(S.P.VR_SELECT,!0))}),[t]),s=e.t(p.Z.VIEW_IN_VR);return(0,a.jsx)(O.zx,{className:"view-in-vr",onClick:i,ariaLabel:s,tooltip:s,tooltipOptions:{placement:"top"},icon:"vr",theme:"overlay",variant:O.Wu.TERTIARY})}var N=i(28482),A=i(89264),w=i(60699),I=i(97478),k=i(40964);var P;!function(e){e[e.flash=0]="flash",e[e.expanded=1]="expanded",e[e.collapsed=2]="collapsed"}(P||(P={}));var L=i(70765),C=i(97998),R=i(96767);const D=new C.Z("pause-button");class M extends n.Component{constructor(e){super(e),this.justEnded=!1,this.stopTour=async e=>{this.context.analytics.trackGuiEvent("tour_stopped");try{this.context.commandBinder.issueCommand(new R.vy)}catch(e){D.debug(e)}},this.state={justPaused:!1}}componentDidUpdate(){this.state.justPaused&&this.setState({justPaused:!1}),this.justEnded=!1}UNSAFE_componentWillReceiveProps(e){!this.props.tourPlaying||e.tourPlaying||this.justEnded||this.setState({justPaused:!0}),this.props.tourEnded&&(this.justEnded=!0)}render(){const{tourPlaying:e}=this.props,{justPaused:t}=this.state;return(0,a.jsx)("div",Object.assign({id:"pause-button",onClick:this.stopTour,onTouchMove:this.stopTour,onTouchStart:this.stopTour,"data-cy":"pause-button"},{children:!e&&(0,a.jsx)("img",{src:i(31896),className:l()({justPaused:t}),alt:"","aria-hidden":"true"})}))}}M.contextType=h.I;var x,j=i(59625),U=i(41326),H=i(31362),F=i(80361),B=i(38772),V=i(39693),G=i(26158),W=i(89549),z=i(3773),K=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let Y=x=class extends n.Component{constructor(e,t){super(e),this.nudgeTimeout=0,this.dismissNudge=()=>{this.state.showNudge&&(this.context.analytics.trackGuiEvent("notes_nudge_dismissed"),this.context.settings.setLocalStorageProperty(G.F.NotesModeNudgeSeen,!0),this.setState({showNudge:!1}))},this.modeButtonClicked=()=>{const e=this.props.openTool!==u.w1.NOTES;e&&this.context.analytics.trackGuiEvent("notes_mode_click_open"),this.toggleNotesMode(e)},this.localized={notesModeString:t.locale.t(p.Z.NOTES_MODE),nudgeTitleString:t.locale.t(p.Z.NOTES_NUDGE_TITLE),nudgeMessageString:t.locale.t(p.Z.NOTES_NUDGE_MESSAGE)},this.state={showNudge:!1}}componentDidMount(){this.updateNudge()}updateNudge(){const e=this.context.settings.tryGetProperty(V.pE,!1),t=this.context.settings.tryGetProperty(G.F.NotesModeNudgeSeen,!1);!e||t||this.nudgeTimeout||(this.nudgeTimeout=window.setTimeout((()=>{this.setState({showNudge:!0}),window.setTimeout((()=>{this.dismissNudge()}),x.DISMISS_NUDGE_TIMEOUT)}),x.SHOW_NUDGE_TIMEOUT))}toggleNotesMode(e){const{commandBinder:t}=this.context;t.issueCommand(new W.tT(u.w1.NOTES,e))}render(){const{className:e,openTool:t}=this.props,{showNudge:i}=this.state,{nudgeTitleString:n,nudgeMessageString:s}=this.localized,r=this.localized.notesModeString;return(0,a.jsxs)("div",Object.assign({className:l()("notes-mode-button",e)},{children:[(0,a.jsx)(O.zx,{onClick:this.modeButtonClicked,variant:O.Wu.TERTIARY,active:t===u.w1.NOTES,ariaLabel:r,tooltip:r,icon:"comment-outline",theme:"overlay"}),(0,a.jsx)(z.u,{className:l()("tooltip-title-large","nudge-tooltip"),open:i,closeButton:!0,onClose:this.dismissNudge,title:n,message:(0,a.jsx)("div",Object.assign({className:"nudge-message"},{children:(0,a.jsx)("span",Object.assign({className:"message"},{children:s}))})),arrowPos:z.x.BOTTOM_CENTER})]}))}};Y.contextType=h.I,Y.SHOW_NUDGE_TIMEOUT=15e3,Y.DISMISS_NUDGE_TIMEOUT=1e4,Y=x=K([B.Z],Y);var $,q=i(8824),Z=i(23674),Q=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let X=$=class extends n.Component{constructor(e,t){super(e),this.modeButtonClicked=()=>{const e=this.props.openTool!==u.w1.MEASUREMENTS;e&&this.context.analytics.trackToolGuiEvent("measurements","measure_mode"),this.context.commandBinder.issueCommand(new W.tT(u.w1.MEASUREMENTS,e))},this.localized={measurementMode:t.locale.t(p.Z.MEASUREMENT_MODE)}}render(){const{className:e,openTool:t}=this.props,i=this.localized.measurementMode;return(0,a.jsxs)("div",Object.assign({className:l()("measure-mode-button",e)},{children:[(0,a.jsx)(O.zx,{onClick:this.modeButtonClicked,variant:O.Wu.TERTIARY,active:t===u.w1.MEASUREMENTS,ariaLabel:i,tooltip:i,icon:"tape-measure",theme:"overlay"}),(0,a.jsx)(Z.Z,{title:p.Z.MEASUREMENT_NUDGE_TITLE,message:p.Z.MEASUREMENT_NUDGE_MESSAGE,showTimeout:$.SHOW_NUDGE_TIMEOUT,dismissTimeout:$.DISMISS_NUDGE_TIMEOUT,appSettingsKey:q.b,localStorageSettingsKey:G.F.MeasurementUserNudgeSeen,analyticsKeys:{tool:"measurements",guiAction:"measure_nudge"}})]}))}};X.contextType=h.I,X.SHOW_NUDGE_TIMEOUT=6e4,X.DISMISS_NUDGE_TIMEOUT=1e4,X=$=Q([B.Z],X);var J=i(27854),ee=i(72940),te=i(96403),ie=i(15501),ne=i(51978),se=i(70584),re=i(56421),ae=i(30265);function oe(){const e=(0,te.B)(),t=(0,ie.R)(),i=(0,ne.y)(ee.i,!1),n=(0,se.O)(),s=(0,re.S)(),r=n&&!e&&s===w.zz.LEGACY,o=!e;return(0,a.jsx)("div",Object.assign({className:l()("footer-ui",{"footer-ui-shaded":r})},{children:o&&(0,a.jsx)(ae.Z,{openModal:t,modelRatingEnabled:i})}))}var le=i(26764),ce=i(28250),de=i(2367),ue=i(86667);class he extends n.Component{constructor(e,t){super(e,t),this.isUnmounting=!1,this.bindings=[],this.viewmodeToClass={[U.BD.INSIDE]:"inside",[U.BD.OUTSIDE]:"outside",[U.BD.DOLLHOUSE]:"dollhouse",[U.BD.FLOORPLAN]:"floorplan",[U.BD.TRANSITIONING]:"transitioning"},this.checkShowReel=()=>{const{tourState:e}=this.props,{settings:t}=this.context,i=t.tryGetProperty(j.gx.HighlightReel,!0);if(e.totalSteps>0&&i){const e=this.getHlStartupValue();switch(e){case P.expanded:case P.flash:(0,m.gw)(100).then((()=>this.showReel(e)))}}},this.showReel=e=>{this.isUnmounting||(this.context.commandBinder.issueCommand(new A.Av(!0)),e===P.flash&&(0,m.gw)(3e3).then(this.dismissReel))},this.dismissReel=()=>{this.isUnmounting||this.context.commandBinder.issueCommand(new A.Av(!1))},this.onViewingControlsToggle=({show:e})=>{this.setState({autohide:!e})},this.updateViewportSize=e=>{this.isUnmounting||this.setState({viewportHeight:e.height})},this.isReelEnabled=()=>{if(this.props.tourMode===w.zz.STORIES)return!0;return this.state.viewportHeight>=400&&(0,I.ug)(this.context.settings)},this.isFloorsEnabled=()=>{const{settings:e}=this.context,t=e.tryGetProperty(y.w,!0),i=e.tryGetProperty(j.gx.FloorSelect,!0);return t&&i},this.toggleShareModal=()=>{const e=this.props.openModal===S.P.SHARE;this.context.analytics.trackGuiEvent("click_share_button"),this.context.commandBinder.issueCommand(new T.Bz(S.P.SHARE,!e))},this.renderModeControls=()=>{const{unaligned:e,viewmode:t}=this.props;return(0,a.jsx)(g.V,{unaligned:e,viewmode:t,className:"showcase-viewmode-controls"},"mode_controls")},this.renderFloorPlanControls=()=>{const{viewmode:e}=this.props;return(0,a.jsx)(b.d,{viewmode:e,iconStyle:!0,className:"showcase-floor-controls"},"floor_controls")},this.renderNotesModeButton=()=>{const{openTool:e}=this.props;return(0,a.jsx)(Y,{openTool:e,className:"showcase-notes-button"},"notes_mode_button")},this.renderMeasurementModeButton=()=>{const{openTool:e}=this.props;return(0,a.jsx)(X,{openTool:e,className:"showcase-measurements-button"},"measurement_mode_button")},this.renderHighlightReel=()=>{const{openTool:e,tourState:t,tourMode:i}=this.props;if(e&&e!==u.w1.SEARCH)return null;const{tourPlaying:n,highlights:s,activeStep:r,transition:o}=t;return(0,a.jsx)(L.e,{openTool:e,tourMode:i,transition:o,activeStep:r,highlights:s,tourPlaying:n})},this.renderRightControls=()=>{const e=[],{vrEnabled:t,shareEnabled:i}=this.props,n=(0,H.O6)();e.push((0,a.jsx)("span",{className:"divider"},"divider_1"));const s=this.context.locale.t(p.Z.SOCIAL_SHARING),r={placement:"top"};return i&&e.push((0,a.jsx)(O.zx,{onClick:this.toggleShareModal,ariaLabel:s,tooltip:s,tooltipOptions:r,icon:"share",theme:"overlay",variant:O.Wu.TERTIARY},"toggle_share_modal")),t&&e.push((0,a.jsx)(_,{},"vr_modal_controls")),n&&e.push((0,a.jsx)(N.Z,{},"fullscreen_controls")),e},this.state={viewportHeight:(0,ue.O)(t).height,autohide:!1},this.onResize=(0,F.D)(this.updateViewportSize,250)}componentDidMount(){const{messageBus:e,market:t}=this.context;t.waitForData(de.V).then((e=>{this.isUnmounting||this.bindings.push(e.onPropertyChanged("size",this.onResize))})),this.bindings.push(e.subscribe(k.ps,this.onViewingControlsToggle)),this.checkShowReel()}componentWillUnmount(){this.isUnmounting=!0,this.bindings.map((e=>e.cancel()))}componentDidUpdate(e){!(e.tourState.totalSteps>0)&&this.props.tourState.totalSteps>0&&this.checkShowReel()}getHlStartupValue(){const{settings:e}=this.context;if(e.getOverrideParam("note","")||e.getOverrideParam("tag",""))return P.collapsed;const t=this.props.tourState.highlights.some((e=>e.snapshot.is360))?P.expanded:P.flash,i=e.getOverrideParam("hl",t);return(0,f.p)(P,i)?i:t}render(){const{measurementsModeEnabled:e,notesEnabled:t,openModal:i,openTool:n,showStoryTour:s,toolPanelLayout:r,tourMode:o,tourState:c,unaligned:d,viewmode:h}=this.props,{tourPlaying:p,tourEnded:m,totalSteps:f,activeStep:g,currentStep:b,highlights:y}=c,{autohide:E,viewportHeight:T}=this.state,{settings:O}=this.context,_=this.viewmodeToClass[h]||"",N=0===f,A=o===w.zz.STORIES,I=T>=400,k=this.isReelEnabled()&&!N,P=n!==u.w1.MEASUREMENTS,L=this.isFloorsEnabled(),C=t&&!d,R=e&&!d,D=O.tryGetProperty(ee.i,!1),x={"modal-open":!!i,"tour-playing":p,"stories-tour-showing":s,autohide:E},j=!(!i||i===S.P.CTA&&A||n),U=l()("bottom-controls",{"faded-out":j});return(0,a.jsxs)("div",Object.assign({id:"bottom-ui",className:l()("bottom-ui",x,_)},{children:[(0,a.jsx)(M,{tourPlaying:p,tourEnded:m}),(0,a.jsxs)("div",Object.assign({className:U},{children:[(0,a.jsxs)(J.i,Object.assign({className:"controls"},{children:[(0,a.jsx)(v.Z,{toolPanelLayout:r,activeTool:n,activeStep:g,currentStep:b,highlights:y||[],tourPlaying:p,tourMode:o,hideReel:!I},"tour_controls"),this.renderModeControls(),L&&this.renderFloorPlanControls(),C&&this.renderNotesModeButton(),R&&this.renderMeasurementModeButton(),P&&this.renderRightControls()]})),D&&(0,a.jsx)(le.L,{})]})),k&&this.renderHighlightReel(),(0,a.jsx)(oe,{})]}))}}he.contextType=h.I;const pe=(0,ce.j)(he);var me=i(44523),fe=i(70173),ge=i(49627),ve=i(19564),be=i(83038),ye=i(61531),Ee=i(96365);const Se=()=>{const e=(0,ne.y)(Ee.My,Ee.ED);return(0,n.useMemo)((()=>Object.assign({},Ee.ED,e)),[e])};var Te=i(17111);const{SUBSCRIBER_PROMPT:Oe}=p.Z.SHOWCASE,_e=e=>{e.preventDefault()},Ne=()=>{const e=(0,ve.z)(),t=(0,E.b)(),{popupDelay:i}=Se(),[s,r]=(0,n.useState)(0),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!0),[u,h]=(0,ge._)(Ee.pr,!1);(0,ye.U)(fe.i,(e=>{if(o)return;const t=e.durationDollhouse+e.durationFloorplan+e.durationInside,n=s+t;be.L.debug(`Check Visibility: ${n}/${i}ms, User has dismissed popup: ${u.toString()}`),n>=i&&!u&&l(!0),r(n)}));const p=(0,n.useCallback)((()=>{h(!0)}),[h]),m=(0,n.useCallback)((t=>{t.stopPropagation(),e.trackGuiEvent("subscriber_prompt_a_popup_dismissed"),p()}),[p,e]),f=(0,n.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_a_popup_cta_click"),window.open(Ee.Tm,"_blank"),p()}),[p,e]);return(0,n.useEffect)((()=>(o&&c&&(e.trackGuiEvent("subscriber_prompt_a_popup_viewed"),d(!1)),()=>{})),[e,o,c]),o?(0,a.jsxs)("div",Object.assign({className:"subscriber-prompt-popup",onClick:f},{children:[(0,a.jsx)("img",{className:"matterport-app-icon",alt:"Matterport App Icon",src:Te,width:"48",height:"48"}),(0,a.jsxs)("div",Object.assign({className:"subscriber-prompt-body"},{children:[(0,a.jsx)("div",Object.assign({className:"h5 subscriber-prompt-heading"},{children:t.t(Oe.POPUP_CTA_HEADING)})),(0,a.jsx)("a",Object.assign({className:"link",target:"_blank",onClick:_e,href:Ee.Tm},{children:t.t(Oe.POPUP_CTA_LINK_TEXT)}))]})),(0,a.jsx)(O.zx,{icon:"close",onClick:m})]})):null};var Ae=i(85890),we=i(25071),Ie=i(53407),ke=i(33023),Pe=i(49571);var Le=i(45531);var Ce=i(79606),Re=i(10385),De=i(73085);const Me=()=>{const e=(0,De.v)(Ce.I,"applicationKeys",new Re.d);return(0,ne.y)(Ee.B_,!1)&&0===e.length};var xe=i(47764),je=i(15258),Ue=i(27839);function He(){const e=(0,Ue._)(),[t,i]=(0,n.useState)((null==e?void 0:e.getEnabledOrderedModelViews())||[]);return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){i((null==e?void 0:e.getEnabledOrderedModelViews())||[])}const n=e.onModelViewsChanged(t);return t(),()=>n.cancel()}),[e]),t}var Fe=i(23829),Be=i(9373),Ve=i(76087);function Ge(e,t,i){const n=i===Fe.RF;return!(!(e&&e.enabled&&((0,Be.ys)(e)||(0,Be.AI)(e)))||n||t.length<2)}function We(e,t,i){return!Ge(e,t,i)&&!!e&&(0,Be.ys)(e)}function ze(){const e=(0,ne.y)(Ve.Pe,!1),t=(0,je.K)(),i=He(),s=(0,xe.L)(Fe.Sw),[r,a]=(0,n.useState)(e&&Ge(t,i,s));return(0,n.useEffect)((()=>(a(e&&Ge(t,i,s)),()=>{})),[e,t,i,s]),r}function Ke(){const e=(0,ne.y)(Ve.Pe,!1),t=(0,je.K)(),i=He(),s=(0,xe.L)(Fe.Sw),[r,a]=(0,n.useState)(e&&We(t,i,s));return(0,n.useEffect)((()=>(a(e&&We(t,i,s)),()=>{})),[e,t,i,s]),r}function Ye(){const e=(0,ne.y)(Ve.Wp,!1),t=(0,Ue._)(),[i,s]=(0,n.useState)(e&&(null==t?void 0:t.getCurrentUserLayers())||[]);return(0,n.useEffect)((()=>{if(!t)return()=>{};function i(){s(e&&(null==t?void 0:t.getCurrentUserLayers())||[])}const n=t.onCurrentLayersChanged(i);return i(),()=>n.cancel()}),[t,e]),i}var $e=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let qe=class extends n.Component{constructor(){super(...arguments),this.handleTitleClick=()=>{const{commandBinder:e,analytics:t}=this.context;e.issueCommand(new W.tT(u.w1.SUMMARY,!0)),t.trackGuiEvent("click_model_title",{interactionSource:"gui"})}}getFilteredValue(e,t,i,n){return!this.context.settings.tryGetProperty(t,i)||n&&!this.props.brandingEnabled?"":e}render(){const{locale:e}=this.context,{className:t,modelDetails:i}=this.props,{name:n,presentedBy:s}=i,r=this.getFilteredValue(n,j.gx.DetailsModelName,!0,!1),o=this.getFilteredValue(s,j.gx.PresentedBy,!1,!0),c=!!o;return(0,a.jsx)("div",Object.assign({id:"model-title",onClick:this.handleTitleClick,className:t,role:"button"},{children:(0,a.jsx)("div",Object.assign({id:"main-title-wrapper"},{children:(0,a.jsxs)("div",Object.assign({className:"main-title"},{children:[c&&(0,a.jsx)("div",Object.assign({className:"co-brand"},{children:(0,a.jsxs)("span",Object.assign({className:"title",id:"cobrandTitle"},{children:[e.t(p.Z.PRESENTED_BY),o]}))})),(0,a.jsxs)("div",Object.assign({id:"gui-name",className:l()({titleText:!0,noCoBrand:!o})},{children:[(0,a.jsx)("span",{className:"icon icon-location"}),r]}))]}))}))}))}};qe.contextType=h.I,qe=$e([B.Z],qe);const Ze=qe;var Qe=i(90197),Xe=i(22410);function Je(e,t,i){var n;const s=(null===(n=null==i?void 0:i.getView(e))||void 0===n?void 0:n.name)||"";return(0,m.aS)(s||t,Fe.ty)}function et(e){const t=(0,Ue._)(),i=(0,E.b)().t(p.Z.WORKSHOP.LAYERS.VIEW_PLACEHOLDER),[s,r]=(0,n.useState)(Je(e,i,t));return(0,n.useEffect)((()=>t?(r(Je(e,i,t)),()=>{}):()=>{}),[t,e]),s}var tt=i(80008),it=i(71102);function nt({id:e,name:t,visible:i}){const{analytics:s,commandBinder:r}=(0,n.useContext)(h.I);return(0,a.jsx)(O.XZ,{id:`layer-toggle-${e}`,label:t||"Untitled Layer",defaultChecked:i,onChange:t=>{const i=t.target;if(!i)return;const n=i.checked;r.issueCommand(new tt.MV(e,n)),s.trackToolGuiEvent("layers","layers_toggle_layer")},onClick:e=>{e.stopPropagation()}})}const{SHOWCASE:st}=p.Z;function rt(){const e=function(){const e=(0,Xe.n)(),[t,i]=(0,n.useState)((null==e?void 0:e.model.details.name)||"");return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onChanged(i);return i(e.model.details.name),()=>t.cancel()}),[e]),t}(),t=(0,je.K)(),i=et((null==t?void 0:t.id)||""),s=Ye(),r=He(),o=ze(),c=Ke(),{analytics:d,commandBinder:u}=(0,n.useContext)(h.I),p=(0,E.b)(),[m,f]=(0,n.useState)(!1),g=async()=>{d.trackToolGuiEvent("layers","layers_view_goto_start_location"),await u.issueCommand(new Qe.Q)},v=e=>{f(e)};if((0,n.useEffect)((()=>{if(!t)return;const{name:i}=t;let n;return n=(0,Be.ys)(t)?`${e}: ${i}`:e,document.title=n,()=>{}}),[e,t]),!t)return null;const b=s.map((e=>{const{id:t,name:i,toggled:n}=e;return(0,a.jsx)("div",Object.assign({className:l()("mp-nova-menu-item","data-layer-menu-item")},{children:(0,a.jsx)(nt,{id:t,name:i,visible:n})}),t)})),y=p.t(st.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP),S=r.map((e=>{const{id:i}=e,n=i===t.id,s=n&&b.length>0?b:void 0,r=s?"parent-menu-item":"";return(0,a.jsxs)("div",Object.assign({className:l()("mp-nova-menu-item",r)},{children:[(0,a.jsx)(at,{view:e,active:n}),s]}),i)}));return o&&r.length>1?(0,a.jsxs)("div",Object.assign({className:l()("views-layers-toggles","model-view-selector",{open:m})},{children:[(0,a.jsx)(O.zx,{className:"start-location-btn",icon:"start-location",variant:O.Wu.PRIMARY,size:O.qE.SMALL,onClick:g,tooltip:y}),(0,a.jsx)(O.xz,Object.assign({menuClassName:"views-layers-menu",variant:O.Wu.PRIMARY,size:O.qE.SMALL,label:i,onMenuToggled:v,caret:!0},{children:S}))]})):b.length>0?(0,a.jsx)("div",Object.assign({className:l()("views-layers-toggles",{open:m})},{children:(0,a.jsx)(O.xz,Object.assign({menuClassName:l()("views-layers-menu","data-layers-only-menu"),variant:O.Wu.PRIMARY,size:O.qE.SMALL,label:i,onMenuToggled:v,caret:!0},{children:b}))})):c?(0,a.jsx)("div",Object.assign({className:"model-view-display"},{children:i})):null}function at({view:e,active:t}){const{analytics:i,commandBinder:s}=(0,n.useContext)(h.I),{id:r}=e,o=et(r);return(0,a.jsx)(O.zx,{className:"view-name",label:o,size:O.qE.SMALL,onClick:async()=>{i.trackToolGuiEvent("layers","layers_view_switch"),await s.issueCommand(new it.D(!1)),await s.issueCommand(new tt.wG(r)),await s.issueCommand(new it.D(!0))},active:t})}var ot=i(33526),lt=i(14355);function ct(e){const{brandingEnabled:t,modelDetails:i,tourPlaying:s}=e,r=(0,me.O)(),o=(0,te.B)(),c=(0,ie.R)(),d=(0,ce.J)(),p=function(){const{editMode:e}=(0,n.useContext)(h.I),t=(0,ke.Q)(u.w1.SEARCH),i=(0,ne.y)(Pe.BS,!1),s=(0,ne.y)(j.gx.SpaceSearch,!1);return i&&!!t&&(e||s)}(),m=(0,ne.y)(y.Q,!1),f=(0,Ie.d)(),g=function(){const e=ze(),t=Ke(),[i,s]=(0,n.useState)(e||t);return(0,n.useEffect)((()=>(s(e||t),()=>{})),[e,t]),i}(),v=function(){const e=Ye(),[t,i]=(0,n.useState)(e.length>0);return(0,n.useEffect)((()=>(i(e.length>0),()=>{})),[e.length]),t}(),b=g||v,E=function(){const e=(0,ne.y)(Le.Zz,!0),t=(0,ne.y)(j.gx.DetailsModelName,!0);return e&&t}()&&i,S=!!E&&!f&&(!b||r.width>we.Eb),T=(()=>{const e=Me(),t=Se(),i=(0,ge.Fx)(Ee.pr);return t.popupEnabled&&e&&!i})();if(!(p||E||m||b))return null;const O=l()("top-ui",{"faded-out":o||c||s||d});return(0,a.jsxs)(a.Fragment,{children:[T&&!o&&(0,a.jsx)(Ne,{}),(0,a.jsxs)("div",Object.assign({className:O},{children:[p&&(0,a.jsx)(ot.m,{toolName:u.w1.SEARCH}),(0,a.jsxs)("div",Object.assign({className:"child-container"},{children:[m&&(0,a.jsx)(lt.N,Object.assign({open:f,className:l()("floor-name-container",{collapsed:!f})},{children:(0,a.jsxs)("div",{children:[(0,a.jsx)(Ae.Q,{}),p&&(0,a.jsx)("div",{className:"search-button-spacer"})]})})),E&&(0,a.jsx)(lt.N,Object.assign({open:S,className:l()("title-bar-container",{collapsed:!S})},{children:(0,a.jsx)(Ze,{modelDetails:i,brandingEnabled:!!t})})),b&&(0,a.jsx)(lt.N,Object.assign({open:b,className:l()("model-view-container",{collapsed:!b})},{children:(0,a.jsx)(rt,{})}))]}))]}))]})}var dt=i(23037),ut=i(71776),ht=i(48945),pt=i(36927),mt=i(34361),ft=i(25985),gt=i(79727),vt=i(3090),bt=i(84428),yt=i(10699),Et=i(5090),St=i(56159),Tt=i(69739);class Ot extends n.Component{constructor(e){super(e)}render(){const{sid:e,position:t,text:i,readOnlyText:n,rotation:s,visible:r}=this.props,o={left:t.x+"px",top:t.y+"px",transform:s?`translate(-50%, -50%) rotate(${s}deg) `:"translate(-50%, -50%)"},l=n?`${i} ${n}`:i;return r?(0,a.jsx)("div",Object.assign({id:e,className:"label",style:o},{children:(0,a.jsx)("span",{children:l})})):null}}var _t=i(48787);const Nt=new C.Z("label-ui");class At extends n.Component{constructor(e){super(e),this.subscriptions=[],this.reusableVector=new bt.Vector3,this.isUnmounting=!1,this.inFloorPlan=e=>e===U.BD.FLOORPLAN,this.onCameraUpdate=()=>{this.inFloorPlan(this.props.viewmode)&&this.updateLabelPositions()},this.onViewTransitionStart=()=>{this.setState({inModeTransition:!0})},this.onViewTransitionEnd=async e=>{this.inFloorPlan((0,U.ty)(e.toMode))&&(this.setState({inModeTransition:!1}),this.updateLabelPositions())},this.updateFloorState=()=>{this.isUnmounting||this.setState({topMostFloorId:this.floorsViewData.topFloorId})},this.updateLabelPositions=async()=>{const e={};for(const t of this.labelData.getCollection()){this.reusableVector.set(t.position.x,t.position.y,t.position.z);const i=await this.context.commandBinder.issueCommand(new vt.b({worldPosition:this.reusableVector}));e[t.sid]=Object.assign({screenPosition:i},t)}this.isUnmounting||this.setState({labelPositions:e})},this.startMoveToFloor=()=>{this.setState({movingToFloor:!0})},this.endMoveToFloor=e=>{this.setState({movingToFloor:!1})},this.state={labelPositions:{},topMostFloorId:null,inModeTransition:!1,movingToFloor:!1}}async componentDidMount(){const e=this.context.messageBus;try{if(this.floorsViewData=await this.context.market.waitForData(gt.c),this.isUnmounting)return;const e=this.floorsViewData.onChanged(this.updateFloorState);if(this.subscriptions.push(e),this.updateFloorState(),this.labelData=await this.context.market.waitForData(mt.D),this.isUnmounting)return}catch(e){Nt.debug(e)}this.updateLabelPositions();const t=await this.context.market.waitForData(ft.M);this.isUnmounting||(this.subscriptions.push(t.onChanged(this.onCameraUpdate),e.subscribe(St.S,this.startMoveToFloor),e.subscribe(Tt.P,this.endMoveToFloor),e.subscribe(Et.Z,this.onViewTransitionStart),e.subscribe(yt.Z,this.onViewTransitionEnd)),this.subscriptions.forEach((e=>e.renew())))}componentWillUnmount(){this.isUnmounting=!0,this.subscriptions.forEach((e=>e.cancel()))}renderLabel(e){const{currentFloorId:t}=this.props,{topMostFloorId:i,labelPositions:n,movingToFloor:s}=this.state,{floorId:r,screenPosition:o,text:l,visible:c,sid:d,rotation:u}=n[e],h=s?null:t;return(0,a.jsx)(Ot,{position:o,rotation:u,text:l,visible:(!h&&i===r||h===r)&&c,sid:d},d)}render(){const{inModeTransition:e,labelPositions:t}=this.state,{viewmode:i}=this.props;if(!this.inFloorPlan(i)||e)return null;const n=[];return Object.keys(t).forEach((e=>{n.push(this.renderLabel(e))})),(0,a.jsx)("div",Object.assign({className:"overlay-layer labels-layer"},{children:n}))}}At.contextType=h.I;const wt=(0,_t.h)(At);var It=i(38597),kt=i(15792),Pt=i(73520),Lt=i(40505),Ct=i(96154);class Rt extends n.Component{constructor(e){super(e),this.propertiesToRefreshUi=[ut.re,V.Mp,dt.Nj,j.gx.Labels,y.Q,dt.Cu],this.bindings=[],this.inTransition=!1,this.newTagsEnabled=!1,this.notesEnabled=!1,this.onLoadSpinnerMessage=e=>{this.setState({loadSpinnerOn:e.isOpen})},this.onLoadSpinnerSuppressMessage=e=>{this.setState({loadSpinnerSuppress:e.suppress})},this.refreshVisibility=()=>{const e=this.context.settings;this.setState({labelsOn:e.tryGetProperty(dt.Nj,!1)&&e.tryGetProperty(j.gx.Labels,!1)&&!e.tryGetProperty(dt.Cu,!1)&&!this.inTransition,mattertagsOn:e.tryGetProperty(ut.re,!1),notesOn:e.tryGetProperty(V.Mp,!1)})},this.state={mattertagsOn:!1,labelsOn:!1,notesOn:!1,loadSpinnerOn:!1,loadSpinnerSuppress:!1}}componentDidMount(){for(const e of this.propertiesToRefreshUi)this.context.settings.onPropertyChanged(e,this.refreshVisibility);const e=()=>{this.inTransition=!0},t=()=>{this.inTransition=!1,this.refreshVisibility()};this.bindings.push(this.context.messageBus.subscribe(Et.Z,e),this.context.messageBus.subscribe(yt.Z,t),this.context.messageBus.subscribe(St.S,e),this.context.messageBus.subscribe(Tt.P,t),this.context.messageBus.subscribe(Lt.Z_,this.onLoadSpinnerMessage),this.context.messageBus.subscribe(Lt.bN,this.onLoadSpinnerSuppressMessage),this.context.messageBus.subscribe(Ct.oR,(()=>this.setState({loadSpinnerSuppress:!0}))),this.context.messageBus.subscribe(Ct.NR,(()=>this.setState({loadSpinnerSuppress:!1})))),this.refreshVisibility(),this.newTagsEnabled=this.context.settings.tryGetProperty(ht.RY,!1),this.notesEnabled=this.context.settings.tryGetProperty(V.IA,!1)}componentWillUnmount(){for(const e of this.propertiesToRefreshUi)this.context.settings.removeOnPropertyChanged(e,this.refreshVisibility);this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}render(){const{labelsOn:e,mattertagsOn:t,notesOn:i,loadSpinnerOn:n,loadSpinnerSuppress:s}=this.state,{mobile:r,viewmode:o,openModal:l,tourState:c}=this.props,{tourPlaying:d}=c,u=n&&!s,h=t&&this.newTagsEnabled,p=i&&this.notesEnabled,m=p||h;return(0,a.jsxs)("div",Object.assign({className:"overlay-ui"},{children:[m&&(0,a.jsx)(kt.I,{}),m&&(0,a.jsx)(It.E,{notesEnabled:p,newTagsEnabled:h,openModal:l}),t&&!this.newTagsEnabled&&(0,a.jsx)(pt.$,{tourPlaying:d,toolOpen:!1,mobile:r,allowTagOverlay:!0}),e&&(0,a.jsx)(wt,{viewmode:o}),(0,a.jsx)(Pt.Z,{showing:u})]}))}}Rt.contextType=h.I;var Dt=i(86006),Mt=i(51110),xt=i(38490),jt=i(8659),Ut=i(61687),Ht=i(51801),Ft=i(10837);const Bt={"en-US":"./terms/terms-en-US.html",es:"./terms/terms-es-MX.html",fr:"./terms/terms-fr-FR.html",de:"./terms/terms-de-DE.html",ru:"./terms/terms-ru-RU.html",ja:"./terms/terms-ja-JP.html","zh-CN":"./terms/terms-zh-CN.html","zh-TW":"./terms/terms-zh-TW.html",ko:"./terms/terms-ko-KR.html",nl:"./terms/terms-nl-NL.html",it:"./terms/terms-it-IT.html",pt:"./terms/terms-pt-BR.html"};class Vt extends n.Component{constructor(e,t){super(e,t),this.isUnmounting=!1,this.onScrollPositionChange=()=>{this.scrollbars&&this.setState({scrollClass:this.scrollbars.scrollPosition.vertical})},this.onClose=()=>{this.setState({showing:!1}),this.context.commandBinder.issueCommand(new T.Bz(S.P.TERMS,!1))},this.stopPropagation=e=>{e.stopPropagation()},this.state={termsText:"",hideScrollbar:(0,Ut.w)((0,ue.O)(t)),showing:!1,scrollClass:jt.Ij.None}}async componentDidMount(){const e=function(e){if((0,Ft.y)(e)&&e in Bt)return Bt[e]}(this.context.locale?this.context.locale.languageCode:Ht.k$);let t="";if(e)try{t=await this.context.queue.get(e)}catch(e){t=this.context.locale.t(p.Z.TERMS_FAIL)}else t=this.context.locale.t(p.Z.TERMS_FAIL);this.context.market.waitForData(de.V).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,Ut.w)(e)})})))})),window.requestAnimationFrame((()=>{this.isUnmounting||this.setState({showing:!0,termsText:t})}))}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.resizeSubscription)||void 0===e||e.cancel()}componentDidUpdate(e,t){this.state.termsText!==t.termsText&&(this.termsTextDiv.innerHTML=this.state.termsText,[].slice.call(this.termsTextDiv.querySelectorAll("a")).forEach((e=>{e.setAttribute("target","_blank"),e.classList.add("link")})))}render(){const{hideScrollbar:e,showing:t,scrollClass:i}=this.state;return(0,a.jsxs)("div",Object.assign({className:l()("modal","terms-modal",{"faded-in":t,[i]:!0}),onClick:this.stopPropagation},{children:[(0,a.jsx)("div",Object.assign({id:"terms-wrapper"},{children:(0,a.jsx)(Mt.Z,Object.assign({name:"terms",ref:e=>this.scrollbars=e,onScrollPositionChange:this.onScrollPositionChange,forceHidden:e},{children:(0,a.jsx)("div",{ref:e=>this.termsTextDiv=e,id:"terms-text"})}))})),(0,a.jsx)(xt.P,{buttonStyle:xt.A.LIGHT,onClose:this.onClose})]}))}}Vt.contextType=h.I;var Gt,Wt=i(11642),zt=i(44578),Kt=i(81456),Yt=i(25328),$t=i(57956);!function(e){e.MAIL="mail",e.META="meta",e.PINTEREST="pinterest",e.LINKEDIN="linkedin",e.TWITTER="twitter",e.FACEBOOK="facebook",e.COPYLINK="copylink",e.NATIVE="native"}(Gt||(Gt={}));const{FACEBOOK:qt,TWITTER:Zt,MAIL:Qt,META:Xt,PINTEREST:Jt,LINKEDIN:ei,COPYLINK:ti,NATIVE:ii}=Gt,ni={[Qt]:"em",[Xt]:"mt",[Jt]:"pn",[ei]:"ln",[Zt]:"tw",[qt]:"fb",[ti]:"cp",[ii]:"os"},si={[qt]:{width:626,height:436},[Zt]:{width:550,height:440},[Jt]:{width:750,height:749},[ei]:{width:550,height:453},[ti]:{},[Qt]:{},[Xt]:{},[ii]:{}},ri=async(e,t=!0)=>{let i;const n=await e.engine.getModuleBySymbol($t.y.DEEP_LINKS),s=["ref","gclid","fbclid","cloudEdit","back","note","comment","apiHost","applicationKey","host","sdkKey","tag"],r=e=>!s.includes(e);return i=t?n.creator.createDeepLink({paramFilter:r}):n.creator.createLink({paramFilter:r}),i.searchParams.forEach(((e,t)=>{(s.includes(t)||0===t.indexOf("utm_"))&&i.searchParams.delete(t)})),decodeURIComponent(i.href)},ai=e=>new URLSearchParams(e).toString(),oi=(e,t,i)=>{const n=e.replace("?",`?ref=${ni[qt]}&`);return`http://www.facebook.com/sharer.php?${ai({display:"popup",u:n})}`},li=(e,t,i)=>{const n=e.replace("?",`?ref=${ni[Zt]}&`),s={text:i.t(p.Z.SHARED_MESSAGE_HASHTAG,{title:t,url:n,hashtag:"#Matterport"})};return`http://twitter.com/intent/tweet?${ai(s)}`},ci=(e,t,i)=>{const n=e.replace("?",`?ref=${ni[Qt]}&`),s={subject:i.t(p.Z.SHARED_TITLE,{title:t}),body:i.t(p.Z.SHARED_MESSAGE,{title:t,url:n})};return`mailto:?${ai(s)}`},di=e=>{const t=e.replace("?",`?ref=${ni[Xt]}&qs=1&`);return`https://www.oculus.com/open_url/?${ai({url:t})}`},ui=(e,t,i,n)=>{const s={url:e.replace("?",`?ref=${ni[Jt]}&`),media:i,description:n.t(p.Z.SHARED_TITLE,{title:t})};return`http://pinterest.com/pin/create/link/?${ai(s)}`},hi=(e,t,i)=>{const n=e.replace("?",`?ref=${ni[ei]}&`);return`https://www.linkedin.com/shareArticle?${ai({mini:"true",url:n})}`},pi=(e,t,i,n)=>({[qt]:oi(e),[Zt]:li(e,t,n),[Qt]:ci(e,t,n),[Jt]:ui(e,t,i,n),[ei]:hi(e),[Xt]:di(e),[ti]:e,[ii]:e});var mi=i(40909),fi=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const gi=new C.Z("vr-select");let vi=class extends n.Component{constructor(e){super(e),this.isUnmounting=!1,this.stopPropagation=e=>{e.stopPropagation()},this.renderHeadsetHeader=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case Wt.bk.unsupported:case Wt.bk.webxr:return(0,a.jsxs)("div",Object.assign({className:"headset-header dark"},{children:[(0,a.jsxs)("span",Object.assign({className:"headset-titles"},{children:[(0,a.jsx)("h2",{children:e.t(p.Z.VR_RECOMMENDED)}),(0,a.jsx)("h1",{children:e.t(p.Z.VR_QUEST)})]})),(0,a.jsx)("img",{className:"headset-quest",src:i(49529),height:200,width:342})]}));default:return null}},this.renderBodyText=()=>{const{locale:e}=this.context,{vrPlatform:t}=this.state;switch(t){case Wt.bk.unsupported:case Wt.bk.webxr:return(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:e.t(p.Z.VR_SUPPORTS)})});default:return null}},this.getFooterButtons=()=>{const{locale:e,settings:t}=this.context,{vrPlatform:i,metaLink:n}=this.state,s=[];s.push((0,a.jsx)(Yt.zx,Object.assign({buttonStyle:Yt.ZJ.OUTLINE,className:l()("button-inline","cancel"),onClick:this.onLearnMoreClicked},{children:e.t(p.Z.VR_LEARN_MORE_CAPS)}),"learn-more"));const r=t.tryGetProperty(mi.y_,mi.yK);return i===Wt.bk.webxr?s.push((0,a.jsx)(Yt.zx,Object.assign({buttonState:Yt.BN.ENABLED,className:l()("button-inline","confirm"),onClick:this.onActionClicked},{children:e.t(p.Z.VR_ENTER)}),"enter-vr")):r&&s.push((0,a.jsx)(Yt.zx,Object.assign({buttonState:n?Yt.BN.ENABLED:Yt.BN.DISABLED,className:l()("button-inline","confirm"),onClick:this.onMetaDeepLinkClicked},{children:e.t(p.Z.VR_META_LINK)}),"enter-vr")),s},this.closeModal=()=>{this.context.commandBinder.issueCommand(new T.Bz(S.P.VR_SELECT,!1))},this.onCloseClicked=()=>{this.context.analytics.trackGuiEvent("vr_modal_close"),this.closeModal()},this.onActionClicked=()=>{switch(this.state.vrPlatform){case Wt.bk.webxr:this.startWebXR(),this.closeModal()}},this.onMetaDeepLinkClicked=()=>{this.state.metaLink&&(window.open(this.state.metaLink,"_blank"),this.context.analytics.trackGuiEvent("vr_meta_link"))},this.onLearnMoreClicked=()=>{window.open("https://support.matterport.com/hc/en-us/articles/360050098973-Exploring-Matterport-Spaces-in-VR-","_blank"),this.context.analytics.trackGuiEvent("vr_learn_more")},this.startWebXR=()=>{const{analytics:e,commandBinder:t}=this.context;t.issueCommand(new Kt.j({type:"immersive-vr",features:["local-floor"]})).then((t=>{if(t){e.trackGuiEvent("vr_enter_app");const i=()=>{e.trackGuiEvent("vr_exit_app"),t.removeEventListener("end",i)};t.addEventListener("end",i)}else gi.error("requestPresent Failed"),e.trackGuiEvent("vr_present_error"),this.updatePlatformState()})).catch((t=>{gi.error("requestPresent Failed:",t),e.trackGuiEvent("vr_present_error")}))},this.state={vrPlatform:null,metaLink:null}}async componentDidMount(){var e;zt.Z.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.addEventListener("ondevicechange",this.updatePlatformState)),await this.updatePlatformState(),this.updateUrls(),this.context.analytics.trackGuiEvent("click_vr_button")}componentWillUnmount(){var e;this.isUnmounting=!0,zt.Z.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.removeEventListener("ondevicechange",this.updatePlatformState))}render(){const{isMobile:e}=this.props,{locale:t}=this.context,i=l()("vr-modal","modal","full-modal",{mobile:e,desktop:!e});return(0,a.jsxs)("dialog",Object.assign({className:i,onClick:this.stopPropagation},{children:[(0,a.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,a.jsx)("div",Object.assign({className:"modal-title"},{children:t.t(p.Z.VR_VIEW_SPACE)})),(0,a.jsx)(xt.P,{onClose:this.onCloseClicked})]})),this.renderHeadsetHeader(),(0,a.jsx)("div",Object.assign({className:"modal-body"},{children:this.renderBodyText()})),(0,a.jsx)("div",Object.assign({className:"modal-footer"},{children:this.getFooterButtons()}))]}))}async updatePlatformState(){const{settings:e}=this.context,t=e.tryGetProperty(mi.tK,mi.xK),i=await(0,Wt.pl)(t);this.isUnmounting||(this.setState({vrPlatform:i}),gi.debug(this.state))}async updateUrls(){const[e]=await Promise.all([ri(this.context,!0)]),t=pi(e,"","",this.context.locale);gi.debug("Social Share URLs, with current location",t),this.isUnmounting||this.setState({metaLink:t.meta})}};vi.contextType=h.I,vi=fi([B.Z],vi);const bi=vi;class yi extends n.Component{render(){const{isMobile:e}=this.props,{locale:t}=this.context;return(0,a.jsx)("div",Object.assign({className:"cta"},{children:(0,a.jsx)("h1",Object.assign({className:l()({mobile:e})},{children:t.t(e?p.Z.MOBILE_SHORT_CTA:p.Z.DESKTOP_SHORT_CTA)}))}))}}yi.contextType=h.I;const Ei={mouse:{click:i(41891),clickInside:i(70626),dragLeft:i(73993),dragRight:i(26668),play:i(31891),positionLeft:i(82906),positionRight:i(64991),zoom:i(12136)},gesture:{drag:i(72145),dragTwoFinger:i(12742),pinch:i(5435),position:i(67649),positionTwoFinger:i(2433),tap:i(24367),tapInside:i(90619),play:i(94874)},keyboard:{all:i(76064),inside:i(64549),leftRight:i(81202),spaceBar:i(71002),upDown:i(42135),zoom:i(26407)},moreHelp:{view360:i(86533),mattertag:i(14653)}},{HELP:Si}=p.Z.SHOWCASE;class Ti extends n.Component{constructor(){super(...arguments),this.keys={header:p.Z.DESKTOP_SHORT_CTA,tourHeader:p.Z.CTA_TOUR_COMPLETE,tourSubhead:p.Z.CTA_EXPLORE_SPACE,restartTour:p.Z.CTA_RESTART_TOUR,share:p.Z.CTA_SHARE,move:p.Z.MOVE,inside:p.Z.INSIDE,rotate:p.Z.ROTATE,play:p.Z.PLAY,zoom:p.Z.ZOOM},this.clickInside={Icon:Ei.mouse.clickInside,Label:this.keys.inside,FooterIcon:Ei.keyboard.inside,Alt:Si.ALT_MOUSE_CLICKINSIDE,FooterAlt:Si.ALT_KEYBOARD_INSIDE},this.clickMove={Icon:Ei.mouse.positionRight,Label:this.keys.move,FooterIcon:"",Alt:Si.ALT_MOUSE_POSITIONRIGHT},this.moveUpDown={Icon:Ei.mouse.click,Label:this.keys.move,FooterIcon:Ei.keyboard.upDown,Alt:Si.ALT_MOUSE_CLICK,FooterAlt:Si.ALT_KEYBOARD_UPDOWN},this.play={Icon:Ei.mouse.play,Label:this.keys.play,FooterIcon:null,Alt:Si.ALT_MOUSE_PLAY},this.zoom={Icon:Ei.mouse.zoom,Label:this.keys.zoom,FooterIcon:Ei.keyboard.zoom,Alt:Si.ALT_MOUSE_ZOOM,FooterAlt:Si.ALT_KEYBOARD_ZOOM},this.dragMove={Icon:Ei.mouse.positionLeft,Label:this.keys.move,FooterIcon:null,Alt:Si.ALT_MOUSE_POSITIONLEFT},this.dragRotateLeft={Icon:Ei.mouse.dragLeft,Label:this.keys.rotate,FooterIcon:Ei.keyboard.leftRight,Alt:Si.ALT_MOUSE_DRAGLEFT,FooterAlt:Si.ALT_KEYBOARD_LEFTRIGHT},this.dragRotateRight={Icon:Ei.mouse.dragRight,Label:this.keys.rotate,FooterIcon:Ei.keyboard.leftRight,Alt:Si.ALT_MOUSE_DRAGRIGHT,FooterAlt:Si.ALT_KEYBOARD_LEFTRIGHT},this.left=this.clickInside,this.center=this.clickMove,this.right=this.play,this.close=async()=>{const{commandBinder:e}=this.context;await e.issueCommand(new T.Bz(S.P.CTA,!1))},this.restartTour=async()=>{const{commandBinder:e}=this.context;this.context.analytics.trackGuiEvent("restart_highlights_from_cta"),this.close(),await e.issueCommand(new R.rU(0,!0)),e.issueCommand(new R.TH)},this.share=async()=>{const{commandBinder:e}=this.context;this.context.analytics.trackGuiEvent("click_share_button_from_cta"),this.close(),e.issueCommand(new T.Bz(S.P.SHARE,!0))}}render(){const{viewmode:e,isHelpCta:t,shareEnabled:i}=this.props,{locale:n}=this.context;this.configureViewmodeSpecifics(e);const s=n.t(t?this.keys.header:this.keys.tourHeader),r=t?"":n.t(this.keys.tourSubhead),o=n.t(p.Z.CTA_SHARE),c=n.t(p.Z.CTA_RESTART_TOUR);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",Object.assign({className:l()({cta:!0})},{children:[(0,a.jsxs)("h1",{children:[s,(0,a.jsx)("div",Object.assign({className:"subhead"},{children:r}))]}),(0,a.jsx)("img",{src:this.left.Icon,alt:this.left.Alt}),(0,a.jsx)("h2",{children:n.t(this.left.Label)}),this.left.FooterIcon?(0,a.jsx)("img",{className:"footer-icon",src:this.left.FooterIcon,alt:this.left.FooterAlt}):(0,a.jsx)("span",{}),(0,a.jsx)("img",{src:this.center.Icon,alt:this.center.Alt}),(0,a.jsx)("h2",{children:n.t(this.center.Label)}),this.center.FooterIcon?(0,a.jsx)("img",{className:"footer-icon",src:this.center.FooterIcon,alt:this.center.FooterAlt}):(0,a.jsx)("span",{}),(0,a.jsx)("img",{src:this.right.Icon,alt:this.right.Alt}),(0,a.jsx)("h2",{children:n.t(this.right.Label)}),this.right.FooterIcon?(0,a.jsx)("img",{className:"footer-icon",src:this.right.FooterIcon,alt:this.right.FooterAlt}):(0,a.jsx)("span",{})]})),(0,a.jsx)(O.zx,{className:"close-button",theme:"dark",icon:"close",variant:O.Wu.TERTIARY,onClick:this.close}),!t&&(0,a.jsxs)("div",Object.assign({className:"footer"},{children:[(0,a.jsxs)("div",Object.assign({className:"restart-tour",onClick:this.restartTour},{children:[c," ",(0,a.jsx)("span",{className:"icon-restart"})]})),i&&(0,a.jsx)(O.zx,{className:"share",theme:"dark",label:o,icon:"share2",variant:O.Wu.SECONDARY,onClick:this.share})]}))]})}configureViewmodeSpecifics(e){switch(e){case U.BD.INSIDE:this.left=this.dragRotateLeft,this.center=this.moveUpDown,this.right=this.props.isHelpCta?this.play:this.zoom;break;case U.BD.OUTSIDE:case U.BD.DOLLHOUSE:this.left=this.dragRotateLeft,this.center=this.clickMove,this.right=this.clickInside;break;case U.BD.FLOORPLAN:this.left=this.dragMove,this.center=this.dragRotateRight,this.right=this.clickInside}}}Ti.contextType=h.I;const{HELP:Oi}=p.Z.SHOWCASE;class _i extends n.Component{constructor(){super(...arguments),this.keys={shortCta:p.Z.MOBILE_SHORT_CTA,tourHeader:p.Z.CTA_TOUR_COMPLETE,tourSubhead:p.Z.CTA_EXPLORE_SPACE,move:p.Z.MOVE,inside:p.Z.INSIDE,rotate:p.Z.ROTATE,play:p.Z.PLAY,zoom:p.Z.ZOOM},this.clickInside={Icon:Ei.gesture.tapInside,Label:this.keys.inside,Alt:Oi.ALT_GESTURE_TAPINSIDE},this.clickMove={Icon:Ei.gesture.tap,Label:this.keys.move,Alt:Oi.ALT_GESTURE_TAP},this.dragRotate={Icon:Ei.gesture.drag,Label:this.keys.rotate,Alt:Oi.ALT_GESTURE_DRAG},this.dragMove={Icon:Ei.gesture.position,Label:this.keys.move,Alt:Oi.ALT_GESTURE_POSITION},this.play={Icon:Ei.gesture.play,Label:this.keys.play,Alt:Oi.ALT_GESTURE_PLAY},this.zoom={Icon:Ei.gesture.pinch,Label:this.keys.zoom,Alt:Oi.ALT_GESTURE_PINCH},this.left=this.dragRotate,this.center=this.clickInside,this.right=this.play}render(){const e=l()({mobile:!0}),{viewmode:t,isHelpCta:i}=this.props,{locale:n}=this.context;this.configureViewmodeSpecifics(t);const s=n.t(i?this.keys.shortCta:this.keys.tourHeader),r=i?"":n.t(this.keys.tourSubhead);return(0,a.jsxs)("div",Object.assign({className:l()({cta:!0,mobile:!0})},{children:[(0,a.jsxs)("h1",Object.assign({className:e},{children:[s,(0,a.jsx)("div",Object.assign({className:"subhead"},{children:r}))]})),(0,a.jsx)("h2",Object.assign({className:e},{children:n.t(this.left.Label)})),(0,a.jsx)("img",{src:this.left.Icon}),(0,a.jsx)("h2",Object.assign({className:e},{children:n.t(this.center.Label)})),(0,a.jsx)("img",{src:this.center.Icon}),(0,a.jsx)("h2",Object.assign({className:e},{children:n.t(this.right.Label)})),(0,a.jsx)("img",{src:this.right.Icon})]}))}configureViewmodeSpecifics(e){switch(e){case U.BD.INSIDE:this.left=this.dragRotate,this.center=this.clickMove,this.right=this.props.isHelpCta?this.zoom:this.play;break;case U.BD.DOLLHOUSE:case U.BD.OUTSIDE:this.left=this.dragRotate,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play;break;case U.BD.FLOORPLAN:this.left=this.dragMove,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play}}}_i.contextType=h.I;var Ni=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const Ai=new C.Z("cta");var wi,Ii;!function(e){e[e.NONE=0]="NONE",e[e.LARGE=1]="LARGE",e[e.SMALL=2]="SMALL"}(wi||(wi={})),function(e){e[e.HELP=0]="HELP",e[e.TOUR=1]="TOUR"}(Ii||(Ii={}));let ki=class extends n.Component{constructor(e){super(e),this.styles=[wi.NONE],this.bindings=[],this.handleInteraction=()=>{this.props.showCta&&(this.setState({seenCta:!0}),this.context.commandBinder.issueCommand(new T.Bz(S.P.CTA,!1)))},this.onTourEnded=e=>{const{ctaSource:t,seenCta:i}=this.state;t!==Ii.TOUR||i||(this.setState({seenCta:!0}),this.context.commandBinder.issueCommand(new T.Bz(S.P.CTA,!0)))},this.onTourStarted=()=>{this.state.ctaSource===Ii.HELP&&2===this.styles.length&&this.setState({ctaSource:Ii.TOUR,seenCta:!1,style:this.styles[1]}),this.props.showCta&&this.context.commandBinder.issueCommand(new T.Bz(S.P.CTA,!1))},this.onTourStartTransition=()=>{this.props.showCta&&this.context.commandBinder.issueCommand(new T.Bz(S.P.CTA,!1))},this.state={ctaSource:Ii.TOUR,seenCta:!1,style:this.styles[0]}}componentDidMount(){const{canvas:e}=this.props,{messageBus:t,settings:i}=this.context;try{e&&(e.addEventListener("mousedown",this.handleInteraction),e.addEventListener("pointerdown",this.handleInteraction),e.addEventListener("touchstart",this.handleInteraction)),this.bindings.push(t.subscribe(Ct.Mt,this.onTourEnded),t.subscribe(Ct.oR,this.onTourStarted),t.subscribe(Ct.dW,this.onTourStartTransition))}catch(e){Ai.debug(e)}let n=this.state.ctaSource;const s=i.getOverrideParam("tourcta",1);!isNaN(s)&&s in wi&&(this.styles[0]=s,n=Ii.TOUR);const r=i.getOverrideParam("help",0);!isNaN(r)&&r in wi&&r!==wi.NONE&&(this.styles[0]===wi.NONE?this.styles[0]=r:this.styles.unshift(r),n=Ii.HELP),this.styles[0]!==wi.NONE&&this.setState({style:this.styles[0],ctaSource:n})}componentWillUnmount(){const{canvas:e}=this.props;e&&(e.removeEventListener("mousedown",this.handleInteraction),e.removeEventListener("pointerdown",this.handleInteraction),e.removeEventListener("touchstart",this.handleInteraction)),this.bindings.forEach((e=>e.cancel()))}renderCtaStyle(){const{isMobile:e,viewmode:t,shareEnabled:i}=this.props,{style:n,ctaSource:s}=this.state;switch(n){case wi.NONE:return null;case wi.SMALL:return(0,a.jsx)(yi,{isMobile:e});case wi.LARGE:return e?(0,a.jsx)(_i,{isMobile:e,viewmode:t,isHelpCta:s===Ii.HELP,shareEnabled:i}):(0,a.jsx)(Ti,{viewmode:t,isHelpCta:s===Ii.HELP,shareEnabled:i})}}render(){const{showCta:e,isMobile:t}=this.props,{style:i,ctaSource:n}=this.state,s={ctaContainer:!0,mobile:t,showMessage:e,small:i===wi.SMALL,helpCta:n===Ii.HELP};return(0,a.jsx)("div",Object.assign({id:"cta-container",className:l()(s)},{children:this.renderCtaStyle()}))}};ki.contextType=h.I,ki=Ni([B.Z],ki);const Pi=ki;var Li,Ci,Ri,Di,Mi,xi;!function(e){e[e.navigation=0]="navigation",e[e.moreHelp=1]="moreHelp"}(Li||(Li={})),function(e){e.left="left",e.middle="middle",e.right="right"}(Ci||(Ci={})),function(e){e.topInfo="topInfo",e.bigImage="bigImage",e.bottomInfo="bottomInfo",e.keyboard="keyboard"}(Ri||(Ri={})),function(e){e.desktop="desktop",e.mobile="mobile"}(Di||(Di={})),function(e){e.hlr="hlr",e.dollhouse="dollhouse",e.floors="floors",e.mattertag="mattertag",e.floorplan="floorplan",e.tour="tour",e.inside="inside",e.vr="vr",e.view360="view360",e.fullscreen="fullscreen"}(Mi||(Mi={})),function(e){e.landscape="landscape",e.portrait="portrait"}(xi||(xi={}));const{HELP:ji}=p.Z.SHOWCASE,Ui={[Di.desktop]:{[Ci.left]:{[Ri.topInfo]:"HELP_DESKTOP_PANORAMA_1A",[Ri.bottomInfo]:"HELP_DESKTOP_PANORAMA_1B",[Ri.bigImage]:{img:Ei.mouse.dragLeft,alt:ji.ALT_MOUSE_DRAGLEFT},[Ri.keyboard]:{img:Ei.keyboard.leftRight,alt:ji.ALT_KEYBOARD_LEFTRIGHT}},[Ci.middle]:{[Ri.topInfo]:"HELP_DESKTOP_PANORAMA_2A",[Ri.bottomInfo]:"HELP_DESKTOP_PANORAMA_2B",[Ri.bigImage]:{img:Ei.mouse.click,alt:ji.ALT_MOUSE_CLICK},[Ri.keyboard]:{img:Ei.keyboard.upDown,alt:ji.ALT_KEYBOARD_UPDOWN}},[Ci.right]:{[Ri.topInfo]:"HELP_DESKTOP_PANORAMA_3A",[Ri.bottomInfo]:"HELP_DESKTOP_PANORAMA_3B",[Ri.bigImage]:{img:Ei.mouse.zoom,alt:ji.ALT_MOUSE_ZOOM},[Ri.keyboard]:{img:Ei.keyboard.zoom,alt:ji.ALT_KEYBOARD_ZOOM}}},[Di.mobile]:{[Ci.left]:{[Ri.topInfo]:"HELP_MOBILE_PANORAMA_1",[Ri.bigImage]:{img:Ei.gesture.drag,alt:ji.ALT_GESTURE_DRAG}},[Ci.middle]:{[Ri.topInfo]:"HELP_MOBILE_PANORAMA_2",[Ri.bigImage]:{img:Ei.gesture.tap,alt:ji.ALT_GESTURE_TAP}},[Ci.right]:{[Ri.topInfo]:"HELP_MOBILE_3",[Ri.bigImage]:{img:Ei.gesture.pinch,alt:ji.ALT_GESTURE_PINCH}}}},Hi={[Di.desktop]:{[Ci.left]:{[Ri.topInfo]:"HELP_DESKTOP_DOLLHOUSE_1A",[Ri.bottomInfo]:"HELP_DESKTOP_DOLLHOUSE_1B",[Ri.bigImage]:{img:Ei.mouse.dragLeft,alt:ji.ALT_MOUSE_DRAGLEFT},[Ri.keyboard]:{img:Ei.keyboard.all,alt:ji.ALT_KEYBOARD_ALL}},[Ci.middle]:{[Ri.topInfo]:"HELP_DESKTOP_DOLLHOUSE_2A",[Ri.bigImage]:{img:Ei.mouse.positionRight,alt:ji.ALT_MOUSE_POSITIONRIGHT}},[Ci.right]:{[Ri.topInfo]:"HELP_DESKTOP_DOLLHOUSE_3A",[Ri.bigImage]:{img:Ei.mouse.zoom,alt:ji.ALT_MOUSE_ZOOM}}},[Di.mobile]:{[Ci.left]:{[Ri.topInfo]:"HELP_MOBILE_DOLLHOUSE_1",[Ri.bigImage]:{img:Ei.gesture.drag,alt:ji.ALT_GESTURE_DRAG}},[Ci.middle]:{[Ri.topInfo]:"HELP_MOBILE_DOLLHOUSE_2",[Ri.bigImage]:{img:Ei.gesture.positionTwoFinger,alt:ji.ALT_GESTURE_POSITIONTWOFINGER}},[Ci.right]:{[Ri.topInfo]:"HELP_MOBILE_3",[Ri.bigImage]:{img:Ei.gesture.pinch,alt:ji.ALT_GESTURE_PINCH}}}},Fi={[Di.desktop]:{[Ci.left]:{[Ri.topInfo]:"HELP_DESKTOP_FLOORPLAN_1A",[Ri.bigImage]:{img:Ei.mouse.positionLeft,alt:ji.ALT_MOUSE_POSITIONLEFT}},[Ci.middle]:{[Ri.topInfo]:"HELP_DESKTOP_FLOORPLAN_2A",[Ri.bottomInfo]:"HELP_DESKTOP_FLOORPLAN_2B",[Ri.bigImage]:{img:Ei.mouse.dragRight,alt:ji.ALT_MOUSE_DRAGRIGHT},[Ri.keyboard]:{img:Ei.keyboard.leftRight,alt:ji.ALT_KEYBOARD_LEFTRIGHT}},[Ci.right]:{[Ri.topInfo]:"HELP_DESKTOP_FLOORPLAN_3A",[Ri.bottomInfo]:"HELP_DESKTOP_FLOORPLAN_3B",[Ri.bigImage]:{img:Ei.mouse.zoom,alt:ji.ALT_MOUSE_ZOOM},[Ri.keyboard]:{img:Ei.keyboard.upDown,alt:ji.ALT_KEYBOARD_UPDOWN}}},[Di.mobile]:{[Ci.left]:{[Ri.topInfo]:"HELP_MOBILE_FLOORPLAN_1",[Ri.bigImage]:{img:Ei.gesture.position,alt:ji.ALT_GESTURE_POSITION}},[Ci.middle]:{[Ri.topInfo]:"HELP_MOBILE_FLOORPLAN_2",[Ri.bigImage]:{img:Ei.gesture.dragTwoFinger,alt:ji.ALT_GESTURE_DRAGTWOFINGER}},[Ci.right]:{[Ri.topInfo]:"HELP_MOBILE_3",[Ri.bigImage]:{img:Ei.gesture.pinch,alt:ji.ALT_GESTURE_PINCH}}}},Bi=JSON.parse(JSON.stringify(Ui));Bi.desktop.middle={[Ri.topInfo]:"HELP_DESKTOP_360_2A",[Ri.bottomInfo]:"HELP_DESKTOP_360_2B",[Ri.bigImage]:{img:Ei.mouse.clickInside,alt:ji.ALT_MOUSE_CLICKINSIDE},[Ri.keyboard]:{img:Ei.keyboard.inside,alt:ji.ALT_KEYBOARD_INSIDE}},Bi.mobile.middle={[Ri.topInfo]:"HELP_MOBILE_360_2",[Ri.bigImage]:{img:Ei.gesture.tapInside,alt:ji.ALT_GESTURE_TAPINSIDE}};const Vi={INSIDE:Ui,OUTSIDE:Bi,FLOORPLAN:Fi,DOLLHOUSE:Hi};var Gi=i(66594),Wi=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let zi=class extends n.Component{constructor(e){super(e),this.state={overflow:!1}}UNSAFE_componentWillReceiveProps(e){(this.navigationDiv&&this.navigationDiv.clientHeight||0)/(this.navigationDiv.parentElement&&this.navigationDiv.parentElement.clientHeight||1)>.7&&this.setState({overflow:!0})}getAssetObj(e){switch(e){case this.props.Modes.DOLLHOUSE:return Vi.DOLLHOUSE[this.props.device];case this.props.Modes.FLOORPLAN:return Vi.FLOORPLAN[this.props.device];case this.props.Modes.OUTSIDE:return Vi.OUTSIDE[this.props.device];case this.props.Modes.INSIDE:default:return Vi.INSIDE[this.props.device]}}buildRows(){const e=this.getAssetObj(this.props.viewmode),t=[];for(const i in Ri){const n=[],s=[];for(const t in Ci)if(n.push(this.wrapAsset(e,t,i,!1)),i===Ri.bigImage){const n=!e[t][Ri.bottomInfo];s.push((0,a.jsx)("div",Object.assign({className:l()(t,"column",{noDivider:n})},{children:(0,a.jsx)("hr",{})}),`${i}_${t}_divider_row`))}t.push((0,a.jsx)("div",Object.assign({className:l()(i,"row")},{children:n}),`${i}_vertical_row`))}return t}buildMobilePortrait(){const e=this.getAssetObj(this.props.viewmode),t=[];for(const i in e)for(const n in e[i])t.push(this.wrapAsset(e,i,n,!0));return t}wrapAsset(e,t,i,n){const s=e[t][i],r=i===Ri.bigImage||i===Ri.keyboard,o=s?s.img:void 0,c=s&&s.alt?this.context.locale.t(s.alt):void 0,d=(0,a.jsx)("img",{src:o,alt:c});return(0,a.jsx)("div",Object.assign({className:n?l()(i,"row"):l()(t,"column")},{children:s&&r?d:s&&this.context.locale.t(s)}),`wrapped_asset_${t}_${i}`)}render(){const e=this.props.device===Di.mobile&&this.props.orientation===Gi.t.PORTRAIT,t=l()({navigation:!0,small:this.state.overflow,[this.props.viewmode]:!0});return(0,a.jsx)("div",Object.assign({className:t,ref:e=>{this.navigationDiv=e}},{children:e?(0,a.jsx)(Mt.Z,Object.assign({name:"navigation",forceHidden:!1},{children:(0,a.jsx)("div",Object.assign({className:"nav-wrapper"},{children:this.buildMobilePortrait()}))})):this.buildRows()}))}};zi.contextType=h.I,zi=Wi([B.Z],zi);const Ki=zi,Yi={[Mi.hlr]:{[Ri.topInfo]:"HELP_MORE_HLR_A",[Ri.bigImage]:"icon-hlr",[Ri.bottomInfo]:"HELP_DESKTOP_MORE_HLR_B"},[Mi.dollhouse]:{[Ri.topInfo]:"HELP_MORE_DOLLHOUSE_A",[Ri.bigImage]:"icon-dollhouse",[Ri.bottomInfo]:"HELP_MOBILE_MORE_DOLLHOUSE_B"},[Mi.floors]:{[Ri.topInfo]:"HELP_MORE_FLOORS_A",[Ri.bigImage]:"icon-floor-controls",[Ri.bottomInfo]:"HELP_DESKTOP_MORE_FLOORS_B"},[Mi.mattertag]:{[Ri.topInfo]:"HELP_MORE_MATTERTAG_A",[Ri.bigImage]:Ei.moreHelp.mattertag,[Ri.bottomInfo]:"HELP_MOBILE_MORE_MATTERTAG_B"},[Mi.tour]:{[Ri.topInfo]:"HELP_MORE_TOUR_A",[Ri.bigImage]:"icon-play",[Ri.bottomInfo]:"HELP_DESKTOP_MORE_TOUR_B"},[Mi.inside]:{[Ri.topInfo]:"HELP_MORE_INSIDE_A",[Ri.bigImage]:"icon-panorama",[Ri.bottomInfo]:"HELP_MOBILE_MORE_INSIDE_B"},[Mi.vr]:{[Ri.topInfo]:"HELP_MORE_VR_A",[Ri.bigImage]:"icon-vr",[Ri.bottomInfo]:"HELP_MOBILE_MORE_VR_B"},[Mi.view360]:{[Ri.topInfo]:"HELP_MORE_360_A",[Ri.bigImage]:Ei.moreHelp.view360,[Ri.bottomInfo]:"HELP_MOBILE_MORE_360_B"},[Mi.floorplan]:{[Ri.topInfo]:"HELP_MORE_FLOORPLAN_A",[Ri.bigImage]:"icon-floorplan",[Ri.bottomInfo]:"HELP_MOBILE_FLOORPLAN_B"}},$i=JSON.parse(JSON.stringify(Yi));$i[Mi.fullscreen]={[Ri.topInfo]:"HELP_MORE_FULLSCREEN_A",[Ri.bigImage]:"icon-fullscreen",[Ri.bottomInfo]:"HELP_DESKTOP_MORE_FULLSCREEN_B"},$i[Mi.dollhouse][Ri.bottomInfo]="HELP_DESKTOP_MORE_DOLLHOUSE_B",$i[Mi.mattertag][Ri.bottomInfo]="HELP_DESKTOP_MORE_MATTERTAG_B",$i[Mi.inside][Ri.bottomInfo]="HELP_DESKTOP_MORE_INSIDE_B",$i[Mi.vr][Ri.bottomInfo]="HELP_DESKTOP_MORE_VR_B",$i[Mi.view360][Ri.bottomInfo]="HELP_DESKTOP_MORE_360_B",$i[Mi.floorplan][Ri.bottomInfo]="HELP_DESKTOP_FLOORPLAN_B";const qi={[Di.desktop]:$i,[Di.mobile]:Yi},Zi=[Ri.topInfo,Ri.bigImage,Ri.bottomInfo];class Qi extends n.Component{constructor(e){super(e),this.scrollbarsRef=(0,n.createRef)()}componentDidMount(){const e=this.scrollbarsRef.current;e&&e.scrollTo({x:0,y:0})}buildInstructions(){const e=[],t=this.props.device===Di.desktop?5:this.props.orientation===Gi.t.LANDSCAPE?3:2,i=Object.keys(qi[this.props.device]);for(let n=0;n<i.length;n+=t){for(const s of Zi){const r=[];for(let e=0;e<t;e++){if(n+e>=i.length)continue;const t=qi[this.props.device][i[n+e]][s],o=l()(s,i[n+e],{noAsset:!t}),c=`${n}_${s}_${e}`;switch(s){case Ri.topInfo:r.push((0,a.jsx)("div",Object.assign({className:o},{children:this.context.locale.t(t)}),`${c}_top_info`));break;case Ri.bigImage:r.push((0,a.jsx)("div",Object.assign({className:o},{children:t.indexOf(".png")>-1?(0,a.jsx)("img",{src:t}):(0,a.jsx)("span",Object.assign({className:t},{children:"floors"===i[n+e]?(0,a.jsx)("span",{children:"2"}):null}))}),`${c}_big_img`));break;case Ri.bottomInfo:r.push((0,a.jsx)("div",Object.assign({className:o},{children:this.context.locale.t(t)}),`${c}_bottom_info`))}}e.push((0,a.jsx)("div",Object.assign({className:l()("innerRow",s)},{children:r}),`${n}_${s}_top_info`))}e.push((0,a.jsx)("div",{className:"rowPadding"},`${n}_row_padding`))}return e.pop(),e}render(){return(0,a.jsx)("div",Object.assign({className:l()("more-help-wrapper",this.props.device)},{children:(0,a.jsx)(Mt.Z,Object.assign({name:"more-help-wrapper",ref:this.scrollbarsRef,forceHidden:!1},{children:(0,a.jsx)("div",Object.assign({className:l()("more-help")},{children:this.buildInstructions()}))}))}))}}Qi.contextType=h.I;var Xi=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let Ji=class extends n.Component{constructor(e,t){var i,n;super(e,t),this.isUnmounting=!1,this.handleTabClick=e=>()=>{this.setState({tab:e})},this.closeHelp=()=>{this.setState({showing:!1}),this.context.commandBinder.issueCommand(new T.Bz(S.P.HELP,!1))},this.stopPropagation=e=>{e.stopPropagation()},this.device=this.props.isMobile?Di.mobile:Di.desktop,this.state={showing:!1,tab:Li.navigation,orientation:null!==(n=null===(i=t.market.tryGetData(de.V))||void 0===i?void 0:i.orientation)&&void 0!==n?n:Gi.t.LANDSCAPE}}componentDidMount(){this.context.market.waitForData(de.V).then((e=>{this.isUnmounting||(this.orientationSubscription=e.onPropertyChanged("orientation",(e=>{this.setState({orientation:e})})))})),window.requestAnimationFrame((()=>{this.isUnmounting||this.setState({showing:!0})}))}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.orientationSubscription)||void 0===e||e.cancel()}render(){const{showing:e,tab:t,orientation:i}=this.state;return(0,a.jsxs)("div",Object.assign({id:"help-modal",className:l()(this.device,{"faded-in":e}),onClick:this.stopPropagation},{children:[(0,a.jsxs)("div",Object.assign({className:l()("tabs",t)},{children:[(0,a.jsx)("div",Object.assign({className:l()("navigation-tab",{active:t===Li.navigation}),onClick:this.handleTabClick(Li.navigation)},{children:(0,a.jsx)("span",{children:this.context.locale.t(p.Z.HELP_NAVIGATION_TAB)})})),(0,a.jsx)("div",Object.assign({className:l()("more-help-tab",{active:t===Li.moreHelp}),onClick:this.handleTabClick(Li.moreHelp)},{children:(0,a.jsx)("span",{children:this.context.locale.t(p.Z.HELP_MORE_HELP_TAB)})}))]})),t===Li.navigation&&(0,a.jsx)(Ki,{device:this.device,Modes:this.props.allModes,viewmode:this.props.viewmode,orientation:i}),t===Li.moreHelp&&(0,a.jsx)(Qi,{device:this.device,orientation:i}),(0,a.jsx)(xt.P,{buttonStyle:xt.A.LIGHT,onClose:this.closeHelp})]}))}};Ji.contextType=h.I,Ji=Xi([B.Z],Ji);const en=Ji;var tn=i(26340),nn=i(48534),sn=i(16507),rn=i(26568),an=i(53954);const on=new C.Z("share-modal");class ln extends n.Component{constructor(e){super(e),this.isUnmounting=!1,this.copyURL=()=>{const{deeplink:e}=this.state;this.urlInputRef.select(),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.urlInputRef.blur(),this.setState({copied:!0}),this.context.analytics.track("showcase_share_action",{channel:Gt.COPYLINK,pano_id:this.sweepData.currentSweep,deeplink:e}),window.setTimeout((()=>{this.setState({copied:!1})}),2500)},this.toggleDeeplinks=()=>{const{deeplink:e}=this.state;this.setState({deeplink:!e})},this.close=()=>{this.context.commandBinder.issueCommand(new T.Bz(S.P.SHARE,!1))},this.openShareWindow=e=>{const{urls:t,deeplink:i,deeplinkUrls:n}=this.state,{width:s,height:r}=si[e],a=i?n[e]:t[e];let o;if(s&&r){o="top="+(window.screenY+(window.innerHeight-r)/2)+",left="+(window.screenX+(window.innerWidth-s)/2)+",width="+s+",height="+r}this.context.analytics.track("showcase_share_action",{channel:e,pano_id:this.sweepData.currentSweep,deeplink:i}),window.open(a,"",o)},this.openWebShareApi=e=>{if(!navigator.share)return;const{excerpt:t,title:i,urls:n,deeplinkUrls:s}=this.state,r={url:e?s[Gt.COPYLINK]:n[Gt.COPYLINK],text:t,title:i};on.debug("Launching Web Share API",r),navigator.share(r),this.context.analytics.track("showcase_share_action",{channel:Gt.NATIVE,pano_id:this.sweepData.currentSweep,deeplink:e})},this.onWebShareClick=()=>{this.openWebShareApi(!1)},this.onWebShareDeeplinkClick=()=>{this.openWebShareApi(!0)},this.stopPropagation=e=>e.stopPropagation(),this.setUrlInputRef=e=>{this.urlInputRef=e},this.state={urls:{},deeplinkUrls:{},title:"",excerpt:"",image:"",copied:!1,deeplink:!1,webShareEnabled:(0,H.J1)()},this.openFacebook=this.openShareWindow.bind(this,Gt.FACEBOOK),this.openTwitter=this.openShareWindow.bind(this,Gt.TWITTER),this.openPinterest=this.openShareWindow.bind(this,Gt.PINTEREST),this.openLinkedIn=this.openShareWindow.bind(this,Gt.LINKEDIN),this.openEmail=this.openShareWindow.bind(this,Gt.MAIL)}async componentDidMount(){const{market:e}=this.context,[t,i]=await Promise.all([e.waitForData(rn.T),e.waitForData(an.Z)]);this.sweepData=i;const n=t.model,s=`${window.location.origin}/api/v1/player/models/${n.sid}/thumb`,r=n.details.name;this.isUnmounting||this.setState({title:r,image:s},this.updateUrls)}componentWillUnmount(){this.isUnmounting=!0}async updateUrls(){const{title:e,image:t}=this.state,[i,n]=await Promise.all([ri(this.context,!1),ri(this.context,!0)]),s=pi(i,e,t,this.context.locale),r=pi(n,e,t,this.context.locale);on.debug("Social Share URLs:",s),on.debug("Social Share URLs, with current location",r),this.isUnmounting||this.setState({urls:s,deeplinkUrls:r})}renderWebShareDialog(){return(0,a.jsxs)("div",Object.assign({className:"share-controls"},{children:[(0,a.jsx)(Yt.zx,Object.assign({className:"share-modal-button",buttonStyle:Yt.ZJ.PRIMARY,onClick:this.onWebShareDeeplinkClick},{children:this.context.locale.t(p.Z.SHARE_CURRENT_LOCATION)})),(0,a.jsx)(Yt.zx,Object.assign({className:"share-modal-button",buttonStyle:Yt.ZJ.OUTLINE,onClick:this.onWebShareClick},{children:this.context.locale.t(p.Z.SHARE_DEFAULT_LOCATION)}))]}))}renderShareDialog(){const{copied:e,deeplink:t,urls:i,deeplinkUrls:n}=this.state,s=t?n[Gt.COPYLINK]:i[Gt.COPYLINK],r=this.sweepData&&this.sweepData.isSweepDisabled(),o=r?this.context.locale.t(p.Z.SHARE_ERROR_SWEEP_DISABLED):void 0;return(0,a.jsxs)("div",Object.assign({className:"share-controls"},{children:[(0,a.jsxs)("div",Object.assign({className:"social-icons"},{children:[(0,a.jsx)(sn.hU,{onClick:this.openFacebook,iconClass:"icon-facebook",buttonStyle:sn.Dd.SOCIAL,buttonSize:Yt.qE.LARGE}),(0,a.jsx)(sn.hU,{onClick:this.openTwitter,iconClass:"icon-twitter",buttonStyle:sn.Dd.SOCIAL,buttonSize:Yt.qE.LARGE}),(0,a.jsx)(sn.hU,{onClick:this.openLinkedIn,iconClass:"icon-linkedin",buttonStyle:sn.Dd.SOCIAL,buttonSize:Yt.qE.LARGE}),(0,a.jsx)(sn.hU,{onClick:this.openPinterest,iconClass:"icon-pinterest",buttonStyle:sn.Dd.SOCIAL,buttonSize:Yt.qE.LARGE}),(0,a.jsx)(sn.hU,{onClick:this.openEmail,iconClass:"icon-email",buttonStyle:sn.Dd.SOCIAL,buttonSize:Yt.qE.LARGE})]})),(0,a.jsxs)("div",Object.assign({className:"input-group"},{children:[(0,a.jsx)("input",{className:"input",type:"text",value:s||"",ref:this.setUrlInputRef,onKeyDown:this.stopPropagation,onKeyPress:this.stopPropagation,onKeyUp:this.stopPropagation,readOnly:!0}),(0,a.jsx)(nn.oO,Object.assign({content:e?this.context.locale.t(p.Z.SHARE_COPIED):this.context.locale.t(p.Z.COPY_URL),position:nn.lZ.UP,tooltipTimeout:2e3},{children:(0,a.jsx)("button",Object.assign({className:"input-addon",onClick:this.copyURL},{children:this.context.locale.t(p.Z.COPY)}))}))]})),(0,a.jsx)(tn.X,{dataValue:"deeplink",checked:t,enabled:!r,error:r,helpText:o,label:this.context.locale.t(p.Z.SHARE_LINK_TO_LOCATION),onChange:this.toggleDeeplinks})]}))}render(){const{webShareEnabled:e}=this.state,t=l()("modal","share-modal","modal-dialog",{"share-dialog":!e,"web-share-dialog":e}),i=e?this.renderWebShareDialog():this.renderShareDialog();return(0,a.jsxs)("dialog",Object.assign({open:!0,className:t,onClick:this.stopPropagation},{children:[(0,a.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,a.jsx)("div",Object.assign({className:"modal-title"},{children:this.context.locale.t(p.Z.SHARE_MODAL_TITLE)})),(0,a.jsx)(xt.P,{onClose:this.close})]})),(0,a.jsx)("div",Object.assign({className:"modal-body"},{children:i}))]}))}}ln.contextType=h.I;class cn extends n.Component{constructor(e,t){super(e),this.closeModal=()=>{this.context.commandBinder.issueCommand(new T.Bz(S.P.MEASUREMENT_HELP,!1))},this.stopPropagation=e=>{e.stopPropagation()},this.locale={headerString:t.locale.t(p.Z.MEASUREMENT_MODE),subHeaderString:t.locale.t(p.Z.MEASUREMENT_HELP_MODAL_SUB_HEADER),body1String:t.locale.t(p.Z.MEASUREMENT_HELP_MODAL_BODY_1),body2String:t.locale.t(p.Z.MEASUREMENT_HELP_MODAL_BODY_2)}}render(){const{headerString:e,subHeaderString:t,body1String:i,body2String:n}=this.locale,{mobile:s}=this.props;return(0,a.jsxs)("div",Object.assign({className:l()("modal","full-modal","measurement-mode-help-modal",{mobile:s}),onClick:this.stopPropagation},{children:[(0,a.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,a.jsx)("div",Object.assign({className:"modal-title"},{children:e})),(0,a.jsx)(xt.P,{onClose:this.closeModal})]})),(0,a.jsx)("div",Object.assign({className:"modal-subheader"},{children:t})),(0,a.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,a.jsx)("p",Object.assign({className:"modal-paragraph"},{children:i})),(0,a.jsx)("p",Object.assign({className:"modal-paragraph"},{children:n}))]}))]}))}}cn.contextType=h.I;var dn=i(76577),un=i(42358);class hn extends n.Component{constructor(e){super(e),this.isUnmounting=!1,this.closeModal=()=>{this.context.commandBinder.issueCommand(new T.rE)},this.blurGuiForModal=()=>{},this.mobile=(0,H.tq)(),this.state={modelDetails:void 0}}componentDidMount(){this.context.market.waitForData(rn.T).then((e=>{this.isUnmounting||this.setState({modelDetails:e.model.details})}))}componentWillUnmount(){this.isUnmounting=!0}render(){const{openModal:e,viewmode:t,glCanvas:i,shareEnabled:n}=this.props,{modelDetails:s}=this.state;if(!s)return null;const r=e===S.P.SHARE,o=e===S.P.TERMS,c=e===S.P.HELP,d=e===S.P.CTA,u=e===S.P.MEASUREMENT_HELP,h=e===S.P.VR_SELECT,p=e===S.P.RATING_THANK_YOU,m=o||c,f=r||m||u||p||h&&!!s;return(0,a.jsxs)("div",Object.assign({id:"showcase-modals"},{children:[(0,a.jsx)(un.s,{commandBinder:this.context.commandBinder,handleBlur:this.blurGuiForModal}),(0,a.jsxs)(lt.N,Object.assign({className:l()("modal-background",{"modal-background":!0,"dark-modal-background":m,open:f}),open:f,selectChild:!0,childKey:e||void 0,onClick:this.closeModal},{children:[(0,a.jsx)(ln,{},S.P.SHARE),(0,a.jsx)(cn,{mobile:this.mobile},S.P.MEASUREMENT_HELP),s&&(0,a.jsx)(bi,{isMobile:this.mobile,modelDetails:s},S.P.VR_SELECT),o&&(0,a.jsx)(Vt,{},S.P.TERMS),c&&(0,a.jsx)(en,{isMobile:this.mobile,viewmode:t,allModes:U.BD},S.P.HELP),p&&(0,a.jsx)(dn.B,{},S.P.RATING_THANK_YOU)]})),(0,a.jsx)(Pi,{canvas:i,isMobile:this.mobile,viewmode:t,showCta:d,shareEnabled:n})]}))}}hn.contextType=h.I;var pn=i(59279),mn=i(92703),fn=i(2473),gn=i(65397),vn=i(23254),bn=i(95882),yn=i(341),En=i(11522),Sn=i(78271),Tn=i(95038),On=i(10231),_n=i(4146),Nn=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let An=class extends n.Component{constructor(e){super(e),this.isUnmounting=!1,this.startWebXR=()=>{const{analytics:e,commandBinder:t}=this.context;t.issueCommand(new Kt.j({type:"immersive-vr",features:["local-floor"]})).then((t=>{if(t){e.trackGuiEvent("vr_enter_app");const i=()=>{e.trackGuiEvent("vr_exit_app"),t.removeEventListener("end",i)};t.addEventListener("end",i)}else e.trackGuiEvent("vr_present_error"),this.updatePlatformState()})).catch((t=>{e.trackGuiEvent("vr_present_error")}))},this.state={vrPlatform:null}}async componentDidMount(){var e;zt.Z.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.addEventListener("ondevicechange",this.updatePlatformState)),await this.updatePlatformState()}componentWillUnmount(){var e;this.isUnmounting=!0,zt.Z.apiExists()&&(null===(e=navigator.xr)||void 0===e||e.removeEventListener("ondevicechange",this.updatePlatformState))}async updatePlatformState(){const{settings:e}=this.context,t=await(0,Wt.pl)(e.tryGetProperty(mi.tK,mi.xK));this.isUnmounting||this.setState({vrPlatform:t})}render(){return this.state.vrPlatform===Wt.bk.webxr?this.renderOverlayCta():null}renderOverlayCta(){const{locale:e}=this.context;return(0,a.jsx)("div",Object.assign({id:"vr-overlay-layer",className:"overlay"},{children:(0,a.jsx)("div",Object.assign({className:"overlay-cta"},{children:(0,a.jsx)(Yt.zx,Object.assign({buttonSize:Yt.qE.LARGE,buttonState:Yt.BN.ENABLED,buttonStyle:Yt.ZJ.OVERLAY,className:l()("inline-block","confirm"),onClick:this.startWebXR},{children:e.t(p.Z.VR_ENTER)}))}))}))}};An.contextType=h.I,An=Nn([B.Z],An);var wn=i(62213),In=i(55318),kn=i(77543),Pn=i(57494);const{SUBSCRIBER_PROMPT:Ln}=p.Z.SHOWCASE,Cn=e=>{e.preventDefault()},Rn=()=>{const e=(0,ve.z)(),t=(0,E.b)(),[i,s]=(0,n.useState)(!0),r=(0,n.useCallback)((t=>{e.trackGuiEvent("subscriber_prompt_b_banner_click"),window.open(Ee.Tm,"_blank")}),[e]);return(0,n.useEffect)((()=>(i&&(e.trackGuiEvent("subscriber_prompt_b_banner_viewed"),s(!1)),()=>{})),[e,i]),(0,a.jsxs)("div",Object.assign({className:"subscriber-prompt-banner",onClick:r},{children:[(0,a.jsx)("img",{className:"matterport-logo",alt:"Matterport",src:Pn}),(0,a.jsx)("a",Object.assign({className:"link",target:"_blank",onClick:Cn,href:Ee.Tm},{children:t.t(Ln.BANNER_CTA_LINK_TEXT)}))]}))};const Dn=(0,i(74554).M)("isSubscriberBannerVisible",(()=>{const e=Me();return Se().bannerEnabled&&e})),{SUMMARY:Mn}=p.Z.SHOWCASE,xn=we.MN/1.6;class jn extends n.Component{constructor(e){super(e),this.getImageURL=e=>{const t=new URL(e);return t.searchParams.set("width",String(we.MN)),t.searchParams.delete("height"),t.searchParams.delete("fit"),t.searchParams.set("crop","16:10"),t.searchParams.set("dpr",String(window.devicePixelRatio)),t.href},this.onExternalLinkClicked=e=>{this.context.analytics.track("showcase_share_origin_link_clicked")},this.state={thumbnail:void 0}}componentDidMount(){const{market:e}=this.context.engine;e.waitForData(In.O).then((e=>{e.thumb&&e.thumb.get().then((e=>{try{this.setState({thumbnail:this.getImageURL(e)})}catch(e){this.setState({thumbnail:void 0})}}))}))}getFilteredValue(e,t,i,n){return!this.context.settings.tryGetProperty(t,i)||n&&!this.props.brandingEnabled?"":e}render(){const{modelDetails:e,showExternalUrl:t,isSubscriberBannerVisible:i}=this.props,{thumbnail:n}=this.state,{locale:s}=this.context,{name:r,presentedBy:o,summary:l,formattedAddress:c,contact:d,externalUrl:u}=e,h=t?u:"",m=this.getFilteredValue(r,j.gx.DetailsModelName,!0,!1),f=this.getFilteredValue(l,j.gx.DetailsSummary,!1,!1),g=this.getFilteredValue(c,j.gx.DetailsAddress,!1,!1),v=this.getFilteredValue(o,j.gx.PresentedBy,!1,!0),b=this.getFilteredValue(d.name,j.gx.DetailsName,!1,!0),y=this.getFilteredValue(d.email,j.gx.DetailsEmail,!1,!0),E=this.getFilteredValue(d.phone,j.gx.DetailsPhone,!1,!0),S=this.getFilteredValue(d.formattedPhone,j.gx.DetailsPhone,!1,!0),T=S||E;return(0,a.jsx)("div",Object.assign({className:"summary-content"},{children:(0,a.jsxs)(kn.Z,Object.assign({direction:jt.Nm.vertical},{children:[n?(0,a.jsx)("img",{className:"summary-image",width:we.MN,height:xn,src:n,alt:`Photo of "${m}"`}):null,i&&(0,a.jsx)(Rn,{}),(0,a.jsxs)("div",Object.assign({className:"summary-text-content"},{children:[m&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Mn.LABEL_LOCATION)})),(0,a.jsx)("div",Object.assign({className:"location"},{children:m}))]}),g&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Mn.LABEL_ADDRESS)})),(0,a.jsx)("div",Object.assign({className:"section-body"},{children:g}))]}),v&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",Object.assign({className:"section-header"},{children:this.context.locale.t(p.Z.PRESENTED_BY)})),(0,a.jsx)("div",Object.assign({className:"section-body"},{children:v}))]}),(b||E||y)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Mn.LABEL_CONTACT)})),(0,a.jsxs)("div",Object.assign({className:"section-body"},{children:[b&&(0,a.jsx)("div",{children:b}),y&&(0,a.jsx)("div",{children:(0,a.jsx)("a",Object.assign({className:"link",href:"mailto:"+y},{children:y}))}),T&&(0,a.jsx)("div",{children:T})]}))]}),f&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Mn.LABEL_INFORMATION)})),(0,a.jsx)("div",Object.assign({className:"section-body"},{children:f}))]}),h&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",Object.assign({className:"section-header"},{children:s.t(Mn.LABEL_LEARN_MORE)})),(0,a.jsxs)("div",Object.assign({className:"external-link-wrapper"},{children:[(0,a.jsx)("i",Object.assign({className:"icon-ext-link"},{children:" "})),(0,a.jsx)("a",Object.assign({className:"section-body link",onClick:this.onExternalLinkClicked,href:h,target:"_blank",rel:"noopener"},{children:h}))]}))]})]}))]}))}))}}jn.contextType=h.I;const Un=Dn(jn);var Hn=i(69251);const{SUMMARY:Fn}=p.Z.SHOWCASE;class Bn extends n.Component{constructor(){super(...arguments),this.handleCloseClick=()=>{const{commandBinder:e}=this.context;e.issueCommand(new W.tT(u.w1.SUMMARY,!1))}}render(){const{modelDetails:e,brandingEnabled:t,showExternalUrl:i}=this.props,{locale:n}=this.context;return(0,a.jsxs)("div",Object.assign({className:"summary-panel list-panel active"},{children:[(0,a.jsxs)("div",Object.assign({className:"summary-panel-header panel-header"},{children:[(0,a.jsx)(Hn.p,Object.assign({className:"summary-panel-title"},{children:n.t(Fn.HEADING)})),(0,a.jsx)("div",{children:(0,a.jsx)(sn.hU,{iconClass:"icon-close",buttonStyle:sn.Dd.PLAIN,onClick:this.handleCloseClick})})]})),(0,a.jsx)(Un,{modelDetails:e,brandingEnabled:t,showExternalUrl:i})]}))}}Bn.contextType=h.I;const{TOURS:Vn}=p.Z.SHOWCASE;function Gn(e){const{locale:t,messageBus:i,settings:s,commandBinder:r}=(0,n.useContext)(h.I),{highlights:o,tourPlaying:c,narrowLayout:d}=e,u=t.t(Vn.TOUR_CONTROLS_TITLE),p=t.t(Vn.TOUR_CONTROLS_CTA),m=0===o.length,[f,g]=(0,n.useState)(!1),v=(0,n.useCallback)((async e=>{m||(e.stopPropagation(),await r.issueCommand(new R.r2))}),[m,r]),b=(0,n.useCallback)((async e=>{m||(e.stopPropagation(),await r.issueCommand(new R.Ri))}),[m,r]);return(0,n.useEffect)((()=>{const e=[];let t=0;const n=()=>{g(!1)};return e.push(i.subscribe(Ct.oR,(()=>{})),i.subscribe(Ct.NR,n)),()=>{e.forEach((e=>e.cancel())),clearInterval(t)}}),[i,s,d]),(0,a.jsxs)("div",Object.assign({className:l()("tour-story-controls-mobile",{prompt:f,tourPlaying:c})},{children:[(0,a.jsx)("div",Object.assign({className:"tour-story-help-title"},{children:u})),(0,a.jsx)("div",Object.assign({className:"tour-story-help-cta"},{children:p})),(0,a.jsx)("div",Object.assign({className:"tour-story-prev",onClick:b},{children:(0,a.jsx)("div",{className:"icon icon-dpad-left"})})),(0,a.jsx)("div",Object.assign({className:"tour-story-next",onClick:v},{children:(0,a.jsx)("div",{className:"icon icon-dpad-right"})}))]}))}const Wn=new C.Z("showcase-ui"),zn=(0,pn.FU)();class Kn extends n.Component{constructor(e,t){super(e,t),this.bindings=[],this.mobile=(0,H.tq)(),this.propertiesToRefreshUi=[j.gx.Measurements,j.gx.DetailsModelName,y.w,j.gx.FloorSelect],this.isUnmounting=!1,this.initialToolLoaded=!1,this.getModeChange=e=>({viewmode:(0,U.ty)(e.toMode)}),this.updateToolPanelLayout=()=>{const{toolsData:e,mainDiv:t}=this.context,i=e.toolPanelLayout;this.setState({toolPanelLayout:i}),(0,Sn.j)(t,i)},this.showHelpOnPlaying=e=>{e.phase===d.nh.PLAYING&&(this.context.commandBinder.issueCommand(new T.Bz(S.P.CTA,!0)),this.context.messageBus.unsubscribe(c.LZ,this.showHelpOnPlaying))},this.updateTools=()=>{const{toolsData:e}=this.context,{toolsLoaded:t}=this.state;e.toolsMap.length>0&&!t&&this.setState({toolsLoaded:!0}),this.initialToolLoaded||this.showInitialTool()},this.updatePerSettings=()=>{this.setState({measurementsModeEnabled:this.isMeasurementsEnabled(),notesEnabled:this.isNotesEnabled(),newTagsEnabled:this.isNewTagsEnabled()})},this.updateTourState=()=>{this.tourData&&this.setState({tourState:this.tourData.getCurrentTourState()})},this.updateTourMode=()=>{this.toursViewData&&this.setState({tourMode:this.toursViewData.currentTourMode})},this.isVrButtonEnabled=()=>(0,Wt.hX)(this.context.settings),this.updateActiveTool=()=>{const{tourState:e}=this.state,{toolsData:t,commandBinder:i,mainDiv:n}=this.context,s=t.activeToolName;this.setState({activeTool:s}),window.clearTimeout(this.panelCloseTimeout),s?n.classList.add("tool-open"):this.panelCloseTimeout=window.setTimeout((()=>{n.classList.remove("tool-open")}),400),s&&e.tourPlaying&&i.issueCommand(new R.vy,!1)},this.updateToolCollapsed=()=>{const{toolsData:e,mainDiv:t}=this.context;e.toolCollapsed?t.classList.add("tool-collapsed"):t.classList.remove("tool-collapsed")},this.openModalChanged=()=>{const{toolsData:e,commandBinder:t,mainDiv:i}=this.context,{tourState:n}=this.state,s=e.openModal;s?i.classList.add("modal-open"):i.classList.remove("modal-open"),s&&n.tourPlaying&&t.issueCommand(new R.vy,!1),this.setState({openModal:s})},this.renderTool=(e,t)=>{var i;if((null===(i=e.ui)||void 0===i?void 0:i.renderPanel)&&!!e.panelLeft===t)return(0,a.jsx)("div",Object.assign({className:"tool-panel"},{children:e.ui.renderPanel()}),e.id)},this.renderLeftPanels=()=>{const{modelDetails:e,brandingEnabled:t,showExternalUrl:i}=this.state,{toolsData:n}=this.context;return(0,a.jsx)(En.g,Object.assign({sidePanelCollapsible:!1,className:"side-panel-left"},{children:[...n.toolsMap.values.map((e=>this.renderTool(e,!0))),!!e&&(0,a.jsx)(Bn,{modelDetails:e,brandingEnabled:t,showExternalUrl:i},u.w1.SUMMARY)]}))},this.glCanvas=t.mainDiv.querySelector(".webgl-canvas"),this.state={viewmode:U.g,activeTool:null,openModal:null,toolsLoaded:!1,toolPanelLayout:t.toolsData.toolPanelLayout,tourState:{},tourMode:w.zz.NONE,modelDetails:null,measurementsModeEnabled:!1,notesEnabled:!1,newTagsEnabled:!1,vrEnabled:!1,brandingEnabled:!1,shareEnabled:!1,unaligned:!0,showExternalUrl:!1}}async componentDidMount(){const{settings:e,messageBus:t,market:i,toolsData:n}=this.context;for(const t of this.propertiesToRefreshUi)e.onPropertyChanged(t,this.updatePerSettings);try{this.cancelBindings(),this.bindings=[n.onToolsLoadedChanged(this.updateTools),n.onToolChanged(this.updateActiveTool),n.onOpenModalChanged(this.openModalChanged),n.onToolPanelLayoutChanged(this.updateToolPanelLayout),n.onToolCollapsedChanged(this.updateToolCollapsed),n.toolsMap.onChanged(this.updatePerSettings)],this.handleStartUpHelp();const[e,s,r,a,o]=await Promise.all([i.waitForData(rn.T),i.waitForData(vn.O),i.waitForData(an.Z),i.waitForData(fn.k),i.waitForData(gn.T)]);if(this.isUnmounting)return;this.bindings.push(t.subscribe(yt.Z,(e=>this.setState(Object.assign(Object.assign({},this.getModeChange(e)),this.getUnalignedSweepState())))),t.subscribe(Ct.NR,this.updateTourState),t.subscribe(Ct.oR,this.updateTourState),t.subscribe(Ct.Vx,this.updateTourState),t.subscribe(Ct.Mt,this.updateTourState),t.subscribe(Ct.dW,this.updateTourState),a.getReel().onChanged(this.updateTourState),o.onPropertyChanged("currentTourMode",this.updateTourMode),r.makeSweepChangeSubscription((()=>this.setState(this.getUnalignedSweepState()))));const l=(0,U.ty)(s.currentMode||bn.Ey.Panorama);this.tourData=a,this.toursViewData=o,this.sweepData=r,this.viewmodeData=s,this.setState(Object.assign({viewmode:l,modelDetails:e.model.details,brandingEnabled:this.isBrandingEnabled()&&!this.isMlsEnabled(),shareEnabled:this.isShareEnabled()&&!this.isMlsEnabled(),showExternalUrl:this.isBrandingEnabled()&&!this.isMlsEnabled(),vrEnabled:this.isVrButtonEnabled()},this.getUnalignedSweepState())),this.props.onAppReadyChanged(!0,!1)}catch(e){Wn.debug(e)}this.updateTourState(),this.updateTourMode(),this.updateActiveTool(),this.updateToolCollapsed(),this.updateTools(),this.updatePerSettings()}async componentWillUnmount(){this.isUnmounting=!0;for(const e of this.propertiesToRefreshUi)this.context.settings.removeOnPropertyChanged(e,this.updatePerSettings);this.cancelBindings(),this.props.onAppReadyChanged(!1,!1)}handleStartUpHelp(){const{settings:e,messageBus:t,commandBinder:i}=this.context,n=e.getOverrideParam("help",0);if(1===n||2===n){const n=1===e.getOverrideParam("ts",0),s=!0===e.tryGetProperty("quickstart",!1);n||(s?i.issueCommand(new T.Bz(S.P.CTA,!0)):t.subscribe(c.LZ,this.showHelpOnPlaying))}}showInitialTool(){const{toolsData:e,settings:t}=this.context,i=t.tryGetProperty(ht.RY,!1),n=t.tryGetProperty(V.IA,!1),s=(0,mn.u)(t,i,n);s&&e.hasTool(s)&&(this.initialToolLoaded=!0,window.setTimeout((()=>{(0,mn.a)(s,this.context)}),750))}getUnalignedSweepState(){if(!this.sweepData||!this.viewmodeData)return{unaligned:this.state.unaligned};return{unaligned:this.viewmodeData.isInside()&&this.sweepData.isSweepUnaligned(this.sweepData.currentSweep)}}cancelBindings(){for(const e of this.bindings)e.cancel()}isNotesEnabled(){const{settings:e,toolsData:t}=this.context;return e.tryGetProperty(V.IA,!1)&&!!t.getTool(u.w1.NOTES)}isNewTagsEnabled(){const{settings:e,toolsData:t}=this.context;return e.tryGetProperty(ht.RY,!1)&&!!t.getTool(u.w1.TAGS)}isMeasurementsEnabled(){const{settings:e,toolsData:t}=this.context;return e.tryGetProperty(j.gx.Measurements,!0)&&!!t.getTool(u.w1.MEASUREMENTS)}isShareEnabled(){const{settings:e}=this.context,t=e.tryGetProperty(Le.Yo,!1)&&e.tryGetProperty("is_public",!1),i=(0,H.SP)()&&"0"===zn.share;return t&&!i}isMlsEnabled(){return this.context.settings.tryGetProperty(Le.sX,!1)}isBrandingEnabled(){const{settings:e}=this.context;return e.tryGetProperty(Le.L,!0)}renderToolPanels(){const{toolsData:e}=this.context;return(0,a.jsx)(En.g,Object.assign({sidePanelCollapsible:!1,className:"side-panel-right"},{children:[...e.toolsMap.values.map((e=>this.renderTool(e,!1)))]}))}renderToolOverlay(e){const{toolsData:t}=this.context,{openModal:i,activeTool:n,unaligned:s,toolPanelLayout:r}=this.state,o=t.toolsMap.get(u.w1.MEASUREMENTS),l=t.toolsMap.get(u.w1.NOTES);return(0,a.jsxs)("div",Object.assign({className:"tool-overlay"},{children:[!n&&(0,a.jsx)(An,{}),n===u.w1.MEASUREMENTS&&o&&(0,a.jsx)(_n.f,{mobile:this.mobile,openModal:i,unaligned:s,manager:o.manager}),n===u.w1.NOTES&&l&&(0,a.jsx)(Tn.R,{openModal:i,toolPanelLayout:r,unaligned:s,manager:l.manager}),(0,a.jsx)(On.r,{}),n===u.w1.SEARCH&&(0,a.jsx)(wn.F,{isNarrowScreen:e})]}))}render(){const{viewmode:e,unaligned:t,tourState:i,modelDetails:n,measurementsModeEnabled:s,notesEnabled:r,shareEnabled:o,brandingEnabled:c,vrEnabled:d,openModal:h,toolsLoaded:p,toolPanelLayout:m,activeTool:f,tourMode:g}=this.state,{tourPlaying:v,activeStep:b,currentStep:y,highlights:E}=i,S=f===u.w1.SEARCH,T=g===w.zz.STORIES,O=m===u.wS.NARROW||m===u.wS.BOTTOM_PANEL;return(0,a.jsxs)("div",Object.assign({id:"gui",className:l()({"search-mode":S})},{children:[!!n&&(0,a.jsx)(ct,{modelDetails:n,tourPlaying:v,brandingEnabled:c}),(0,a.jsx)(hn,{viewmode:e,glCanvas:this.glCanvas,openModal:h,shareEnabled:o}),(0,a.jsxs)("div",Object.assign({className:"showcase-ui-overlay"},{children:[this.renderLeftPanels(),(0,a.jsxs)("div",Object.assign({className:"scene-overlay"},{children:[T&&(0,a.jsx)(Dt.G,{currentStep:y,activeStep:b,highlights:E}),T&&(0,a.jsx)(Gn,{highlights:E,tourPlaying:v,narrowLayout:O}),(0,a.jsx)(Rt,{viewmode:e,openModal:h,tourState:i,mobile:this.mobile}),p&&this.renderToolOverlay(O),(0,a.jsx)(pe,{openModal:h,openTool:f,unaligned:t,viewmode:e,tourState:i,tourMode:g,measurementsModeEnabled:s,notesEnabled:r,shareEnabled:o,vrEnabled:d,toolPanelLayout:m})]})),this.renderToolPanels(),(0,a.jsx)(yn.C,{})]}))]}))}}Kn.contextType=h.I;var Yn=i(34029),$n=i(91380),qn=i(50892),Zn=i(68228),Qn=i(57708),Xn=i(1691),Jn=i(63319),es=i(57623),ts=i(46362),is=i(30851),ns=i(62752),ss=i(22744),rs=i(538),as=i(3778),os=i(37714),ls=i(810);const{NOTES:cs}=p.Z.SHOWCASE;function ds(){const e=(0,es.M)(),t=Jn.HH.DATE,i=!!(0===(0,ts.s)().length)||void 0;let n;const s=(0,ns.g)();if(!(0,is.D)())switch(s){case ss.$.OPEN:n=cs.HAVE_NONE_OPEN;break;case ss.$.RESOLVED:n=cs.HAVE_NONE_RESOLVED;break;default:n=cs.HAVE_NONE}return(0,a.jsx)(rs.s,{children:(0,a.jsx)("div",Object.assign({className:"panel-list"},{children:(0,a.jsx)(os.D,{renderItem:as.c,renderGroup:ls.v,activeItemId:null==e?void 0:e.id,grouping:t,excludeEmptyGroups:i,emptyPhrase:n})}))})}class us{constructor(){this.renderPanel=()=>(0,a.jsx)(ds,{})}}var hs=i(50788),ps=i(40216),ms=i(68072),fs=i(52528),gs=i(35446),vs=i(16935),bs=i(86283),ys=i(21149),Es=i(22782),Ss=i(45755),Ts=i(61774),Os=i(71330),_s=i(33338),Ns=i(85679),As=i(39689),ws=i(62612),Is=i(90876),ks=i(22136),Ps=i(16701),Ls=i(84269),Cs=i(6608);function Rs(){const{commandBinder:e}=(0,n.useContext)(h.I),t=(0,Os.P)(),i=(0,_s.L)(),s=(0,Ss.m)(Ns.n),r=(0,Ss.m)(Ts.n),o=(0,Ss.m)(vs.A),[c,d]=(0,n.useState)(null),u=(0,ne.y)(Le.sX,!1),p=(0,ne.y)(ht.RV,!1);(0,n.useEffect)((()=>{if(!(s&&r&&t&&(null==s?void 0:s.getTag(t.id))))return;const e=s.getTag(t.id);d(Object.assign({},t));const i=e.onChanged((()=>{const e=r.getTagView(t.id);d(e?Object.assign({},e):null)}));return()=>i.cancel()}),[t,s,r]);const m=t=>{e.issueCommand(new gs.xW(!0,b,t))};if(!c)return null;const{id:f,description:g,label:v,attachments:b,keywords:y,icon:E,color:S}=c,T=new fs.v({links:!0}),_=(0,ys.Ug)(b),N=(0,ys.ae)(b),A=_.length>0,w=null==o?void 0:o.getCapabilities(f).share;return(0,a.jsxs)("div",Object.assign({className:l()("tag-view-panel",{"viewable-media":A})},{children:[A&&!u&&(0,a.jsx)(ks.v,{attachments:_,onClick:(e,t)=>{m(t)}}),(0,a.jsxs)("div",Object.assign({className:l()("tag-view-panel-header",!A&&"no-media")},{children:[(0,a.jsx)(Cs.C,{badgeStyle:{background:S},iconClass:`icon-${(0,As.m)(ws.Er.MATTERTAG,E,p)}`}),(0,a.jsxs)("div",Object.assign({className:"tag-view-panel-header-contents"},{children:[v&&(0,a.jsx)("div",Object.assign({className:"tag-view-panel-title"},{children:v})),y&&(0,a.jsx)(Is.s,{className:"tag-view-panel-keywords",keywords:y,maxVisible:5}),(0,a.jsx)(Ps.e,{text:g,textParser:T,linkHandler:i,annotationType:bs.J.TAG,annotationId:f,attachments:[],onViewAttachment:m}),(void 0===w||w)&&(0,a.jsx)(Ls.O,{prefix:"tag",pin:c,id:c.id,darkTheme:!1,includeCameraView:!0,analyticAction:"tags_copy_share_link",buttonVariant:O.Wu.TERTIARY},c.id)]}))]})),N.length>0&&(0,a.jsxs)("div",Object.assign({className:"tag-view-panel-attachments"},{children:[(0,a.jsx)("h4",{children:"Attachments"}),(0,a.jsx)(Es.s,{annotationType:bs.J.TAG,attachments:N})]}))]}))}var Ds=i(72201);const{TAGS:Ms}=p.Z.SHOWCASE;function xs(){const e=(0,hs.F)(),t=(0,ps.T)(),i=(0,ie.R)(),{commandBinder:s,locale:r}=(0,n.useContext)(h.I),o=e&&(e===u.w1.SEARCH||e===u.w1.LAYERS),l=e?"back":"close",c=r.t(o?Ms.NAV_BACK_LABEL:Ms.CLOSE_TAG_LABEL),d=t===u.wS.BOTTOM_PANEL,p=i&&i!==S.P.CONFIRM,m=!d||!p;return(0,a.jsxs)(ms.J,Object.assign({className:"tags-panel",open:m,scrollingDisabled:!1},{children:[(0,a.jsxs)("div",Object.assign({className:"detail-panel-header"},{children:[(0,a.jsx)(O.zx,{icon:l,label:c,variant:O.Wu.TERTIARY,onClick:()=>{o?s.issueCommand(new W.cR).then((()=>{s.issueCommand(new W.qy(!1))})):s.issueCommand(new W.CH(u.w1.TAGS))}}),(0,a.jsx)(Ds.O,{analyticAction:"tags_navigate_in_panel"})]})),(0,a.jsx)(Rs,{})]}))}class js{constructor(){this.renderPanel=()=>(0,a.jsx)(xs,{})}}var Us=i(85979),Hs=i(50540),Fs=i(73698);const{TOOLS:Bs}=p.Z;class Vs extends r.Y{constructor(){super(),this.name="showcase-gui-module",this.onSaveError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new Hs.I(p.Z.ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE,{throttle:30,timeout:10,type:Fs.N.ERROR,error:t}))},this.onForbiddenError=e=>{const{error:t}=e;this.engine.commandBinder.issueCommand(new Hs.I(p.Z.ERRORS.UNAUTHORIZED_ERROR_MESSAGE,{throttle:0,timeout:0,type:Fs.N.ERROR,error:t}))},this.loadUi=this.loadUi.bind(this)}async init(e,t){this.engine=t,[this.settingsData,this.toolsData]=await Promise.all([t.market.waitForData(Yn.e),t.market.waitForData($n.t)]),this.bindings.push(t.subscribe(Us.dz,this.onSaveError),t.subscribe(Us.hu,this.onForbiddenError))}async loadUi(e,t,i,r,a,o,l,c,d,u,p,m){const f={editMode:!1,locale:e,analytics:t,settings:i,toolsData:this.toolsData,userData:r,mainDiv:a,engine:l,messageBus:c,market:d,commandBinder:u,queue:m};this.reactRoot=(0,s.s)(o),this.reactRoot.render((0,n.createElement)(h.I.Provider,{value:f},[(0,n.createElement)(Kn,{key:"showcase-ui",onAppReadyChanged:p})])),this.initializeTools()}async unloadUi(){return!!this.reactRoot&&(this.reactRoot.unmount(),!0)}initializeTools(){const e=[new qn.U({id:u.w1.NOTES,namePhraseKey:Bs.NOTES,panel:!0,icon:"icon-comment-outline",analytic:"notes_mode",dimmed:!1,enabled:this.settingsData.tryGetProperty(V.IA,!1),hidesAppBar:!0,ui:new us,manager:new Qn.L(this.engine,this.settingsData),helpMessagePhraseKey:Bs.NOTES_HELP_MESSAGE,helpHref:"https://support.matterport.com/s/article/Matterport-Notes"}),new qn.U({id:u.w1.MEASUREMENTS,namePhraseKey:Bs.MEASUREMENTS,panel:!1,icon:"icon-tape-measure",analytic:"measure_mode",dimmed:!1,enabled:this.settingsData.tryGetProperty(j.gx.Measurements,!0),manager:new Zn.u(this.engine,this.settingsData,!1)}),new qn.U({id:u.w1.SUMMARY,namePhraseKey:Bs.SUMMARY,panel:!0,panelLeft:!0,analytic:"summary_panel",dimmed:!1,enabled:!0,hidesAppBar:!0,manager:{activate:async()=>{},deactivate:async()=>{}}})];if(this.settingsData.tryGetProperty(ht.RY,!1)){const t=new Xn.Q(this.engine,this.settingsData);e.push(new qn.U({id:u.w1.TAGS,namePhraseKey:Bs.TAGS,panel:!0,icon:"icon-toolbar-mattertags",analytic:"mattertag",dimmed:!1,enabled:!0,hidesAppBar:!0,manager:t,ui:new js}))}this.engine.commandBinder.issueCommand(new W.MV(e))}}},34216:(e,t,i)=>{"use strict";i.d(t,{G:()=>s,M:()=>r});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={startup:e}}}s.id="START_APPLICATION";class r extends n.m{constructor(e){super(),this.payload={expand:e}}}r.id="EXPAND_APP"},39204:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>O});var n=i(99207),s=i(97542),r=i(57956),a=i(10374),o=i(54244),l=i(26568),c=i(38399),d=i(31362),u=i(59279),h=i(39880),p=i(46950),m=i(69607),f=i(40782),g=i(82668);class v{constructor(e,t){this.lastProgress=0,this.currentProgress=0,this.webpackChunks=[],this.meshAlloc={alloc:2e6,loaded:0},this.showingProgress=!1,this.progressElm=t.querySelector("#bar"),window.addEventListener("WebpackChunkProgress",this.onWebpackChunkProgress.bind(this)),this.engine=e,this.meshProgressBinding=this.onMeshLoadProgress.bind(this),this.engine.subscribe(g.Z,this.meshProgressBinding)}showProgress(){this.showingProgress=!0,this.setProgress(this.currentProgress)}setDone(){this.currentProgress=100,this.setProgress(this.currentProgress),this.engine.unsubscribe(g.Z,this.meshProgressBinding)}setProgress(e){if(!this.progressElm||isNaN(e))return;this.lastProgress=Math.max(this.lastProgress,e),e=this.lastProgress;const t=Number.parseFloat(this.progressElm.getAttribute("r")||"0"),i=Math.PI*(2*t),n=(100-(e=Math.max(Math.min(e,100),0)))/100*i;this.progressElm.style.strokeDashoffset=n.toString(10)}calcProgress(){let e=0,t=0;this.webpackChunks.forEach((i=>{e+=i.loaded,t+=i.total})),e+=this.meshAlloc.loaded,t+=this.meshAlloc.alloc,this.currentProgress=75*Math.min(e/t,1),this.showingProgress&&this.setProgress(this.currentProgress)}onWebpackChunkProgress(e){this.webpackChunks[e.chunkID]?this.webpackChunks[e.chunkID].loaded=e.loaded:this.webpackChunks[e.chunkID]={loaded:e.loaded,total:e.total},this.calcProgress()}onMeshLoadProgress(e){this.meshAlloc.loaded=e.loaded/e.total*this.meshAlloc.alloc,this.calcProgress()}}var b=i(34216),y=i(45531),E=i(34029),S=i(76721);function T(e,t){let i=function(e){return document.querySelector(`link[rel=${e}]`)}(e);i||(i=document.createElement("link"),document.head.appendChild(i)),i.setAttribute("rel",e),i.setAttribute("href",t)}class O extends s.Y{constructor(){super(...arguments),this.name="loading-ui",this.playPromise=new p.Q,this.resolvePlayPromise=async(e,t)=>{if(this.config.allowPlayInIframe||!this.config.startNewTab){if((0,d.yL)())if(t&&(this.config.allowPlayInIframe||1===this.settings.getOverrideParam("expand",0)))this.toggleIframeExpansion(!0);else if(!this.config.allowPlayInIframe){const e=(0,u.kD)();t&&e.set("edit","1"),e.set("back","1"),e.delete("cloudEdit");const i=e.toString(),n=`${window.location.origin}${window.location.pathname}?${i}`;try{return void(window.top&&(window.top.location.href=n))}catch(e){this.log.debug("Couldn't set top window location; was Showcase sandboxed?"),this.log.debug(e)}}t&&this.settings.setProperty("quickstart",!0),e&&(this.config.noUi||(this.playIcon.classList.add("hidden"),this.progressUI.showProgress()),this.playPromise.resolve())}else{const e=(0,S.m5)(window.location.href);window.open(e,"_blank")}},this.toggleIframeExpansion=e=>{const t=e?new n.n3:new n.mQ;this.engine.commandBinder.issueCommand(t),this.engine.broadcast(new f.G(e))},this.onAppPhaseChangeMessage=async e=>{e.phase!==o.nh.STARTING&&e.phase!==o.nh.PLAYING&&e.phase!==o.nh.ERROR||(this.progressUI.setDone(),this.config.quickstart?this.showQuickstartUI():this.uiRoot.classList.add("faded-out"),this.engine.unsubscribe(a.LZ,this.onAppPhaseChangeMessage))}}async init(e,t){this.engine=t,this.config=e,this.locale=await t.getModuleBySymbol(r.y.LOCALE),this.settings=await t.market.waitForData(E.e);const i=await t.market.waitForData(l.T);this.model=i.model.details,this.updateHtmlMetadata(i,this.settings),this.bindings.push(t.commandBinder.addBinding(b.G,(async e=>{this.resolvePlayPromise(e.startup,!0)})),t.commandBinder.addBinding(b.M,(async e=>{this.toggleIframeExpansion(e.expand)}))),e.noUi||(this.bindings.push(this.settings.onPropertyChanged(y.DU,(()=>this.renderTitle())),this.settings.onPropertyChanged(y.L,(()=>this.renderBranding())),this.settings.onPropertyChanged(y.sX,(()=>this.renderBranding())),t.subscribe(a.LZ,this.onAppPhaseChangeMessage)),this.progressUI=new v(t,e.container),this.loadUi(),this.getLoadingElements(),this.renderSplashScreen())}get waitForPlaying(){return this.playPromise.nativePromise()}loadUi(){if(this.uiRoot=this.config.container.querySelector("#loading-gui"),!this.uiRoot)throw Error("Loading GUI root not found");this.uiRoot.classList.remove("hidden"),this.config.quickstart&&(this.uiRoot.style.pointerEvents="none")}getPresentationOptions(){const{hideTitle:e,hideBranding:t,quickstart:i}=this.config,n=!i&&(void 0!==e?!e:this.settings.tryGetProperty(y.DU,!0)),s=this.settings.tryGetProperty(y.sX,!1),r=this.settings.tryGetProperty(y.L,!0);return{title:n,presentedBy:void 0!==t?!t:r&&!s}}getLoadingElements(){const{container:e}=this.config;this.presentedBy=e.querySelector("#loading-presented-by"),this.poweredBy=e.querySelector("#loading-powered-by"),this.mpLogo=e.querySelector("#loading-mp-logo"),this.mpLogo.src=m,this.mpLogo.alt=this.locale.t(c.Z.ALT_MATTERPORT_LOGO),this.circleLoader=e.querySelector("#circleLoader"),this.nameHeader=e.querySelector("#loading-header"),this.background=e.querySelector("#loading-background"),this.tint=e.querySelector("#tint"),this.playIcon=e.querySelector("#showcase-play")}addCobrand(){var e;if(null===(e=this.model)||void 0===e?void 0:e.presentedBy){const e=this.presentedBy.querySelector(".loading-label");e&&(e.textContent=this.locale.t(c.Z.PRESENTED_BY_CAPS));const t=this.presentedBy.querySelector(".subheader");t&&(t.textContent=this.model.presentedBy),this.presentedBy.classList.remove("hidden")}}hidePlayButtonUI(){this.background.style.backgroundImage="none",this.presentedBy.style.transition="none",this.presentedBy.classList.remove("faded-in"),this.poweredBy.style.transition="none",this.poweredBy.classList.remove("faded-in"),this.nameHeader.classList.add("hidden"),this.tint.classList.add("hidden"),this.circleLoader.classList.add("hidden"),this.uiRoot.classList.add("quickstart")}async showQuickstartUI(){this.background.classList.add("faded-out"),await(0,h.gw)(500),this.presentedBy.style.transition="",this.presentedBy.classList.add("faded-in"),this.poweredBy.style.transition="",this.poweredBy.classList.add("faded-in"),await(0,h.gw)(2500),this.presentedBy.classList.remove("faded-in"),this.poweredBy.classList.remove("faded-in"),this.uiRoot.classList.add("faded-out")}showLoadingUI(e){const t=document.createAttribute("data-status");t.value=this.locale.t(c.Z.LOADING);const i=this.config.container.querySelector("#loader-cont");i&&(i.attributes.setNamedItem(t),i.classList.add(this.locale.languageCode),i.classList.add("loading")),e.classList.add("faded-out"),this.presentedBy.classList.add("faded-in")}renderTitle(){const{title:e}=this.getPresentationOptions();this.nameHeader.classList.toggle("hidden",!e)}renderBranding(){const{presentedBy:e}=this.getPresentationOptions();e?this.addCobrand():this.presentedBy.classList.add("hidden")}renderSplashScreen(){this.renderTitle(),this.renderBranding(),this.config.hidePoweredBy&&this.poweredBy.classList.add("hidden"),this.nameHeader.textContent=this.model.name,this.poweredBy.classList.add("faded-in"),this.tint.classList.add("faded-in");const e=this.config.container.querySelector("#play-prompt");this.playPromise.then((()=>{this.config.quickstart?this.hidePlayButtonUI():this.showLoadingUI(e)})),this.config.autoplay?(this.progressUI.showProgress(),this.playPromise.resolve()):(e.classList.remove("hidden"),e.innerText=this.locale.t(c.Z.EXPLORE_3D_SPACE),this.playIcon.classList.remove("hidden"),this.uiRoot.addEventListener("click",(()=>this.resolvePlayPromise(!0,!1)))),this.renderBackground(),this.config.allowPlayInIframe||window.scrollTo(0,0)}renderBackground(){const e=window.devicePixelRatio||1,t=Math.max(window.innerWidth,400);this.background.style.backgroundImage=`url(${this.config.baseUrl}/api/v1/player/models/${this.config.viewId}/thumb?width=${t}&dpr=${e}&disable=upscale)`}updateHtmlMetadata(e,t){if("function"==typeof ShadowRoot&&this.config.container.getRootNode()instanceof ShadowRoot)return;const i=t.tryGetProperty(y.r4,null);if(e.hasDiscoverUrl()&&i){T("canonical",`${i}${e.model.sid}`)}}}},40782:(e,t,i)=>{"use strict";i.d(t,{G:()=>s});var n=i(98010);class s extends n.v{constructor(e){super(),this.expanded=e}}},21068:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Qe});var n=i(97542),s=i(57956),r=i(56169),a=i(54165),o=i(42238),l=i(82864),c=i(31362),d=i(59279),u=i(30128);const h=e=>`${e}_3.0`,p=()=>{var e,t,i,n,s;const r=null!==(e=window.MP_PLATFORM_METADATA)&&void 0!==e?e:{};return{org_id:null!==(t=r.org_id)&&void 0!==t?t:"",pme:null!==(i=r.pme)&&void 0!==i&&i,client_id:null!==(n=r.client_id)&&void 0!==n?n:"",pme_session_id:null!==(s=r.pme_session_id)&&void 0!==s?s:""}},m=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return""}},f=()=>{const e=(new o.UAParser).getResult();let t=e.os.name,i=e.browser.name;const n=Object.assign({},e.device);return c._1()&&(t="iPadOS",n.vendor="Apple",n.model="iPad",n.type="tablet","Safari"===i&&(i="Mobile Safari")),{browser:{name:i,major:e.browser.major,version:e.browser.version,language:navigator.language||"",languages:navigator.languages?navigator.languages.join(", "):""},os:{name:t,version:e.os.version},device:{vendor:n.vendor,model:n.model,type:n.type}}};function g(e,t){return{app:{name:h(t),version:"23.2.2_webgl-59-ge638ad60fb"},locale:e,screen:{width:window.screen.width,height:window.screen.height,density:window.devicePixelRatio},timezone:m(),location:{}}}const v=a.K.Logging;var b=i(64773),y=i(5135);class E{constructor(){this.handlers=[{msgType:b.m,func:(e,t,i)=>{const n=i.tryGetData(y.Z);n&&e.track("interaction_mode_changed",{interaction_mode_prev:t.fromMode,interaction_mode:t.mode,interaction_source:n.source})}}]}}var S=i(95160),T=i(5604);class O{constructor(){this.handlers=[{msgType:T.i,func:(e,t,i)=>{const{blockType:n}=t.block;if(n===S.C.TEXT)return;let s=t.block.text;n===S.C.LINK&&(s=t.block.value||""),n===S.C.USER&&(s=t.block.id||""),e.track("annotation_block_clicked",{block_type:n,block_value:s,annotation_type:t.annotationType,annotation_id:t.id})}}]}}var _,N=i(18923),A=i(66563),w=i(2473),I=i(63252);function k(e,t){switch(e){case I.z9.ALIGNED:return 1;case I.z9.UNALIGNED:return 2}switch(t){case I.hU.MANUAL:return 3}return 0}!function(e){e.USER="self-guided",e.TOUR="tour"}(_||(_={}));class P{constructor(){this.startLoadTime=Date.now(),this.endLoadTime=Date.now(),this.panosViewed=0,this.handlers=[{msgType:N.Z,func:(e,t,i)=>{this.onMoveToSweepBegin(t.timestamp)}},{msgType:A.Z,func:(e,t,i)=>{const n=i.tryGetData(y.Z),s=i.tryGetData(w.k);this.endLoadTime=Date.now();const r=this.endLoadTime-this.startLoadTime;e.track("pano_viewed",{pano_id:t.toSweep,pano_view_count:++this.panosViewed,alignment_type:k(t.alignmentType,t.placementType),navigation_source:s&&s.tourPlaying?_.TOUR:_.USER,interaction_source:n?n.source:y.Z.defaultSource,interaction_mode:n?n.mode:y.Z.defaultMode,load_time:r/1e3})}}]}onMoveToSweepBegin(e){this.startLoadTime=e}}var L=i(10699);class C{constructor(){this.handlers=[{msgType:L.Z,func:(e,t,i)=>{const n=i.tryGetData(y.Z),s={view_mode:t.toMode};n&&(s.interaction_source=n.source,s.interaction_mode=n.mode),e.track("mode_changed",s)}}]}}var R=i(51397),D=i(69739),M=i(98010);class x extends M.v{constructor(e,t,i){super(),this.sweep=e,this.from=t,this.to=i}}var j=i(76957);const U=(e,t)=>{const i=t.tryGetData(j.i);if(!e||!i)return-1;return i.getFloor(e).index};class H{constructor(){this.handlers=[{msgType:D.P,func:(e,t,i)=>{const n=i.tryGetData(y.Z);e.track("floor_changed",{floor_id:t.floorName,interaction_source:n?n.source:y.Z.defaultSource,interaction_mode:n?n.mode:y.Z.defaultMode})}},{msgType:x,func:(e,t,i)=>{const n=i.tryGetData(y.Z);e.track("sweep_floor_fixup",{sweep_index:t.sweep.index,sweep_alignment:t.sweep.alignmentType,sweep_placement:t.sweep.placementType,sweep_floor_from:U(t.from,i),sweep_floor_to:U(t.to,i),interaction_source:n?n.source:y.Z.defaultSource,interaction_mode:n?n.mode:y.Z.defaultMode})}}]}}var F=i(61948),B=i(53954);class V{constructor(){this.firstZoom=!0,this.fromZoom=1,this.toZoom=1,this.handlers=[{msgType:F.Z,func:(e,t,i)=>{this.analytics||(this.analytics=e);const n=i.tryGetData(B.Z);n&&n.currentSweep!==this.currentPano&&(this.firstZoom=!0,this.currentPano=n.currentSweep,this.fromZoom=1),this.toZoom=t.zoomLevel,clearTimeout(this.sendTimeout),this.sendTimeout=window.setTimeout(this.trackZoomEvent.bind(this),150)}}]}trackZoomEvent(){const e=this.firstZoom?"initial":"followup";this.analytics.track("zoom_"+e,{from:this.fromZoom,to:this.toZoom,pano:this.currentPano}),this.firstZoom=!1,this.fromZoom=this.toZoom}}var G=i(10374),W=i(54244),z=i(67992);class K extends z.V{constructor(){super(...arguments),this.name="timing",this.modelLoadingStartTime=0,this.waitingStartTime=0,this.appPlayingTime=0,this.appStartedTime=0}get totalTimeToAppStarting(){let e=this.appStartedTime-performance.timing.navigationStart;return this.modelLoadingStartTime&&this.waitingStartTime&&(e-=this.modelLoadingStartTime-this.waitingStartTime),e}get totalTimeToAppPlaying(){let e=this.appPlayingTime-performance.timing.navigationStart;return this.modelLoadingStartTime&&this.waitingStartTime&&(e-=this.modelLoadingStartTime-this.waitingStartTime),e}}var Y=i(97998),$=i(59625),q=i(67223);const Z=new Y.Z("showcase-session"),Q=new K;class X{constructor(e,t){this.analytics=e,this.engine=t,this.handlers=[{msgType:G.LZ,func:async(e,t,i)=>{var n,r;switch(t.phase){case W.nh.WAITING:Q.waitingStartTime=Date.now(),Q.commit(),e.track("impression",{url_params:c.UD(),visible:!0});break;case W.nh.LOADING:Q.modelLoadingStartTime=Date.now(),Q.commit();break;case W.nh.STARTING:{Q.appStartedTime=Date.now(),Q.commit(),Z.info("First render, model loaded "+Q.totalTimeToAppStarting/1e3);const t=this.engine.market.tryGetData($.af);this.renderer=await this.engine.getModuleBySymbol(s.y.WEBGL_RENDERER);const i=this.renderer.getCapabilities(),n={has_hlr:!t||t.options.highlight_reel,duration:Date.now()-Q.modelLoadingStartTime,duration_from_navigation_start:Date.now()-performance.timing.navigationStart,gl_v2:i.gl_v2,gl_max_textures:i.gl_max_textures,gl_max_texture_size:i.gl_max_texture_size,gl_max_cubemap_size:i.gl_max_cubemap_size,gl_instancing:i.gl_instancing,gl_oes_texture_float:i.gl_oes_texture_float,gl_oes_texture_half_float:i.gl_oes_texture_half_float,gl_depth_texture:i.gl_depth_texture,gl_draw_buffers:i.gl_draw_buffers,gl_oes_fbo_render_mip_map:i.gl_oes_fbo_render_mip_map,gl_shader_texture_lod:i.gl_shader_texture_lod,gl_oes_vertex_array_obj:i.gl_oes_vertex_array_obj,gl_ovr_multi_view:i.gl_ovr_multi_view,gl_color_buffer_float:i.gl_color_buffer_float,gl_astc_supported:i.gl_astc_supported,gl_etc1_supported:i.gl_etc1_supported,gl_etc2_supported:i.gl_etc2_supported,gl_dxt_supported:i.gl_dxt_supported,gl_bptc_supported:i.gl_bptc_supported,gl_pvrtc_supported:i.gl_pvrtc_supported};e.track("model_loaded",n);break}case W.nh.PLAYING:Q.appPlayingTime=Date.now(),Q.commit(),Z.info("Playing, session started "+Q.totalTimeToAppPlaying/1e3),e.track("session_started"),window.addEventListener("unload",this.sessionEnded),e.track("load_times",{time_to_app_start:Q.totalTimeToAppStarting,time_to_app_playing:Q.totalTimeToAppPlaying});break;case W.nh.ERROR:{const t=await i.waitForData(W.pu),{error:s}=t,a=s&&s.name?s.name:s&&s.constructor?s.constructor.name:null,o=s?s.message:null,l=s&&s.stack?s.stack.split("\n"):[],c=l.length>=2?l[1].match(/\s+at\s+([^\s]+)/):null,u=(0,q.zg)(s),h=!!(0,d.eY)("oops",""),p=null!==(r=null===(n=this.renderer)||void 0===n?void 0:n.estimatedGPUMemoryAllocated())&&void 0!==r?r:-1,m={error_dialog:"oops",error_type:a||"",exception:{message:`${a}: ${o}`,function:c?c[1]:null,stack:l.slice(1,5).join("\n")},duration:Q.modelLoadingStartTime>0?Date.now()-Q.modelLoadingStartTime:void 0,duration_from_navigation_start:Date.now()-performance.timing.navigationStart,gpu_memory:p<0?void 0:p,mock_error:h};u&&(m.error_code=u),e.track("error_displayed",m);break}}}}],this.sessionEnded=()=>{this.analytics.trackAsync("session_ended",{duration:Date.now()-Q.appPlayingTime})}}dispose(){window.removeEventListener("unload",this.sessionEnded)}}var J=i(5090),ee=i(39880),te=i(83021),ie=i(95882),ne=i(23254),se=i(92901);const re=new Y.Z("/index.js");let ae,oe=0,le=1/0,ce=null,de=null,ue=window.devicePixelRatio||1;const he={},pe=new te.P(1e3),me=new te.P(1e3);class fe{constructor(e){this.engine=e,this.handlers=[{msgType:J.Z,func:(e,t,i)=>{de!==W.nh.STARTING&&de!==W.nh.PLAYING||ge(e,ie.Ey[t.toMode],1e4)}},{msgType:G.LZ,func:async(e,t,i)=>{const n=i.tryGetData(ne.O);t.phase===W.nh.LOADING?ge(e,"Loading",6e4):t.phase===W.nh.STARTING?(ae=await this.engine.getModuleBySymbol(s.y.WEBGL_RENDERER),ge(e,"Starting",6e4)):t.phase===W.nh.PLAYING&&n&&n.currentMode&&ge(e,ie.Ey[n.currentMode],1e4),de=t.phase}},{msgType:se.Vx,func:(e,t,i)=>{ue=t.pixelRatio}}]}}function ge(e,t,i){t!==ce&&(ce&&(be(e),ve()),he[t]||(ce=t,le=i,he[ce]=!0))}const ve=()=>{ce=null,pe.clear(),me.clear(),oe=0},be=e=>{if(0===pe.count)return;const t=pe.getList(),i=me.getList();try{const n=ye(t,i);e.track("performance",n)}catch(e){re.warn("Could not send performance metrics",e)}},ye=(e,t)=>{let i=0,n=0,s=0,r=0,a=0,o=0;for(const t of e)i+=t,t<0||(t<=16.7?n+=t:t<=33.3?s+=t:t<=100?r+=t:t<=1e3?a+=t:o+=t);if(i<=0)throw Error("No positive timings, cannot calculate performance data");const l=i/e.length;n/=i,s/=i,r/=i,a/=i,o/=i;let c=e.slice();const d=(0,ee.Pe)(c,50),u=(0,ee.Pe)(c,95,!1),h=c[c.length-1];let p,m,f,g,v;return t.length&&(c=t.slice(),g=(0,ee.Pe)(c,50,!0),v=(0,ee.Pe)(c,95,!1),f=Math.round((0,ee.Y8)(t)),p=c[0],m=c[c.length-1]),{phase:ce,frame_delta:l,frame_delta_avg:l,frame_delta_median:d,frame_delta_95th:u,frame_delta_max:h,duration:i,time_60_fps:n,time_60_30_fps:s,time_30_10_fps:r,time_10_1_fps:a,time_1_0_fps:o,gpu_memory_min:p,gpu_memory_max:m,gpu_memory_avg:f,gpu_memory_median:g,gpu_memory_95th:v,pixel_ratio:ue}};var Ee=i(51180),Se=i(79727);const Te=(e,t)=>{const i=t.tryGetData(Se.c);if(!i)return-1;return(e?i.floors.getFloor(e):i.getHighestVisibleFloor()).index};class Oe{constructor(){this.handlers=[{msgType:Ee.rf,func:(e,t,i)=>{const n={measure_sid:t.data.sid,start_position:t.data.startPosition,end_position:t.data.endPosition,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:Te(t.data.floorId,i),feature_type:t.data.featureType,constraint_style:t.data.constraint,continuous:t.data.continuous};e.track("measure_segment_add",n)}},{msgType:Ee.u6,func:(e,t,i)=>{const n={measure_sid:t.data.sid,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:Te(t.data.floorId,i),feature_type:t.data.featureType,measure_type:t.data.type,constraint_style:t.data.constraint,continuous:t.data.continuous};e.track("measure_add",n)}},{msgType:Ee.ty,func:(e,t)=>{const i={measure_sid:t.sid,measure_text:t.text};e.track("measure_add_title",i)}},{msgType:Ee.mM,func:(e,t)=>{const i={measure_sid:t.sid,measure_old_text:t.oldText,measure_new_text:t.newText};e.track("measure_update_title",i)}},{msgType:Ee.$Z,func:(e,t,i)=>{const n={measure_sid:t.data.sid,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:Te(t.data.floorId,i),measure_count:t.data.count,continuous:t.data.continuous};e.track("measure_remove",n)}},{msgType:Ee.av,func:(e,t,i)=>{const n={measure_sid:t.data.sid,length:t.data.totalLength,segments:t.data.segments,temporary:t.data.temporary,viewmode:t.data.viewmode,floor:Te(t.data.floorId,i),feature_type:t.data.featureType,constraint_style:t.data.constraint,continuous:t.data.continuous};e.track("measure_update",n)}},{msgType:Ee.$n,func:(e,t)=>{const i=t.opened?"measure_mode_enter":"measure_mode_exit",n={viewmode:t.viewmode,measure_count:t.count};e.track(i,n)}},{msgType:Ee.ff,func:(e,t)=>{e.track("measure_cancelled",{})}}]}}var _e=i(70173);class Ne{constructor(){this.handlers=[{msgType:_e.i,func:(e,t)=>{const i={duration_dollhouse:t.durationDollhouse,duration_floorplan:t.durationFloorplan,duration_inside:t.durationInside,duration:t.durationDollhouse+t.durationFloorplan+t.durationInside,main_mode:t.mainMode,bytes_downloaded:t.totalBytesDownloaded,tiles_downloaded:t.tilesDownloaded};e.track("activity_ping",i)}}]}}var Ae,we=i(86819),Ie=i(80592),ke=i(89553),Pe=i(67678),Le=i(11442),Ce=i(41326),Re=i(74789);!function(e){e.UNINITIALIZED="uninitialized",e.INACTIVE="inactive",e.ACTIVE="active"}(Ae||(Ae={}));class De{constructor(){this.name="activity-analytics",this._state=Ae.UNINITIALIZED,this.activeModeMap=new Map,this.totalTilesDownloaded=0,this.onTileDownloaded=()=>{this.totalTilesDownloaded++}}async init(e,t,i){this.engine=e,this.requestQueue=i,[this.input,this.viewmodeData,this.applicationData]=await Promise.all([await e.getModuleBySymbol(s.y.INPUT),await e.market.waitForData(ne.O),await e.market.waitForData(W.pu)]);const n=[],r=[we.R,Ie._t,ke.e,Pe.er,Le.G],a=()=>this.active=!0;this.applicationData.phase===W.nh.PLAYING?this._state=Ae.INACTIVE:n.push(e.subscribe(G.LZ,(()=>{this.applicationData.phase===W.nh.PLAYING&&(this._state=Ae.INACTIVE)}))),n.push(...(()=>{const e=[];return r.forEach((t=>{e.push(this.input.registerUnfilteredHandler(t,a))})),e})()),n.push(e.subscribe(L.Z,(e=>{const t=e.fromMode,i=e.toMode;t&&t!==ie.Ey.Transition&&this.applicationData.phase===W.nh.PLAYING&&this.handleModeChange(t,i)}))),n.push(this.engine.subscribe(Re.o,this.onTileDownloaded)),t(n)}get active(){return this._state===Ae.ACTIVE}set active(e){this._state!==Ae.UNINITIALIZED&&(e&&this._state===Ae.INACTIVE&&this.startActivityTimeout(),this._state=e?Ae.ACTIVE:Ae.INACTIVE)}handleModeChange(e,t){this.activeModeMap.has(t)?this.updateActivityTimeForMode(t,!0):this.activeModeMap.set(t,{previousTime:Date.now(),totalTimeinMS:0}),this.updateActivityTimeForMode(e)}updateActivityTimeForMode(e,t){const i=this.activeModeMap.get(e);if(void 0===i)return;const{previousTime:n,totalTimeinMS:s}=i;t?this.activeModeMap.set(e,{previousTime:Date.now(),totalTimeinMS:s}):this.activeModeMap.set(e,{previousTime:Date.now(),totalTimeinMS:s+(Date.now()-n)})}startActivityTimeout(){this.activeModeMap.set(ie.Ey.Dollhouse,{previousTime:Date.now(),totalTimeinMS:0}),this.activeModeMap.set(ie.Ey.Floorplan,{previousTime:Date.now(),totalTimeinMS:0}),this.activeModeMap.set(ie.Ey.Panorama,{previousTime:Date.now(),totalTimeinMS:0}),window.setTimeout(this.notifyActivityAnalytic.bind(this),De.ACTIVITY_INTERVAL)}notifyActivityAnalytic(){if(this.viewmodeData.currentMode&&this.viewmodeData.currentMode!==ie.Ey.Transition&&this.updateActivityTimeForMode(this.viewmodeData.currentMode),this.active){let e=0,t=ie.Ey.Panorama;this.activeModeMap.forEach(((i,n)=>{i.totalTimeinMS>e&&(t=n,e=i.totalTimeinMS)})),this.active=!1;const[i,n,s]=[this.activeModeMap.get(ie.Ey.Dollhouse),this.activeModeMap.get(ie.Ey.Floorplan),this.activeModeMap.get(ie.Ey.Panorama)].map((e=>e?e.totalTimeinMS:0));this.engine.broadcast(new _e.i(i,n,s,Ce.KP[t],this.requestQueue.totalBytesDownloaded,this.totalTilesDownloaded))}}}De.ACTIVITY_INTERVAL=15e3;var Me,xe=i(79992);!function(e){e.USER="self-guided",e.TOUR="tour"}(Me||(Me={}));class je{constructor(){this.handlers=[{msgType:xe.D,func:(e,t,i)=>{const n=i.tryGetData(y.Z),s=i.tryGetData(w.k),r={room_id:t.roomId,room_index:t.meshSubgroup,room_type:t.roomType,viewmode:t.viewmode?Ce.KP[t.viewmode]:t.viewmode,room_visit_count:t.visitCount,room_count:t.roomCount,navigation_source:s&&s.tourPlaying?Me.TOUR:Me.USER,interaction_source:n?n.source:y.Z.defaultSource,interaction_mode:n?n.mode:y.Z.defaultMode};e.track("room_visited",r)}}]}}var Ue=i(5586);class He{constructor(){this.handlers=[{msgType:Ue.V,func:(e,t,i)=>{e.track("internal_warning",{warningType:"rtl_disabled_roomnav"})}}]}}var Fe=i(75783);const Be=e=>e.sort(((e,t)=>e.localeCompare(t)));class Ve{constructor(){this.handlers=[{msgType:Fe.E,func:(e,t)=>{const{happiness:i,quality:n,navigation:s,feedback:r}=t.rating,a={};i&&(a.happiness=+i),(s&&s.length>0||n&&n.length>0)&&(a.issue_types=function(e=[],t=[]){const i=[];return Be(t).forEach((e=>i.push(`navigation-${e.trim()}`))),Be(e).forEach((e=>i.push(`quality-${e.trim()}`))),i.join(",")}(n||[],s||[])),r&&r.length>0&&(a.feedback=r),Object.keys(a).length>0&&e.track("model_rated",a)}}]}}var Ge=i(40505);const We=[1e3,3e3,5e3,15e3];class ze{constructor(){this.currSpinnerSessionId=null,this.currSpinnerSessionStartTime=null,this.currIntervalIdx=0,this.pingTimeout=null,this.handlers=[{msgType:Ge.Z_,func:(e,t)=>{t.isOpen?this.startPinging(e):this.stopPinging(e)}}]}startPinging(e){null==this.currSpinnerSessionId&&(this.currSpinnerSessionId=(0,u.D)(),this.currSpinnerSessionStartTime=Date.now(),this.currIntervalIdx=0,this.pingTimeout=window.setTimeout((()=>this.pingAnalytics(e)),We[this.currIntervalIdx]))}stopPinging(e){if(this.currSpinnerSessionId&&this.currSpinnerSessionStartTime){const t=Date.now()-this.currSpinnerSessionStartTime;e.track("pano_tile_loading",{session_id:this.currSpinnerSessionId,duration:t,final_duration:t}),this.pingTimeout&&(window.clearTimeout(this.pingTimeout),this.pingTimeout=null),this.currSpinnerSessionId=null}}pingAnalytics(e){this.currSpinnerSessionId&&this.currSpinnerSessionStartTime&&(e.track("pano_tile_loading",{session_id:this.currSpinnerSessionId,duration:Date.now()-this.currSpinnerSessionStartTime,final_duration:null}),this.currIntervalIdx=Math.min(this.currIntervalIdx+1,We.length-1),this.pingTimeout=window.setTimeout((()=>this.pingAnalytics(e)),We[this.currIntervalIdx]))}}var Ke=i(473),Ye=i.n(Ke);var $e;!function(e){e.DAM_MESH="dam_mesh",e.TILED_MESH="tiled_mesh",e.PANO_TILE="pano_tile",e.DAM_TEXTURE="dam_texture",e.TILED_TEXTURE="tiled_texture",e.STATIC="static",e.GRAPH="graph"}($e||($e={}));class qe{constructor(){this.lastFlushTimestamp=null,this.lastSendTimestamp=null,this.isRecording=!1,this.isSending=!1,this.stats={[$e.DAM_MESH]:{sum:0,count:0},[$e.TILED_MESH]:{sum:0,count:0},[$e.PANO_TILE]:{sum:0,count:0},[$e.DAM_TEXTURE]:{sum:0,count:0},[$e.TILED_TEXTURE]:{sum:0,count:0},[$e.STATIC]:{sum:0,count:0},[$e.GRAPH]:{sum:0,count:0}},this.totalStatsCount=0,this.handlers=[{msgType:G.LZ,func:(e,t)=>{t.phase===W.nh.STARTING?this.isRecording=!0:t.phase===W.nh.PLAYING&&(this.isSending=!0)}}]}get dataBuffer(){return null==this._dataBuffer?(this._dataBuffer=new(Ye())(300),this._dataBuffer):this._dataBuffer}onUpdate(e,t){this.isRecording&&(this.flushTimingDataThrottled(),this.updateStats(t),this.isSending&&this.sendAnalyticsThrottled(e))}flushTimingDataThrottled(){if(null==this.lastFlushTimestamp||performance.now()-this.lastFlushTimestamp>5e3){const e=performance.getEntriesByType("resource");for(const t of e)t.transferSize>0&&this.dataBuffer.enq(t);performance.clearResourceTimings(),this.lastFlushTimestamp=performance.now()}}sendAnalyticsThrottled(e){if((null==this.lastSendTimestamp||performance.now()-this.lastSendTimestamp>5e3)&&this.totalStatsCount>10){const t={};for(const e in this.stats){const i=e,n=this.stats[i];n.count>0&&(t[i]=0|Math.round(n.sum/n.count),n.sum=0,n.count=0)}e.track("resource_timing",t),this.totalStatsCount=0,this.lastSendTimestamp=performance.now()}}updateStats(e){if(e<33.333333333333336){let e=0;for(;e<30&&!this.dataBuffer.isEmpty();){const t=this.dataBuffer.deq(),i=Ze(t);i&&(this.stats[i].sum+=t.duration,this.stats[i].count+=1,this.totalStatsCount+=1),e+=1}}}}const Ze=e=>{const t=new URL(e.name),i=t.hostname,n=t.pathname.split("/"),s=n[n.length-1];return i.includes("static")?$e.STATIC:"graph"===s?$e.GRAPH:n.includes("mesh_tiles")&&s.includes(".glb")?$e.TILED_MESH:n.includes("mesh_tiles")&&(s.includes(".ktx2")||s.includes(".jpg"))?$e.TILED_TEXTURE:s.includes(".dam")?$e.DAM_MESH:n.includes("tiles")?$e.PANO_TILE:n[n.length-2].includes("_texture_")?$e.DAM_TEXTURE:null};class Qe extends n.Y{constructor(){super(...arguments),this.name="showcase-analytics",this.loaded=!1,this.handlers=[],this.track=(e,t)=>{this.analytics.track(e,t)}}async init(e,t){this.analytics=await t.getModuleBySymbol(s.y.ANALYTICS),this.apiClient=(await t.getModuleBySymbol(s.y.API)).getApi(),this.addMessageHandlers(this.analytics,t),this.context=function(e,t,i){const n=g(t,i);return(0,l.Z)(e).then((e=>{n.location={city:e.city,country:e.country_name,region:e.region}})),n}(e.apiQueue,"",e.appName),this.options=Object.assign({mds_enabled:!0},function(e=(0,d.FU)()){var t;const i="1"===e.play||"true"===e.play;return{model_id:e.model||e.m||"",start_source:i?"autoplay":c.yL()?"click":"fullpage",autoplay:i||!c.yL(),quickstart:"1"===e.qs,language_tag:null!==(t=e.lang)&&void 0!==t?t:null,is_mobile:c.tq(),iframe:c.yL(),aspect_ratio:c.dy(),session_id:(0,u.D)(),window:{height:window.innerHeight,width:window.innerWidth},platform:f(),pme:p()}}()),t.getModuleBySymbol(s.y.LOCALE).then((e=>{this.context.locale=e.languageCode})),this.activityTracking=new De,this.activityTracking.init(t,this.registerBindings.bind(this),e.apiQueue);const i=await this.createAnalyticsConfigs(e);this.analytics.load(i,e.analyticsQueue,this.options,this.context).then((()=>{this.loaded=!0})),this.apiClient.user.then((e=>{this.analytics.setUser(e)}))}addMessageHandlers(e,t){this.addMessageHandler(new X(e,t),t),this.addMessageHandler(new C,t),this.addMessageHandler(new P,t),this.addMessageHandler(new E,t),this.addMessageHandler(new H,t),this.addMessageHandler(new R.s,t),this.addMessageHandler(new V,t),this.addMessageHandler(new Oe,t),this.addMessageHandler(new fe(t),t),this.addMessageHandler(new Ne,t),this.addMessageHandler(new je,t),this.addMessageHandler(new He,t),this.addMessageHandler(new Ve,t),this.addMessageHandler(new O,t),this.addMessageHandler(new ze,t),this.addMessageHandler(new qe,t)}addMessageHandler(e,t){this.handlers.push(e),e.handlers.forEach(((e,i)=>{this.bindings.push(t.subscribe(e.msgType,(i=>{e.func(this.analytics,i,t.market)})))}))}registerBindings(e){this.bindings.push(...e)}async createAnalyticsConfig(e,t){if(((e,t)=>{const i=Object.keys(e);for(const n of i)if(e[n]===t)return!0;return!1})(a.K,e)){const{apiClient:i}=this,n=r.H[e],s=null!==n.key?await i.getAppKey(t,n.key):null,a=null!==n.url?await i.getAppKey(t,n.url):null;if(null===n.key||null!==s&&null===n.url||null!==a)return{provider:e,token:s,url:a}}return null}async createAnalyticsConfigs(e){const t=e.appName,i=void 0!==e.provider?e.provider:await this.apiClient.getAppKey(t,"analytics_provider"),n=[];if(!i)return n;const s=i.split(",");for(const e of s){const i=await this.createAnalyticsConfig(e,t);null!==i?n.push(i):this.log.warn(`Failed to set up ${e}, token/url required but not found in config`)}return n.length<1&&n.push({provider:v,token:null,url:null}),n}onUpdate(e){if(this.loaded){for(const t of this.handlers)t.onUpdate&&t.onUpdate(this.analytics,e);((e,t)=>{var i;if(!ce)return;pe.push(t);const n=null!==(i=null==ae?void 0:ae.estimatedGPUMemoryAllocated())&&void 0!==i?i:-1;n>-1&&me.push(n),oe+=t,oe>=le&&(be(e),ve())})(this.analytics,e)}}dispose(e){super.dispose(e);for(const e of this.handlers)e.dispose&&e.dispose();this.handlers=[]}getSessionId(){return this.options.session_id||""}trackGuiEvent(e,t={}){const{tool:i,interactionSource:n,panoId:s}=t,r={gui_action:e};i&&Object.assign(r,{tool:i}),n&&Object.assign(r,{interaction_source:n}),s&&Object.assign(r,{pano_id:s}),this.track("showcase_gui",r)}trackToolGuiEvent(e,t,i={}){this.trackGuiEvent(t,Object.assign({tool:e},i))}}},70173:(e,t,i)=>{"use strict";i.d(t,{i:()=>s});var n=i(98010);class s extends n.v{constructor(e,t,i,n,s,r){super(),this.durationDollhouse=e,this.durationFloorplan=t,this.durationInside=i,this.mainMode=n,this.totalBytesDownloaded=s,this.tilesDownloaded=r}}},51194:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>N});var n=i(57956),s=i(67294),r=i(20745),a=i(97542),o=i(47375),l=i(64574),c=i(33558),d=i(19801),u=i(85893),h=i(94184),p=i.n(h),m=i(38399),f=i(69607);class g extends s.Component{render(){const{attributionLinkText:e,attributionLinkUrl:t}=this.props,{locale:i}=this.context;return(0,u.jsxs)("div",Object.assign({className:"powered-by"},{children:[(0,u.jsx)("p",Object.assign({className:"powered-by-label"},{children:i.t(m.Z.POWERED_BY)})),(0,u.jsx)("img",{className:"powered-by-logo",alt:"Matterport",src:f,width:"150",height:"32"}),t&&(0,u.jsx)("a",Object.assign({href:t,className:"powered-by-link"},{children:e||t}))]}))}}g.contextType=c.I;var v=i(97998),b=i(24877),y=i(2224);class E extends y.y{constructor(e="Invalid password"){super(e),this.name="InvalidPassword"}}class S extends y.y{constructor(e="Too many attempts, please try again in a few minutes"){super(e),this.name="TooManyAttempts"}}const T=new v.Z("showcase-password");class O extends s.Component{constructor(e){super(e),this.isUnmounting=!1,this.onInputChange=e=>{const{name:t,value:i}=e.target;"password"===t&&this.setState({password:i,hasError:!1})},this.onSubmit=async e=>{e.preventDefault(),this.setState({formEnabled:!1}),await this.authenticate(),this.isUnmounting||this.setState({formEnabled:!0})},this.state={formEnabled:!0,hasError:!1,tooManyAttempts:!1,password:""}}componentWillUnmount(){this.isUnmounting=!0}async authenticate(){const{authenticate:e}=this.props,{password:t}=this.state;T.debug("Validating password input...");const i=await e(t).catch((e=>(e instanceof S&&this.setState({hasError:!0,tooManyAttempts:!0}),!1)));this.isUnmounting||this.setState({hasError:!i})}stopPropagation(e){e.stopPropagation()}renderLockout(){const{locale:e}=this.context;return(0,u.jsxs)("div",Object.assign({className:"sc-password-modal sc-password-lockout"},{children:[(0,u.jsx)("header",Object.assign({className:"modal-header"},{children:(0,u.jsx)("h1",Object.assign({className:"modal-title"},{children:e.t(m.Z.SC_LOCKOUT_TITLE)}))})),(0,u.jsx)("p",Object.assign({className:"modal-body"},{children:e.t(m.Z.SC_LOCKOUT_MESSAGE)}))]}))}renderLoginForm(){const{hasError:e,password:t,formEnabled:i}=this.state,{locale:n}=this.context;return(0,u.jsxs)("div",Object.assign({className:"sc-password-modal sc-password-login"},{children:[(0,u.jsx)("header",Object.assign({className:"modal-header"},{children:(0,u.jsx)("h1",Object.assign({className:"modal-title"},{children:n.t(m.Z.SC_PASSWORD_TITLE)}))})),(0,u.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,u.jsxs)("form",Object.assign({onSubmit:this.onSubmit,className:"sc-password-form"},{children:[(0,u.jsx)("input",{type:"password",name:"password",placeholder:n.t(m.Z.SC_PASSWORD_PLACEHOLDER),onInput:this.onInputChange,onKeyDown:this.stopPropagation,onKeyPress:this.stopPropagation,onKeyUp:this.stopPropagation,disabled:!i,value:t,className:p()("sc-password-input",{error:e}),autoComplete:"on"}),(0,u.jsx)("button",Object.assign({type:"submit",disabled:!i,className:"sc-password-submit"},{children:n.t(m.Z.SC_PASSWORD_SUBMIT)}))]})),e&&(0,u.jsxs)("p",Object.assign({className:"help-text error"},{children:[(0,u.jsx)("span",{className:"icon icon-error"}),n.t(m.Z.SC_PASSWORD_INVALID)]})),!e&&(0,u.jsx)("p",{className:"help-text"})]}))]}))}render(){const{hasError:e,tooManyAttempts:t}=this.state,i=e&&t?this.renderLockout():this.renderLoginForm();return(0,u.jsxs)("div",Object.assign({className:"sc-password-ui",style:{backgroundImage:`url(${b})`}},{children:[(0,u.jsx)("div",Object.assign({className:"sc-password-content"},{children:i})),(0,u.jsx)("footer",Object.assign({className:"sc-password-footer"},{children:(0,u.jsx)(g,{})}))]}))}}O.contextType=c.I;var _=i(99610);class N extends a.Y{constructor(){super(...arguments),this.name="showcase-password",this.authenticated=!1}async init(e,t){this.config=e,this.engine=t;const i=e.baseUrl||window.location.origin;this.auth=new o.L(i)}showPasswordScreen(){this.loadUi()}hidePasswordScreen(){this.unloadUi()}async loadUi(){const{container:e}=this.config,t=await this.engine.getModuleBySymbol(n.y.LOCALE),i=Object.assign(Object.assign({},d.O),{locale:t});this.reactContainer=document.createElement("div"),this.reactContainer.id="showcase-password-container",e.appendChild(this.reactContainer),this.reactRoot=(0,r.s)(this.reactContainer),this.reactRoot.render((0,s.createElement)(c.I.Provider,{value:i},[(0,s.createElement)(O,{key:"showcase-password",authenticate:e=>this.authenticate(e)})]))}async unloadUi(){var e;return!!this.reactRoot&&(this.reactRoot.unmount(),null===(e=this.reactContainer)||void 0===e||e.remove(),delete this.reactContainer,!0)}async authenticate(e){const{modelId:t}=this.config;if(!await this.auth.authenticate(t,e)){switch(this.engine.broadcast(new _.s(this.auth.errorType)),this.auth.errorType){case l.s.INVALID_CREDENTIALS:throw new E;case l.s.TOO_MANY_ATTEMPTS:throw new S}return!1}return this.log.debug("Password authentication was successful"),this.engine.broadcast(new _.L),!0}}},99610:(e,t,i)=>{"use strict";i.d(t,{L:()=>s,s:()=>r});var n=i(98010);class s extends n.v{}class r extends n.v{constructor(e){super(),this.errorType=e}}},90197:(e,t,i)=>{"use strict";i.d(t,{b:()=>s,Q:()=>r});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={pose:e}}}s.id="START_LOCATION_FLY_IN_COMMAND";class r extends n.m{}r.id="START_LOCATION_GOTO_COMMAND"},22485:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(97542),s=i(57956),r=i(92901),a=i(30365);class o extends n.Y{constructor(){super(...arguments),this.name="showcase-webgl-context-loss",this.contextLostEvent=null,this.framesWithLostContext=0}async init(e,t){this.config=e,this.engine=t,this.bindings.push(t.subscribe(r.zq,(e=>{this.contextLostEvent=e.event})),t.subscribe(r.Xq,(()=>{this.contextLostEvent=null,this.framesWithLostContext=0,t.getModuleBySymbol(s.y.ERROR_UI).then((e=>{e.currentErrorType===a.ErrorType.WEBGL_CONTEXT_LOST&&e.hideError()}))})))}onUpdate(e){const{contextLostEvent:t}=this;if(t){++this.framesWithLostContext===this.config.notificationDelayFrames&&(this.engine.getModuleBySymbol(s.y.ERROR_UI).then((e=>{e.currentErrorType||e.showError(a.ErrorType.WEBGL_CONTEXT_LOST)})),this.engine.getModuleBySymbol(s.y.ANALYTICS).then((e=>{!function(e,t){e.track("error_displayed",{error_dialog:"oops",error_type:"WebGLContextLost",exception:{message:`WebGL context lost: ${t.statusMessage||"no status given"}`},mock_error:!1})}(e,t)})))}}}},99207:(e,t,i)=>{"use strict";i.d(t,{n3:()=>s,mQ:()=>r});var n=i(19663);class s extends n.m{}s.id="SHOWCASE_START";class r extends n.m{}r.id="SHOWCASE_STOP";class a extends n.m{}a.id="SHOWCASE_READY"},99168:(e,t,i)=>{"use strict";i.d(t,{B:()=>l});var n=i(85893),s=i(38399),r=i(66102),a=i(71215);const{EDIT_BAR:o}=s.Z.WORKSHOP;function l({tool:e}){const{helpHref:t,helpMessagePhraseKey:i}=e,s=(0,r.b)(),l=s.t(o.HELP_LINK);return(0,n.jsxs)("div",Object.assign({className:"tool-help"},{children:[i&&s.t(i),t&&(0,n.jsx)(a.r,Object.assign({href:t},{children:l}))]}))}},42933:(e,t,i)=>{"use strict";i.d(t,{w:()=>u});var n=i(85893),s=i(94184),r=i.n(s),a=i(66102),o=i(38399),l=i(89478);function c({analytic:e,children:t,className:i}){const s=(0,a.b)().t(o.Z.REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE);return(0,n.jsx)(l.P,Object.assign({icon:"help",tooltip:s,analytic:`${e}_help_click`,className:r()("help-button",i)},{children:t}))}var d=i(99168);function u({tool:e}){const{analytic:t,helpMessagePhraseKey:i}=e;return i?(0,n.jsx)(c,Object.assign({analytic:t,className:"tool-help-button"},{children:(0,n.jsx)(d.B,{tool:e})})):null}},67950:(e,t,i)=>{"use strict";i.d(t,{nQ:()=>a});var n=i(38399);const{MATTERTAGS:s,MODAL:r}=n.Z.WORKSHOP,a=(e=1)=>({title:s.DELETE_TAGS_MODAL_TITLE,titleLocalizationOptions:e,message:s.DELETE_TAGS_MODAL_MESSAGE,messageLocalizationOptions:e,cancellable:!0,cancelPhraseKey:r.NO,confirmPhraseKey:r.YES})},31546:(e,t,i)=>{"use strict";i.d(t,{M:()=>r});var n=i(84428);class s{constructor(e){this.elements=[],e?(e=>void 0!==e.elements)(e)?this.elements=e.elements.slice():n.Matrix4.prototype.set.apply(this,e):n.Matrix4.prototype.set.apply(this,s.identity)}equals(e){return n.Matrix4.prototype.equals.call(this,e)}clone(){return new s(this)}}s.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];class r extends s{constructor(e){e instanceof Array||e?super(e):super(),this.threeMatrix=new n.Matrix4}set(e,t,i,s,r,a,o,l,c,d,u,h,p,m,f,g){return n.Matrix4.prototype.set.call(this,e,t,i,s,r,a,o,l,c,d,u,h,p,m,f,g),this}makeScale(e,t,i){return n.Matrix4.prototype.makeScale.call(this,e,t,i),this}copy(e){for(let t=0;t<this.elements.length;t++)this.elements[t]=e.elements[t];return this}clone(){return(new r).copy(this)}transpose(){return n.Matrix4.prototype.transpose.call(this)}lookAt(e,t,i){return n.Matrix4.prototype.lookAt.call(this,e,t,i),this}setPosition(e){return n.Matrix4.prototype.setPosition.call(this,e.x,e.y,e.z),this}extractRotation(e){return n.Matrix4.prototype.extractRotation.call(this,e),this}makePerspective(e,t,i,s,r,a){return n.Matrix4.prototype.makePerspective.call(this,e,t,i,s,r,a),this}makePerspectiveFov(e,t,i=.1,s=1e3){const r=i*Math.tan(e*(Math.PI/180)/2),a=-r,o=r*t,l=-o;return n.Matrix4.prototype.makePerspective.call(this,l,o,r,a,i,s),this}makeOrthographic(e,t,i,s,r,a){return n.Matrix4.prototype.makeOrthographic.call(this,e,t,i,s,r,a),this}identity(){return this.set.apply(this,s.identity)}makeRotationFromQuaternion(e){return n.Matrix4.prototype.makeRotationFromQuaternion.call(this,e),this}makeRotationFromEuler(e){return n.Matrix4.prototype.makeRotationFromEuler.call(this,e),this}getInverse(e){return n.Matrix4.prototype.copy.call(this,e),n.Matrix4.prototype.invert.call(this),this}premultiply(e){return n.Matrix4.prototype.premultiply.call(this,e),this}multiplyMatrices(e,t){return n.Matrix4.prototype.multiplyMatrices.call(this,e,t),this}scale(e){return n.Matrix4.prototype.scale.call(this,e),this}compose(e,t,i){return n.Matrix4.prototype.compose.call(this,e,t,i),this}asThreeMatrix4(){return this.threeMatrix.set(this.elements[0],this.elements[4],this.elements[8],this.elements[12],this.elements[1],this.elements[5],this.elements[9],this.elements[13],this.elements[2],this.elements[6],this.elements[10],this.elements[14],this.elements[3],this.elements[7],this.elements[11],this.elements[15])}}},21646:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n=Object.freeze({signedUrlDefaultExpireTime:24e4,signedUrlCheckInterval:1e4,signedUrlRefreshBuffer:15e3,visionTilingStartDate:new Date("8/26/2016"),visionTilingStartVersion:"1.1.407.13667",epsilon:1e-5,skyboxMeshGroup:"_group_skybox_",skysphereMeshGroup:"_group_skysphere_"})},19663:(e,t,i)=>{"use strict";i.d(t,{m:()=>n});class n{}},57118:(e,t,i)=>{"use strict";i.d(t,{B:()=>a});var n=i(30935),s=i(46950);const r=new(i(97998).Z)("command-binder");class a{constructor(e=!1){this.ignoreUnboundCommands=e,this.typeLookup=new n.cj,this.bindings={},this.queuedCommands={},this.hookedCommands={},this.resetHooks=()=>{this.hookedCommands={}},this.issueCommand=this.issueCommand.bind(this),this.issueCommandWhenBound=this.issueCommandWhenBound.bind(this)}addBinding(e,t){const i=this.typeLookup.getKeyByType(e,!0);if(this.bindings[i])throw Error(`Command ${i} already bound to a callback`);this.bindings[i]=t,this.callQueuedCommands(i);return{renew:()=>{this.bindings[i]!==t&&this.addBinding(e,t)},cancel:()=>this.removeBinding(e,t),active:this.bindings[i]===t}}removeBinding(e,t){const i=this.typeLookup.getKeyByType(e);if(!i)return void r.debug("Trying to unbind unbound command");this.bindings[i]===t?delete this.bindings[i]:r.debug("Trying to unbind unbound callback")}issueCommand(e,t=!0){const i=this.typeLookup.getKeyByInstance(e),n=this.bindings[i];return n?this.issueCommandHelper(e,i,n,t):this.ignoreUnboundCommands?Promise.resolve({}):Promise.reject("Command not bound: "+e.id)}issueCommandHelper(e,t,i,n=!0){return this.hookedCommands[t]&&!this.hookedCommands[t].resolving?this.issueHookCommand(e,t):i(e.payload)}issueCommandWhenBound(e){const t=new s.Q;return this.issueCommand(e).then((e=>t.resolve(e))).catch((i=>{const n=this.typeLookup.getKeyByInstance(e,!0);this.queuedCommands[n]||(this.queuedCommands[n]=[]),this.queuedCommands[n].push({command:e,deferred:t})})),t.nativePromise()}callQueuedCommands(e){const t=[];this.queuedCommands[e]&&(this.queuedCommands[e].forEach((e=>{t.push(this.issueCommand(e.command).then((t=>e.deferred.resolve(t))))})),Promise.all(t).then((()=>{delete this.queuedCommands[e]})))}hookCommand(e,t,i){const n=this.typeLookup.getKeyByType(e,!0);if(this.hookedCommands[n]){if(t&&null!==this.hookedCommands[n].preCommandCallback)throw Error(`Command ${e.name} has already been pre hooked`);if(!t&&null!==this.hookedCommands[n].postCommandCallback)throw Error(`Command ${e.name} has already been post hooked`)}else this.hookedCommands[n]={preCommandCallback:null,postCommandCallback:null,resolving:!1};t?this.hookedCommands[n].preCommandCallback=i:this.hookedCommands[n].postCommandCallback=i}async issueHookCommand(e,t){const i=this.hookedCommands[t],n=this.bindings[t],s=e.payload,r=i.preCommandCallback,a=i.postCommandCallback;try{r&&await r(s),i.resolving=!0;const o=await this.issueCommandHelper(e,t,n,!0);return i.resolving=!1,a&&await a(s),o}catch(e){throw Error(`Could not completely issueHookCommand - ${e}`)}}}},67992:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});var n=i(75287);class s extends n.T{}},26256:(e,t,i)=>{"use strict";var n,s;i.d(t,{p3:()=>n,Jj:()=>a,M8:()=>c,ZP:()=>u}),function(e){e[e.None=0]="None",e[e.Duration=1]="Duration",e[e.Phase=2]="Phase",e[e.Promise=3]="Promise"}(n||(n={}));class r{constructor(e){this.type=e}}class a extends r{constructor(){super(n.None)}}class o extends r{constructor(e){super(n.Duration),this.duration=e,this.startTime=Date.now()}}class l extends r{constructor(e){super(n.Phase),this.phase=e}}!function(e){e[e.Pending=0]="Pending",e[e.Fulfilled=1]="Fulfilled",e[e.Rejected=2]="Rejected"}(s||(s={}));class c extends r{constructor(e){super(n.Promise),this.promise=e,this.promiseState=s.Pending,e.then((()=>{this.promiseState=s.Fulfilled})).catch((()=>{this.promiseState=s.Rejected}))}}class d{constructor(e,t=!0){this.generator=e,t&&this.start()}start(){this.started||(this.iterator=this.generator()),this.started=!0}iterate(){const e=this.iterator.next();this.currentResult=e.value,e.done&&(this.started=!1)}}class u{constructor(){this.generators=[]}startGenerator(e){let t=this.generators.length;for(let i=0;i<this.generators.length;i++){this.generators[i].generator===e&&(t=i)}this.generators[t]=new d(e)}stopGenerator(e){for(const t of this.generators)t.generator===e&&(t.started=!1)}processGenerators(e,t){for(const i of this.generators)if(i.started)switch(e){case n.None:(!i.currentResult||i.currentResult instanceof a)&&i.iterate();break;case n.Phase:if(i.currentResult instanceof l){const e=i.currentResult;void 0!==t&&e.phase===t&&i.iterate()}break;case n.Promise:if(i.currentResult instanceof c){i.currentResult.promiseState===s.Fulfilled&&i.iterate()}break;case n.Duration:if(i.currentResult instanceof o){const e=i.currentResult;Date.now()-e.startTime>=e.duration&&i.iterate()}}}}},98010:(e,t,i)=>{"use strict";i.d(t,{v:()=>n});class n{constructor(){this.msgId=-1}setID(e){if(-1!==this.msgId)throw Error("Message.msgId can only be set once.");this.msgId=e}}},13693:(e,t,i)=>{"use strict";i.d(t,{Q:()=>o,Y:()=>l});var n=i(30935),s=i(97998),r=i(35895);const a=new s.Z("message-bus");var o;!function(e){e[e.PERMANENT=0]="PERMANENT",e[e.ONCE=1]="ONCE"}(o||(o={}));class l{constructor(){this.typeLookup=new n.cj,this.callbacks={},this.messageQueue=[],this.messageCount=0}subscribe(e,t,i=o.PERMANENT){return(0,r.k1)((()=>this._subscribe(e,t,i)),(()=>this.unsubscribe(e,t)),!0,(0,n.HS)(e))}_subscribe(e,t,i=o.PERMANENT){const n=this.typeLookup.getKeyByType(e,!0);this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push({type:i,callback:t})}unsubscribe(e,t){const i=this.typeLookup.getKeyByType(e);i?this.unsubscribeByIndex(i,t):a.debug(`Message callback not bound for Type: ${e.name}`)}unsubscribeByIndex(e,t){const i=this.callbacks[e].findIndex((e=>e.callback===t));-1!==i?this.callbacks[e].splice(i,1):a.debug(`Message callback not bound for TypeIndex: ${e}`)}broadcast(e){if(e.setID(this.messageCount++),this.messageQueue.push(e),1===this.messageQueue.length){for(const e of this.messageQueue){const t=this.typeLookup.getKeyByInstance(e);if(!t)continue;const i=this.callbacks[t].slice();for(const n of i)n.callback(e),n.type===o.ONCE&&this.unsubscribeByIndex(t,n.callback)}this.messageQueue=[]}}}},97542:(e,t,i)=>{"use strict";i.d(t,{Y:()=>s});var n=i(97998);class s{constructor(){this.bindings=[]}init(e,t){return Promise.resolve()}onUpdate(e){}dispose(e){for(const e of this.bindings)null==e||e.cancel();this.bindings=[]}get log(){return this._logger||(this._logger=new n.Z(this.name||"module")),this._logger}}},46950:(e,t,i)=>{"use strict";i.d(t,{Q:()=>n});class n{constructor(){this.base=new Promise(((e,t)=>{this.resolver=e,this.rejecter=t})),this._promise=new s(this.base,this),this.progressCallbacks=[]}then(e,t){return this.base.then(e,t)}catch(e){return this.base.catch(e)}resolve(e){return this.resolver(e),this}reject(e){return this.rejecter(e),this}notify(e){for(const t of this.progressCallbacks)t(e)}progress(e){return this.progressCallbacks.push(e),this}promise(){return this._promise}nativePromise(){return this.base}static resolve(){const e=new n;return e.resolve(),e.promise()}static reject(e){const t=new n;return t.reject(e),t.promise()}static all(e){const t=[];for(const i of e)i.nativePromise?t.push(i.nativePromise()):t.push(i);const i=new n;return Promise.all(t).then((e=>i.resolve(e)),(e=>i.reject(e))),i.promise()}}class s{constructor(e,t){this.basePromise=e,this.baseDeferred=t}then(e,t){return this.baseDeferred.then(e,t),this}catch(e){return this.baseDeferred.catch(e),this}progress(e){return this.baseDeferred.progress(e),this}nativePromise(){return this.basePromise}}},17878:(e,t,i)=>{"use strict";i.d(t,{o:()=>s});class n{constructor(e){this._mask=e}get mask(){return this._mask}addLayers(e){this._mask|=e.mask}removeLayers(e){return this._mask&=~e.mask}clone(){return new n(this._mask)}}class s{constructor(){this.layerRegistry=[],this.unusedLayers=[];for(let e=1;e<32;e++)this.unusedLayers.push(e)}static get ALL(){return new n(-1)}static get NONE(){return new n(0)}static get DEFAULT(){return new n(1)}claimLayer(e){const t=this.getLayer(e);if(t.mask)return t;if(0===this.unusedLayers.length)throw Error("All render layers have already been claimed");const i=this.unusedLayers[0];return this.layerRegistry[i]=e,this.unusedLayers.shift(),new n(1<<i)}getLayer(e){const t=this.layerRegistry.indexOf(e);return-1!==t?new n(1<<t):s.NONE}disposeLayer(e){const t=this.layerRegistry.indexOf(e);-1!==t&&this.unusedLayers.push(t)}}},30935:(e,t,i)=>{"use strict";i.d(t,{z$:()=>s,oL:()=>r,HS:()=>a,cj:()=>o});var n=i(30128);const s=e=>e.prototype.constructor.name,r=e=>e.constructor,a=e=>{if("string"==typeof e)return e;if(e&&e.name)return e.name;const t=e.toString();return t.substring(0,t.indexOf("\n")).split(" ")[1]};class o{constructor(){this.typeLookupMap={},this.classUuids=new WeakMap}getKey(e){if("string"==typeof e)return e;{let t=this.classUuids.get(e);return t||(t=e.name+(0,n.D)(),this.classUuids.set(e,t)),t}}addType(e){if(!e)throw Error("Cannot index undefined type");const t=this.getKey(e);if(this.typeLookupMap[t])throw Error(`Type ${t} already registered`);return this.typeLookupMap[t]=e,t}getKeyByType(e,t){if(!e)throw Error("Cannot index undefined type");const i=this.getKey(e);let n=this.typeLookupMap[i];return!n&&t&&(n=e,this.addType(n)),n?i:""}getKeyByInstance(e,t){if(!e)throw Error("Cannot index undefined data");const i=this.getKey(e.constructor);let n=this.typeLookupMap[i];return!n&&t&&(n=e.constructor,this.addType(n)),n?i:""}getTypeByKey(e){const t=this.typeLookupMap[e];if(!t)throw Error("Key not found");if("string"==typeof t)throw Error("non type keyed result not supported");return t}getKnownTypes(){return Object.values(this.typeLookupMap)}}},947:(e,t,i)=>{"use strict";var n;i.d(t,{A:()=>n}),function(e){e[e.Begin=0]="Begin",e[e.Logic=1]="Logic",e[e.Render=2]="Render",e[e.End=3]="End"}(n||(n={}))},2269:(e,t,i)=>{"use strict";i.d(t,{k:()=>s});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.x=e,this.y=t}}},56692:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.width=e,this.height=t}}},54244:(e,t,i)=>{"use strict";i.d(t,{nh:()=>n,Mx:()=>s,pu:()=>l});var n,s,r=i(67992),a=i(32093),o=i(46950);!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.WAITING=1]="WAITING",e[e.LOADING=2]="LOADING",e[e.STARTING=3]="STARTING",e[e.PLAYING=4]="PLAYING",e[e.ERROR=5]="ERROR"}(n||(n={})),function(e){e.UNKNOWN="unknown",e.WEBVR="webvr",e.SHOWCASE="showcase",e.WORKSHOP="workshop"}(s||(s={}));class l extends r.V{constructor(e,t=s.UNKNOWN){super(),this.name="app",this.phases=n,this.playingPromise=new o.Q,this.phase=e,this.application=t,this.phaseTimes=(0,a.$)({[n.UNINITIALIZED]:0,[n.WAITING]:0,[n.LOADING]:0,[n.STARTING]:0,[n.PLAYING]:0,[n.ERROR]:0}),this.error=null,this.onPhase((()=>{this.playingPromise.resolve()}),n.PLAYING)}getName(){return this.application.toString()}getVersion(){return"23.2.2_webgl-59-ge638ad60fb"}onPhase(e,t){return this.onPropertyChanged("phase",(i=>{t&&i!==t||e()}))}get waitForPlaying(){return this.playingPromise.nativePromise()}toString(){return JSON.stringify({application:this.getName(),version:this.getVersion(),error:this.error,phaseTimes:this.phaseTimes})}}},59581:(e,t,i)=>{"use strict";i.d(t,{W:()=>o});var n=i(67294),s=i(45755),r=i(54244);const a=(0,s.u)(r.pu);function o(){const e=a(),[t,i]=(0,n.useState)(e?e.phase:null);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onPropertyChanged("phase",i);return i(e.phase),()=>t.cancel()}),[e]),t}},38208:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(97542),s=i(54244),r=i(10374),a=i(18839),o=i(58533);class l extends n.Y{constructor(){super(...arguments),this.name="app-phase"}async init(e,t){this.market=t.market,this.broadcast=t.broadcast.bind(t),this.tasks=e.tasks,this.appState=new s.pu(s.nh.UNINITIALIZED),this.appState.phase=s.nh.UNINITIALIZED,this.appState.phaseTimes[s.nh.UNINITIALIZED]=Date.now(),this.appState.application=s.Mx.SHOWCASE,this.market.register(this,s.pu,this.appState),this.watchTasks(this.appState.phase),this.watchErrors(),this.updateAppHeaders(),this.bindings.push(this.appState.onPropertyChanged("application",(()=>this.updateAppHeaders())))}async watchTasks(e){if(e>=s.nh.PLAYING)return;const t=e+1;try{await Promise.all(this.tasks[t])}catch(e){this.error(e)}t===s.nh.PLAYING&&this.broadcast(new r.pB(this.appState.application)),this.appState.phase!==s.nh.ERROR&&e!==s.nh.ERROR&&(this.updateCurrentPhase(t),this.watchTasks(t))}async watchErrors(){try{await Promise.all(this.tasks[s.nh.ERROR])}catch(e){this.error(e)}}updateCurrentPhase(e){this.log.devInfo(`Entering "${s.nh[e]}" for "${this.appState.application}"`),this.appState.phase=e,this.appState.phaseTimes[e]=Date.now(),this.log.debug(this.appState.toString()),this.appState.commit(),this.broadcast(new r.LZ(e,this.appState.application))}error(e){this.appState.error=e,this.updateCurrentPhase(s.nh.ERROR)}updateActiveApp(e){this.appState.application=e,this.appState.commit(),this.broadcast(new r.bS(e))}getData(){return this.appState}updateAppHeaders(){this.log.debug(`updating application headers ${this.appState.application}`),(0,a.l)(this.appState.getName()),(0,o.t)(this.appState.getVersion())}}},10374:(e,t,i)=>{"use strict";i.d(t,{LZ:()=>s,bS:()=>r,pB:()=>a});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.phase=e,this.application=t}}class r extends n.v{constructor(e){super(),this.application=e}}class a extends n.v{constructor(e){super(),this.application=e}}},38126:(e,t,i)=>{"use strict";i.d(t,{l:()=>n,W:()=>s});class n{constructor(e,t,i){this.dependencies=e,this.subscriptionFactory=t,this.observers=new Set,this.currentData=i.create(),this.freshDataCache=i.create()}static async create(e,t,i){const s=await e.getDependencies();return new n(s,t,i)}getData(){return this.currentData.data}subscribe(e){return this.addObserver(e),new class{constructor(e){this.sdkObservable=e,this.renew()}renew(){this.sdkObservable.addObserver(e)}cancel(){this.sdkObservable.removeObserver(e)}}(this)}addObserver(e){if(!this.observers.has(e)){class t{constructor(e){this.observable=e}onChanged(){this.observable.onChanged()}}this.observers.add(e),1===this.observers.size&&(this.currentData.update(...this.dependencies),this.changeSubscription=this.subscriptionFactory.create(new t(this),...this.dependencies)),e.dirty=!0}}removeObserver(e){0!==this.observers.size&&(this.observers.delete(e),0===this.observers.size&&this.changeSubscription.cancel())}onChanged(){if(this.freshDataCache.update(...this.dependencies),!this.currentData.equals(this.freshDataCache)){this.currentData.copy(this.freshDataCache);for(const e of this.observers)e.dirty=!0}}}class s{constructor(){this.dirty=!1}}},79606:(e,t,i)=>{"use strict";i.d(t,{I:()=>r});var n=i(67992),s=i(10385);class r extends n.V{constructor(){super(...arguments),this.name="sdk",this.applicationKeys=new s.d}}},80395:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CommunicationMethod:()=>h,Sdk:()=>Q,default:()=>Q});var n,s,r=i(97542),a=i(79606),o=i(98955);!function(e){e.EMBED="sdk.embed",e.BUNDLE="sdk.bundle"}(n||(n={})),function(e){e.CONNECTION="sdk.connection",e.DISCONNECT="sdk.disconnect",e.MESSAGED="sdk.messaged",e.SUBSCRIBED="sdk.subscribed",e.UNSUBSCRIBED="sdk.unsubscribed",e.OBSERVABLE_SUB="sdk.obs.subscribe",e.OBSERVABLE_UNSUB="sdk.obs.unsubscribe",e.COLLECTION_SUB="sdk.coll.subscribe",e.COLLECTION_UNSUB="sdk.coll.unsubscribe"}(s||(s={}));class l{constructor(e,t){this.analytics=e,this.sdkType=t,this.trackedEvents=new o.X}track(e,t,i){this.trackedEvents.has(e,t)||(this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({sdkType:this.sdkType},i)))}alwaysTrack(e,t,i){this.trackedEvents.add(e,t),this.analytics.track(e,Object.assign({sdkType:this.sdkType},i))}}class c{constructor(e){this.analytics=e,this.messageType="client call"}onMessage(e,t){const{namespace:i,name:n}=e,s={applicationKey:t.applicationKey,provider:t.provider,namespace:i,name:n,method:t.communicationMethod};this.analytics.track("sdk_call",i+n,s)}}var d=i(46950);class u{constructor(){this.usedIds=new Set,this.usedIds.add(0)}generate(){let e;do{e=Math.floor(1e6*Math.random())}while(this.usedIds.has(e));return this.usedIds.add(e),e}isInUse(e){return this.usedIds.has(e)}}var h,p=i(93153);!function(e){e.POSTMESSAGE="postmessage",e.DIRECT="direct",e.WEBSOCKET="websocket"}(h||(h={}));var m,f=i(22819);class g{constructor(e,t,i,n,s){this.hostWindow=e,this.hostId=t,this.applicationKey=i,this.idGenerator=n,this.connectionReceiver=s,this.inFlightClients=new Set,this.connectionHandler=new p.TY(t,new p.R9(window)),this.connectionHandler.addObserver(new f.OR({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){var i;if(this.inFlightClients.has(t.id))return;e=e||{},this.inFlightClients.add(t.id);const n=e&&e.bootstrapVersion?this.idGenerator.generate():t.id,s=this.hostId,r=t.source,a=this.hostWindow,o=new p.l(s,a,n,r).createMessenger();this.connectionReceiver.onConnectionReceived(t.origin,e.options,{applicationKey:e.applicationKey||this.applicationKey,id:n,messenger:o,communicationMethod:h.POSTMESSAGE,provider:(null===(i=e.options)||void 0===i?void 0:i.provider)||""},{accept(e,t){o.send(new f.U7(e,t,n,s,window.location.origin))},handshake(){o.send(new f.RS)},reject(e){o.send(new f.HX(e)),o.dispose()}})}}class v{constructor(e,t,i,n){this.applicationKey=t,this.idGenerator=i,this.connectionReceiver=n,this.host={id:e,node:new p.Ej(window.location.origin)},this.connectionHandler=new p.TY(e,new p.tY(this.host.node)),this.connectionHandler.addObserver(new f.OR({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){y(e,this.host,{info:t,applicationKey:this.applicationKey},this.connectionReceiver,!0)}connect(e,t={}){const i={id:this.idGenerator.generate(),node:new p.Ej(e)};return b(this.host,i,(e=>e.send(new f.HE("direct",t))))}}function b(e,t,i){const{id:n,node:s}=e,{id:r,node:a}=t,o=new p.UX(r,a,n,s);return new Promise(((e,t)=>{const l=new p.UX(r,a,n,s).createMessenger();l.init();const c=new class{accept(t,i,n,s){e({targetOrigin:origin,sourceId:t,targetId:s,scriptUrl:i,serializedInterface:n,messengerFactory:o}),l.dispose()}reject(e){t(e),l.dispose()}};l.addObserver(new f.fE(c)),l.addObserver(new f.MJ(c)),i(l)}))}function y(e,t,i,n,s){var r;const{id:a,node:o}=t,{id:l,source:c,source:{origin:d}}=i.info,u=new p.UX(a,o,l,c).createMessenger();n.onConnectionReceived(d,e.options,{id:l,applicationKey:i.applicationKey,messenger:u,communicationMethod:h.DIRECT,provider:(null===(r=e.options)||void 0===r?void 0:r.provider)||""},{accept(e,t){u.send(new f.U7(e,t,l,a,d))},handshake(){u.send(new f.RS)},reject(e){u.send(new f.HX(e)),u.dispose()}},s)}!function(e){e.CONNECT_PLUGIN="connect.plugin"}(m||(m={}));class E{constructor(e,t,i){this.type=m.CONNECT_PLUGIN,this.payload={bootstrapVersion:e,applicationKey:i,options:{auth:t.auth,provider:t.provider}}}}class S{constructor(e){this.receiver=e,this.messageType=m.CONNECT_PLUGIN}notify(e,t){this.receiver.onConnectionReceived(e,t)}}class T{constructor(e,t,i){this.idGenerator=t,this.connectionReceiver=i,this.host={id:e,node:new p.Ej(window.location.origin)},this.connectionHandler=new p.TY(e,new p.tY(this.host.node)),this.connectionHandler.addObserver(new S({onConnectionReceived:(e,t)=>this.onConnectionReceived(e,t)}))}init(){this.connectionHandler.init()}dispose(){this.connectionHandler.dispose()}onConnectionReceived(e,t){y(e,this.host,{info:t,applicationKey:e.applicationKey},this.connectionReceiver,!1)}connect(e){const t={id:this.idGenerator.generate(),node:new p.Ej(origin)};return b(this.host,t,(t=>t.send(new E("plugin",{},e.applicationKey))))}}var O,_,N,A=i(97998);!function(e){e.EVENT="postmessage.event",e.RESPONSE="postmessage.response",e.OBSERVATION="postmessage.observation",e.COLLECTION_UPDATE="collection.updated",e.PRIVATE_MESSAGE="private.message"}(O||(O={})),function(e){e.ITEM_ADDED="collection.item.added",e.ITEM_REMOVED="collection.item.removed",e.ITEM_UPDATED="collection.item.updated",e.COLL_UPDATED="collection.coll.updated"}(_||(_={}));!function(e){e.DISCONNECT="sdk.client.disconnect",e.ACTION="postmessage.action",e.EVENT_SUB="postmessage.subscribe",e.EVENT_UNSUB="postmessage.unsubscribe",e.OBSERVABLE_SUB="postmessage.observe",e.OBSERVABLE_UNSUB="postmessage.unobserve",e.COLLECTION_SUB="collection.sub",e.COLLECTION_UNSUB="collection.unsub",e.PRIVATE_MESSAGE="private.message"}(N||(N={}));var w=i(96135);Math.PI;w.AR.Mode.DOLLHOUSE,new Float32Array(16);var I=i(26306);I.h.Success,w.kJ.AStarStatus.SUCCESS,I.h.NoPath,w.kJ.AStarStatus.NO_PATH,I.h.Timeout,w.kJ.AStarStatus.TIMEOUT;Symbol.iterator;var k;i(31693),i(29199);!function(e){e.map=new Map}(k||(k={}));i(54028);const P=new A.Z("SDK client");"undefined"!=typeof __SDK_CLIENT_VERSION__&&P.info("Showcase SDK client version:",__SDK_CLIENT_VERSION__);class L{constructor(e,t,i,n){this.type=O.RESPONSE,this.payload={uid:e,message:t,success:i,error:n},this.uid=e,this.message=t,this.success=i,this.error=n}}class C{constructor(e,t){this.type=O.EVENT,this.payload={eventType:e,eventData:t},this.eventType=e,this.eventData=t}}class R{constructor(e,t){this.type=O.OBSERVATION,this.payload={observableKey:e,observableData:t}}}class D{constructor(e,t,i,n){this.type=O.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:i,item:n}}}class M{constructor(e,t,i){this.type=O.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:i}}}class x{constructor(e,t,i,n){this.type=O.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t,collectionIndex:i,item:n}}}class j{constructor(e,t){this.type=O.COLLECTION_UPDATE,this.payload={operation:e,collectionKey:t}}}class U{constructor(e,t){this.type=O.PRIVATE_MESSAGE,this.payload={messageType:e,messagePayload:t}}}class H{constructor(e,t){this.receiver=e,this.clientInfo=t,this.messageType=N.ACTION}notify(e){this.receiver.onActionReceived(e,this.clientInfo)}}class F{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.EVENT_SUB}notify(e){this.observer.onEventSubReceived(e,this.clientInfo)}}class B{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.EVENT_UNSUB}notify(e){this.observer.onEventUnsubReceived(e,this.clientInfo)}}class V{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.OBSERVABLE_SUB}notify(e){this.observer.onObservableSubReceived(e,this.clientInfo)}}class G{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.OBSERVABLE_UNSUB}notify(e){this.observer.onObservableUnsubReceived(e,this.clientInfo)}}class W{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.COLLECTION_SUB}notify(e){this.observer.onCollectionSubReceived(e,this.clientInfo)}}class z{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.COLLECTION_UNSUB}notify(e){this.observer.onCollectionUnsubReceived(e,this.clientInfo)}}class K{constructor(e,t){this.observer=e,this.clientInfo=t,this.messageType=N.PRIVATE_MESSAGE}notify(e){this.observer.onPrivateMessageReceived(e,this.clientInfo)}}var Y=i(38126),$=i(53261),q=i(57956);const Z=new A.Z("sdk");class Q extends r.Y{constructor(){super(...arguments),this.name="sdk",this.hostId=Math.floor(1e6*Math.random()),this.triedLoadingInterface=!1,this.connectionHandlers=[],this.clientInterface={functions:{},commands:{},enums:{},observables:{},collections:{}},this.perOriginInterfaces=new Map,this.perSdkTypeInterfaces=new Map,this.clientConnections=new Map,this.eventToClientSubMap=new o.X,this.clientToEventSubMap=new o.X,this.observableToClientSubMap=new o.X,this.clientToObservableSubMap=new Map,this.collectionToClientSubMap=new o.X,this.clientToCollectionSubMap=new Map,this.privateMessageHandlers=new o.X,this.valueToClientInterface={},this.commandCreators={},this.commands={},this.asyncCommands={},this.observables={},this.collections={},this.firstTimeCollectionSubs=new o.X}async init(e,t){this.config=e,this.validationUrl=e.validationUrl,this.facade=new Q.MessengerHostFacade(this),this.clientIdGenerator=new u,this.postmessageConnectHandler=new g(window,this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.directConnectHandler=new v(this.hostId,e.applicationKey,this.clientIdGenerator,this.facade),this.pluginConnectHandler=new T(this.hostId,this.clientIdGenerator,this.facade),this.connectionHandlers.push(this.postmessageConnectHandler,this.directConnectHandler,this.pluginConnectHandler),this.analytics=new l(await t.getModuleBySymbol(q.y.ANALYTICS),n.EMBED),this.clientFilter=e.clientFilter||(()=>!0),this.issueCommand=t.commandBinder.issueCommand.bind(t.commandBinder),this.interfacePromise=new d.Q,this.getSdkConfig=e.getSdkConfig,this.requestQueue=e.queue,this.data=new a.I,t.market.register(this,a.I,this.data),this.addPrivateMessageHandler(new c(this.analytics)),this.enableHandshaking()}dispose(){for(const e of this.connectionHandlers)e.dispose();this.clearInterface()}connect(e,t){return this.directConnectHandler.connect(e,t)}connectPlugin(e){return this.pluginConnectHandler.connect({applicationKey:e})}enableHandshaking(){for(const e of this.connectionHandlers)e.init()}async setupInterface(){if(!this.triedLoadingInterface)try{this.triedLoadingInterface=!0,await this.config.setupExternalSdk(this),this.interfacePromise.resolve()}catch(e){this.interfacePromise.reject(e.message)}}clearInterface(){this.clientInterface.functions={},this.clientInterface.commands={},this.clientInterface.enums={},this.clientInterface.observables={},this.clientInterface.collections={},this.commandCreators={}}onUpdate(){for(const[e,t]of this.clientToObservableSubMap)for(const[i,[n,s]]of t)n.dirty&&(this.notifyObservableUpdate(i,s.getData(),e),n.dirty=!1);for(const[e,t]of this.clientToCollectionSubMap)for(const[i,[,n]]of t)n.dirty&&this.notifyCollectionUpdates(i,n.readDiff(),e)}addCommandCreator(e,t){const i=this.getInterfaceIndex(e);if(this.clientInterface.functions.hasOwnProperty(i)&&Z.debug(`Overwriting ${i} function in sdk interface`),e.sdkTypes)for(const t of e.sdkTypes){const n=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.functions[i]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,n)}if(e.origins)for(const t of e.origins){const n=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.functions[i]=Object.assign({},e),this.perOriginInterfaces.set(t,n)}this.clientInterface.functions[i]=e,this.commandCreators[i]=t}addEnumToInterface(e){const t=this.getInterfaceIndex(e);if(this.clientInterface.functions.hasOwnProperty(t)&&Z.debug(`Overwriting ${t} enum in sdk interface`),e.sdkTypes)for(const i of e.sdkTypes){const n=this.perSdkTypeInterfaces.get(i)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.enums[t]=Object.assign({},e),this.perSdkTypeInterfaces.set(i,n)}if(e.origins)for(const i of e.origins){const n=this.perOriginInterfaces.get(i)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.enums[t]=Object.assign({},e),this.perOriginInterfaces.set(i,n)}if(this.clientInterface.enums[t]=Object.assign(Object.assign({},e),{values:Object.assign({},e.values)}),"Event"===e.name){const t=Object.keys(e.values);for(const i in t){this.valueToClientInterface;const n=e.values[t[i]];this.valueToClientInterface.hasOwnProperty(n)?Z.warn(`Duplicate event detected for ${JSON.stringify(e)}`):this.valueToClientInterface[n]=e}}}async addCommandToInterface(e,t){const i=this.getInterfaceIndex(e);if(this.addCommand(i,t),e.sdkTypes)for(const t of e.sdkTypes){const n=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.commands[i]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,n)}if(e.origins)for(const t of e.origins){const n=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};n.commands[i]=Object.assign({},e),this.perOriginInterfaces.set(t,n)}this.clientInterface.commands[i]=e}async addAsyncCommandToInterface(e,t,...i){const n=this.getInterfaceIndex(e);if(this.addCommand(n,t,!0),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.commands[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.commands[n]=Object.assign({},e)}async addCommand(e,t,i=!1){this.clientInterface.commands.hasOwnProperty(e);const n=this;return i?(this.asyncCommands[e]=t,{dispose(){delete n.asyncCommands[e]}}):(this.commands[e]=await t,{dispose(){delete n.commands[e]}})}addObservableToInterface(e,t,...i){const n=this.getInterfaceIndex(e);if(this.addObservable(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.observables[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.observables[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.observables[n]=Object.assign({},e)}addObservable(e,t){this.clientInterface.observables.hasOwnProperty(e),this.observables[e]=t;const i=this;return{dispose(){i.removeObservable(e)}}}removeObservable(e){var t;delete this.observables[e];for(const i of this.observableToClientSubMap.getValuesAtKey(e))null===(t=this.clientToObservableSubMap.get(i.id))||void 0===t||t.delete(e);this.observableToClientSubMap.removeKey(e)}addCollectionToInterface(e,t,...i){const n=this.getInterfaceIndex(e);if(this.addCollection(n,t),e.sdkTypes)for(const t of e.sdkTypes){const i=this.perSdkTypeInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.collections[n]=Object.assign({},e),this.perSdkTypeInterfaces.set(t,i)}if(e.origins)for(const t of e.origins){const i=this.perOriginInterfaces.get(t)||{functions:{},commands:{},enums:{},observables:{},collections:{}};i.collections[n]=Object.assign({},e),this.perOriginInterfaces.set(t,i)}this.clientInterface.collections[n]=Object.assign({},e)}addCollection(e,t){this.clientInterface.collections.hasOwnProperty(e),this.collections[e]=t;const i=this;return{dispose(){i.removeCollection(e)}}}removeCollection(e){var t;delete this.collections[e];for(const i of this.collectionToClientSubMap.getValuesAtKey(e))null===(t=this.clientToCollectionSubMap.get(i.id))||void 0===t||t.delete(e);this.collectionToClientSubMap.removeKey(e)}addPrivateMessageHandler(e){const{privateMessageHandlers:t}=this;return t.add(e.messageType,e),{dispose(){t.remove(e.messageType,e)}}}getInterfaceIndex(e){let t=`${e.name}`;return e.namespace&&(t=`${e.namespace}.${t}`),t}sendPrivateMessage(e,t){for(const[,i]of this.clientConnections)i.messenger.send(new U(e,t))}broadcast(e,t,i){for(const[,n]of this.clientConnections)if(t){const s=t(i);n.messenger.send(new C(e,s||[]))}else n.messenger.send(new C(e,[]))}notifyObservableUpdate(e,t,i){for(const n of this.observableToClientSubMap.getValuesAtKey(e))n.id===i&&n.messenger.send(new R(e,t))}notifyCollectionUpdates(e,t,i){const{added:n,removed:s,updated:r}=t,a=n.size>0,o=s.size>0,l=r.size>0,c=this.clientConnections.get(i);if(c){const t=c.id;if(a)for(const[t,i]of n)c.messenger.send(new D(_.ITEM_ADDED,e,t,i));if(o)for(const[t]of s)c.messenger.send(new M(_.ITEM_REMOVED,e,t));if(l)for(const[t,i]of r)c.messenger.send(new x(_.ITEM_UPDATED,e,t,i));(a||o||l||this.firstTimeCollectionSubs.has(t,e))&&(c.messenger.send(new j(_.COLL_UPDATED,e)),this.firstTimeCollectionSubs.remove(t,e))}}verifyConnection(e,t){const i={cache:!1,headers:{"X-Matterport-Application-Key":t,"X-Matterport-Referrer":e},priority:$.ru.HIGH};return this.requestQueue.get(this.validationUrl,i)}async onConnectionReceived(e,t,i,n,s){if(!this.clientFilter(e))return n.reject("Connection refused");if(s)try{await this.verifyConnection(e,i.applicationKey)}catch(e){return n.reject("key/referrer mismatch")}const r=async()=>{const t=new URL(e).hostname,s=this.perOriginInterfaces.get(t.toLowerCase()),r=this.perSdkTypeInterfaces.get(i.communicationMethod),a={enums:{},functions:{},observables:{},collections:{}},o=function(e,t,i,n){const s=e[t].sdkTypes,r=e[t].origins;if(!s&&!r)return!0;const a=s&&r&&(null==i?void 0:i[t])&&(null==n?void 0:n[t]),o=s&&!r&&(null==i?void 0:i[t]),l=!s&&r&&(null==n?void 0:n[t]);return a||o||l};for(const e in this.clientInterface.enums)o(this.clientInterface.enums,e,null==r?void 0:r.enums,null==s?void 0:s.enums)&&(a.enums[e]=this.clientInterface.enums[e]);for(const e in this.clientInterface.observables)o(this.clientInterface.observables,e,null==r?void 0:r.observables,null==s?void 0:s.observables)&&(a.observables[e]=this.clientInterface.observables[e]);for(const e in this.clientInterface.collections)o(this.clientInterface.collections,e,null==r?void 0:r.collections,null==s?void 0:s.collections)&&(a.collections[e]=this.clientInterface.collections[e]);for(const e in this.clientInterface.functions)o(this.clientInterface.functions,e,null==r?void 0:r.functions,null==s?void 0:s.functions)&&(a.functions[e]=this.clientInterface.functions[e]);for(const e in this.clientInterface.commands)o(this.clientInterface.commands,e,null==r?void 0:r.commands,null==s?void 0:s.commands)&&(a.functions[e]=this.clientInterface.commands[e]);this.onConnectionAccepted(e,i),n.accept((await this.getSdkConfig).client,a)};n.handshake();try{this.config.onClientConnect(null==t?void 0:t.auth),await this.setupInterface(),await this.interfacePromise,await r(),this.data.atomic((()=>{this.data.applicationKeys.push({key:i.applicationKey,provider:i.provider}),this.data.commit()}))}catch(e){n.reject(e)}}onConnectionAccepted(e,t){const i=t.id,n=t.messenger,s={id:i,applicationKey:t.applicationKey,origin:e,communicationMethod:t.communicationMethod,messenger:n,provider:t.provider};this.clientConnections.set(i,s);const r=this.facade;n.addObserver(new H(r,s)),n.addObserver(new F(r,s)),n.addObserver(new B(r,s)),n.addObserver(new V(r,s)),n.addObserver(new G(r,s)),n.addObserver(new W(r,s)),n.addObserver(new z(r,s)),n.addObserver(new K(r,s)),n.init(),this.trackSdkConnect(s)}onDisconnectReceived(e,t){const i=this.clientToEventSubMap.getValuesAtKey(t.id),n=this.clientToObservableSubMap.get(t.id)||[],s=this.clientToCollectionSubMap.get(t.id)||[];for(const e of i)this.eventToClientSubMap.remove(e,t);for(const[e]of n)this.observableToClientSubMap.remove(e,t);for(const[e]of s)this.collectionToClientSubMap.remove(e,t);this.clientToEventSubMap.removeKey(t.id),this.clientToObservableSubMap.delete(t.id),this.clientToCollectionSubMap.delete(t.id);const r=this.data.applicationKeys.indexOf({key:t.applicationKey,provider:t.provider});r>-1&&this.data.applicationKeys.splice(r,1)}onActionReceived(e,t){if(this.tryActionThroughCommand(e,t))return;const i=this.commandCreators[e.targetFunction];if(i){this.trackSdkCall(e,t.id);try{this.issueCommand(i(e.params,t)).then((i=>t.messenger.send(new L(e.uid,i,!0,"")))).catch((i=>t.messenger.send(new L(e.uid,{},!1,i.message||i))))}catch(i){Z.debug(i),t.messenger.send(new L(e.uid,{},!1,i.message))}}else t.messenger.send(new L(e.uid,{},!1,`${e.targetFunction} is not a valid command`))}tryActionThroughCommand(e,t){if(this.tryActionThroughAsyncCommand(e,t))return!0;const i=this.commands[e.targetFunction];if(!i)return!!this.clientInterface.commands.hasOwnProperty(e.targetFunction)&&(t.messenger.send(new L(e.uid,{},!1,`${e.targetFunction} is not ready to be called`)),!0);this.trackSdkCall(e,t.id);try{i.exec(e.params,t).then((i=>{t.messenger.send(new L(e.uid,i,!0,""))})).catch((i=>{t.messenger.send(new L(e.uid,{},!1,i.message||i))}))}catch(i){Z.debug(i),t.messenger.send(new L(e.uid,{},!1,i.message))}return!0}tryActionThroughAsyncCommand(e,t){const i=this.asyncCommands[e.targetFunction];return!!i&&(i.then((i=>{try{i.exec(e.params,t).then((i=>{t.messenger.send(new L(e.uid,i,!0,""))})).catch((i=>{t.messenger.send(new L(e.uid,{},!1,i.message||i))}))}catch(i){Z.debug(i),t.messenger.send(new L(e.uid,{},!1,i.message))}})),!0)}onEventSubReceived(e,t){this.eventToClientSubMap.add(e.subscription,t),this.trackSdkEvent(s.SUBSCRIBED,e,t)}onEventUnsubReceived(e,t){this.eventToClientSubMap.remove(e.subscription,t),this.trackSdkEvent(s.UNSUBSCRIBED,e,t)}async onObservableSubReceived(e,t){const i=e.observableKey,n=this.observables[i];if(n){const r=await n;if(!this.observables[i])return;if(!this.observableToClientSubMap.has(i,t)){const n=new Y.W,a=r.subscribe(n);this.observableToClientSubMap.add(i,t);const o=this.clientToObservableSubMap.get(t.id)||new Map;o.set(i,[n,r,a]),this.clientToObservableSubMap.set(t.id,o),this.trackClientObservableSub(s.OBSERVABLE_SUB,e,t)}}else Z.error(i,"is not a valid, registered observable")}onObservableUnsubReceived(e,t){const i=e.observableKey;this.observableToClientSubMap.remove(i,t);const n=this.clientToObservableSubMap.get(t.id);if(n){const r=n.get(i);if(r){const[,,a]=r;a.cancel(),n.delete(i),this.trackClientObservableSub(s.OBSERVABLE_UNSUB,e,t)}}}async onCollectionSubReceived(e,t){const i=e.collectionKey,n=this.collections[i];if(n){const r=await n;if(!this.collections[i])return;if(!this.collectionToClientSubMap.has(i,t)){const n=r.subscribe(t),a=[r,n];this.collectionToClientSubMap.add(i,t);const o=this.clientToCollectionSubMap.get(t.id)||new Map;o.set(i,a),this.clientToCollectionSubMap.set(t.id,o),this.firstTimeCollectionSubs.add(t.id,i),this.trackClientCollectionSub(s.COLLECTION_SUB,e,t)}}else Z.error(i,"is not a valid, registered collection")}onCollectionUnsubReceived(e,t){const i=e.collectionKey;this.collectionToClientSubMap.remove(i,t);const n=this.clientToCollectionSubMap.get(t.id);if(n){const r=n.get(i);if(r){const[,a]=r;a.cancel(),n.delete(i),this.trackClientCollectionSub(s.COLLECTION_UNSUB,e,t)}}}onPrivateMessageReceived(e,t){const{messageType:i,messagePayload:n}=e;for(const e of this.privateMessageHandlers.getValuesAtKey(i))e.onMessage(n,t)}trackSdkConnect(e){if(!this.analytics)return;const t={origin:e.origin,applicationKey:e.applicationKey,provider:e.provider,method:e.communicationMethod};this.analytics.track("sdk_connect","connect",t)}trackSdkEvent(e,t,i){if(!this.analytics)return;const n=e===s.SUBSCRIBED?"on":"off",r=this.valueToClientInterface[t.subscription];if(!r)return;const a=Object.keys(r.values),o=a.find(((e,i)=>{const n=a[i];return r.values[n]===t.subscription}));if(!o)return;const l={origin:i.origin,applicationKey:i.applicationKey,name:n,namespace:r.namespace,eventType:o,count:this.eventToClientSubMap.valuesPerKey(t.subscription),method:i.communicationMethod,provider:i.provider};this.analytics.track("sdk_event",t.subscription,l)}trackSdkCall(e,t){const i=this.clientConnections.get(t);if(!i)return;const n=this.clientInterface.functions[e.targetFunction]||this.clientInterface.commands[e.targetFunction],s=Object.assign(Object.assign({origin:i.origin,applicationKey:i.applicationKey,provider:i.provider},n),{method:i.communicationMethod});this.analytics.track("sdk_call",e.targetFunction,s)}trackClientObservableSub(e,t,i){const n=e===s.OBSERVABLE_SUB,r=this.clientInterface.observables[t.observableKey],a=Object.assign(Object.assign({origin:i.origin,applicationKey:i.applicationKey,provider:i.provider},r),{is_collection:!1,action:n?"subscribe":"cancel",method:i.communicationMethod});this.analytics.track("sdk_subscribe",t.observableKey,a)}trackClientCollectionSub(e,t,i){const n=e===s.COLLECTION_SUB,r=this.clientInterface.collections[t.collectionKey],a=Object.assign(Object.assign({origin:i.origin,applicationKey:i.applicationKey,provider:i.provider},r),{is_collection:!0,action:n?"subscribe":"cancel",method:i.communicationMethod});this.analytics.track("sdk_subscribe",t.collectionKey,a)}}Q.MessengerHostFacade=class{constructor(e){this.messageHandler=e}onConnectionReceived(e,t,i,n,s=!0){this.messageHandler.onConnectionReceived(e,t,i,n,s)}onDisconnectReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onDisconnectReceived(e,i)}onActionReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onActionReceived(e,i)}onEventSubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onEventSubReceived(e,i)}onEventUnsubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onEventUnsubReceived(e,i)}onObservableSubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onObservableSubReceived(e,i)}onObservableUnsubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onObservableUnsubReceived(e,i)}onCollectionSubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onCollectionSubReceived(e,i)}onCollectionUnsubReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onCollectionUnsubReceived(e,i)}onPrivateMessageReceived(e,t){const i=this.messageHandler.clientConnections.get(t.id);i&&this.messageHandler.onPrivateMessageReceived(e,i)}}},26158:(e,t,i)=>{"use strict";var n;i.d(t,{F:()=>n}),function(e){e.UnitType="user_preference/unit_type",e.MeasurementSnapping="user_preference/measurement_snapping",e.MeasurementContinuousLines="user_preference/measurement_continuous",e.MeasurementUserNudgeSeen="user_preference/measurement_nudge",e.HighlightReelSettingsTab="user_preference/highlight_reel_settings_tab",e.NotesModeNudgeSeen="user_preference/notes_mode_nudge",e.NotesAddNudgeSeen="user_preference/notes_add_nudge",e.LastRatingPromptTime="user_preference/model_rating_last_prompt_time",e.TagsAddNudgeSeen="user_preference/tags_add_nudge",e.SubscriberPromptDismissed="user_preference/subscriber_prompt_dismissed",e.DollhouseUserNudgeSeen="user_preference/dollhouse_nudge",e.TourTextNudgeDismissed="user_preference/tour_text_nudge_dismissed",e.TourMobileNavigationPromptSeen="user_preference/tour_mobile_nav_prompt_seen"}(n||(n={}))},60975:(e,t,i)=>{"use strict";i.d(t,{u:()=>n});class n{constructor(e,t){this.settingsData=e,this.settings=t,this.cache={},this.toggle=e=>{e?this.apply():this.reset()}}apply(){this.cache={};for(const e of Object.keys(this.settings)){const t=this.settingsData.tryGetProperty(e,void 0);t!==this.settings[e]&&(this.cache[e]=t,this.settingsData.setProperty(e,this.settings[e]))}}reset(){for(const e of Object.keys(this.cache)){const t=this.cache[e];this.settingsData.setProperty(e,void 0!==t&&t)}this.cache={}}}},34029:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var n=i(67992),s=i(15637),r=i(73180),a=i(59279);class o extends n.V{constructor(e={}){super(),this.overrideParams=e,this.name="settings",this.properties=(0,s.q)()}setProperty(e,t){const i=this.properties.get(e);null!=t&&i===t||(this.properties.set(e,t),this.commit([e]))}notifyPropertyObserver(e,t){e(this.properties.get(t))}setLocalStorageProperty(e,t){(0,r.m8)(e,t),this.setProperty(e,t)}hasProperty(e){return this.properties.has(e)}tryGetProperty(e,t){return this.hasProperty(e)?this.properties.get(e):t}getProperty(e){if(this.hasProperty(e))return this.properties.get(e);throw new Error("SettingsData: "+e+" not found")}getOverrideParam(e,t=null,i=typeof t){var n;return(0,a.O$)(null!==(n=this.overrideParams[e])&&void 0!==n?n:null,t,i)}iterate(e){for(const t of this.properties.keys)e(t,this.getProperty(t))}}},18196:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SettingPersistence:()=>l,default:()=>m});var n,s=i(46950);!function(e){e[e.Init=0]="Init",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded"}(n||(n={}));class r{constructor(e,t){this.queryScope=e,this.onChange=t,this.settings={},this.helperObject={colors:{},vectors:{},quaternions:{}},this.initPromise=new s.Q,this.loadState=n.Init,this.uninitError="ControlKit not yet initialized",this.lastKeys=[],this.lastKeysBufferLength=0,this.controlKit=void 0,this.updateRequired=!1,this.panels=[],this.onToggleCallbacks={},this.onKeyDown=e=>{this.lastKeys.unshift(e.keyCode),this.lastKeys.length>this.lastKeysBufferLength&&this.lastKeys.pop();for(let e=0;e<this.panels.length;e++){const t=this.panels[e].activationSequence;o(this.lastKeys,t)&&this.toggle(e)}},this.getPanelId=e=>{for(const t of this.panels)if(e===t.header)return t.index;return-1},this.getSubGroup=(e,t)=>{const i=this.panels[e];i.guiPanel||(i.guiPanel=i.makeGuiPanel()),i.allowSubGroups||(t="");let n=i.subGroups.get(t||"");if(!n){i.guiPanel.addSubGroup({label:t,enable:!i.allowSubGroups});const e=i.guiPanel._groups[i.guiPanel._groups.length-1],s=e._subGroups[e._subGroups.length-1];n=new a(i.guiPanel,e,s),i.subGroups.set(t||"",n)}return n},this.addColor=(e,t,i,n)=>{this.updateHelperObject(t+i,n),e.addColor(this.helperObject.colors,t+i,{label:i,colorMode:"hex",onChange:e=>{this.settings[t+i].setHex(parseInt(e.substring(1),16));const n={};n[i]=this.settings[t+i],this.onChange(n)}})},this.addVector3=(e,t,i,n)=>{this.updateHelperObject(e+i,n);const s=this.getSubGroup(e,`${t}: ${i}`),r=["x","y","z"];for(const t in r)s.addNumberInput(this.helperObject.vectors[e+i],r[t],{label:r[t],onChange:()=>{this.settings[e+i].set(this.helperObject.vectors[i].x,this.helperObject.vectors[i].y,this.helperObject.vectors[i].z);const t={};t[i]=this.settings[e+i],this.onChange(t)}})},this.addQuaternion=(e,t,i,n)=>{this.updateHelperObject(e+i,n);const s=this.getSubGroup(e,`${t}: ${i}`),r=["x","y","z","w"];for(const t in r)s.addNumberInput(this.helperObject.quaternions[e+i],r[t],{label:r[t],onChange:()=>{this.settings[e+i].set(this.helperObject.quaternions[e+i].x,this.helperObject.quaternions[e+i].y,this.helperObject.quaternions[e+i].z,this.helperObject.quaternions[e+i].w);const t={};t[i]=this.settings[e+i],this.onChange(t)}})}}init(){}async loadGuiPackage(){return this.loadState===n.Init&&(i.e(66).then(i.t.bind(i,94810,23)).then((e=>{const t=document.createElement("div");t.id="controlKitElement",(this.queryScope.getElementById("control-kit-wrapper")||document.body).appendChild(t);const i=e=>e.stopPropagation();t.addEventListener("keydown",i),t.addEventListener("keyup",i),t.addEventListener("keypress",i),this.controlKit=new e.default({opacity:.9,enable:!1,parentDomElementId:"controlKitElement"}),this.controlKit.setShortcutEnable(""),this.controlKit.enable(),this.initPromise.resolve(),this.loadState=n.Loaded})),this.loadState=n.Loading),this.loadPromise}get loadPromise(){return this.initPromise.nativePromise()}get isLoaded(){return void 0!==this.controlKit}addPanel(e,t,i={}){for(void 0===i.width&&(i.width=250),void 0===i.allowSubGroups&&(i.allowSubGroups=!0),void 0===i.ratio&&(i.ratio=60),this.lastKeysBufferLength=Math.max(this.lastKeysBufferLength,t.length);this.lastKeysBufferLength>this.lastKeys.length;)this.lastKeys.unshift(-1);return this.panels.push({index:this.panels.length,header:e,guiPanel:null,makeGuiPanel:()=>this.controlKit.addPanel({label:e,align:"right",ratio:i.ratio,width:i.width}),subGroups:new Map,allowSubGroups:i.allowSubGroups,activationSequence:t.reverse()}),this.panels.length-1}isVisible(e){if(!this.controlKit)throw new Error(this.uninitError);return this.panels[e].guiPanel._enabled}toggle(e){this.controlKit?this.toggleVisibility(e):this.loadGuiPackage().then((()=>{this.toggleVisibility(e)}))}onToggle(e,t){this.onToggleCallbacks[e]||(this.onToggleCallbacks[e]=[]),this.onToggleCallbacks[e].push(t)}toggleVisibility(e){if(!this.controlKit)throw new Error(this.uninitError);const t=this.panels[e].guiPanel._enabled;if(t?this.panels[e].guiPanel.disable():this.panels[e].guiPanel.enable(),this.onToggleCallbacks[e])for(const i of this.onToggleCallbacks[e])i(!t)}dispose(){const e=this.queryScope.getElementById("controlKit");e&&e.remove(),this.controlKit=void 0}activate(e){this.queryScope.addEventListener("keydown",this.onKeyDown)}deactivate(e){this.controlKit&&this.controlKit.disable(),this.queryScope.removeEventListener("keydown",this.onKeyDown)}render(){this.controlKit&&this.updateRequired&&(this.updateRequired=!1,this.controlKit.update())}updateSetting(e,t,i){if(!this.controlKit)throw new Error(this.uninitError);const n=e+t,s=this.settings[n];i&&"function"==typeof i.equals&&"function"==typeof i.copy&&s&&"function"==typeof s.equals&&"function"==typeof s.copy?i.equals(this.settings[n])||(this.settings[n].copy(i),this.updateHelperObject(n,i),this.updateRequired=!0):i!==this.settings[e+t]&&(this.settings[n]=i,this.updateRequired=!0)}getSetting(e,t){return this.settings[e+t]}isRegistered(e,t){return void 0!==this.settings[e+t]}addControl(e,t,i,n,s,r=2,a){if(!this.controlKit)throw new Error(this.uninitError);const o=`${e}${i}`;this.settings[o]=n;let l=typeof n;("string"===l&&"true"===n||"false"===n)&&(l="boolean");const c="object"===l;if(c&&(null==n?void 0:n.isColor))this.addColor(this.getSubGroup(e,t),e,i,n);else if(c&&(null==n?void 0:n.isVector3))this.addVector3(e,t,i,n);else if(c&&(null==n?void 0:n.isQuaternion))this.addQuaternion(e,t,i,n);else{const c=this.getSubGroup(e,t);switch(l){case"string":Array.isArray(a)?(this.settings[o]={options:a,selected:n},c.addSelect(this.settings[o],"options",{target:"selected",label:i,onChange:e=>{const t={[i]:a[e]};this.onChange(t)}})):c.addStringInput(this.settings,e+i,{label:i,onChange:t=>{const n={};this.settings[e+i]=t,n[i]=this.settings[e+i],this.onChange(n)}});break;case"number":this.settings[`${e+i}_range`]=s||[0,10],c.addSlider(this.settings,e+i,`${e+i}_range`,{label:i,onChange:()=>{const t={};t[i]=this.settings[e+i],this.onChange(t)},dp:r});break;case"boolean":c.addCheckbox(this.settings,e+i,{label:i,ratio:10,onChange:()=>{const t={};t[i]=this.settings[e+i],this.onChange(t)}});break;default:c.addStringOutput(this.settings,e+i,{label:i})}}}addButton(e,t,i,n){if(!this.controlKit)throw new Error(this.uninitError);this.getSubGroup(e,t).addButton(i,n,{label:"none",ratio:100})}addSlider(e,t,i,n,s,r,a){if(!this.controlKit)throw new Error(this.uninitError);const o=this.getSubGroup(e,t);this.settings[e+i]=n,this.settings[e+i+"_range"]=[s,r],o.addSlider(this.settings,e+i,e+i+"_range",{label:i,dp:a,onChange:()=>{const t={};t[i]=this.settings[e+i],this.onChange(t)}})}updateHelperObject(e,t){const i="object"==typeof t;i&&(null==t?void 0:t.isColor)?this.helperObject.colors[e]="#"+t.getHexString():i&&(null==t?void 0:t.isVector3)?(this.helperObject.vectors[e]={},this.helperObject.vectors[e].x=t.x,this.helperObject.vectors[e].y=t.y,this.helperObject.vectors[e].z=t.z):i&&(null==t?void 0:t.isQuaternion)&&(this.helperObject.quaternions[e]={},this.helperObject.quaternions[e].x=t.x,this.helperObject.quaternions[e].y=t.y,this.helperObject.quaternions[e].z=t.z,this.helperObject.quaternions[e].w=t.w)}}class a{constructor(e,t,i){this.panel=e,this.group=t,this.subGroup=i}addButton(...e){this.invoke("addButton",e)}addSlider(...e){this.invoke("addSlider",e)}addSelect(...e){this.invoke("addSelect",e)}addCheckbox(...e){this.invoke("addCheckbox",e)}addColor(...e){this.invoke("addColor",e)}addStringInput(...e){this.invoke("addStringInput",e)}addStringOutput(...e){this.invoke("addStringOutput",e)}addNumberInput(...e){this.invoke("addNumberInput",e)}invoke(e,t){const i=this.panel._groups,n=this.group._subGroups,s=i.indexOf(this.group),r=n.indexOf(this.subGroup);i.splice(s,1),i.push(this.group),n.splice(r,1),n.push(this.subGroup);try{this.panel[e](...t)}finally{i.splice(s,0,i.pop()),n.splice(r,0,n.pop())}}}const o=function(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0};var l,c=i(97542),d=i(34029),u=i(31362),h=i(73180),p=i(59279);!function(e){e[e.NONE=0]="NONE",e[e.LOCAL_STORAGE=1]="LOCAL_STORAGE"}(l||(l={}));class m extends c.Y{constructor(){super(...arguments),this.name="settings",this.queuedControls=[],this.queuedButtons=[],this.secretWord=[38,38,40,40,37,39,37,39,66,65,72],this.panelID=-1,this.addPanel=(e,t,i)=>{const n=this.getPanelId(e);return-1===n?this.settingsGUI.addPanel(e,t,i):n},this.getPanelId=e=>this.settingsGUI.getPanelId(e)}async init(e,t){var i;this.engine=t,this.settings=new d.e(e.overrideParams),this.engine.market.register(this,d.e,this.settings),e.useGUI&&(this.settingsGUI=new r(null!==(i=e.queryScope)&&void 0!==i?i:document,(e=>{this.updateSettings(e)})),t.addComponent(this,this.settingsGUI),this.panelID=this.settingsGUI.addPanel("23.2.2_webgl-59-ge638ad60fb",this.secretWord)),e.useGUI&&this.settingsGUI.loadPromise.then((()=>{for(const e of this.queuedControls)this.settingsGUI.addControl(e.panelId,e.group,e.settingName,e.value,e.range,e.rangePrecision,e.options);for(const e of this.queuedButtons)this.settingsGUI.addButton(e.panelId,e.group,e.buttonName,e.callback);this.settingsGUI.toggle(this.panelID)}))}get settingsData(){return this.settings}get loadPromise(){return this.settingsGUI.loadPromise}getSettingsGui(){return this.settingsGUI}getMainPanelId(){return this.panelID}updateSetting(e,t,i=this.panelID){t&&t.clone&&"function"==typeof t.clone?this.settings.setProperty(e,t.clone()):this.settings.setProperty(e,t),this.settingsGUI&&this.settingsGUI.isLoaded&&this.settingsGUI.updateSetting(i,e,t)}updateSettings(e){for(const t in e)this.updateSetting(t,e[t])}registerSetting(e,t,i,n=!0,s=l.NONE,r,a=this.panelID,o=2,c){if(this.settingsGUI&&this.settingsGUI.isRegistered(a,t))return void this.log.warn(`Duplicate setting ${t} registered. Is a module being used twice?`);let d;d=i&&i.clone&&"function"==typeof i.clone?i.clone():i,this.settingsGUI&&n&&(this.settingsGUI.isLoaded?this.settingsGUI.addControl(a,e,t,d,r,o,c):this.queuedControls.push({panelId:a,group:e,settingName:t,value:i,range:r,rangePrecision:o,options:c}));const u=s===l.LOCAL_STORAGE?(0,h.fp)(t,i):i;this.updateSetting(t,u)}registerMenuEntry(e){const{header:t,setting:i,initialValue:n,persist:s,displayInUi:r,range:a,panel:o,onChange:l,rangePrecision:c,options:d,urlParam:h}=e;let m=n();const f=encodeURIComponent(i);if(h){const e=(0,p.eY)(f,null);null!==e&&(m="true"===e||"false"!==e&&function(e){if(""===e)return e;const t=+e;return isNaN(t)?e:t}(e))}if(this.registerSetting(t,i,m,r,s,a,o,c,d),!l&&!h)return null;if(l&&l(m),h){const e=n(),t=t=>{const i=(0,p.kD)();i.has(f)&&t===e?i.delete(f):i.set(f,t),(0,u.Vf)(i.toString(),!0),l&&l(t)};return this.settings.onPropertyChanged(i,t)}return l?this.settings.onPropertyChanged(i,l):null}registerMenuButton(e){const{header:t,buttonName:i,panel:n,callback:s}=e;this.registerButton(t,i,s,n)}registerButton(e,t,i,n=this.panelID){this.settingsGUI&&(this.settingsGUI.isLoaded?this.settingsGUI.addButton(n,e,t,i):this.queuedButtons.push({panelId:n,group:e,buttonName:t,callback:i}))}hasProperty(e){return this.settings.hasProperty(e)}getProperty(e){return this.settings.getProperty(e)}tryGetProperty(e,t){return this.settings.tryGetProperty(e,t)}toggleMenu(){this.settingsGUI&&this.settingsGUI.toggle(0)}disposeGui(){this.settingsGUI.dispose()}}},2541:(e,t,i)=>{"use strict";var n;i.d(t,{E:()=>n}),function(e){e[e.Immediate=0]="Immediate",e[e.NextFrame=1]="NextFrame",e[e.Duration=2]="Duration",e[e.Manual=3]="Manual"}(n||(n={}))},71954:(e,t,i)=>{"use strict";i.d(t,{KI:()=>n,AQ:()=>o,Z8:()=>l});var n,s=i(38042),r=i(2541),a=i(947);!function(e){e.added="added",e.removed="removed",e.updated="updated"}(n||(n={}));class o{constructor(e,t,i){this.index=e,this.action=t,this.diff=i}}class l{constructor(e,t){if(this.changedHandlers=[],this.awaitingInvoke=!1,this.diffRecord=[],this.targetMonitors={},this.triggerChangeHandlers=this.invokeChangeHandlers.bind(this),this.config=e,this.updatePhaseSync=t,this.config.aggregationType===r.E.NextFrame){if(!t)throw Error("UpdatePhaseSync required for NextFrame aggregation")}else if(this.config.aggregationType===r.E.Duration)throw Error("Aggregation Type not implemented")}hasDiffRecord(){return this.diffRecord.length>0}clearDiffRecord(){this.diffRecord=[];for(const e in this.targetMonitors){const t=this.targetMonitors[e];t.hasDiffRecord()&&t.clearDiffRecord()}}onChanged(e){this.changedHandlers.push(e)}removeOnChanged(e){(0,s.bX)(this.changedHandlers,e)}invokeCallbacks(e){if(this.changedHandlers.length>0)for(const t of this.changedHandlers)t(e)}invokeChangeHandlers(e){switch(this.config.aggregationType){case r.E.Immediate:this.invokeCallbacks(e);break;case r.E.NextFrame:this.awaitingInvoke||(this.awaitingInvoke=!0,this.updatePhaseSync.after(a.A.End).then((()=>{this.awaitingInvoke=!1,this.invokeCallbacks(e)})));break;case r.E.Manual:}}}},64567:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(71954),s=i(86090),r=i(37262);class a extends n.Z8{constructor(e,t,i){super(t,i),this.target=e;for(const n of e.keys){const r=e.get(n),a=new s.u(r,t,i);a.onChanged(this.triggerChangeHandlers),this.targetMonitors[n]=a}const a={onAdded:(e,a)=>{const o=new s.u(e,t,i);o.onChanged(this.triggerChangeHandlers),this.targetMonitors[a]=o;const l=this.diffRecord.findIndex((e=>e.index===a));-1!==l&&this.diffRecord.splice(l,1);const c=new n.AQ(a,n.KI.added,(0,r.p$)(e));-1===l&&this.diffRecord.push(c),this.triggerChangeHandlers(c)},onRemoved:(e,t)=>{delete this.targetMonitors[t];const i=this.diffRecord.findIndex((e=>e.index===t));-1!==i&&this.diffRecord.splice(i,1);const s=new n.AQ(t,n.KI.removed,(0,r.p$)(e));-1===i&&this.diffRecord.push(s),this.triggerChangeHandlers(s)}};this.target.onElementChanged(a)}commitChanges(){this.invokeCallbacks(this.getDiffRecord())}getDiffRecord(){const e=[];for(const t in this.targetMonitors){const i=this.targetMonitors[t];if(i.hasDiffRecord()){const s=i.getDiffRecord(),a=this.diffRecord.findIndex((e=>e.index===t));-1!==a?(0,r.TS)(this.diffRecord[a].diff,s):e.push(new n.AQ(t,n.KI.updated,s))}}return this.diffRecord.concat(e)}}},86090:(e,t,i)=>{"use strict";i.d(t,{u:()=>o});var n=i(2541),s=i(37262),r=i(947),a=i(38042);class o{constructor(e,t,i){this.updatePhaseSync=i,this.target=e,this.clearDiffRecord(),this.target.onChanged((()=>{this.diffRecord=(0,s.br)(this.originalData,(0,s.p$)(this.target),t.shallow),this.handleAggregation()})),this.aggregationType=t.aggregationType,this.changedHandlers=[]}hasDiffRecord(){return Object.keys(this.diffRecord).length>0}getDiffRecord(){return this.diffRecord}clearDiffRecord(){this.originalData=(0,s.p$)(this.target),this.diffRecord={}}onChanged(e){this.changedHandlers.push(e)}removeOnChanged(e){(0,a.bX)(this.changedHandlers,e)}commitChanges(){this.triggerChangeHandlers(this.diffRecord)}handleAggregation(){switch(this.aggregationType){case n.E.Immediate:this.triggerChangeHandlers(this.diffRecord);break;case n.E.NextFrame:if(!this.updatePhaseSync)throw new Error("handleAggregation() -> Next frame aggregation requested, but updatePhaseSync is null");this.nextFramePromise||(this.nextFramePromise=this.updatePhaseSync.after(r.A.Begin).then((()=>{this.triggerChangeHandlers(this.diffRecord)})).finally((()=>{this.nextFramePromise=void 0})));break;case n.E.Duration:throw new Error("AggregationType.Duration: Please implement me :)");case n.E.Manual:}}triggerChangeHandlers(e){if(this.changedHandlers.length>0)for(const t of this.changedHandlers)t(e)}}},56221:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var n=i(35895);class s{constructor(){this.isObservable=!0,this._dirtyObservable=!1,this._activeObservable=!0,this._observerNotifying=!1,this._changeObservers=new Set,this._parentObservables=new Set,this._childObservables=new Set,Object.defineProperties(this,{isObservable:{value:this.isObservable,writable:!1,enumerable:!1},_dirtyObservable:{value:this._dirtyObservable,enumerable:!1},_activeObservable:{value:this._activeObservable,enumerable:!1},_observerNotifying:{value:this._observerNotifying,enumerable:!1},_changeObservers:{value:this._changeObservers,writable:!1,enumerable:!1},_childObservables:{value:this._childObservables,writable:!1,enumerable:!1},_parentObservables:{value:this._parentObservables,writable:!1,enumerable:!1}})}onChanged(e){if(this._changeObservers.has(e))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,n.k1)((()=>this._changeObservers.add(e)),(()=>this.removeOnChanged(e)),!0)}removeOnChanged(e){this._changeObservers.delete(e)}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._changeObservers)this.notifyObserver(e);this._dirtyObservable=!1,this._observerNotifying=!1}}notifyObserver(e){e(void 0)}notifyDown(){for(const e of this._childObservables)e.notifyDown();this.notifyObservers()}notifyUp(){for(const e of this._parentObservables)e.notifyUp();this.notifyObservers()}setDirty(e=!0){this.setDirtyUp(),e&&this.notifyUp()}setDirtyUp(){if(!this._dirtyObservable){this._dirtyObservable=!0;for(const e of this._parentObservables)e.setDirtyUp()}}addChildObservable(e){s.isObservable(e)&&(this._childObservables.add(e),e._parentObservables.add(this))}removeChildObservables(e){s.isObservable(e)&&(this._childObservables.delete(e),e._parentObservables.delete(this))}atomic(e){if(!this._activeObservable)return e();try{this.setActive(!1),e()}finally{this.setActive(!0)}}setActive(e){const t=this._activeObservable;this._activeObservable=e,!t&&e&&this.notifyObservers();for(const t of this._childObservables)t.setActive(e)}deepCopy(){throw Error("deepCopy is only implemented in subclasses of Observable")}static isObservable(e){return e&&e.isObservable}}},10385:(e,t,i)=>{"use strict";i.d(t,{d:()=>r,C:()=>a});var n=i(56221),s=i(37262);class r extends n.y{constructor(){super(),this.isObservableArray=!0,this.elements=[]}push(e){return this.elements.push(e),this.addChildObservable(e),this.setDirty(),this.length}concat(e){const t=this.elements.length;this.elements=this.elements.concat(e);for(let e=t;e<this.elements.length;e++)this.addChildObservable(this.elements[e]);return this.setDirty(),this.length}replace(e){for(const e of this.elements)this.removeChildObservables(e);return this.elements=[],this.concat(e)}remove(e){if(e<0||e>=this.length)throw new Error(`Index ${e} not in range of ObservableArray`);const[t]=this.elements.splice(e,1);this.removeChildObservables(t),this.setDirty()}update(e,t){const i=this.elements[e];i!==t&&(this.elements[e]=t,this.removeChildObservables(i),this.addChildObservable(t),this.setDirty())}get length(){return this.elements.length}set length(e){if(e<this.elements.length){for(let t=this.elements.length-1;t>=e;t--){const e=this.elements[t];this.removeChildObservables(e)}this.elements.length=e,this.setDirty()}}values(){return[...this.elements]}filter(e){return this.elements.filter(e)}find(e){return this.elements.find(e)}*[Symbol.iterator](){for(const e of this.elements)yield e}map(e,t){return this.elements.map(e,t)}forEach(e,t){this.elements.forEach(e,t)}sort(e){this.elements.sort(e)}get(e){return this.elements[e]}findIndex(e,t){return this.elements.findIndex(e,t)}indexOf(e){return this.elements.indexOf(e)}splice(e,t,...i){let n;if(i.length){n=this.elements.splice(e,t,...i);for(const e of i)this.addChildObservable(e)}else n=this.elements.splice(e,t);for(const e of n)this.removeChildObservables(e);return this.setDirty(),n}insert(e,t){if(e>this.elements.length)throw new Error(`Tried to insert at index ${e} in an array that's only ${this.elements.length} long`);e!==this.elements.length?(this.elements.splice(e,0,t),this.addChildObservable(t),this.setDirty()):this.push(t)}shift(){const e=this.elements.shift();return e&&(this.removeChildObservables(e),this.setDirty()),e}move(e,t){if(t>this.elements.length-1)throw Error("Index to move to is out of bounds");const i=this.elements[e];this.elements.splice(e,1),this.elements.splice(t,0,i),this.setDirty()}includes(e,t){return this.elements.includes(e,t)}some(e,t){return this.elements.some(e,t)}every(e,t){return this.elements.every(e,t)}onElementChanged(e){let t=this.elements.slice();return this.onChanged((()=>{for(const i in t){const n=parseInt(i,10);e.onRemoved&&void 0===this.get(n)&&e.onRemoved(t[n],n)}for(const i in this.elements){const s=parseInt(i,10),r=this.get(s);void 0===t[s]?e.onAdded&&e.onAdded(r,s):(n.y.isObservable(r)&&r._dirtyObservable||r!==t[s])&&(e.onUpdated?e.onUpdated(r,s):e.onRemoved&&null===r&&e.onRemoved(t[s],s))}t=this.elements.slice()}))}deepCopy(){return this.map((e=>(0,s.p$)(e)))}}const a=e=>{const t=new r;return e&&t.concat(e),t}},15637:(e,t,i)=>{"use strict";i.d(t,{v:()=>a,q:()=>o});var n=i(56221),s=i(37262);function r(e){return(0,s.hj)(e)?""+e:e}class a extends n.y{constructor(){super(),this.map={},this._keysSet=new Set,this._keysList=[]}get keys(){return this._keysList.slice()}get values(){return this._keysList.map((e=>this.get(e)))}entries(){const e=[];for(const t in this.map)e.push([t,this.map[t]]);return e}get length(){return this._keysList.length}*[Symbol.iterator](){for(const e of this._keysList)yield this.get(e)}get(e){return this.map[e]}has(e){return void 0!==this.map[e]}set(e,t){e=r(e);this.map[e]!==t&&(this.removeChildObservables(this.map[e]),this.addChildObservable(t),this.map[e]=t,this._keysSet.has(e)||(this._keysList.push(e),this._keysSet.add(e)),this.setDirty())}clear(){if(this.length>0){for(const e in this.map)this.removeChildObservables(this.map[e]);this.map={},this._keysSet.clear(),this._keysList=[],this.setDirty()}}replace(e){this.clear();for(const t in e)this.set(t,e[t])}delete(e){e=r(e),this.removeChildObservables(this.map[e]);const t=this.map.hasOwnProperty(e);return delete this.map[e],t&&(this._keysSet.delete(e),this._keysList.splice(this._keysList.indexOf(e),1),this.setDirty()),t}forEach(e,t){for(const i of this._keysList){const n=this.map[i];e.call(t,n,i,this)}}onElementChanged(e){let t=Object.assign({},this.map);return this.onChanged((()=>{for(const i in t)e.onRemoved&&!this.has(i)&&e.onRemoved(t[i],i);for(const i of this._keysList){const s=this.get(i);void 0===t[i]?e.onAdded&&e.onAdded(s,i):(n.y.isObservable(s)&&s._dirtyObservable||s!==t[i])&&(e.onUpdated&&null!==s?e.onUpdated(s,i):e.onRemoved&&null===s&&e.onRemoved(t[i],i))}t=Object.assign({},this.map)}))}deepCopy(){const e={};for(const t of this._keysList)e[t]=(0,s.p$)(this.map[t]);return e}}const o=(e={})=>{const t=new a;return t.replace(e),t}},19077:(e,t,i)=>{"use strict";i.d(t,{K:()=>n,Q:()=>a});var n,s=i(56221),r=i(35895);!function(e){e.LOW="low",e.NORMAL="normal"}(n||(n={}));class a extends s.y{constructor(e){super(),this.priority=n.NORMAL,this.filters=new Map,this.view=[],this._keys=new Map,this._dirty=!1,this.sortNeeded=!1,this.map=e,this.applyFilters(),this.map.onElementChanged({onAdded:(e,t)=>this.onAdded(t,e),onRemoved:(e,t)=>this.onRemoved(t,e),onUpdated:(e,t)=>this.onUpdated(t,e)}),this.map.onChanged((()=>{this.sortNeeded&&(this.applySort(),this.setDirty(),this.sortNeeded=!1)}))}has(e){return this._keys.has(e)}get(e){return this.has(e)?this.map.get(e):void 0}setFilter(e,t){return(0,r.k1)((()=>{this.filters.set(e,t),this.applyFilters()}),(()=>this.clearFilter(e)),!0)}clearFilter(e){return!!this.filters.has(e)&&(this.filters.delete(e),this.applyFilters(),!0)}clearFilters(){this.filters.clear(),this.applyFilters()}sort(e){this.compareFunc=e,this.applySort(),this.setDirty()}*[Symbol.iterator](){for(const e of this.view)yield e}get length(){return this.view.length}groupBy(e){const t={};for(const i of this.view){const n=String(i[e]);t[n]||(t[n]=[]),t[n].push(i)}return t}get values(){return this.view.slice()}setDirty(e=!0){this.priority===n.LOW?this._dirty||(this._dirty=!0,requestAnimationFrame((()=>{this._dirty=!1,super.setDirty(e)}))):super.setDirty(e)}add(e){if(this.has(e))return!1;const t=this.map.get(e);return this._keys.set(e,t),this.view.push(t),!0}delete(e){const t=this._keys.get(e);if(!t)return!1;this._keys.delete(e);const i=this.view.indexOf(t);return-1!==i&&this.view.splice(i,1),!0}testFilters(e){return[...this.filters.values()].every((t=>t(e)))}applyFilters(e,t=!1){let i=!1;const n=e?[e]:this.map.keys;for(const e of n){const t=this.map.get(e),n=this.testFilters(t);(n&&this.add(e)||!n&&this.delete(e))&&(i=!0)}e&&this.has(e)&&(i=!0),i&&(t?this.sortNeeded=!0:(this.applySort(),this.setDirty()))}applySort(){this.compareFunc&&this.view.sort(this.compareFunc)}onRemoved(e,t){this.delete(e)&&this.setDirty()}onAdded(e,t){this.testFilters(t)&&this.applyFilters(e,!0)}onUpdated(e,t){const i=this._keys.get(e),n=this.view.findIndex((e=>e===i));-1!==n&&(this.view[n]=t,this._keys.set(e,t)),this.applyFilters(e,!0)}}},75287:(e,t,i)=>{"use strict";i.d(t,{T:()=>d});var n=i(56221),s=i(37262),r=i(59279),a=i(97998),o=i(35895);const l=new a.Z("ObservableObject"),c=1===(0,r.eY)("debug",0);class d extends n.y{constructor(){super(),this._propertyObservables={},this._valueCache={},this._dirtyKeys=new Set,Object.defineProperties(this,{_propertyObservables:{value:this._propertyObservables,writable:!1,enumerable:!1},_valueCache:{value:this._valueCache,writable:!1,enumerable:!1},_dirtyKeys:{value:this._dirtyKeys,writable:!1,enumerable:!1}}),c&&setTimeout((()=>{!function(e){const t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=e[i],e._valueCache[i]=e[i],Object.defineProperty(e,i,{get:()=>t[i],set:s=>{const r=e._valueCache[i];(r!==s||n.y.isObservable(r)&&r._dirtyObservable)&&h(e,i),t[i]=s},enumerable:!0}))}(this)}),1)}onPropertyChanged(e,t){if(this._propertyObservables[e]||(this._propertyObservables[e]=[]),-1!==this._propertyObservables[e].indexOf(t))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");return(0,o.k1)((()=>this._propertyObservables[e].push(t)),(()=>this.removeOnPropertyChanged(e,t)),!0,e)}removeOnPropertyChanged(e,t){const i=this._propertyObservables[e].indexOf(t);i>=0&&this._propertyObservables[e].splice(i,1)}commit(e=[]){for(const t of e)this._dirtyKeys.add(t);this.setDirtyUp(),this.notifyUp()}setDirtyUp(){for(const e in this){if(!this.hasOwnProperty(e))continue;const t=this._valueCache[e],i=this[e],s=typeof i,r="undefined"===s||"string"===s||"number"===s||"boolean"===s||null===i;if(this._propertyObservables[e]&&!r&&!n.y.isObservable(i))throw new Error(`Property ${e} has property listeners, but has a value that is not observable or a primitive!`);t!==i?(this.removeChildObservables(t),this.addChildObservable(i),this._valueCache[e]=i,this._dirtyKeys.add(e)):n.y.isObservable(t)&&t._dirtyObservable&&this._dirtyKeys.add(e)}super.setDirtyUp()}notifyObservers(){if(this._dirtyObservable&&!this._observerNotifying&&this._activeObservable){this._observerNotifying=!0;for(const e of this._dirtyKeys){for(const t of this._propertyObservables[e]||[])this.notifyPropertyObserver(t,e);c&&p(this,e)}this._observerNotifying=!1,this._dirtyKeys.clear()}super.notifyObservers()}notifyPropertyObserver(e,t){e(this._valueCache[t])}notifyObserver(e){e(this)}deepCopy(){const e={};for(const t in this)this.hasOwnProperty(t)&&(e[t]=(0,s.p$)(this[t]));return e}}const u=new Map;function h(e,t){u.has(e)||u.set(e,{});u.get(e)[t]=Error()}function p(e,t){if(u.has(e)){const i=u.get(e);i[t]&&delete i[t]}}if(c){const e=setInterval((()=>{(function(){for(const e of u.values())for(const t in e)return l.error(`ObservableObject property "${t}" was still dirty after one tick! Did you forget a .commit()?`),l.error("See stack trace of the property write below:"),l.error(e[t].stack),!0;return!1})()&&void 0!==e&&clearInterval(e)}),16)}},32093:(e,t,i)=>{"use strict";i.d(t,{$:()=>l});var n=i(56221),s=i(37082),r=i(37262);function a(e,t){const i=Object.getOwnPropertyNames(t);for(const n of i)void 0===e[n]&&("function"==typeof t[n]?Object.defineProperty(e,n,{value:t[n].bind(e)}):Object.defineProperty(e,n,{value:t[n],writable:!0}));null!==Object.getPrototypeOf(Object.getPrototypeOf(t))&&a(e,Object.getPrototypeOf(t))}var o=i(75287);const l=e=>{if(!e||0===Object.keys(e).length)throw new Error("createObservableProxy() only works on objects that has predefined keys. Did you mean createObservableMap or createObservableArray?");if(e instanceof o.T)throw new Error("Using ObservableProxy on an ObservableObject is a BUG!");if(e.isObservableProxy)return e;const t={},i=new n.y,l=Object.create(e);Object.defineProperties(l,{isObservableProxy:{value:!0},onPropertyChanged:{value:(e,i)=>t[e].onChanged(i)},removeOnPropertyChanged:{value:(e,i)=>t[e].removeOnChanged(i)},deepCopy:{value:()=>(0,r.p$)(e)}}),a(l,i);for(const i in e)if(e.hasOwnProperty(i)){const n=(0,s.Y)(e[i]);t[i]=n,l.addChildObservable(n),Object.defineProperty(l,i,{get:()=>e[i],set:n=>{e[i]=n,t[i].value=n},enumerable:!0})}return Object.seal(l),l}},37082:(e,t,i)=>{"use strict";i.d(t,{f:()=>r,Y:()=>a});var n=i(56221),s=i(37262);class r extends n.y{constructor(e){super(),this.value=e}notifyObserver(e){e(this.value)}get value(){return this._value}set value(e){this._value!==e&&(this.removeChildObservables(this._value),this.addChildObservable(e),this._value=e,this.setDirty())}deepCopy(){return(0,s.p$)(this._value)}}const a=e=>new r(e)},98748:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});class n{constructor(){this.observers=new Set}observe(e){this.observers.add(e);const t=this;return{renew(){t.observers.add(e)},cancel(){t.removeObserver(e)}}}removeObserver(e){this.observers.delete(e)}notify(){for(const e of this.observers)e.notify()}}},79728:(e,t,i)=>{"use strict";var n;i.d(t,{g:()=>n}),function(e){e.BLURS="blurs",e.BLUR_SUGGESTIONS="blur-suggestions",e.FLOORS="floors",e.HIGHLIGHTS="highlights",e.LABELS="labels",e.MATTERTAGS="mattertags",e.MEASUREMENTS="measurements",e.NOTES="notes",e.ORDERED_LISTS="orderedLists",e.PHOTOS="photos",e.SETTINGS="settings",e.START_LOCATION="startlocation",e.SWEEPS="sweeps",e.LAYERS="layers"}(n||(n={}))},89570:(e,t,i)=>{"use strict";i.d(t,{V:()=>n});class n{constructor(...e){this.subs=e}renew(){for(const e of this.subs)e.renew()}cancel(){for(const e of this.subs)e.cancel()}}},35895:(e,t,i)=>{"use strict";i.d(t,{gm:()=>s,k1:()=>a});const n=new(i(97998).Z)("Subscription");class s{constructor(e,t,i){this.watchedData=e,this.registerSubscription=t,this.unregisterSubscription=i}createSubscription(e,t){return new r((()=>this.registerSubscription(e)),(()=>this.unregisterSubscription(e)),t)}getData(){return this.watchedData()}}class r{constructor(e,t,i=!1,n=""){this.startSubscription=e,this.endSubscription=t,this.id=n,this.isSubbed=!1,i&&this.renew()}renew(){this.isSubbed?n.debugWarn(`Duplicate subscription renew ${this.id}`):(this.startSubscription(),this.isSubbed=!0)}cancel(){this.isSubbed&&(this.endSubscription(),this.isSubbed=!1)}get active(){return this.isSubbed}}function a(e,t,i=!0,n=""){return new r(e,t,i,n)}},92826:(e,t,i)=>{"use strict";i.d(t,{r:()=>n});class n{constructor(e,t,i,n){this.target=e,this.type=t,this.listener=i,this.options=n,this.renew()}renew(){this.target.addEventListener(this.type,this.listener,this.options)}cancel(){this.target.removeEventListener(this.type,this.listener)}}},37262:(e,t,i)=>{"use strict";i.d(t,{p$:()=>s,TS:()=>r,br:()=>a,NK:()=>o,hj:()=>l});const n=e=>"propertyObservers"===e||"changeObservers"===e||"isObservable"===e||"childChangeFunctions"===e||"isObservableProxy"===e||"diffRoot"===e||"elementChangedHandlers"===e||"knownKeysMap"===e||"knownKeysList"===e||"isVector2"===e||"isVector3"===e||"isQuaternion"===e||"onPropertyChanged"===e||"removeOnPropertyChanged"===e||"onChanged"===e||"target"===e,s=(e,t=[])=>{if(void 0!==e){if(t.includes(e))return Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};if(e instanceof Date)return new Date(e);if(null===e)return null;if(e.deepCopy)return e.deepCopy();if(e.isQuaternion)return{x:e.x,y:e.y,z:e.z,w:e.w};if("object"==typeof e){const i=Array.isArray(e)||ArrayBuffer.isView(e)?[]:{};for(const r in e){if(n(r))continue;const a=e[r];a instanceof Date?i[r]=new Date(a):"function"!=typeof a&&(t.push(e),i[r]="object"==typeof a?s(a,t):a,t.pop())}return i}return e}},r=(e,t)=>{for(const i in t){if("function"==typeof t[i])continue;if(n(i)&&!e.hasOwnProperty(i))continue;const a=t[i];if(e.hasOwnProperty(i)){const t=e[i];(null===t?null:typeof t)!==(null===a?null:typeof a)?e[i]=s(a):"object"==typeof t?t instanceof Date?e[i]=new Date(a):r(t,a):e[i]=a}else e[i]=s(a)}},a=(e,t,i=!1)=>{const n={};for(const s in e){const r=e[s],l=t[s];o(r,l)&&(void 0===r||void 0===l||typeof r!=typeof l||"object"!=typeof r?n[s]=l:Array.isArray(l)?o(r,l)&&(n[s]=l):n[s]=i?l:a(r,l))}for(const i in t)i in e||(n[i]=t[i]);return n},o=(e,t)=>{if(null===e||"object"!=typeof e)return e!==t;if(!t)return!0;for(const i in t)if(!(i in e))return!0;for(const i in e)if(o(e[i],t[i]))return!0;return!1};function l(e){return"number"==typeof e}},15462:(e,t,i)=>{"use strict";i.d(t,{I:()=>s});var n=i(84428);class s{}s.MP_BRAND=new n.Color("rgb(255, 49, 88)"),s.MATTERTAG_BLUE=new n.Color("rgb(3, 104, 125)"),s.WHITE=new n.Color("rgb(255, 255, 255)"),s.BLACK=new n.Color("rgb(0, 0, 0)"),s.RED=new n.Color(16711680),s.GREEN=new n.Color(65280),s.BLUE=new n.Color(255),s.YELLOW=new n.Color(16776960)},35221:(e,t,i)=>{"use strict";var n;function s(e){const t=new Date;t.setHours(0,0,0,0),e.setHours(0,0,0,0);const i=(t.getTime()-e.getTime())/864e5;if(0===i)return n.TODAY;if(1===i)return n.YESTERDAY;if(i<7)return n.THIS_WEEK;const s=Math.floor(i/7);return 1===s?n.ONE_WEEK_AGO:2===s?n.TWO_WEEKS_AGO:3===s?n.THREE_WEEKS_AGO:n.OLDER}i.d(t,{Z:()=>n,f:()=>s}),function(e){e.TODAY="TODAY",e.YESTERDAY="YESTERDAY",e.THIS_WEEK="THIS_WEEK",e.ONE_WEEK_AGO="ONE_WEEK_AGO",e.TWO_WEEKS_AGO="TWO_WEEKS_AGO",e.THREE_WEEKS_AGO="THREE_WEEKS_AGO",e.OLDER="OLDER"}(n||(n={}))},88977:(e,t,i)=>{"use strict";var n;i.d(t,{Z:()=>s}),function(e){e[e.GL_TEXTURE_CUBE_MAP_POSITIVE_X=0]="GL_TEXTURE_CUBE_MAP_POSITIVE_X",e[e.GL_TEXTURE_CUBE_MAP_NEGATIVE_X=1]="GL_TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.GL_TEXTURE_CUBE_MAP_POSITIVE_Y=2]="GL_TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.GL_TEXTURE_CUBE_MAP_NEGATIVE_Y=3]="GL_TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.GL_TEXTURE_CUBE_MAP_POSITIVE_Z=4]="GL_TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.GL_TEXTURE_CUBE_MAP_NEGATIVE_Z=5]="GL_TEXTURE_CUBE_MAP_NEGATIVE_Z"}(n||(n={}));const s=n},12529:(e,t,i)=>{"use strict";var n;i.d(t,{z:()=>n}),function(e){e[e.boundingSkybox=-100]="boundingSkybox",e[e.default=0]="default",e[e.panoMarker=4]="panoMarker",e[e.reticule=5]="reticule",e[e.grid=5]="grid",e[e.meshTrims=5]="meshTrims",e[e.pins360=6]="pins360",e[e.portals=9]="portals",e[e.rotators=10]="rotators",e[e.pins=14]="pins",e[e.pinSelectedHalo=15]="pinSelectedHalo",e[e.lines=20]="lines",e[e.endpoints=21]="endpoints",e[e.labels=22]="labels",e[e.gizmos=23]="gizmos",e[e.ghostFloorDepthPrepass=50]="ghostFloorDepthPrepass",e[e.ghostFloor=51]="ghostFloor",e[e.colorOverlay=1e3]="colorOverlay"}(n||(n={}))},95160:(e,t,i)=>{"use strict";var n;i.d(t,{C:()=>n}),function(e){e.TEXT="text",e.LINK="link",e.HASH="hash",e.USER="user"}(n||(n={}))},90304:(e,t,i)=>{"use strict";i.d(t,{f:()=>r,e:()=>n});var n,s=i(84428);class r{}r.UP=new s.Vector3(0,1,0),r.DOWN=new s.Vector3(0,-1,0),r.LEFT=new s.Vector3(-1,0,0),r.RIGHT=new s.Vector3(1,0,0),r.FORWARD=new s.Vector3(0,0,-1),r.BACK=new s.Vector3(0,0,1),r.ZERO=new s.Vector3(0,0,0),r.UNIT=new s.Vector3(1,1,1),r.HORIZONTAL_PLANE=new s.Vector3(1,0,1),function(e){e.NONE="NONE",e.UP="UP",e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT",e.FORWARD="FORWARD",e.BACK="BACK",e.ZERO="ZERO",e.UNIT="UNIT",e.HORIZONTAL_PLANE="HORIZONTAL_PLANE"}(n||(n={}))},2224:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var n=i(67223);class s extends Error{constructor(e,t){super(e instanceof Error?e.message:e),this.name="BaseException",t&&(this.code=t),e instanceof Error&&(this.originalError=e,(0,n.Ad)(e)&&(this.isMock=!0))}}},66746:(e,t,i)=>{"use strict";i.d(t,{n:()=>s});var n=i(2224);class s extends n.y{constructor(e="Not implemented"){super(e),this.name="NotImplemented"}}},7689:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(2224);class s extends n.y{constructor(e="Out of range"){super(e),this.name="OutOfRangeException"}}},41753:(e,t,i)=>{"use strict";i.d(t,{f:()=>s});var n=i(2224);class s extends n.y{constructor(e="Unhandled Transition Exception"){super(e),this.name="TransitionException"}}},67223:(e,t,i)=>{"use strict";function n(e){return!!(e&&e instanceof Error&&e.code)}function s(e){return!!(e&&e instanceof Error&&e.originalError)}function r(e){return!!(e&&e instanceof Error&&e.isMock)}function a(e){return n(e)?e.code:""}function o(e){const t=[];let i=e;for(;i;)n(i)&&t.push(i.code),i=s(i)?i.originalError:void 0;return t}i.d(t,{bh:()=>n,Ad:()=>r,zg:()=>a,UX:()=>o})},77827:(e,t,i)=>{"use strict";i.d(t,{U:()=>o});var n=i(66746),s=i(27553),r=i(95548),a=i(63422);class o{constructor(e={readonly:!0}){const{baseUrl:t}=e;this.config=e,this.client=new s.w({baseUrl:t,server:a.wO})}async create(...e){throw new n.n}async read(e={}){throw new n.n}async update(...e){throw new n.n}async delete(...e){throw new n.n}async query(e,t,i={}){if(!o.baseViewId)throw new r.SN("Cannot read Attachments, no model view configured");return this.client.query(e,t,i)}async mutate(e,t,i){const{readonly:n}=this.config;if(n)throw new r.pp("Cannot write Attachments, model is in read-only mode");if(!o.baseViewId)throw new r.SN("Cannot write Attachments, no model view configured");return this.client.mutate(e,t,i)}static setBaseViewId(e){o.baseViewId=e}}o.baseViewId=null},17788:(e,t,i)=>{"use strict";i.d(t,{u:()=>d});var n=i(66746),s=i(27553),r=i(95548),a=i(97998),o=i(59279),l=i(35895);const c=new a.Z("MdsStore");class d{constructor(e={readonly:!0}){this.viewId=null,this.newDataCallbacks=new Set;const{baseUrl:t,viewId:i}=e;this.config=e,this.client=new s.w({baseUrl:t}),i&&(this.viewId=i)}dispose(){d.refreshableStores.has(this)&&d.refreshableStores.delete(this)}async create(...e){throw new n.n}async read(e={}){throw new n.n}async update(...e){throw new n.n}async delete(...e){throw new n.n}onNewData(e){d.refreshableStores.add(this);return(0,l.k1)((()=>this.newDataCallbacks.add(e)),(()=>this.newDataCallbacks.delete(e)))}async refresh(){const e=await this.read();return await Promise.all(Array.from(this.newDataCallbacks.values()).map((t=>t(e)))),e}async query(e,t,i={}){if(!this.getViewId())throw new r.SN("No model view specified for query");const n=Object.assign({fetchPolicy:"cache-first",prefetchKey:this.prefetchKey},i),{fetchPolicy:s}=i;let a;if("no-cache"!==s){for(const i of d.sharedCache)if(a=await i.read(e,t,n),void 0!==a){c.debug(`Using cached response for ${n.prefetchKey}`);break}if(a)return a}return this.client.query(e,t,n)}async mutate(e,t,i){const{readonly:n}=this.config;if(n)throw new r.pp("Cannot mutate in read-only mode");if(!this.getViewId())throw new r.SN("Cannot mutate, no view was specified");return this.client.mutate(e,t,i).then((e=>{const t="53100"===(0,o.eY)("error","");if(!s.w.isOk(e)||t){const i=new r.w0(s.w.getErrorMessage(e));throw t&&(i.isMock=!0),i}return e}))}setStoreViewId(e){this.viewId=e}getViewId(){const e=this.viewId||d.currentViewId||d.baseViewId;if(!e)throw new Error("Invalid view id!");return e}static async setCurrentViewId(e){const t=Array.from(d.refreshableStores.values());d.currentViewId=e,await Promise.all(t.map((e=>e.refresh())))}static async refreshLayeredStores(e){const t=Array.from(d.refreshableStores.values()).filter((t=>e.includes(t.layeredType)));await Promise.all(t.map((e=>e.refresh())))}static setBaseViewId(e){d.baseViewId=e}static addSharedCache(e){d.sharedCache.add(e)}static removeSharedCache(e){d.sharedCache.delete(e)}static getBaseViewId(){if(!d.baseViewId)throw new Error("MdsStore baseViewId invalid!");return d.baseViewId}shouldWriteLayerId(){return!!d.currentLayerId}}d.baseViewId=null,d.currentViewId=null,d.currentLayerId=null,d.sharedCache=new Set,d.refreshableStores=new Set},27553:(e,t,i)=>{"use strict";i.d(t,{w:()=>m});var n=i(29474),s=i(23564),r=i(81707),a=i(80496);var o=i(18448),l=i(97998),c=i(90778),d=i(95548),u=i(63422),h=i(44584);const p=new l.Z("model-api-client");class m{constructor(e={}){const t=e.baseUrl||window.location.origin,i=e.server||u.fH;this.graphUrl=e.url||`${t}${i}`,p.debug(`Initialized Model API client for ${this.graphUrl}`);const o=(0,n.createHttpLink)({uri:this.graphUrl}),l=(c=(e,{headers:t={}})=>((0,h.m)(this.graphUrl,t),{headers:t}),new r.i0((function(e,t){var i=(0,s._T)(e,[]);return new a.y$((function(n){var s;return Promise.resolve(i).then((function(t){return c(t,e.getContext())})).then(e.setContext).then((function(){s=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){s&&s.unsubscribe()}}))})));var c;this.apollo=new n.fe({link:l.concat(o),cache:new n.h4})}async query(e,t,i={}){const n=Object.assign(Object.assign({errorPolicy:"all"},i),{query:e,variables:t,fetchPolicy:"no-cache"});return this.apollo.query(n).then((e=>{const{data:t,errors:i}=e;return{data:t,errors:i}})).catch((e=>{throw p.error(e),new d.Zb(e,this.getApolloErrorCode(e))}))}async mutate(e,t,i={}){const n=Object.assign(Object.assign({errorPolicy:"all"},i),{mutation:e,variables:t});return this.apollo.mutate(n).then((e=>{const{data:t,errors:i}=e;return{data:t,errors:i}})).catch((e=>{throw p.error(e),new d.w0(e,this.getApolloErrorCode(e))}))}async upload(e,t,i,n){const s={};let r=0;(0,o.y)(i,((e,t,i)=>{if(e&&((n=e).filename&&n.blob&&n.blob instanceof Blob)){const n="file"+r++;s[n]=e,i[t]=`multipart:${n}`}var n}));const a=new FormData;for(const[e,t]of Object.entries(s))a.append(e,t.blob,t.filename);a.append("query",(0,c.S)(e)),a.append("operation",t),a.append("variables",JSON.stringify(i));const l=(0,h.m)(this.graphUrl,{});return this.uploadFormData(a,l,n).then((e=>{if(!m.isOk(e)){const t=m.getErrorCode(e)||"54200";throw new d.BR(m.getErrorMessage(e),t)}return e}))}getApolloErrorCode(e){var t;if(e instanceof n.cA){const i=null===(t=e.networkError)||void 0===t?void 0:t.statusCode;if(i)return`61${i}`}return"61000"}async uploadFormData(e,t,i){const n=new XMLHttpRequest;n.open("POST",this.graphUrl,!0),n.responseType="json",n.setRequestHeader("Accept","application/json"),i&&(n.upload.onprogress=i);for(const e in t)n.setRequestHeader(e,t[e]);return new Promise(((t,i)=>{n.onreadystatechange=()=>{4===n.readyState&&(200===n.status?t(n.response):0!==n.status&&i(new d.BR(`${n.status} ${n.statusText}`,`54${n.status}`)))},n.onerror=()=>{i(new d.BR("Network error","54002"))},n.send(e)}))}static isOk(e,t){if(t){const i=t.split(".");return 0===(e.errors||[]).filter((e=>{if(!e.path)return!0;for(let t=0;t<Math.min(e.path.length,i.length);t++)if(e.path[t]!==i[t])return!1;return!0})).length}return!(null==e?void 0:e.errors)||0===e.errors.length}static getErrorCode({errors:e}){var t;return(null==e?void 0:e.length)&&(null===(t=e[0].extensions)||void 0===t?void 0:t.code)||""}static getErrorMessage({errors:e}){let t="";return Array.isArray(e)&&e[0]&&(t=e[0].message||e[0].toString(),e.length>1&&(t+=` (+${e.length-1})`)),t}}m.version="2020.05.28"},11221:(e,t,i)=>{"use strict";var n;i.d(t,{h:()=>n}),function(e){e.CACHE="cache",e.PRELOAD="preload",e.NONE="none"}(n||(n={}))},95548:(e,t,i)=>{"use strict";i.d(t,{Zb:()=>s,w0:()=>r,BR:()=>a,SN:()=>o,pp:()=>l});var n=i(2224);class s extends n.y{constructor(e,t="62001"){super(e),this.name="MdsReadError",this.code=t}}class r extends n.y{constructor(e,t="63001"){super(e),this.name="MdsWriteError",this.code=t}}class a extends n.y{constructor(e,t="63002"){super(e),this.name="MdsUploadError",this.code=t}}class o extends n.y{constructor(e,t="52404"){super(e),this.name="InvalidView",this.code=t}}class l extends n.y{constructor(e,t="53001"){super(e),this.name="ReadOnly",this.code=t}}},5823:(e,t,i)=>{"use strict";var n,s,r,a,o,l,c,d,u,h,p,m,f,g,v,b,y,E,S,T,O,_,N,A,w,I,k,P,L,C,R,D,M,x,j,U,H,F,B,V,G,W,z,K,Y,$,q,Z,Q,X,J,ee,te,ie,ne,se,re,ae,oe,le,ce,de,ue,he,pe,me,fe,ge,ve,be,ye,Ee,Se,Te,Oe,_e,Ne,Ae;i.d(t,{l5:()=>c,EV:()=>u,km:()=>O,Z1:()=>P,SF:()=>C,L0:()=>D,eR:()=>M,XR:()=>x,X$:()=>j,x6:()=>U,rq:()=>F,gb:()=>q,LU:()=>Q,Y6:()=>J,bW:()=>ee,Mk:()=>te,ud:()=>ne,EG:()=>re,uI:()=>ae,BE:()=>le,d7:()=>ue,J1:()=>ge,y8:()=>Te,nL:()=>Oe,wO:()=>Ne}),function(e){e.ROLE="ROLE",e.TYPE="TYPE",e.USER_EMAIL="USER_EMAIL"}(n||(n={})),function(e){e.EMPTY="empty",e.PARSED="parsed",e.RAW="raw",e.VERIFIED="verified"}(s||(s={})),function(e){e.FULL="full",e.NONE="none",e.PARTIAL="partial"}(r||(r={})),function(e){e.IMPRESSION="impression",e.MODELLOADED="modelLoaded"}(a||(a={})),function(e){e.LAST7DAYS="last7Days",e.LAST30DAYS="last30Days",e.LIFETIME="lifetime"}(o||(o={})),function(e){e.LZMA="lzma",e.NONE="none"}(l||(l={})),function(e){e.AVAILABLE="available",e.LOCKED="locked",e.UNAVAILABLE="unavailable"}(c||(c={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload"}(d||(d={})),function(e){e.IMAGE="image",e.PDF="pdf",e.RICH="rich",e.VIDEO="video",e.ZIP="zip"}(u||(u={})),function(e){e.DELETED="deleted",e.PROVISIONED="provisioned",e.TRASHED="trashed",e.UPLOADED="uploaded"}(h||(h={})),function(e){e.LOCKED="locked",e.UNAVAILABLE="unavailable",e.UNLOCKED="unlocked"}(p||(p={})),function(e){e.COMPLETED="completed",e.FAILED="failed",e.INPROGRESS="inprogress",e.ORDERED="ordered",e.PLACED="placed",e.PREVIEWABLE="previewable"}(m||(m={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.OUTDOOR="outdoor",e.PANORAMA="panorama",e.TRANSITION="transition",e.UNKNOWN="unknown"}(f||(f={})),function(e){e.WALL="wall",e.WINDOW="window"}(g||(g={})),function(e){e.HANDHELD="handheld",e.OTHER="other",e.PRO="pro",e.SPHERICAL="spherical"}(v||(v={})),function(e){e.DUPLICATE="duplicate",e.FAIL="fail",e.REPLACE="replace",e.SKIP="skip"}(b||(b={})),function(e){e.CREATED="created",e.MODIFIED="modified"}(y||(y={})),function(e){e.FAST="fast",e.NORMAL="normal",e.URGENT="urgent"}(E||(E={})),function(e){e.KILOMETERS="kilometers",e.MILES="miles"}(S||(S={})),function(e){e.MATTERTAGS="Mattertags",e.NOTECOMMENTS="NoteComments",e.NOTES="Notes"}(T||(T={})),function(e){e.BLOCKED="blocked",e.DISABLED="disabled",e.GATED="gated",e.UNLOCKED="unlocked"}(O||(O={})),function(e){e.MAY="may",e.MUST="must",e.MUST_NOT="must_not"}(_||(_={})),function(e){e.ALPHA="alpha",e.COLORED_ROOMS="colored_rooms",e.MEASUREMENTS="measurements",e.PHOTOGRAMY="photogramy",e.SCHEMATIC="schematic"}(N||(N={})),function(e){e.ADMIN="Admin",e.FOLDERCREATOR="FolderCreator",e.FOLDERSHARES="FolderShares",e.USERGROUPFOLDERSHARES="UserGroupFolderShares"}(A||(A={})),function(e){e.ALL="all",e.ID="id",e.NAME="name"}(w||(w={})),function(e){e.CREATED="created",e.MODIFIED="modified",e.NAME="name"}(I||(I={})),function(e){e.COMPLETE="COMPLETE",e.ERROR="ERROR",e.PENDING="PENDING"}(k||(k={})),function(e){e.REEL="reel",e.STORY="story"}(P||(P={})),function(e){e.COMPLETED="completed",e.CREATED="created",e.FAILED="failed",e.INPROGRESS="inprogress"}(L||(L={})),function(e){e.ANCHORLOCATION="AnchorLocation",e.HIGHLIGHTREEL="HighlightReel",e.LABEL="Label",e.MATTERTAG="Mattertag",e.MEASUREMENTPATH="MeasurementPath",e.MODELFLOOR="ModelFloor",e.MODELROOM="ModelRoom",e.NOTE="Note",e.OBJECTANNOTATION="ObjectAnnotation",e.ORDEREDLIST="OrderedList",e.PANORAMICIMAGELOCATION="PanoramicImageLocation",e.PHOTO="Photo"}(C||(C={})),function(e){e.SHOWCASE="showcase"}(R||(R={})),function(e){e.PHOTO="photo",e.RICH="rich",e.VIDEO="video"}(D||(D={})),function(e){e.LINETYPE_2D="linetype_2D",e.LINETYPE_3D="linetype_3D"}(M||(M={})),function(e){e.DISABLED="disabled",e.MEASURE="measure",e.MEASUREANDVIEW="measureAndView"}(x||(x={})),function(e){e.FLOORS="floors",e.HIGHLIGHTREEL="highlightReel",e.IMAGE="image",e.LABELS="labels",e.MATTERTAGS="mattertags",e.MEASUREMENTPATHS="measurementPaths",e.ORDEREDLISTS="orderedLists",e.PLAYEROPTIONS="playerOptions",e.SWEEPS="sweeps"}(j||(j={})),function(e){e.FULL="full",e.PUBLIC="public",e.VIEWER="viewer"}(U||(U={})),function(e){e.ADMIN="Admin",e.MODELCREATOR="ModelCreator",e.MODELSHARES="ModelShares",e.USERGROUPMODELSHARES="UserGroupModelShares"}(H||(H={})),function(e){e.BLACK="black",e.GREY="grey",e.WHITE="white"}(F||(F={})),function(e){e.DEFAULT="default",e.MLS="mls",e.UNBRANDED="unbranded"}(B||(B={})),function(e){e.BUNDLE_COMPLETED="bundle_completed",e.BUNDLE_REQUESTED="bundle_requested",e.DELETED="deleted",e.INSERTED="inserted",e.PROCESSED="processed",e.REPLACED="replaced",e.UPDATED="updated",e.UPLOADED="uploaded"}(V||(V={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived"}(G||(G={})),function(e){e.ID="id",e.INTERNALID="internalId",e.MLSID="mlsId"}(W||(W={})),function(e){e.DEFAULT="default",e.VR="vr"}(z||(z={})),function(e){e.ADDRESS="address",e.CAMERA="camera",e.CAMERAMANUFACTURER="cameraManufacturer",e.CAMERAMODEL="cameraModel",e.EXTENSIONTAG="extensiontag",e.GEODISTANCE="geoDistance",e.GEOREGION="geoRegion",e.ID="id",e.NAME="name",e.STANDARD="standard",e.SUMMARY="summary"}(K||(K={})),function(e){e.CREATED="created",e.LAST7IMPRESSIONSEVENTCOUNT="last7ImpressionsEventCount",e.LAST7MODELSLOADEDEVENTCOUNT="last7ModelsLoadedEventCount",e.LAST7MODELSLOADEDUSERCOUNT="last7ModelsLoadedUserCount",e.LAST30IMPRESSIONSEVENTCOUNT="last30ImpressionsEventCount",e.LAST30MODELSLOADEDEVENTCOUNT="last30ModelsLoadedEventCount",e.LAST30MODELSLOADEDUSERCOUNT="last30ModelsLoadedUserCount",e.LIFETIMEIMPRESSIONSEVENTCOUNT="lifetimeImpressionsEventCount",e.LIFETIMEMODELSLOADEDEVENTCOUNT="lifetimeModelsLoadedEventCount",e.LIFETIMEMODELSLOADEDUSERCOUNT="lifetimeModelsLoadedUserCount",e.MODIFIED="modified",e.SCORE="score"}(Y||(Y={})),function(e){e.COPY="copy",e.EDITED="edited",e.ORIGINAL="original",e.UNKNOWN="unknown"}($||($={})),function(e){e.ACTIVATING="activating",e.ACTIVATION_PENDING="activation_pending",e.ACTIVE="active",e.FAILED="failed",e.INACTIVATING="inactivating",e.INACTIVATION_PENDING="inactivation_pending",e.INACTIVE="inactive",e.PENDING="pending",e.PROCESSING="processing",e.STAGING="staging"}(q||(q={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(Z||(Z={})),function(e){e.PRIVATE="private",e.PUBLIC="public"}(Q||(Q={})),function(e){e.SERIAL="serial"}(X||(X={})),function(e){e.AUTO="auto",e.LEFT="left",e.RIGHT="right"}(J||(J={})),function(e){e.AUTO="auto",e.MANUAL="manual",e.UNPLACED="unplaced"}(ee||(ee={})),function(e){e.UPLOAD="upload",e.VISION="vision"}(te||(te={})),function(e){e.CYLINDRICAL="cylindrical",e.EQUIRECTANGULAR="equirectangular",e.SKYBOX="skybox"}(ie||(ie={})),function(e){e.COMMENT="comment",e.MATTERTAG="mattertag"}(ne||(ne={})),function(e){e.FOLDER="folder",e.MODEL="model",e.ORGANIZATION="organization",e.USER="user"}(se||(se={})),function(e){e.SNAPSHOT="snapshot",e.TOUR="tour"}(re||(re={})),function(e){e.USER="user",e.VISION="vision"}(ae||(ae={})),function(e){e.ICON="icon",e.ORIGINAL="original",e.PRESENTATION="presentation",e.PREVIEW="preview",e.THUMBNAIL="thumbnail",e.WEB="web"}(oe||(oe={})),function(e){e.EQUIRECTANGULAR="equirectangular",e.PHOTO2D="photo2D"}(le||(le={})),function(e){e.AVAILABILITY="availability",e.FLAG="flag",e.QUOTA="quota",e.VALUE="value"}(ce||(ce={})),function(e){e.COMPLETE="complete",e.FAILED="failed",e.INPROGRESS="inprogress",e.STAGING="staging"}(de||(de={})),function(e){e.OPEN="open",e.RESOLVED="resolved"}(ue||(ue={})),function(e){e.ALIGNED="aligned",e.FAILED="failed",e.UNALIGNED="unaligned"}(he||(he={})),function(e){e.ANCHOR="anchor",e.ID="id",e.LOCATION="location"}(pe||(pe={})),function(e){e.FACE_BLURRING="face_blurring",e.FIDUCIAL_DETECTION="fiducial_detection",e.FIDUCIAL_REMOVAL="fiducial_removal"}(me||(me={})),function(e){e.DEMO="demo",e.DISCOVERABLE="discoverable",e.FLAGGED="flagged",e.INACTIVE="inactive"}(fe||(fe={})),function(e){e.DEFAULT="default",e.DISABLED="disabled",e.ENABLED="enabled"}(ge||(ge={})),function(e){e.FOLDER="Folder",e.MODEL="Model",e.ORGANIZATION="Organization"}(ve||(ve={})),function(e){e.ASC="asc",e.DESC="desc"}(be||(be={})),function(e){e.ACCEPTED="accepted",e.DISMISSED="dismissed",e.REJECTED="rejected",e.UNREVIEWED="unreviewed"}(ye||(ye={})),function(e){e.HIGH="high",e.LOW="low"}(Ee||(Ee={})),function(e){e.AFTERNOON="afternoon",e.DAWN="dawn",e.DUSK="dusk",e.MORNING="morning",e.NIGHT="night"}(Se||(Se={})),function(e){e.FADE_TO_BLACK="fade_to_black",e.INSTANT="instant",e.INTERPOLATE="interpolate"}(Te||(Te={})),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}(Oe||(Oe={})),function(e){e.CREATED="created",e.EMAIL="email",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.MODIFIED="modified"}(_e||(_e={})),function(e){e.DOLLHOUSE="dollhouse",e.FLOORPLAN="floorplan",e.MESH="mesh",e.PANORAMA="panorama"}(Ne||(Ne={})),function(e){e.BASIC="basic",e.NONE="none",e.TOKEN="token"}(Ae||(Ae={}))},63422:(e,t,i)=>{"use strict";i.d(t,{fH:()=>n,wO:()=>s,AR:()=>r,SJ:()=>a});const n="/api/mp/models/graph",s="/api/mp/attachments/graph",r="features/mds_prefetch",a="data.model.views"},29282:(e,t,i)=>{"use strict";function n(e){return null!=e}i.d(t,{r:()=>n})},54165:(e,t,i)=>{"use strict";var n;i.d(t,{K:()=>n}),function(e){e.Segment="segment",e.Logging="logging",e.Matterport="mp"}(n||(n={}))},56169:(e,t,i)=>{"use strict";i.d(t,{H:()=>f});var n=i(54165),s=i(97998);const r=new s.Z("segment");const a=new s.Z("log-analytics");var o=i(30128),l=i(9133),c=i(41404),d=i(73180),u=i(76721);const h=new s.Z("mp-analytics"),p="ajs_anonymous_id",m="sc_anonymous_id";const f={[n.K.Segment]:{class:class{constructor(e){this.token=e,this.endpointType=n.K.Segment,this.options={}}init(e,t){return this.setOptions(e),this.context=t,this.token?(window.analytics&&window.analytics.initialize&&(window.analytics=null),window.analytics||function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],e.factory=function(t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(t),e.push(i),e}};for(var t=0;t<e.methods.length;t++){var i=e.methods[t];e[i]=e.factory(i)}e.load=function(t,i){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s),e._loadOptions=i},e.SNIPPET_VERSION="4.15.2"}}(),window.analytics.load(this.token),new Promise(((e,t)=>{window.analytics.ready(e)}))):Promise.resolve()}identify(e){window.analytics.identify(e.id,{first_name:e.firstName,last_name:e.lastName,email:e.email})}track(e,t,i){s.Z.level>=3&&r.debug(e,t?JSON.stringify(t).replace('\\"','"'):t),t=Object.assign(t||{},this.options);const n=this.context.integrations?Object.assign({},this.context.integrations):{};n.Intercom=!!i;try{window.analytics.track(e,t,Object.assign(Object.assign({},this.context),{integrations:n}))}catch(t){r.error(`Failed to send data to segment for ${e}`)}}trackAsync(e,t,i){if(t=t||{},navigator.sendBeacon)try{navigator.sendBeacon("https://api.segment.io/v1/t",JSON.stringify({event:e,anonymousId:window.analytics.user().anonymousId(),properties:Object.assign({data:t},this.options),integrations:{Intercom:!!i},writeKey:this.token,sentAt:Date.now(),type:"track",context:this.context}))}catch(e){r.error("Failed to send async segment request")}}setOptions(e){Object.assign(this.options,e)}},key:"segment_key",url:null},[n.K.Logging]:{class:class{init(e,t){return a.debug("logging analytics to console",{options:e,context:t}),Promise.resolve()}identify(e){a.debug("identify as",e)}track(e,t,i){a.debug({eventName:e,data:t,intercom:i})}trackAsync(e,t,i){a.debug({eventName:e,data:t,intercom:i})}setOptions(e){a.debug("set options",e)}},key:null,url:null},[n.K.Matterport]:{class:class{constructor(e,t,i){this.token=e,this.url=t,this.queue=i,this.options={},this.segmentStylePayload=(e,t,i)=>({timestamp:(0,l.U)(new Date),integrations:{Intercom:!!i},context:this.segmentStyleContext(this.context),properties:t,event:e,messageId:(0,o.D)(),anonymousId:this.anonymousId,type:"track",userId:this.user?this.user.id:null,sentAt:(0,l.U)(new Date)}),this.segmentStyleContext=e=>{const t={page:{path:window.location.pathname,referrer:(0,u.an)(),search:window.location.search,title:window.document.title,url:window.location.href},userAgent:navigator.userAgent,library:{name:"showcase",version:"1"},campaign:{}};return Object.assign(Object.assign({},e),t)};const n=(0,d.fp)(m);if(n)this.anonymousId=n;else{const e=(0,c.$)(p);this.anonymousId=e?e.replace(/%22/g,""):(0,o.D)(),(0,d.m8)(m,this.anonymousId)}this.headers={"X-API-Key":this.token,"Content-Type":"application/json",Accept:"application/json"}}init(e,t){return this.setOptions(e),this.context=t,h.debug("init",{options:this.options,context:this.segmentStyleContext(this.context)}),Promise.resolve()}identify(e){h.debug("identify as",e),this.user=e}track(e,t,i){s.Z.level>=3&&h.debug(e,t?JSON.stringify(t).replace('\\"','"'):t),t=Object.assign(t||{},this.options);const n=this.segmentStylePayload(e,t,i);this.queue.post(this.url,{body:n,headers:this.headers})}trackAsync(e,t,i){if(t=Object.assign(t||{},this.options),navigator.sendBeacon)try{const n=this.segmentStylePayload(e,t,i);navigator.sendBeacon(`${this.url}?api_key=${this.token}`,JSON.stringify(n))}catch(e){h.error("Failed to sendBeacon analytics request")}}setOptions(e){Object.assign(this.options,e)}},key:"analytics_mp_key",url:"analytics_mp_url"}}},19564:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var n=i(67294),s=i(33558);function r(){const{analytics:e}=(0,n.useContext)(s.I);return e}},15201:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Analytics:()=>a,default:()=>l,useAnalytics:()=>o.z});var n=i(56169),s=i(97542),r=i(39880);class a extends s.Y{constructor(){super(...arguments),this.name="analytics",this.endpoints=[],this.loaded=!1,this.bufferedData=[],this.options={},this.track=(e,t,i)=>this.loaded?(0,r.gw)(0).then((()=>{this.endpoints.forEach((n=>{n.track(e,t,i)}))})):(this.bufferedData.push({event:e,data:t}),Promise.resolve()),this.trackAsync=(e,t,i)=>{this.loaded?this.endpoints.forEach((n=>{n.trackAsync(e,t,i)})):this.bufferedData.push({event:e,data:t})}}async load(e,t,i,s){this.loaded=!1,Object.assign(this.options,i);for(const i of e){const{provider:e,token:r,url:a}=i;if(void 0===n.H[e])continue;const o=new(0,n.H[e].class)(r,a,t);await o.init(this.options,s),this.endpoints.push(o),this.loaded=!0}return this.loaded&&this.flushBufferedData(),this.loaded}setOptions(e){Object.assign(this.options,e),this.endpoints.forEach((t=>{t.setOptions(e)}))}setUser(e){if(e&&e.loggedIn)for(const t of this.endpoints)t.identify(e)}trackFeatures(...e){this.options.ab_tests||(this.options.ab_tests=[]);const t=this.options.ab_tests;t.push(...e);const i=new Map(t.map((e=>e.split(":")))),n={ab_tests:Array.from(i,(([e,t])=>`${e}:${t}`))};this.endpoints.forEach((e=>{e.setOptions(n)}))}flushBufferedData(){for(const e of this.bufferedData)this.endpoints.forEach((t=>{t.track(e.event,e.data,e.intercom)}));this.bufferedData.length=0}}var o=i(19564);const l=a},16935:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(67992),s=i(32093),r=i(37082);class a extends n.V{constructor(){super(),this.name="annotations-view-data",this.dockedAnnotationObservable=(0,r.Y)(null),this.billboardAnnotationObservable=(0,r.Y)(null),this.billboardSelectedObservable=(0,r.Y)(!1),this.capabilities=new Map}setDockedAnnotation(e,t){const i=e&&t?{id:e,annotationType:t}:null;this.isEqual(i,this.dockedAnnotation)||this.atomic((()=>{this.dockedAnnotationObservable.value=i,i&&this.billboardSelected&&(this.billboardSelectedObservable.value=!1)}))}get dockedAnnotation(){return this.dockedAnnotationObservable.value}onDockedAnnotationChanged(e){return this.dockedAnnotationObservable.onChanged(e)}setBillboardAnnotation(e,t,i){const n=e&&t?{id:e,annotationType:t}:null;this.atomic((()=>{this.isEqual(n,this.billboardAnnotation)||(this.billboardAnnotationObservable.value=n),void 0===i&&n||(this.billboardSelectedObservable.value=!!i,i&&this.dockedAnnotation&&(this.dockedAnnotationObservable.value=null))}))}get billboardAnnotation(){return this.billboardAnnotationObservable.value}get billboardSelected(){return this.billboardSelectedObservable.value}get selectedAnnotation(){return this.billboardSelected?this.billboardAnnotation:null}updateCapabilities(e,t){const i=this.getCapabilities(e);i.atomic((()=>{i.dock=t.dock,i.preview=t.preview,i.select=t.select,i.share=t.share}))}getCapabilities(e){const t={dock:!0,preview:!0,select:!0,share:!0};this.capabilities.has(e)||this.capabilities.set(e,(0,s.$)(t));return this.capabilities.get(e)||(0,s.$)(t)}isEqual(e,t){return(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.annotationType)===(null==t?void 0:t.annotationType)}}},43470:(e,t,i)=>{"use strict";i.d(t,{bd:()=>s,oM:()=>r,Kw:()=>a,G5:()=>o,JD:()=>l,yL:()=>c,Aj:()=>d});var n=i(19663);class s extends n.m{constructor(e,t,i=!1){super(),this.payload={id:e,annotationType:t,force:i}}}class r extends n.m{constructor(e,t,i=!1){super(),this.payload={id:e,annotationType:t,force:i}}}class a extends n.m{constructor(e,t){super(),this.payload={id:e,annotationType:t}}}class o extends n.m{}class l extends n.m{}class c extends n.m{constructor(e,t){super(),this.payload={exceptType:e,exceptId:t}}}class d extends n.m{constructor(e,t){super(),this.payload={id:e,annotationType:t}}}},86283:(e,t,i)=>{"use strict";var n;i.d(t,{J:()=>n}),function(e){e.NOTE="note",e.TAG="tag",e.OBJECT="object"}(n||(n={}))},54253:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var n=i(45755),s=i(16935);const r=(0,n.u)(s.A)},2429:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var n=i(67294),s=i(54253);function r(){const e=(0,s.P)(),[t,i]=(0,n.useState)(e?e.dockedAnnotation:null);return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){i(e?e.dockedAnnotation:null)}const n=e.onChanged(t);return t(),()=>n.cancel()}),[e]),t}(0,i(74554).M)("dockedAnnotation",r)},5604:(e,t,i)=>{"use strict";i.d(t,{q:()=>s,i:()=>r});var n=i(98010);class s extends n.v{constructor(e,t,i){super(),this.annotationType=e,this.id=t,this.attachmentId=i}}class r extends n.v{constructor(e,t,i){super(),this.block=i,this.id=t,this.annotationType=e}}},44877:(e,t,i)=>{"use strict";i.d(t,{C:()=>r,K:()=>a});var n=i(86283);function s(e,t){return t===e.getCurrentUserId()}function r(e,t,i){if(t===n.J.NOTE){return e.isCommenter()&&!!i&&s(e,i.id)}return e.isEditor()}function a(e,t,i){if(t===n.J.NOTE){return e.isCommenter()&&!!i&&s(e,i.id)||e.isOrgAdmin()}return e.isEditor()}},48575:(e,t,i)=>{"use strict";var n;i.d(t,{X:()=>n}),function(e){e.ACCESS_TOKEN_REQUIRED="object.access.token.required",e.FORBIDDEN="spaces.public.access.password.forbidden",e.INVALID_PASSWORD="spaces.public.access.invalid_password",e.TOO_MANY_ATTEMPTS="spaces.public.access.too_many_attempts",e.UNAUTHORIZED="user.unauthorized",e.NOT_FOUND="not.found",e.PASSWORD_REQUIRED="model.unauthorized"}(n||(n={}))},64574:(e,t,i)=>{"use strict";var n;i.d(t,{s:()=>n}),function(e){e.INVALID_CREDENTIALS="invalidcredentials",e.TOO_MANY_ATTEMPTS="toomanyattempts",e.UNKNOWN="unknown"}(n||(n={}))},66672:(e,t,i)=>{"use strict";i.d(t,{r:()=>s});var n=i(59279);class s{constructor(){const e=(0,n.eY)("auth","");this.authenticate(e)}isAuthenticated(){return!!s.token}authenticate(e){return!(!e||"string"!=typeof e)&&(s.token=e.replace(","," "),!0)}getAuthorizationHeader(){return s.token?s.token:""}}},47375:(e,t,i)=>{"use strict";i.d(t,{L:()=>l});var n=i(97998),s=i(64574),r=i(48575),a=i(44584);const o=new n.Z("mp-password-authentication");class l{constructor(e=window.location.origin){this.baseUrl=e,this.errorType=s.s.UNKNOWN}async authenticate(e,t){if(!e.match(/[a-zA-Z0-9]+/))return o.error(`Invalid Model ID ${e}`),!1;const i=`${this.baseUrl}/api/v2/models/${e}/public-access/`;return this.fetchToken(i,t).then((async e=>{let t={};return e&&(t=await e.json(),e.ok&&t.token)?(this.login(t.token),!0):(this.errorType=l.getErrorType(t.code),this.logout(),!1)}))}isAuthenticated(){return void 0!==l.token}login(e){l.token=e}logout(){l.token=void 0}getAuthorizationHeader(){return l.token?`Matterport-Object-Access ${l.token}`:""}async fetchToken(e,t){const i=JSON.stringify({password:t}),n={"Content-Type":"application/json"};return(0,a.m)(e,n),fetch(e,{method:"POST",cache:"no-cache",headers:n,body:i})}static getErrorType(e){switch(e){case r.X.TOO_MANY_ATTEMPTS:return s.s.TOO_MANY_ATTEMPTS;case r.X.INVALID_PASSWORD:return s.s.INVALID_CREDENTIALS}return s.s.UNKNOWN}}},74533:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});class n{static setToken(e){n.token="Bearer "+e}isAuthenticated(){return!!n.token}authenticate(e){return!(!e||"string"!=typeof e)}getAuthorizationHeader(){return n.token?n.token:""}}},76609:(e,t,i)=>{"use strict";var n,s;i.d(t,{SL:()=>n,AB:()=>s,eE:()=>r,Qf:()=>a}),function(e){e.BASE="base",e.STANDARD="standard",e.HIGH="high",e.ULTRAHIGH="ultrahigh"}(n||(n={})),function(e){e[e.BASE=512]="BASE",e[e.STANDARD=1024]="STANDARD",e[e.HIGH=2048]="HIGH",e[e.ULTRAHIGH=4096]="ULTRAHIGH"}(s||(s={}));const r={[n.BASE]:s.BASE,[n.STANDARD]:s.STANDARD,[n.HIGH]:s.HIGH,[n.ULTRAHIGH]:s.ULTRAHIGH},a={[s.BASE]:n.BASE,[s.STANDARD]:n.STANDARD,[s.HIGH]:n.HIGH,[s.ULTRAHIGH]:n.ULTRAHIGH}},59625:(e,t,i)=>{"use strict";i.d(t,{af:()=>c,gx:()=>n});var n,s=i(67992),r=i(75287),a=i(28361),o=i(46391),l=i(14715);class c extends s.V{constructor(e={}){super(),this.name="player-options",this.options=new d(e)}resetDefaultTourOptions(){this.options.fast_transitions=l.LI,this.options.transition_speed=l.p$,this.options.transition_time=l.rd,this.options.pan_speed=l.tu,this.options.dollhouse_pan_speed=l.nr,this.options.zoom_duration=l.we,this.options.pan_angle=l.Cj,this.options.pan_direction=l.y6,this.options.commit()}}class d extends r.T{constructor(e){super(),this.presented_by=!1,this.highlight_reel=!0,this.floor_plan=!0,this.tour_buttons=!0,this.labels=!0,this.labels_dh=!0,this.floor_select=!0,this.space_search=!0,this.measurements=!0,this.measurements_saved=!0,this.dollhouse=!0,this.contact_email=!1,this.address=!1,this.contact_name=!1,this.model_summary=!1,this.contact_phone=!1,this.model_name=!1,this.external_url=!1,this.unit_type=o.M.IMPERIAL,this.background_color=a.z.default,this.fast_transitions=l.LI,this.transition_speed=l.p$,this.transition_time=l.rd,this.pan_speed=l.tu,this.dollhouse_pan_speed=l.nr,this.zoom_duration=l.we,this.pan_angle=l.Cj,this.pan_direction=l.y6,e&&this.copy(e)}copy(e){this.presented_by=!!e.presented_by,this.highlight_reel=!!e.highlight_reel,this.floor_plan=!!e.floor_plan,this.tour_buttons=!!e.tour_buttons,this.labels=!!e.labels,this.space_search=!!e.space_search,this.dollhouse=!!e.dollhouse,this.fast_transitions=!!e.fast_transitions,this.contact_email=!!e.contact_email,this.address=!!e.address,this.contact_name=!!e.contact_name,this.model_summary=!!e.model_summary,this.contact_phone=!!e.contact_phone,this.model_name=!!e.model_name,this.external_url=!!e.external_url,void 0!==e.measurements&&(this.measurements=e.measurements),void 0!==e.labels_dh&&(this.labels_dh=e.labels_dh),void 0!==e.floor_select&&(this.floor_select=e.floor_select),void 0!==e.measurements_saved&&(this.measurements_saved=e.measurements_saved),void 0!==e.unit_type&&(this.unit_type=e.unit_type),void 0!==e.background_color&&void 0!==a.z[e.background_color]&&(this.background_color=e.background_color),void 0!==e.transition_speed&&(this.transition_speed=e.transition_speed),void 0!==e.transition_time&&(this.transition_time=e.transition_time),void 0!==e.pan_speed&&(this.pan_speed=e.pan_speed),void 0!==e.dollhouse_pan_speed&&(this.dollhouse_pan_speed=e.dollhouse_pan_speed),void 0!==e.zoom_duration&&(this.zoom_duration=e.zoom_duration),void 0!==e.pan_angle&&(this.pan_angle=e.pan_angle),void 0!==e.pan_direction&&(this.pan_direction=e.pan_direction)}}!function(e){e.PresentedBy="presented_by",e.HighlightReel="highlight_reel",e.FloorPlan="floor_plan",e.TourButtons="tour_buttons",e.Labels="labels",e.LabelsDollhouse="labels_dh",e.Measurements="measurements",e.FloorSelect="floor_select",e.SavedMeasurements="measurements_saved",e.Dollhouse="dollhouse",e.InstantTransitions="fast_transitions",e.TransitionSpeed="transition_speed",e.TransitionTime="transition_time",e.PanSpeed="pan_speed",e.DollhousePanSpeed="dollhouse_pan_speed",e.ZoomDuration="zoom_duration",e.PanAngle="pan_angle",e.PanDirection="pan_direction",e.Units="unit_type",e.DetailsEmail="contact_email",e.DetailsAddress="address",e.DetailsName="contact_name",e.DetailsSummary="model_summary",e.DetailsPhone="contact_phone",e.DetailsModelName="model_name",e.DetailsExternalUrl="external_url",e.BackgroundColor="background_color",e.SpaceSearch="space_search"}(n||(n={}))},66777:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(84428),s=i(97998),r=i(76609),a=i(39880);const o=new s.Z("api"),l={[r.SL.BASE]:256,[r.SL.STANDARD]:1024,[r.SL.HIGH]:2048,[r.SL.ULTRAHIGH]:4096};class c{constructor(e){this.urls=e,this.sweepCubeTextures={}}useTexture(e){const t=this.getTexture(e);if(!t)throw Error("Texture for sweep not loaded before using");return t}loadFace(e,t,i,s){return this.loadFaceImage(e,t,i,s).then((e=>{const t=new n.Texture(e);return t.needsUpdate=!0,t}))}load(e,t=r.SL.STANDARD){const i=this.sweepCubeTextures[e.id];if(i)return o.debug("Skipping load of pano, already loaded"),new Promise((function(e,t){e(i)}));const s=[2,4,0,5,1,3].map((i=>this.loadFaceImage(e,t,i))),a=Promise.all(s).then((t=>{const i=new n.CubeTexture(t);return i.flipY=!1,i.needsUpdate=!0,this.sweepCubeTextures[e.id]=i,i}));return a.catch((()=>{o.error(`Downloading cubemap for pano ${e.id} failed`)})),a}unload(e){var t;const i=this.sweepCubeTextures[e];if(!i)throw Error("Texture for sweep not loaded before unloading");i.dispose(),null===(t=i.images)||void 0===t||t.forEach((e=>{var t,i;null===(i=(t=e).close)||void 0===i||i.call(t)})),this.sweepCubeTextures[e]=null}unloadAll(e){const t=(0,a.ow)(e);for(const e of Object.keys(this.sweepCubeTextures))this.sweepCubeTextures[e]&&!t[e]&&this.unload(e)}async loadFaceImage(e,t,i,n){const s=l[t],r=await e.getFaceUrl(t,i);return this.urls.getImageBitmap(r,s,s,n)}getTexture(e){return this.sweepCubeTextures[e]}}},28361:(e,t,i)=>{"use strict";i.d(t,{K:()=>s,z:()=>r});const n={bgPrimary:"#0F1011",bgSecondary:"#1e2023",gridPrimary:"#2d3035",gridSecondary:"#171a1c"},s={black:n,grey:{bgPrimary:"#c9cbcc",bgSecondary:"#9d9d9e",gridPrimary:"#c9cbcc",gridSecondary:"#b0b1b1"},white:{bgPrimary:"#fcfdff",bgSecondary:"#ced0d3",gridPrimary:"#fcfdff",gridSecondary:"#e2e3e5"},default:n};var r;!function(e){e.black="black",e.grey="grey",e.white="white",e.default="black"}(r||(r={}))},51454:(e,t,i)=>{"use strict";i.d(t,{GT:()=>r,V2:()=>a,TR:()=>o});var n=i(2224);class s extends n.y{constructor(e="Api Exception"){super(e),this.name="ApiException"}}class r extends s{constructor(e="Unauthorized"){super(e),this.name="Unauthorized"}}class a extends s{constructor(e="Forbidden"){super(e),this.name="Forbidden"}}class o extends s{constructor(e="Not Found"){super(e),this.name="NotFound"}}},82864:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(53261),s=i(44443);async function r(e){return(0,s.mM)(window.location.href)?e.get("https://static.matterport.com/geoip/",{responseType:"json",priority:n.ru.LOW}):{city:"",country_code:"",country_name:"",region:""}}},25795:(e,t,i)=>{"use strict";i.d(t,{P8:()=>r,gM:()=>a,PT:()=>o});var n=i(65650);let s=null;const r=e=>{s=e},a=()=>s,o=(e,t)=>(s&&(0,n.S)(e)&&(t["x-matterport-application-key"]=s),t)},18839:(e,t,i)=>{"use strict";i.d(t,{l:()=>r,I:()=>a});var n=i(65650);let s=null;const r=e=>{s=e},a=(e,t)=>(s&&(0,n.S)(e)&&(t["x-matterport-application-name"]=s),t)},58533:(e,t,i)=>{"use strict";i.d(t,{t:()=>r,X:()=>a});var n=i(65650);let s=null;const r=e=>{s=e},a=(e,t)=>(s&&(0,n.S)(e)&&(t["x-matterport-application-version"]=s),t)},44584:(e,t,i)=>{"use strict";i.d(t,{m:()=>h});var n=i(18839),s=i(58533),r=i(25795),a=i(47375),o=i(66672),l=i(74533);const c=[new o.r,new l.w,new a.L];var d=i(65650);const u=[(e,t,i=c)=>{const n=i.map((e=>e.getAuthorizationHeader())).find(Boolean);return n&&(0,d.S)(e)&&(t.authorization=n),t},n.I,s.X,r.PT],h=(e,t,i=u)=>(i.forEach((i=>i(e,t))),t)},65650:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});const n=["matterport.com","matterportvr.cn","localhost"],s=["/api/"],r=e=>{let t;try{t=new URL(e.toLowerCase())}catch(e){return!1}const{hostname:i,pathname:r}=t,a=n.some((e=>i===e||i.endsWith(`.${e}`))),o=s.some((e=>r.startsWith(e)));return a&&o}},42404:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>C});var n=i(97998),s=i(53261),r=i(48575),a=i(51454);class o{constructor(e){this.blurEnabled=!1,e&&Object.assign(this,e)}}var l,c=i(82864),d=i(59279);!function(e){e.USER="user",e.ADMIN="admin"}(l||(l={}));class u{constructor(e){this.loggedIn=!1,this.flags=new Set,this.memberships=[],e&&Object.assign(this,e)}getFlags(e=""){if(this.memberships){const e=(0,d.eY)("organization","");for(const t of this.memberships)if(""===e||t.organizationId===e)for(const e of t.flags)this.flags.add(e)}const t=new Set;return this.flags.forEach((i=>{if(0===i.indexOf(e)){const n=i.replace(e,"");t.add(n)}})),t}hasFlag(e,t="showcase"){return this.getFlags().has(`${t}/${e}`)}isOrganizationAdmin(e){const t=this.getMembership(e);return!!(null==t?void 0:t.roles.includes(l.ADMIN))}getMembershipFlags(e){const t=this.getMembership(e);return t?t.flags:[]}getMembership(e){return this.memberships.find((t=>t.organizationId===e))}hasMembershipFlag(e,t){return this.getMembershipFlags(e).includes(t)}getMembershipFeature(e,t){const i=this.getMembership(e);return(null==i?void 0:i.features[t])||!1}hasMembership(e){return this.memberships.some((t=>t.organizationId===e))}}class h{constructor(e){this.features={},e&&Object.assign(this,e)}}var p=i(7162);const m=new n.Z("user.serializers");function f(e,t="23.2.2_webgl-59-ge638ad60fb"){const i=[];for(let n of e){const e=n.match(/^.*\-(\d+(?:\.\d+)*)$/);if(e&&e[1]){if(n=n.replace(/-(\d+(?:\.\d+)*)$/,""),p.o.lt(t,e[1])){m.debug(`Dropping feature flag ${n}, version >= ${e[1]} required`);continue}m.debug(`Enabled versioned feature flag ${n}`)}i.push(n)}return i}var g=i(44584),v=i(31362);const b=new n.Z("ImageBitmapSupport"),y=(0,d.eY)("imageBitmap",null);let E=null;function S(){return"1"===y||(null===E&&function(){if(E=!1,(0,v.vU)()){const e=(0,v.rI)();e.major<=95&&(b.error(`Firefox/${e.major} issue, Disabling ImageBitmap support, upgrade to 96 for better performance.`),E=!0)}}(),!E&&("createImageBitmap"in window?"0"!==y:"1"===y))}var T=i(66672),O=i(27553),_=i(17788),N=i(26965),A=i(37262);class w{constructor(e,t,i){this.query=e,this.variables=t,this.response=i}read(e,t,i){return e!==this.query||(0,A.NK)(t,this.variables)?Promise.resolve(void 0):Promise.resolve(this.response)}}const I=new n.Z("api"),k=Object.freeze({cacheClearTimeout:6e4});class P{constructor(e=new s.gO,t=new s.gO,i={},n=window.location.origin){this.apiQueue=e,this.storeQueue=t,this.prefetchedData=i,this.baseUrl=n,this._configCache={},this._userCache={},this._organizationCache={},setTimeout((()=>{this.prefetchedData={}}),k.cacheClearTimeout)}async init(e){this.user=this.getUser(),e&&await this.getConfigs(e)}getOnStoreQueue(e,t={}){return this.get(e,t,this.storeQueue)}get(e,t={},i=this.apiQueue){const{headers:n={},prefetchFrom:s}=t;return s&&this.prefetchedData[s]?Promise.resolve(this.prefetchedData[s]):(t.headers=(0,g.m)(e,n),i.get(e,t).then((e=>{if(null===e)throw Error("Data from get was null, possibly unparsable JSON");return e})))}getImage(e,t){return this.get(e,Object.assign(Object.assign({},t),{responseType:"image"}))}async getImageBitmap(e,t,i,n={}){if(S()){const s=-1!==e.indexOf("?"),r=e+(s?"&":"?")+"imgopt=1",a=await this.get(r,Object.assign(Object.assign({},n),{responseType:"blob"}));return createImageBitmap(a,0,0,t,i,{imageOrientation:n.flipY?"flipY":"none"})}return this.getImage(e,n)}async getConfigs(e,t){if(e=e.toLowerCase(),!t&&this._configCache[e])return this._configCache[e];const i=t?{responseType:"json"}:{responseType:"json",prefetchFrom:"config"};let n={};const s=this.baseUrl+`/api/v1/config/${e}`;try{n=await this.get(s,i)}catch(e){I.warn(`Failed to load config from ${s}, ignoring`)}return t||(this._configCache[e]=n),n||{}}async getAppKey(e,t,i){if(""===e||""===t)return null;const n=await this.getConfigs(e,i);return n.hasOwnProperty(t)?n[t]:null}async getGeoIpLocation(){return(0,c.Z)(this.apiQueue)}async modelExists(e,t={ignorePrefetch:!1}){var i,n,s,o,l,c,d,u,h;const{ignorePrefetch:p}=t;if(!p&&this.prefetchedData&&this.prefetchedData.model){const{model:t,queries:c}=this.prefetchedData,d=null===(n=null===(i=null==c?void 0:c.GetModelPrefetch)||void 0===i?void 0:i.data)||void 0===n?void 0:n.model;if(!(null==d?void 0:d.id)&&t.has_public_access_password)throw new a.GT("Model requires a password");if(!(new T.r).isAuthenticated()){const t=null===(o=null===(s=null==c?void 0:c.GetModelPrefetch)||void 0===s?void 0:s.errors)||void 0===o?void 0:o.find((e=>{var t;return(null===(t=null==e?void 0:e.path)||void 0===t?void 0:t.length)&&"model"===(null==e?void 0:e.path[0])}));if((null===(l=null==t?void 0:t.extensions)||void 0===l?void 0:l.code)===r.X.NOT_FOUND)throw new a.TR("Model not found (404)");if(d&&(null==d?void 0:d.id)!==e)throw new a.V2("Access denied (403)")}}const m=await this.modelQuery(e);if(null===(c=m.errors)||void 0===c?void 0:c.length){switch(null===(d=m.errors[0].extensions)||void 0===d?void 0:d.code){case r.X.PASSWORD_REQUIRED:throw new a.GT("Access token required (401)");case r.X.NOT_FOUND:throw new a.TR("Model not found (404)");default:throw new a.V2("Access denied (403)")}}else if((null===(h=null===(u=m.data)||void 0===u?void 0:u.model)||void 0===h?void 0:h.id)!==e)throw new a.V2("Access denied (403)")}async getOrganization(e){if(e in this._organizationCache)return this._organizationCache[e];const t=`${this.baseUrl}/api/v2/organizations/${e}`,i=await this.get(t,{responseType:"json"}).catch((e=>{I.error(e)}));let n=null;return i&&(n=new o({id:i.sid,name:i.company_name||"",blurEnabled:!!i.manual_blur})),this._organizationCache[e]=n,n}async getUser(e){if(e&&e in this._userCache)return this._userCache[e];const t=`${this.baseUrl}/api/v2/users/${e||"current"}`,i=function(e){if(!e)return new u;const t=(e.memberships||[]).map((t=>new h({userId:e.user_sid,organizationId:t.organization_sid,name:t.name,flags:f(t.flags||[]),roles:t.roles||[],features:t.features||{}})));return new u({id:e.user_sid,firstName:e.first_name,lastName:e.last_name,email:e.email,loggedIn:e.is_authenticated,flags:new Set(f(e.flags)),memberships:t})}(await this.get(t,{responseType:"json"}).catch((e=>{I.error(e)})));return i.id&&(this._userCache[i.id]=i),i}async modelQuery(e){const t=new O.w({baseUrl:this.baseUrl}),i=await t.query(N.GetModelPolicies,{modelId:e}),n=(i.errors||[]).filter((e=>{var t;return 1===(null===(t=e.path)||void 0===t?void 0:t.length)&&"model"===e.path[0]}));return 0===n.length&&(this.modelDetailCache&&_.u.removeSharedCache(this.modelDetailCache),this.modelDetailCache=new w(N.GetModelPolicies,{modelId:e},i),_.u.addSharedCache(this.modelDetailCache)),{data:i.data,errors:n}}}var L=i(97542);class C extends L.Y{constructor(){super(...arguments),this.name="api-client"}async init(e,t){this.api=new P(e.apiQueue,e.storeQueue,e.prefetchedData,e.baseUrl),await this.api.init(e.preloadConfig)}getApi(){return this.api}}},14715:(e,t,i)=>{"use strict";i.d(t,{gj:()=>r,LI:()=>a,p$:()=>o,rd:()=>l,tu:()=>c,nr:()=>d,we:()=>u,Cj:()=>h,y6:()=>p});var n=i(17686),s=i(14439);const r="TransitionType",a=!0,o=s.Mk,l=s.mL,c=s.pn,d=s.su,u=s.i7,h=s.BA,p=n.kw.Auto},71608:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var n=i(75287),s=i(32347);class r extends n.T{constructor(e){super(),this.category=s.G$.EXTERNAL,this.mediaType=s.DD.IMAGE,this.mimeType="",this.src="",this.height=0,this.width=0,e&&Object.assign(this,e)}copy(e){return this.id=e.id,this.src=e.src,this.url=e.url,this.thumbnailUrl=e.thumbnailUrl,this.height=e.height,this.width=e.width,this.created=e.created,this.category=e.category,this.mediaType=e.mediaType,this.parentId=e.parentId||"",this.parentType=e.parentType,this.filename=e.filename,this.bytes=e.bytes,this.mimeType=e.mimeType||"",this}}},97163:(e,t,i)=>{"use strict";i.d(t,{b:()=>a});var n=i(67992),s=i(15637),r=i(71608);class a extends n.V{constructor(){super(),this.name="attachments-data",this.pendingAttachments=(0,s.q)(),this.removedAttachments=(0,s.q)(),this.currentUploads=(0,s.q)(),this.failedUploads=(0,s.q)()}iteratePending(e){for(const t of this.pendingAttachments)e(t)}iterateRemoved(e){for(const t of this.removedAttachments)e(t)}get pendings(){return this.pendingAttachments}get removals(){return this.removedAttachments}getPendingAttachment(e){return this.pendingAttachments.get(e)}getRemovedAttachment(e){return this.removedAttachments.get(e)}addPending(e){this.pendingAttachments.set(e.id,e)}removePendingAttachment(e){this.pendingAttachments.has(e)&&this.pendingAttachments.delete(e)}clearPending(){this.pendingAttachments.clear()}getPendingAttachmentsForAsset(e,t){const i=[];return this.iteratePending((n=>{n.parentType===t&&n.parentId===e&&i.push(n)})),i}getRemovedAttachmentsForAsset(e,t){const i=[];return this.iterateRemoved((n=>{n.parentType===t&&n.parentId===e&&i.push(n)})),i}markAttachmentForDelete(e){const t=new r.P(e);this.removedAttachments.set(t.id,t)}clearRemovals(){this.removedAttachments.clear()}get uploads(){return this.currentUploads}addUpload(e){this.uploads.set(e.id,e)}updateUpload(e){this.uploads.has(e.id)&&this.uploads.set(e.id,e)}removeUpload(e){this.uploads.has(e)&&this.uploads.delete(e)}clearUploads(){this.uploads.clear()}get failures(){return this.failedUploads}addFailure(e){this.failures.set(e.id,e)}removeFailure(e){this.failures.has(e)&&this.failures.delete(e)}clearFailures(){this.failures.clear()}}},35446:(e,t,i)=>{"use strict";i.d(t,{wu:()=>s,st:()=>r,It:()=>a,iu:()=>o,Ze:()=>l,x9:()=>c,xW:()=>d,$T:()=>u,Rh:()=>h});var n=i(19663);class s extends n.m{constructor(e,t,i){super(),this.id="EMBED_MEDIA",this.payload={parentId:e,parentType:t,src:i}}}class r extends n.m{constructor(e){super(),this.id="LOAD_ATTACHMENT_EMBED",this.payload={attachment:e}}}class a extends n.m{constructor(e,t,i){super(),this.id="UPLOAD_ATTACHMENTS",this.payload={parentId:e,parentType:t,files:i}}}class o extends n.m{constructor(e,t,i){super(),this.id="CONFIRM_ATTACHMENT_CHANGES",this.payload={parentId:e,parentType:t,prevParentId:i}}}class l extends n.m{constructor(){super(...arguments),this.id="CANCEL_ATTACHMENT_CHANGES"}}class c extends n.m{constructor(){super()}}class d extends n.m{constructor(e,t,i){super(),this.payload={open:e,attachments:t,attachmentId:i}}}class u extends n.m{constructor(e){super(),this.id="ATTACHMENT_REMOVE",this.payload={attachment:e}}}class h extends n.m{constructor(e){super(),this.id="ATTACHMENT_REMOVE_FAILED_UPLOAD",this.payload={id:e}}}},32347:(e,t,i)=>{"use strict";var n,s,r,a;i.d(t,{kV:()=>n,_V:()=>s,DD:()=>r,G$:()=>a}),function(e){e.FILE_TOO_LARGE="oversize",e.EMPTY_FILE="empty",e.OVER_QUOTA="overQuota",e.UPLOAD_FAILED="failed",e.PERMISSION_DENIED="permission"}(n||(n={})),function(e){e.EMBED_FAIL="embedFail",e.EMBED_SUCCESS="success"}(s||(s={})),function(e){e.IMAGE="image",e.PDF="pdf",e.VIDEO="video",e.RICH="rich",e.ZIP="zip",e.TEXT="text",e.AUDIO="audio",e.MODEL="model",e.APPLICATION="application"}(r||(r={})),function(e){e.EXTERNAL="external",e.UPLOAD="upload",e.SANDBOX="sandbox"}(a||(a={}))},13794:(e,t,i)=>{"use strict";i.d(t,{O:()=>s,Rd:()=>r,Vj:()=>a,RE:()=>o,v8:()=>l});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.attachments=e,this.attachmentId=t}}class r extends n.v{}class a extends n.v{constructor(e){super(),this.upload=e}}class o extends n.v{constructor(e){super(),this.upload=e}}class l extends n.v{constructor(e,t,i,n){super(),this.attachment=e,this.status=t,this.parentId=i,this.parentType=n}}},36892:(e,t,i)=>{"use strict";i.d(t,{yk:()=>n,z6:()=>s,Aw:()=>r,t8:()=>a});const n=25,s=524288e3,r=["image/gif","image/png","image/jpeg","image/webp","image/bmp"],a=["image/gif","image/png","image/jpeg","image/webp"]},21149:(e,t,i)=>{"use strict";i.d(t,{Uq:()=>a,lV:()=>o,Ug:()=>l,ae:()=>c,id:()=>d,bY:()=>u,m:()=>h,VV:()=>p});var n=i(32347),s=i(36892),r=i(5823);function a(e){return!(e.category!==n.G$.UPLOAD||!e.mimeType)&&s.t8.includes(e.mimeType)}function o(e){return e.category===n.G$.EXTERNAL||e.category===n.G$.SANDBOX||!!e.mimeType&&s.Aw.includes(e.mimeType)}function l(e){return e.filter((e=>o(e)))}function c(e){return e.filter((e=>!o(e)))}function d(e){return e.startsWith("image")?n.DD.IMAGE:e.startsWith("video")?n.DD.VIDEO:e.startsWith("audio")?n.DD.AUDIO:e.startsWith("model")?n.DD.MODEL:e.startsWith("text")?n.DD.TEXT:"application/pdf"===e?n.DD.PDF:n.DD.APPLICATION}function u(e){switch(e){case r.EV.IMAGE:return n.DD.IMAGE;case r.EV.PDF:return n.DD.PDF;case r.EV.VIDEO:return n.DD.VIDEO;case r.EV.RICH:return n.DD.RICH;case r.EV.ZIP:return n.DD.ZIP;default:throw Error(`Unknown attachment media type ${e}`)}}function h(e){switch(e){case n.DD.IMAGE:return r.EV.IMAGE;case n.DD.PDF:return r.EV.PDF;case n.DD.VIDEO:return r.EV.VIDEO;case n.DD.RICH:return r.EV.RICH;case n.DD.ZIP:return r.EV.ZIP;default:throw Error(`Unknown media type ${e}`)}}function p(e){if(!e)return"0";const t=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),3),i=["B","kB","MB","GB"][t];return`${Number((e/Math.pow(1e3,t)).toFixed(1))}${i}`}},42147:(e,t,i)=>{"use strict";i.d(t,{L:()=>s});var n=i(19663);class s extends n.m{}},25985:(e,t,i)=>{"use strict";i.d(t,{M:()=>g,r:()=>m});var n=i(18596),s=i(67992);const r=(e,t)=>e&&t?e.equals(t):e===t;var a=i(67944),o=i(31546),l=i(69505),c=i(84428),d=i(75287);class u extends d.T{constructor(e){super(),this.position=new c.Vector3,this.rotation=new c.Quaternion,this.focalDistance=-1,this.projection=(0,n.AN)(e)}aspect(){return this.projection.elements[5]/this.projection.elements[0]}clone(e=new u(this.aspect())){return e.position.copy(this.position),e.rotation.copy(this.rotation),e.focalDistance=this.focalDistance,e.projection.copy(this.projection),e}isOrtho(){return(0,a.Pp)(this.projection)}fovX(){return 2*Math.atan(1*this.aspect()/this.projection.elements[5])}fovY(){return 2*Math.atan(1/this.projection.elements[5])}}var h=i(89557);class p extends d.T{constructor(){super(...arguments),this.startTime=0,this.duration=0,this.active=!1,this.type=null,this.progress=new h.z(0),this.blackoutProgress=new h.z(0),this.from={position:new c.Vector3,rotation:new c.Quaternion,projection:new o.M},this.to={position:new c.Vector3,rotation:new c.Quaternion,projection:new o.M},this.rotationDelay=0,this.rotationDuration=1,this.matrixDelay=0,this.matrixDuration=1,this.activeInternal=!1,this.promise=null}}const m=(e,t,i=!0)=>{t.position=f(e.position,t.position,i),t.rotation=f(e.rotation,t.rotation,i),t.projection=f(e.projection,t.projection,i),t.focalDistance=e.focalDistance},f=(e,t,i=!0)=>(e&&!t?t=e.clone():e&&t?t.copy(e):i&&(t=void 0),t);class g extends s.V{constructor(e,t){super(),this._width=e,this._height=t,this.name="camera",this._baseProjection=new o.M,this._orthoMatrix=new o.M,this._lastOrthoZoom=1,this._perspectiveMatrix=new o.M,this.pose=new u(e/t),this.transition=new p,this.setCameraDimensions(e,t),this._baseFovY=l.Ue*n.oR.fov}setCameraDimensions(e,t){if(void 0===e||void 0===t)return;this._width=e,this._height=t;const i=e/t,s=this.isOrtho()?(0,n.aH)(e,t,t/(2*this.orthoZoom()),this._orthoMatrix):this._perspectiveMatrix.makePerspectiveFov(l.MN*this.fovY(),i,n.oR.near,n.oR.far);if(this.pose.projection.copy(s),this.transition.active&&this.transition.to.projection)if((0,a.Pp)(this.transition.to.projection)){const i=(0,a.S3)(this.transition.to.projection);this.transition.to.projection.copy((0,n.aH)(e,t,t/(2*i)))}else{const e=2*l.MN*Math.atan(1/this.transition.to.projection.elements[5]);this.transition.to.projection.makePerspectiveFov(e,i,n.oR.near,n.oR.far)}this.pose.commit()}setBaseProjection(e){this._baseProjection=e}get width(){return this._width}get height(){return this._height}get baseFovY(){return this._baseFovY}aspect(){return this.pose.aspect()}fovY(){return this.pose.fovY()}fovX(){return this.pose.fovX()}isOrtho(){return this.pose.isOrtho()}baseZoom(){return this.pose.projection.elements[0]/2}defaultZoom(){return(0,a.Pp)(this._baseProjection)?(0,a.S3)(this._baseProjection):this.perspectiveZoom()}zoom(){return this.isOrtho()?this.orthoZoom():this.perspectiveZoom()}orthoZoom(){const e=(0,a.S3)(this.pose.projection);return isNaN(e)?this._lastOrthoZoom:(this._lastOrthoZoom=e,e)}perspectiveZoom(){return this.baseFovY/this.fovY()}copyTransition(e){this.transition.active=e.active,this.transition.activeInternal=e.activeInternal,this.transition.type=e.type,this.transition.startTime=e.startTime,this.transition.duration=e.duration,this.transition.rotationDelay=e.rotationDelay,this.transition.rotationDuration=e.rotationDuration,this.transition.matrixDelay=e.matrixDelay,this.transition.matrixDuration=e.matrixDuration,e.progress&&this.transition.progress.copy(e.progress),e.blackoutProgress&&this.transition.blackoutProgress.copy(e.blackoutProgress),e.from&&m(e.from,this.transition.from),e.to&&m(e.to,this.transition.to),this.transition.promise=e.promise}canTransition(){return!this.transition.active}clone(){const e=new g(this.width,this.height);return e.copy(this),e}copy(e){this.pose.position.copy(e.pose.position),this.pose.rotation.copy(e.pose.rotation),this.pose.focalDistance=e.pose.focalDistance,this.pose.projection.copy(e.pose.projection),this.pose.commit(),this._baseFovY=e.baseFovY,this.copyTransition(e.transition),this.transition.commit(),this._width=e.width,this._height=e.height}shallowIsEqual(e){return this.pose.position.equals(e.pose.position)&&this.pose.rotation.equals(e.pose.rotation)&&this.pose.projection.equals(e.pose.projection)&&this.pose.focalDistance===e.pose.focalDistance&&this.baseFovY===e.baseFovY}isEqual(e){return this.shallowIsEqual(e)&&this.transitionIsEqual(e.transition)}transitionIsEqual(e){return this.transition.active===e.active&&this.transition.type===e.type&&this.transition.progress.equals(e.progress)&&this.transition.blackoutProgress.equals(e.blackoutProgress)&&this.transition.rotationDelay===e.rotationDelay&&this.transition.rotationDuration===e.rotationDuration&&this.transition.matrixDelay===e.matrixDelay&&this.transition.matrixDuration===e.matrixDuration&&this.transition.activeInternal===e.activeInternal&&r(this.transition.from.position,e.from.position)&&r(this.transition.from.rotation,e.from.rotation)&&r(this.transition.from.projection,e.from.projection)&&r(this.transition.to.position,e.to.position)&&r(this.transition.to.rotation,e.to.rotation)&&r(this.transition.to.projection,e.to.projection)&&this.transition.startTime===e.startTime&&this.transition.duration===e.duration}}},18596:(e,t,i)=>{"use strict";i.d(t,{oR:()=>s,AN:()=>r,aH:()=>a});var n=i(31546);const s={fov:75,near:.1,far:3e3},r=(e,t)=>(t||(t=new n.M),t.makePerspectiveFov(s.fov,e,s.near,s.far)),a=(e,t,i=1,r)=>{r||(r=new n.M);const a=e/2,o=t/2,l=r.makeOrthographic(-a,a,o,-o,s.near,s.far);return l.elements[0]*=i,l.elements[5]*=i,l}},99809:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TRANSITION_DISTANCE_MULTIPLIER:()=>N,baseTransitionSpeedKey:()=>A,default:()=>w});var n=i(84428);var s=i(93411),r=i(67944),a=i(56692),o=i(97542),l=i(25985),c=i(98010);class d extends c.v{constructor(e,t){super(),this.from=t,this.to=e,this.timestamp=Date.now()}}class u extends d{}var h=i(46950),p=i(23885),m=i(65636),f=i(34029),g=i(5332),v=i(49827),b=i(26256),y=i(64918),E=i(42147),S=i(41753);class T extends S.f{constructor(e="Unhandled Camera Exception"){super(e),this.name="CameraTransitionException"}}class O extends S.f{constructor(e="Cannot move while the camera is already moving"){super(e),this.name="CameraTransitionException"}}const _={[y.n.Instant]:{blackoutTime:0,transitionTime:0},[y.n.FadeToBlack]:{blackoutTime:m.Z.camera.transitionBlackoutTime,transitionTime:2*m.Z.camera.transitionBlackoutTime},[y.n.Interpolate]:{blackoutTime:0,transitionTime:m.Z.camera.transitionFadeTime},[y.n.MoveToBlack]:{blackoutTime:m.Z.camera.transitionBlackoutTime,transitionTime:m.Z.camera.transitionFadeTime}},N=166,A="Transition time";class w extends o.Y{constructor(){super(...arguments),this.name="camera-data",this.transitionSpeed=m.Z.camera.transitionSpeed,this.baseTransitionTime=m.Z.camera.baseTransitionTime,this.eulerCache=new n.Euler,this.quaternionCache=new n.Quaternion}async init(e,t){this.engine=t,this.market=t.market,this.canvas=await t.market.waitForData(g.W),this.cameraData=new l.M(this.canvas.width,this.canvas.height),this.market.register(this,l.M,this.cameraData),t.market.waitForData(f.e).then((e=>{this.bindings.push(e.onPropertyChanged(A,(e=>{this.baseTransitionTime=e})))})),this.bindings.push(t.commandBinder.addBinding(E.L,(async()=>this.resetPitch())),t.subscribe(a.a,(e=>this.cameraData.setCameraDimensions(e.width,e.height))))}onUpdate(e){}fromPose(){return{position:this.cameraData.pose.position.clone(),rotation:this.cameraData.pose.rotation.clone(),projection:this.cameraData.pose.projection.clone(),focalDistance:this.cameraData.pose.focalDistance}}updateCameraPosition(e){this.cameraData.pose.position.copy(e),this.cameraData.pose.commit()}updateCameraProjection(e){this.cameraData.pose.projection.copy(e),this.cameraData.pose.commit()}updateCameraFocus(e){this.cameraData.pose.focalDistance=e,this.cameraData.pose.commit()}updateCameraRotation(e){this.cameraData.pose.rotation.copy(e),this.cameraData.pose.commit()}resetPitch(){this.eulerCache.setFromQuaternion(this.cameraData.pose.rotation,"YXZ"),this.eulerCache.x=0,this.eulerCache.z=0,this.quaternionCache.setFromEuler(this.eulerCache),this.updateCameraRotation(this.quaternionCache)}canTransition(){return this.cameraData.canTransition()}moveTo(e){if(!this.canTransition())return h.Q.reject(new O("Tried to start transition while another transition was active"));const t=_[e.transitionType],i=e.pose.rotation,n=e.pose.position;let s=e.projection;e.pose.zoom&&(s&&(0,r.Pp)(s)||this.cameraData.isOrtho())&&(s=this.adjustProjectionZoom(s||this.cameraData.pose.projection.clone(),e.pose.zoom));const a=void 0!==e.blackoutTime?e.blackoutTime:t.blackoutTime,o=e.transitionType,l=e.transitionSpeedMultiplier?1/e.transitionSpeedMultiplier:1;let c=o===y.n.Instant?0:e.transitionTime;if(void 0===c)if(e.transitionType===y.n.Interpolate&&n){const e=n.distanceTo(this.cameraData.pose.position);c=this.baseTransitionTime+Math.log2(1+e)*N*this.transitionSpeed*l}else c=t.transitionTime;const p=this.fromPose();this.beginInternalTransition({transitionType:o,transitionTime:c,blackoutTime:a,pose:{position:n,rotation:i},projection:s,easing:e.easing,rotationDelay:e.rotationDelay||0,rotationDuration:e.rotationDuration||1,matrixDelay:e.matrixDelay||0,matrixDuration:e.matrixDuration||1,focalDistance:e.focalDistance||p.focalDistance});const m={position:e.pose.position?e.pose.position.clone():void 0,rotation:e.pose.rotation?e.pose.rotation.clone():void 0,projection:e.projection?e.projection.clone():void 0,focalDistance:e.focalDistance?e.focalDistance:void 0};this.engine.broadcast(new d(m,p));const f=this.cameraData.transition.promise;if(!f)return h.Q.reject(new T("Expected promise to have been created."));const g=this.progressInternalTransition.bind(this),E=this.endInternalTransition.bind(this),S=this;return f.notify(0),this.engine.startGenerator((function*(){let t=16;for(t>=S.cameraData.transition.duration&&(f.notify(.5),yield new b.Jj);t<S.cameraData.transition.duration;){g(t,a);const e=(0,v.uZ)(t/S.cameraData.transition.duration,0,1);f.notify(e),yield new b.Jj,t=16+Date.now()-S.cameraData.transition.startTime}E(e.transitionType),S.cameraData.commit(),f.notify(1),f.resolve(),S.engine.broadcast(new u(m,p))})),f.promise()}get transitionActive(){return this.cameraData.transition.active}setBaseProjection(e){this.cameraData.setBaseProjection(e)}async cancelTransition(){if(this.cameraData.transition.active)return new Promise((e=>{(0,l.r)(this.cameraData.pose,this.cameraData.transition.to,!1);const t=Date.now()-this.cameraData.transition.startTime;this.cameraData.transition.duration=t,this.cameraData.transition.progress.stop(1),this.cameraData.pose.commit(),this.cameraData.transition.commit();const i=this.cameraData.transition.onPropertyChanged("active",(t=>{t||(i&&i.cancel(),e())}))}))}updateTransitionSpeed(e){if(this.cameraData.transition.active){const t=Date.now(),i=t-this.cameraData.transition.startTime,n=i/e,s=this.cameraData.transition.progress,r=(s.duration-i)/e+n;this.cameraData.transition.duration=r,this.cameraData.transition.startTime=t-n,s.modifyAnimation(s.value,s.endValue,r,s.easing,n),this.cameraData.transition.commit()}}beginExternalTransition(){this.cameraData.transition.activeInternal||(this.cameraData.transition.startTime=Date.now(),this.cameraData.transition.active=!0,this.cameraData.transition.promise=new h.Q,this.cameraData.transition.commit())}endExternalTransition(){var e;this.cameraData.transition.activeInternal||(this.cameraData.transition.active=!1,null===(e=this.cameraData.transition.promise)||void 0===e||e.resolve(),this.cameraData.transition.commit())}beginInternalTransition(e){const t=e.transitionTime||0;if(this.cameraData.transition.startTime=Date.now(),this.cameraData.transition.duration=t,this.cameraData.transition.active=!0,this.cameraData.transition.promise=new h.Q,this.cameraData.transition.activeInternal=!0,this.cameraData.transition.type=e.transitionType,this.cameraData.transition.progress.modifyAnimation(0,1,t,e.easing||p.to),this.cameraData.transition.rotationDelay=e.rotationDelay||0,this.cameraData.transition.rotationDuration=e.rotationDuration||1,this.cameraData.transition.matrixDelay=e.matrixDelay||0,this.cameraData.transition.matrixDuration=e.matrixDuration||1,e.transitionType===y.n.FadeToBlack&&this.cameraData.transition.blackoutProgress.modifyAnimation(0,1,e.blackoutTime,p.vG),e.transitionType===y.n.MoveToBlack){const e=500;this.cameraData.transition.blackoutProgress.modifyAnimation(0,1,t-2*e,p.aB,0,e)}this.cameraData.transition.from.position=this.cameraData.pose.position.clone(),this.cameraData.transition.from.rotation=this.cameraData.pose.rotation.clone(),this.cameraData.transition.from.projection=this.cameraData.pose.projection.clone(),this.cameraData.transition.from.focalDistance=this.cameraData.pose.focalDistance,this.cameraData.transition.to.position=e.pose.position?e.pose.position.clone():void 0,this.cameraData.transition.to.rotation=e.pose.rotation?e.pose.rotation.clone():void 0,this.cameraData.transition.to.projection=e.projection?e.projection.clone():void 0,this.cameraData.transition.to.focalDistance=e.focalDistance?e.focalDistance:void 0,this.cameraData.transition.commit()}progressInternalTransition(e,t){if(this.cameraData.transition.active){if(this.cameraData.transition.progress.updateAbsolute(e),this.cameraData.transition.type===y.n.Interpolate)this.updateInterpolateTransition();else if(this.cameraData.transition.type===y.n.FadeToBlack){let i=0;const n=this.cameraData.transition.duration;e<=t?i=e:((0,l.r)(this.cameraData.transition.to,this.cameraData.pose,!1),i=e>=n-t?n-e:t),this.cameraData.transition.blackoutProgress.updateAbsolute(i),this.cameraData.transition.progress.updateAbsolute(e<=t?0:n)}else if(this.cameraData.transition.type===y.n.MoveToBlack){const t=this.cameraData.transition.blackoutProgress;this.updateInterpolateTransition(),t.updateAbsolute(e-t.delay)}this.cameraData.pose.commit(),this.cameraData.transition.commit()}}updateInterpolateTransition(){const e=this.cameraData.transition.from,t=this.cameraData.transition.to;if(t.position&&e.position&&this.cameraData.pose.position.copy(e.position).lerp(t.position,this.cameraData.transition.progress.value),t.focalDistance&&e.focalDistance&&(this.cameraData.pose.focalDistance=(0,s.t)(e.focalDistance,t.focalDistance,this.cameraData.transition.progress.value)),t.rotation&&e.rotation){const i=(0,p.e3)(this.cameraData.transition.progress.easing,this.cameraData.transition.progress.value,this.cameraData.transition.progress.elapsed,this.cameraData.transition.progress.duration*this.cameraData.transition.rotationDuration,this.cameraData.transition.rotationDelay);this.cameraData.pose.rotation.copy(e.rotation).slerp(t.rotation,i)}if(t.projection&&e.projection){const i=(0,p.e3)(p.w2,this.cameraData.transition.progress.value,this.cameraData.transition.progress.elapsed,this.cameraData.transition.progress.duration*this.cameraData.transition.matrixDuration,this.cameraData.transition.matrixDelay);!function(e,t,i,n){const s=n.elements,r=e.elements,a=t.elements;for(let e=0;e<16;e++)s[e]=r[e]*(1-i)+a[e]*i}(e.projection,t.projection,i,this.cameraData.pose.projection)}}endInternalTransition(e){(0,l.r)(this.cameraData.transition.to,this.cameraData.pose,!1),this.cameraData.transition.type=null,this.cameraData.transition.active=!1,this.cameraData.transition.activeInternal=!1,this.cameraData.transition.progress.stop(1),e!==y.n.FadeToBlack&&e!==y.n.MoveToBlack||this.cameraData.transition.blackoutProgress.stop(0),this.cameraData.pose.commit(),this.cameraData.transition.commit()}adjustProjectionZoom(e,t){const i=1/t;return e.elements[0]=i/this.canvas.aspectRatio,e.elements[5]=i,e}}},64918:(e,t,i)=>{"use strict";var n;i.d(t,{n:()=>n}),function(e){e[e.Instant=0]="Instant",e[e.FadeToBlack=1]="FadeToBlack",e[e.Interpolate=2]="Interpolate",e[e.MoveToBlack=3]="MoveToBlack"}(n||(n={}))},65636:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r,y:()=>a});var n=i(57053),s=i(64918);const r=Object.freeze({camera:{transitionBlackoutTime:300,transitionFadeTime:800,baseTransitionTime:200,transitionSpeed:3}}),a={[n.s.Desktop]:s.n.Interpolate,[n.s.Mobile]:s.n.Interpolate,[n.s.VrOrientOnly]:s.n.FadeToBlack,[n.s.VrWithController]:s.n.FadeToBlack,[n.s.VrWithTrackedController]:s.n.FadeToBlack}},59370:(e,t,i)=>{"use strict";i.d(t,{q9:()=>r,bD:()=>a,D_:()=>o,z5:()=>c,st:()=>d,Kh:()=>u,fi:()=>h});var n=i(84428),s=i(90304);const r=(()=>{const e=new n.Matrix4,t=new n.Matrix4;return(i,s,r,a)=>(r=r||new n.Vector2,a=a||new n.Vector3,l(i.pose,t),e.copy(t),e.invert(),a.set(s.x,s.y,s.z).applyMatrix4(e).applyMatrix4(i.pose.projection.asThreeMatrix4()),h(i.width,i.height,a,r),{screenPosition:r,ndcPosition:a})})(),a=(()=>{const e=new n.Vector3,t=new n.Vector2;return(i,n,s,r,a,l)=>(e.copy(o(i,n,s,l)),h(r,a,e,t),t)})(),o=(()=>{const e=new n.Matrix4,t=new n.Matrix4,i=new n.Vector3;return(n,r,a,o)=>(e.compose(r,a,s.f.UNIT),t.copy(e),t.invert(),i.copy(n).applyMatrix4(t).applyMatrix4(o),i)})(),l=(e,t)=>(t=t||new n.Matrix4).compose(e.position,e.rotation,s.f.UNIT),c=(e,t,i,s,r)=>((r=r||new n.Vector2).x=e/i*2-1,r.y=-t/s*2+1,r),d=(e,t,i=.5,s)=>((s=s||new n.Vector3).x=t.x,s.y=t.y,s.z=i,u(e.pose,s)),u=(()=>{const e=new n.Matrix4,t=new n.Matrix4;return(i,s,r)=>((r=r||new n.Vector3).copy(s),t.copy(i.projection.asThreeMatrix4()),t.invert(),l(i,e),r.applyMatrix4(t).applyMatrix4(e))})(),h=(e,t,i,s)=>((s=s||new n.Vector2).set((i.x+1)*e/2,(1-i.y)*t/2),s)},55318:(e,t,i)=>{"use strict";i.d(t,{O:()=>r,B:()=>a});var n=i(95882),s=i(67992);class r extends s.V{constructor(e,t,i){super(),this.name="cam-start",this.icon=e,this.thumb=t,this.pose=new a,i&&this.pose.copy(i)}copy(e,t=!1){var i;return this.icon=e.icon,t?e.thumb&&(null===(i=this.thumb)||void 0===i||i.refreshFrom(e.thumb)):this.thumb=e.thumb,this.pose.copy(e.pose),this}get hasCameraPose(){return this.pose&&this.pose.camera&&void 0!==this.pose.camera.position}}class a{constructor(e=n.Ey.Panorama,t,i,s,r,a){this.mode=e,this.camera={position:t||void 0,rotation:i||void 0,zoom:s||void 0},this.pano=r||{uuid:void 0},this.floorVisibility=a||void 0}copy(e){return this.camera.position=o(e.camera.position,this.camera.position),this.camera.rotation=o(e.camera.rotation,this.camera.rotation),this.camera.zoom=e.camera.zoom,this.pano.uuid=e.pano.uuid?e.pano.uuid.slice():void 0,this.mode=e.mode,this.floorVisibility=e.floorVisibility?e.floorVisibility.slice():void 0,this}}const o=(e,t)=>e&&t?t.copy(e):e&&!t?e.clone():void 0},7159:(e,t,i)=>{"use strict";i.d(t,{K:()=>u});var n=i(84428),s=i(95882),r=i(59279),a=i(97998),o=i(2569),l=i(44237);const c=new a.Z("navurl");class d extends Error{constructor(e,t){super(`view mode ${e} is invalid${t?` when ${t}`:""}`)}}class u{static encodeVector3(e,t=2){const{x:i,y:n,z:s}=e;return u.packFloats([i,n,s],t)}static decodeVector3(e){const t=u.unpackFloats(e,3);return t?new n.Vector3(...t):null}static encodeQuaternion(e,t=2){return u.packFloats([e.x,e.y,e.z,e.w],t)}static decodeQuaternion(e){const t=u.unpackFloats(e,4);return t&&!(0,l.mB)(t)?new n.Quaternion(...t):null}static encodeEuler(e,t=2){return u.packFloats([e.x,e.y,e.z],t)}static decodeEuler(e){const t=u.unpackFloats(e,3);return t?new n.Euler(t[0],t[1],t[2],"XYZ"):void 0}static packFloats(e,t=2){let i=e.map((e=>{const i=parseFloat(e.toFixed(t)).toString().replace(/^(\-)?0+.(\d+)/,"$1.$2");return"0"===i?"":i})).join(",");return i=i.replace(/,+$/,""),i}static unpackFloats(e,t=0){const i=e.split(",").map((e=>""===e?0:parseFloat(e)));if(!i||i.includes(NaN))return[];for(;i.length<t;)i.push(0);return i}static getQueryString(e,t=!0){return u.serialize(e,t).toString()}static serialize(e,t=!0){const i=u.removeNavigationKeys();try{if(t){const t=u.getShortPose(e);for(const[e,n]of Object.entries(t))i.set(e,n)}else{const t=u.getStartPose(e),n=JSON.stringify(t);i.set("start",n)}}catch(e){c.debug(e)}return i}static deserialize(e=window.location.href){const t=new URL(e).searchParams;try{const e=t.get("start");return e?u.parseStartObject(e):u.parseShortUrl(t)}catch(e){c.debug(e)}return null}static removeNavigationKeys(){const e=(0,r.kD)();for(const t of["start","sm","sp","sq","sr","ss","sf","sz"])e.delete(t);return e}static parseShortUrl(e){const t=e.get("sm"),i=e.get("sp"),r=e.get("sq"),a=e.get("sr"),l=e.get("ss"),h=e.get("sf"),p=e.get("sz"),m=u.parseViewmode(t),f=u.decodeEuler(a||"")||new n.Euler(0,0,0),g=u.decodeQuaternion(r||"")||new n.Quaternion(0,0,0,1),v=i?u.decodeVector3(i):void 0,b=l?parseInt(l,10)-1:void 0,y=h?u.unpackFloats(h,4):void 0,E=p?parseFloat(p):void 0;if((0,s.Bw)(m)&&void 0===b)throw new d(m,"sweep index not defined");if(!(0,s.Bw)(m)&&!v)throw new d(m,"position is falsy");let S=r?g:(new n.Quaternion).setFromEuler(f);(0,s.Bw)(m)&&(S=(0,o.Z)(S));const T={mode:m,quaternion:S,position:v||void 0,sweepIndex:b,floorVisibility:y,zoom:E};return c.debug("Parsed short URL pose data:",T),T}static parseStartObject(e){const t=JSON.parse(decodeURIComponent(e));if(!t.camera_quaternion)throw Error("Start override is missing camera_quaternion");if(!t.camera_position)throw Error("Start override is missing camera_position");const i=u.parseViewmode(t.camera_mode),s=(new n.Quaternion).copy(t.camera_quaternion),r={mode:i,panoId:t.scan_id,position:(new n.Vector3).copy(t.camera_position),quaternion:s,zoom:t.ortho_zoom,floorVisibility:t.floor_visibility};return c.debug("Parsed &start URL pose data:",r),r}static getShortPose({cameraData:e,viewmodeData:t,floorsViewData:i,sweepData:r}){const a=(new n.Euler).setFromQuaternion(e.pose.rotation,"XYZ"),o=r.currentSweepIndex,l={};if(t.isInside())a.z=0,l.sr=u.encodeEuler(a),void 0!==o&&(l.ss=o+1),t.currentMode===s.Ey.Mesh&&(l.sm=u.validateViewmode(t.currentMode));else{l.sm=u.validateViewmode(t.currentMode),l.sr=u.encodeEuler(a),l.sp=u.encodeVector3(e.pose.position);const n=i.getFloorsVisibility();n.length&&i.totalFloors>1&&(l.sf=n)}return t.currentMode===s.Ey.Floorplan&&(l.sz=parseFloat(e.zoom().toFixed(2))),l.sq=u.encodeQuaternion(e.pose.rotation),c.debug(`Short URL params for current location ${JSON.stringify(l)}`),delete l.sq,l}static getStartPose({cameraData:e,viewmodeData:t,floorsViewData:i,sweepData:n}){const r={x:0,y:0,z:0,w:1};r.x=e.pose.rotation.x,r.y=e.pose.rotation.y,r.z=e.pose.rotation.z,r.w=e.pose.rotation.w;const a={x:0,y:0,z:0};a.x=e.pose.position.x,a.y=e.pose.position.y,a.z=e.pose.position.z;const o={camera_mode:u.validateViewmode(t.currentMode),camera_position:a,camera_quaternion:r};return t.isInside()?o.scan_id=n.currentSweep:o.floor_visibility=i.getFloorsVisibility(),t.currentMode===s.Ey.Floorplan&&(o.ortho_zoom=e.zoom()),o}static parseViewmode(e){let t=u.DEFAULT_VIEW_MODE;return null!=e&&(t=parseInt(e,10)),u.validateViewmode(t)}static validateViewmode(e){if(null===e||!u.VALID_URL_VIEW_MODES.includes(e))throw new d(e);return e}}u.DEFAULT_VIEW_MODE=s.Ey.Panorama,u.VALID_URL_VIEW_MODES=[s.Ey.Panorama,s.Ey.Dollhouse,s.Ey.Floorplan,s.Ey.Outdoor,s.Ey.Mesh]},22535:(e,t,i)=>{"use strict";i.d(t,{e:()=>r});var n=i(67992),s=i(15637);class r extends n.V{constructor(){super(),this.name="start-location-view-data",this.startLocationsObservable=(0,s.q)()}setStartLocations(e){this.atomic((()=>{this.startLocationsObservable.clear(),e.forEach((e=>{this.addStartLocationForView(e.sweepId,e.viewId)}))}))}getStartLocationsForSweep(e){return this.startLocationsObservable.get(e)||[]}isStartLocation(e){return this.startLocationsObservable.has(e)}isStartLocationForView(e,t){return this.getStartLocationsForSweep(e).includes(t)}onStartLocationSweepsChanged(e){return this.startLocationsObservable.onChanged(e)}addStartLocationForView(e,t){const i=this.startLocationsObservable.get(e);i?i.push(t):this.startLocationsObservable.set(e,[t])}}},71102:(e,t,i)=>{"use strict";i.d(t,{n:()=>s,D:()=>r});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={snapshotSid:e}}}s.id="SET_CAMERA_START";class r extends n.m{constructor(e){super(),this.payload={moveCamera:e}}}r.id="SET_MOVE_CAMERA_ON_VIEW_CHANGE"},94345:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>A});var n=i(42418),s=i(57956),r=i(55318),a=i(97542),o=i(7159),l=i(95882),c=i(83001),d=i(22535),u=i(53954),h=i(2569),p=i(79728),m=i(90632),f=i(635),g=i(17788),v=i(64927),b=i(97998),y=i(91431);class E{serialize(e){return{image:e.sid}}}const S=new b.Z("mds-camera-start-store");class T extends g.u{constructor(e,t){super(e),this.baseModelId=t,this.deserializer=new y.f,this.serializer=new E,this.prefetchKey="data.model.image"}async read(e){var t,i;const n={modelId:this.getViewId()},s=await this.query(v.GetModelImage,n,e),r=null===(i=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.image;return{image:(null==r?void 0:r.id)||"",snapshot:this.deserializer.deserialize(r)}}async update(e){const t=this.getViewId(),i=this.serializer.serialize(e);if(0===Object.keys(i).length)throw new Error("No data to update?");return this.mutate(v.PatchModel,{modelId:t,patch:i}).then((e=>{S.debug(e)}))}async getStartLocationSweeps(){var e,t;const i={modelId:this.baseModelId},n=null===(t=null===(e=(await this.query(v.GetStartLocations,i,{fetchPolicy:"no-cache"})).data)||void 0===e?void 0:e.model)||void 0===t?void 0:t.views,s=[];return n&&n.forEach((e=>{var t,i,n,r;const a=null===(r=null===(n=null===(i=null===(t=e.model)||void 0===t?void 0:t.image)||void 0===i?void 0:i.snapshotLocation)||void 0===n?void 0:n.anchor)||void 0===r?void 0:r.id;a&&s.push({viewId:e.id,sweepId:a})})),s}}var O=i(71102),_=i(56367),N=i(80008);class A extends a.Y{constructor(){super(...arguments),this.name="camera-start",this.store=null,this._moveCameraOnViewChange=!0,this.duplicateViewData=new r.O(void 0,new _.n("",new Date)),this.processData=async e=>{var t,i,n;let s,a;const o=e.image,l=e.snapshot;if(l?(s=this.buildCameraStart(l),a=l.thumbnailUrl):o&&(await this.snapshotDataLoadPromise,s=null!==(t=this.getIconStartPose(o))&&void 0!==t?t:void 0,a=this.getIconThumbnail(o)),s||(s=null!==(i=this.getStartFallback())&&void 0!==i?i:void 0),null===(n=null==s?void 0:s.pano)||void 0===n?void 0:n.uuid){const e=this.sweepData.getSweep(s.pano.uuid);e&&!e.enabled&&(this.log.warn(`Enabled hidden start sweep ${s.pano.uuid}`),e.enabled=!0,e.commit())}this.data.atomic((()=>{this.data.icon=o,a&&this.data.thumb?this.data.thumb.refreshFrom(a):(this.data.thumb=a,a&&(a.onStale=async()=>{var e;await(null===(e=this.store)||void 0===e?void 0:e.refresh())})),this.data.pose.copy(null!=s?s:new r.B)})),this.data.commit()},this.beforeViewDuplicate=async()=>{this.duplicateViewData.copy(this.data,!0)},this.afterViewDuplicate=async()=>{this.data.copy(this.duplicateViewData,!0),this.data.commit(),await this.save()}}async init(e,t){const{readonly:i,baseUrl:a,baseModelId:l}=e;this.engine=t,[this.storage,this.sweepData]=await Promise.all([t.getModuleBySymbol(s.y.STORAGE),t.market.waitForData(u.Z)]),this.snapshotDataLoadPromise=t.market.waitForData(n.P).then((e=>{this.snapshotsData=e}));const c=o.K.deserialize();if(c){const e=this.parseNavigationPose(c);this.validStartPano(e)?(this.startingPose=new r.B,this.startingPose.copy(e),this.log.debug("Starting Camera Pose",this.startingPose)):this.log.error("Invalid start pose",e)}const{commandBinder:h}=this.engine;if(this.bindings.push(h.addBinding(O.n,(async e=>this.updateStartLocationFromSnapshot(e.snapshotSid))),h.addBinding(O.D,(async e=>{this._moveCameraOnViewChange=e.moveCamera}))),this.data=new r.O,this.store=new T({readonly:i,baseUrl:a},l),this.store.onNewData(this.processData),await this.store.refresh(),!i){this.bindings.push(this.storage.onSave((()=>this.save()),{dataType:p.g.START_LOCATION}));const e=await t.market.waitForData(m.Q);e.setRevertableType(p.g.START_LOCATION),e.setPublishableType(p.g.START_LOCATION)}this.duplicateViewHelper={beforeDuplicate:this.beforeViewDuplicate,afterDuplicate:this.afterViewDuplicate},h.issueCommand(new N.Ch(this.duplicateViewHelper)),t.market.register(this,r.O,this.data),this.startLocationViewData=new d.e,i?t.market.register(this,d.e,this.startLocationViewData):this.fetchAllStartLocations().then((()=>{t.market.register(this,d.e,this.startLocationViewData)}))}dispose(e){e.commandBinder.issueCommand(new N.EO(this.duplicateViewHelper))}getStartingPose(){return this.startingPose||this.data.pose}parseNavigationPose(e){const{mode:t,quaternion:i,position:n,floorVisibility:s,sweepIndex:r,zoom:a}=e;let{panoId:o}=e;if(o&&!this.sweepData.containsSweep(o)){const e=this.sweepData.getSweepByUuid(o);e&&(o=e.id)}if(!o&&void 0!==r){const e=this.sweepData.getSweepByIndex(r);e?o=e.id:this.log.debug(`Failed to load sweep index ${r}`)}return{mode:t,camera:{position:n,rotation:i,zoom:a},pano:{uuid:o},floorVisibility:s}}async updateStartLocationFromSnapshot(e){const t=this.snapshotsData.get(e),i=this.buildCameraStart(t),n=new r.O(t.sid,t.thumbnailUrl,i);this.data.copy(n),this.data.commit(),this.engine.broadcast(new c.O(t.is360)),await this.engine.commandBinder.issueCommand(new f.VQ({dataTypes:[p.g.START_LOCATION]}))}get moveCameraOnViewChange(){return this._moveCameraOnViewChange}async fetchAllStartLocations(){if(this.store){const e=await this.store.getStartLocationSweeps();this.startLocationViewData.setStartLocations(e)}}async save(){const e=this.data.icon;if(!e||!this.store)return void this.log.warn("Unable to save start location");const t=this.snapshotsData.get(e);this.store.update(t).then((()=>{this.fetchAllStartLocations()}))}buildCameraStart(e){const t={mode:e.metadata.cameraMode,camera:{position:e.metadata.cameraPosition,rotation:e.metadata.cameraQuaternion,zoom:e.metadata.orthoZoom},pano:{}};return(0,l.Bw)(t.mode)&&(t.pano={uuid:e.metadata.scanId}),t.floorVisibility=e.metadata.floorVisibility,t}defaultCameraStart(e){return{mode:l.Ey.Panorama,camera:{position:e.position,rotation:(0,h.Z)(e.rotation),zoom:0},pano:{uuid:e.id}}}validStartPano(e){return!!e&&(!(0,l.Bw)(e.mode)||!!e.pano.uuid&&this.sweepData.containsSweep(e.pano.uuid))}getStartFallback(){const e=this.sweepData.getFirstAlignedSweep()||this.sweepData.getFirstSweep();return void 0===e?null:this.defaultCameraStart(e)}getIconStartPose(e){let t=null;return e&&e in this.snapshotsData.collection&&(t=(new r.B).copy(this.buildCameraStart(this.snapshotsData.get(e)))),this.validStartPano(t)||(t=null),t}getIconThumbnail(e){if(e&&e in this.snapshotsData.collection)return this.snapshotsData.get(e).thumbnailUrl}}},83001:(e,t,i)=>{"use strict";i.d(t,{O:()=>s});var n=i(98010);class s extends n.v{constructor(e){super(),this.is360=e}}},45833:(e,t,i)=>{"use strict";i.d(t,{n:()=>s});var n=i(19663);class s extends n.m{constructor(e,t){super(),this.name="blur-canvas",this.payload={duration:e,pixelBlur:t}}}},50575:(e,t,i)=>{"use strict";i.d(t,{P:()=>n,M:()=>r});var n,s=i(19663);!function(e){e.left="left",e.top="top",e.width="width",e.height="height"}(n||(n={}));class r extends s.m{constructor(e){super(),this.name="resize-canvas",this.payload=Object.assign({},e)}}},79924:(e,t,i)=>{"use strict";i.d(t,{L:()=>s});var n=i(19663);class s extends n.m{constructor(e){super(),this.name="screen-to-canvas-point",this.payload=Object.assign({},e)}}},5332:(e,t,i)=>{"use strict";i.d(t,{W:()=>s});var n=i(67992);class s extends n.V{constructor(e,t){super(),this.name="canvas",this.x=0,this.y=0,this.width=e||0,this.height=t||0}get aspectRatio(){const e=this.width/this.height;return isFinite(e)?e:1}}},54276:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(97542),s=i(5332),r=i(56692),a=i(2269),o=i(50575),l=i(46950),c=i(79924),d=i(39880),u=i(45833),h=i(2224),p=i(33102);class m extends h.y{}const f={[o.P.width]:"width",[o.P.height]:"height",[o.P.top]:"top",[o.P.left]:"left"};class g extends n.Y{constructor(){super(...arguments),this.name="canvas",this.getNewX=()=>0,this.getNewY=()=>0,this.getNewWidth=e=>e.width,this.getNewHeight=e=>e.height,this.activeTransitions=[],this.activeTransitionMap={left:null,top:null,width:null,height:null},this.onResize=e=>{e.propertyName in o.P&&(this.resolveActiveTransition(e.propertyName),this._canvas.style.transitionDuration=this.stringifyTransitionDurations())},this.onContainerResize=()=>{this.transitionDurations.left=this.transitionDurations.top=this.transitionDurations.width=this.transitionDurations.height="0s",this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this.applySize(),this.applyPosition(),this.activeTransitions.forEach(this.resolveActiveTransition.bind(this)),this._canvas.style.transitionDuration=this.stringifyTransitionDurations()},this.resizeCanvas=async e=>{if(0!==e.resizeDimensions.length)return this.activeTransitions.forEach(this.resolveActiveTransition.bind(this)),e.resizeDimensions.forEach((e=>{const{property:t,setDimension:i,duration:n=0}=e,s=f[t],r=this._canvas.style[s];switch(t){case o.P.height:this.setHeight(i,n);break;case o.P.width:this.setWidth(i,n);break;case o.P.top:this.setY(i,n);break;case o.P.left:this.setX(i,n)}if(this._canvas.style[s]!==r&&n>0){const e=new l.Q;e.then((()=>{clearTimeout(i)}));const i=setTimeout((()=>{this.resolveActiveTransition(t)}),n+500);this.activeTransitionMap[t]=e,this.activeTransitions.push(t)}})),this.hasActiveTransitions()||(this.canvasBounds=this._canvas.getBoundingClientRect()),this.getTransitionPromise()}}async init(e,t){if(this.engine=t,!e.container)throw new m;this.container=e.container,this.container.appendChild(e.canvas),this.containerBounds=this.container.getBoundingClientRect(),this._canvas=e.canvas,this._canvas.setAttribute("tabindex","-1"),this._canvas.style.position="absolute",this._canvas.style.left="0",this._canvas.style.top="0",this.transitionDurations={left:"0s",top:"0s",width:"0s",height:"0s",filter:"0.4s"},this._canvas.style.transitionProperty=Object.keys(this.transitionDurations).join(","),this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this.updateTransitions(),this.bindings.push(t.subscribe(p.B,this.onContainerResize),t.commandBinder.addBinding(o.M,this.resizeCanvas),this.makeTransitionEndSubscription(),t.commandBinder.addBinding(c.L,(async e=>this.screenToCanvasPoint(e.x,e.y))),t.commandBinder.addBinding(u.n,this.blur.bind(this)));for(const e of this.bindings)e.renew();this.canvasBounds=this._canvas.getBoundingClientRect(),this.containerBounds=this.container.getBoundingClientRect(),this.data=new s.W(this.canvasBounds.width,this.canvasBounds.height),t.market.register(this,s.W,this.data)}makeTransitionEndSubscription(){let e=!1;return{renew:()=>{e||(this.element.addEventListener("transitionend",this.onResize),e=!0)},cancel:()=>{e&&(this.element.removeEventListener("transitionend",this.onResize),e=!1)}}}dispose(e){super.dispose(e)}get element(){return this._canvas}get width(){return this.canvasBounds.width}get height(){return this.canvasBounds.height}get x(){return this.canvasBounds.left}get y(){return this.canvasBounds.top}onUpdate(){const e=this.container.getBoundingClientRect(),t=this.containerHasChanged(e);t&&(this.containerBounds=e,this.updateTransitions()),(t||this.hasActiveTransitions())&&(this.canvasBounds=this._canvas.getBoundingClientRect());const i=this.data.width!==this.width||this.data.height!==this.height,n=this.data.x!==this.x||this.data.y!==this.y;i&&(this.data.width=this.width,this.data.height=this.height,this.data.commit(),this.engine.broadcast(new r.a(this.width,this.height))),n&&(this.data.x=this.x,this.data.y=this.y,this.data.commit(),this.engine.broadcast(new a.k(this.x-this.containerBounds.left,this.y-this.containerBounds.top)))}containerHasChanged(e){return e.left!==this.containerBounds.left||e.top!==this.containerBounds.top||e.width!==this.containerBounds.width||e.height!==this.containerBounds.height}setX(e,t=0){this.getNewX="number"==typeof e?()=>e:e,this.transitionDurations.left=`${t}ms`,this.updateTransitions()}setY(e,t=0){this.getNewY="number"==typeof e?()=>e:e,this.transitionDurations.top=`${t}ms`,this.updateTransitions()}setWidth(e,t=0){this.getNewWidth="number"==typeof e?()=>e:e,this.transitionDurations.width=`${t}ms`,this.updateTransitions()}setHeight(e,t=0){this.getNewHeight="number"==typeof e?()=>e:e,this.transitionDurations.height=`${t}ms`,this.updateTransitions()}screenToCanvasPoint(e,t){return{x:e-this.x,y:t-this.y}}async blur(e){this.transitionDurations.filter=`${e.duration}ms`,this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this._canvas.style.filter=`blur(${e.pixelBlur}px)`,await(0,d.gw)(e.duration),0===e.pixelBlur&&(this._canvas.style.filter="")}getTransitionPromise(){return Promise.all(this.activeTransitions.map((e=>this.activeTransitionMap[e])).filter((e=>!!e)))}updateTransitions(){this._canvas.style.transitionDuration=this.stringifyTransitionDurations(),this.applySize(),this.applyPosition()}applySize(){this._canvas.style.width=`${this.getNewWidth(this.containerBounds)}px`,this._canvas.style.height=`${this.getNewHeight(this.containerBounds)}px`}applyPosition(){this._canvas.style.left=`${this.getNewX(this.containerBounds)}px`,this._canvas.style.top=`${this.getNewY(this.containerBounds)}px`}stringifyTransitionDurations(){return Object.keys(this.transitionDurations).map((e=>this.transitionDurations[e])).join(",")}resolveActiveTransition(e){this.canvasBounds=this._canvas.getBoundingClientRect();const t=this.activeTransitions.indexOf(e);-1!==t&&this.activeTransitions.splice(t,1);const i=this.activeTransitionMap[e];i&&i.resolve(),this.activeTransitionMap[e]=null,this.transitionDurations[e]="0s"}hasActiveTransitions(){return this.activeTransitions.length>0}}},2367:(e,t,i)=>{"use strict";i.d(t,{V:()=>a});var n=i(67992),s=i(66594),r=i(37082);class a extends n.V{constructor(e){super(),this.name="container",this.sizeObservable=new r.f({width:0,height:0}),this.orientation=s.t.LANDSCAPE,this.element=e,this.rootNode=e.getRootNode()}get size(){return this.sizeObservable.value}set size(e){this.sizeObservable.value=e}onPropertyChanged(e,t){return"size"===e?this.sizeObservable.onChanged(t):super.onPropertyChanged(e,t)}}},44523:(e,t,i)=>{"use strict";i.d(t,{O:()=>o,P:()=>l});var n=i(73085),s=i(2367),r=i(74554);const a={width:0,height:0};function o(e){return(0,n.v)(s.V,"size",e||a)}const l=(0,r.M)("containerSize",o)},16512:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(97542),s=i(2367),r=i(66594),a=i(33102),o=i(91033);class l extends n.Y{constructor(){super(...arguments),this.name="container-data",this.onResize=()=>{const{clientWidth:e,clientHeight:t}=this.data.element;this.data.size={width:e,height:t},this.data.orientation=e>t?r.t.LANDSCAPE:r.t.PORTRAIT,this.data.commit()}}async init(e,t){this.data=new s.V(e.element),t.market.register(this,s.V,this.data),this.resizeObserver=new o.Z(this.onResize),this.resizeObserver.observe(e.element),this.onResize(),this.data.onPropertyChanged("size",(e=>{t.broadcast(new a.B(e.width,e.height))})),this.data.onPropertyChanged("orientation",(e=>{t.broadcast(new a.p(e))}))}dispose(e){e.market.unregister(this,s.V),this.resizeObserver.disconnect(),super.dispose(e)}}},66594:(e,t,i)=>{"use strict";var n;i.d(t,{t:()=>n}),function(e){e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE"}(n||(n={}))},33102:(e,t,i)=>{"use strict";i.d(t,{B:()=>s,p:()=>r});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.width=e,this.height=t}}class r extends n.v{constructor(e){super(),this.orientation=e}}},29900:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload=Object.assign({},e)}}},69739:(e,t,i)=>{"use strict";i.d(t,{P:()=>s});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.floorId=e,this.floorName=t}}},56159:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.from=e,this.to=t}}},76957:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var n=i(67992),s=i(35895),r=i(15637),a=i(67238);class o extends n.V{constructor(e){super(),this.name="floors",this.floors=(0,r.q)(e)}onNameChange(e){let t=[];return(0,s.k1)((()=>{this.getOrderedValues().forEach(((i,n)=>{t.push(i.onPropertyChanged("name",e))}))}),(()=>{t.forEach((e=>e.cancel())),t=[]}),!0)}getFloor(e){if(!this.floors.has(e))throw new a.H;return this.floors.get(e)}hasFloor(e){return this.floors.has(e)}getFloorAtIndex(e){return this.floors.values.find((t=>t.index===e))}getFloorByMeshGroup(e){return this.floors.values.find((t=>t.meshGroup===e))}getFloorCount(){return this.floors.length}getCollection(){return this.floors}iterate(e){return this.getOrderedValues().forEach(e)}getTopFloor(){const e=this.getOrderedValues();if(!e.length)throw new a.H("Cannot get top floor, model has no floors");return e[e.length-1]}getBottomFloor(){const e=this.getOrderedValues();if(!e.length)throw new a.H("Cannot get bottom floor, model has no floors");return e[0]}getFloorAtHeight(e,t=!1){const i=this.getOrderedValues();t&&i.reverse();for(const t of i){const i=t.boundingBox;if(i.min.y<=e&&e<=i.max.y)return t}const n=this.getBottomFloor();return e<n.boundingBox.min.y?n:this.getTopFloor()}getClosestFloorAtHeight(e){let t,i=1/0;for(const n of this.floors){const s=Math.abs(n.medianSweepHeight()-e);i>s&&(i=s,t=n)}return t}rename(e,t){if(!this.floors.has(e))return;const i=this.floors.get(e);i.name=t,i.commit()}getOrderedValues(){return this.floors.values.sort(((e,t)=>e.index-t.index))}}},67238:(e,t,i)=>{"use strict";i.d(t,{H:()=>s});var n=i(2224);class s extends n.y{constructor(e="Invalid Floor"){super(e),this.name="InvalidFloorException"}}},79727:(e,t,i)=>{"use strict";i.d(t,{c:()=>v});var n=i(89557),s=i(67992),r=i(38399),a=i(37082),o=i(63252),l=i(75287);class c extends l.T{constructor(){super(...arguments),this.hidden=!1,this.navigable=!0,this.hasEnabledAlignedSweeps=!1,this.hasEnabledUnalignedSweeps=!1}}var d=i(15637),u=i(10385),h=i(54244);class p{constructor(e,t,i,n,s){this.floors=e,this.viewmodeData=t,this.sweepData=i,this.applicationData=n,this.currentFloorObservable=s,this.bindings=[],this.states=new d.v,this._navigableFloorIds=new u.d,this.hasEnabledAlignedSweeps=!1,this.updateFloorSweepData=()=>{const e=this.sweepData;this.isEditMode()||(this.states.values.forEach((e=>{e.hasEnabledAlignedSweeps=!1,e.hasEnabledUnalignedSweeps=!1})),e.iterate((e=>{if(null!==e.floorId){let t=this.getState(e.floorId);t||(t=this.initializeFloorState(e.floorId)),e.alignmentType===o.z9.ALIGNED?t.hasEnabledAlignedSweeps||(t.hasEnabledAlignedSweeps=e.enabled):t.hasEnabledUnalignedSweeps||(t.hasEnabledUnalignedSweeps=e.enabled),t.commit(),this.hasEnabledAlignedSweeps||(this.hasEnabledAlignedSweeps=e.enabled)}}))),this.updateNavigable()},this.updateHidden=()=>{const e=!this.currentFloorId,t=this.isViewingAlignedPano();this.states.keys.forEach((i=>{const n=!!i&&i===this.currentFloorId,s=this.getState(i);s.hidden=!(e||n||t),s.commit()}))},this.updateNavigable=()=>{const e=this.isEditMode(),t=this.isViewingAlignedPano(),i=this.viewmodeData.isDollhouse()||this.viewmodeData.isFloorplan();this.states.keys.forEach((n=>{const s=this.getState(n);s.navigable=!!e||(t?s.hasEnabledAlignedSweeps:!!i||(s.hasEnabledAlignedSweeps||s.hasEnabledUnalignedSweeps)),s.commit()}));const n=[];this.floors.iterate((e=>{this.getState(e.id).navigable&&n.push(e.id)})),this._navigableFloorIds.replace(n)},this.bindings.push(t.makeModeChangeSubscription(this.updateHidden),i.makeSweepChangeSubscription(this.updateHidden),s.onChanged(this.updateHidden),t.makeModeChangeSubscription(this.updateNavigable),i.makeSweepChangeSubscription(this.updateNavigable),n.onPropertyChanged("application",this.updateFloorSweepData)),this.initializeFloorStates(),this.updateFloorSweepData(),this.updateHidden()}getState(e){return this.states.get(e)}get navigableFloorIds(){return this._navigableFloorIds.values()}onNavigableFloorIdsChanged(e){return this._navigableFloorIds.onChanged(e)}isViewingAlignedPano(){return this.viewmodeData.isInside()&&void 0!==this.sweepData.currentAlignedSweepObject}isEditMode(){return this.applicationData.application===h.Mx.WORKSHOP}get currentFloorId(){return this.currentFloorObservable.value?this.currentFloorObservable.value.id:null}initializeFloorStates(){this.floors.iterate((e=>this.initializeFloorState(e.id)))}initializeFloorState(e){const t=new c;return this.states.set(e,t),t}}var m=i(52498);function f(e,t){return e}const g={floorChangesEnabled:()=>!0,roomNavFeatureEnabled:()=>!0};class v extends s.V{constructor(e,t,i,s,r,o){super(),this.name="floors-view",this.floorSelectable=!1,this.currentFloorObservable=new a.f(null),this.transitionObservable=new a.f({from:null,to:null,progress:new n.z(0),promise:Promise.resolve()}),this._observableFloorsSelectMode=new a.f(!1),this._observableRoomSelectMode=new a.f(!1),this._showFloorSelection=new a.f(!1),this.showAllFloorsOption=!0,this.getFloorMin=e=>{const t=e||(this.currentFloorId||this.bottomFloorId);return this.floors.getFloor(t).bottom},this.isHidden=e=>this.stateHelper.getState(e).hidden,this.isNavigable=e=>this.stateHelper.getState(e).navigable,this.updateViewData=()=>{this.floors.iterate((e=>{this.derivedData[e.id]={id:e.id,index:e.index,name:this.getFloorName(e.id)}})),this.commit()},this.getViewData=e=>{if(!this.derivedData[e]){const t=this.floors.getFloor(e);this.derivedData[e]={id:t.id,index:t.index,name:this.getFloorName(t.id)}}return this.derivedData[e]},this.getAllViewData=()=>{const e=[];return this.floors.iterate((t=>{e.push(this.getViewData(t.id))})),e},this.getFloor=e=>this.floors.getFloor(e),this.floors=e,this.config=null!=o?o:g,this.localize=null!=r?r:f,this.derivedData={},this.stateHelper=new p(e,t,i,s,this.currentFloorObservable),this.updateViewData()}isCurrentOrAllFloors(e){return!e||!this.currentFloorId||e===this.currentFloorId}isCurrentMeshGroupOrAllFloors(e){return this.currentFloorMeshGroup===m.eh||this.currentFloorMeshGroup===e}makeFloorChangeSubscription(e){return this.currentFloorObservable.onChanged(e)}get currentFloor(){return this.currentFloorObservable.value}get currentFloorId(){var e;return(null===(e=this.currentFloorObservable.value)||void 0===e?void 0:e.id)||null}get currentFloorIndex(){return this.currentFloorObservable.value?this.currentFloorObservable.value.index:m.qE}get currentFloorMeshGroup(){return this.currentFloorObservable.value?this.currentFloorObservable.value.meshGroup:m.eh}getFloorIndexForMeshGroup(e){if(e===m.eh)return m.qE;const t=this.floors.getFloorByMeshGroup(e);return t?t.index:m.qE}get bottomFloorId(){return this.floors.getBottomFloor().id}get topFloorId(){return this.floors.getTopFloor().id}get singleFloor(){if(1===this.floors.getFloorCount())return this.floors.getFloorAtIndex(0)}isMultifloor(){return this.floors.getFloorCount()>1}get nearestFloorId(){return this.transitionActive?this.transition.progress.value>.5?this.transition.to:this.transition.from:this.currentFloorId}get nearestFloor(){const e=this.nearestFloorId;return e?this.floors.getFloor(e):void 0}get transitionActive(){return this.transition.progress.active}get transition(){return this.transitionObservable.value}transitionToFloorInstant(e){this.currentFloorObservable.value=e?this.floors.getFloor(e):null,this.commit()}transitionToFloor(e,t,i,n){const s=this.transitionObservable.value.progress;s.modifyAnimation(0,1,i),this.transitionObservable.value={from:e,to:t,progress:s,promise:n},this.commit(),n.then((()=>{this.transitionToFloorInstant(t)}))}get totalFloors(){return this.floorsEnabled?this.floors.getFloorCount():1}hasEnabledAlignedSweeps(e){return null!==e?this.stateHelper.getState(e).hasEnabledAlignedSweeps:this.stateHelper.hasEnabledAlignedSweeps}getNavigableFloorIds(){return this.stateHelper.navigableFloorIds}onNavigableFloorIdsChanged(e){return this.stateHelper.onNavigableFloorIdsChanged(e)}getHighestVisibleFloor(){return this.currentFloor?this.currentFloor:this.floors.getTopFloor()}getHighestVisibleFloorId(){return this.getHighestVisibleFloor().id}getFloorIdMap(){const e={};return this.iterate((t=>{e[t.id]={id:t.id,name:t.name,items:[]}})),e}iterate(e){this.floors.iterate((t=>{const i=this.getViewData(t.id);i&&e(i)}))}getFloorNames(){const e=[];return this.floorsEnabled?(this.floors.iterate((t=>{e[t.index]=this.getFloorName(t.id)})),e):e}getFloorName(e){if(!e)return this.localize(r.Z.FLOOR_ALL);const t=this.floors.getFloor(e);return void 0!==t.name&&""!==t.name?t.name:this.getDefaultFloorName(e)}getDefaultFloorName(e){const t=this.floors.getFloor(e);return this.localize(r.Z.SHOWCASE.FLOORS.DEFAULT_NAME,t.index+1)}getFloorsVisibility(){if(this.currentFloorId){const e=[];return this.floors.iterate((t=>{e[t.index]=t.id===this.currentFloorId?1:0})),e}return[]}get floorsEnabled(){return this.config.floorChangesEnabled()}get floorSelectModeEnabled(){return this.config.roomNavFeatureEnabled()}get floorSelectModeActive(){return this._observableFloorsSelectMode.value}set floorSelectModeActive(e){const t=e&&this.floorsEnabled&&this.floorSelectModeEnabled;t!==this._observableFloorsSelectMode.value&&(this._observableFloorsSelectMode.value=t,this.commit())}onFloorSelectModeChange(e){return this._observableFloorsSelectMode.onChanged(e)}get showFloorSelection(){return this._showFloorSelection.value}set showFloorSelection(e){(e&&this.floorSelectModeEnabled)!==this._showFloorSelection.value&&(this._showFloorSelection.value=e&&this.floorSelectModeEnabled,this.commit())}onShowFloorSelectionChanged(e){return this._showFloorSelection.onChanged(e)}get roomSelectModeActive(){return this._observableRoomSelectMode.value}set roomSelectModeActive(e){const t=e&&this.floorSelectModeEnabled||!this.floorSelectModeEnabled;t!==this._observableRoomSelectMode.value&&(this._observableRoomSelectMode.value=t,this.commit())}onRoomSelectModeChange(e){return this._observableRoomSelectMode.onChanged(e)}}},33324:(e,t,i)=>{"use strict";i.d(t,{Vw:()=>s,h9:()=>r,EU:()=>a,tR:()=>o,LW:()=>l});var n=i(19663);class s extends n.m{constructor(e,t=!1,i,n){super(),this.id="MOVETO_FLOOR",this.payload={floorId:e,suppressCameraMovement:t,transitionTime:i,focusPoint:n}}}class r extends n.m{constructor(e,t=!1,i,n){super(),this.id="MOVETO_FLOOR_NUMBER",this.payload={floorIndex:e,suppressCameraMovement:t,transitionTime:i,focusPoint:n}}}class a extends n.m{constructor(e){super(),this.id="SHOW_ALL_FLOORS",this.payload=e}}class o extends n.m{constructor(){super(...arguments),this.id="DISABLE_ALL_FLOORS_OPTION"}}class l extends n.m{constructor(){super(...arguments),this.id="ENABLE_ALL_FLOORS_OPTION"}}},52498:(e,t,i)=>{"use strict";i.d(t,{qE:()=>n,eh:()=>s,cw:()=>r});const n=-1,s=-1,r=500},32924:(e,t,i)=>{"use strict";i.d(t,{W:()=>a});var n=i(67294),s=i(20334);function r(e){return e?e.floors.getOrderedValues():[]}function a(){const e=(0,s.I)(),[t,i]=(0,n.useState)(r(e));return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=()=>i(r(e)),n=e.floors.getCollection().onChanged(t);return t(),()=>n.cancel()}),[e]),t}},27525:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});var n=i(48787),s=i(40577);function r(){const e=(0,n.R)();return(0,s.q)(e)}},48787:(e,t,i)=>{"use strict";i.d(t,{R:()=>r,h:()=>a});var n=i(67294),s=i(20334);function r(){const e=(0,s.I)(),[t,i]=(0,n.useState)(e?e.currentFloorId:null);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=()=>{const t=e.currentFloorId;i(t)},n=e.makeFloorChangeSubscription(t);return t(),()=>n.cancel()}),[e]),t}const a=(0,i(74554).M)("currentFloorId",r)},40577:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});var n=i(67294),s=i(20334);function r(e){const t=(0,s.I)(),[i,r]=(0,n.useState)(t&&null!==e?t.getViewData(e):null);return(0,n.useEffect)((()=>{if(!t)return()=>{};if(e){const i=t.getViewData(e);r(i)}else r(null);return()=>{}}),[t,e]),i}},20334:(e,t,i)=>{"use strict";i.d(t,{I:()=>a});var n=i(45755),s=i(74554),r=i(79727);const a=(0,n.u)(r.c);(0,s.M)("floorsViewData",a)},27250:(e,t,i)=>{"use strict";i.d(t,{t:()=>r});var n=i(73085),s=i(79727);const r=(0,n.M)(s.c,"showAllFloorsOption",!0)},53407:(e,t,i)=>{"use strict";i.d(t,{d:()=>r});var n=i(67294),s=i(20334);function r(){const e=(0,s.I)(),[t,i]=(0,n.useState)(!!e&&e.showFloorSelection);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onShowFloorSelectionChanged(i);return i(e.showFloorSelection),()=>t.cancel()}),[e]),t}},39642:(e,t,i)=>{"use strict";i.d(t,{Q:()=>n,w:()=>s});const n="features/roomnav",s="features/floorselect"},50540:(e,t,i)=>{"use strict";i.d(t,{I:()=>s});var n=i(19663);class s extends n.m{constructor(e,t){super(),this.id="DEFAULT_ERROR",this.payload={messagePhraseKey:e,options:t}}}},58892:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var n=i(67992),s=i(15637);class r extends n.V{constructor(){super(),this.name="gui-view-data",this.collapsedAccordionGroupsObservable=(0,s.q)()}isAccordionGroupCollapsed(e){return this.collapsedAccordionGroupsObservable.get(e)}setAccordionGroupCollapsed(e,t){this.collapsedAccordionGroupsObservable.set(e,t)}getAccordionGroupCollapsedStates(){return this.collapsedAccordionGroupsObservable.deepCopy()}onAccordionCollapsedGroupsChanged(e){return this.collapsedAccordionGroupsObservable.onChanged(e)}}},92211:(e,t,i)=>{"use strict";i.d(t,{Bz:()=>s,rE:()=>r});var n=i(19663);class s extends n.m{constructor(e,t){super(),this.payload={modal:e,open:t}}}s.id="TOGGLE_MODAL";class r extends n.m{constructor(){super()}}r.id="CLOSE_MODAL";class a extends n.m{constructor(e){super(),this.payload={open:e}}}a.id="TOGGLE_ICON_TOOLBAR"},22782:(e,t,i)=>{"use strict";i.d(t,{s:()=>T});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(38772),l=i(33558),c=i(86283),d=i(6715),u=i(35446),h=i(32347),p=i(86941),m=i(16507),f=i(25328),g=i(48534),v=i(38399),b=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{ATTACHMENTS:y}=v.Z.SHOWCASE;let E=class extends s.Component{constructor(e){super(e),this.onRemoveFailed=e=>{const{id:t,error:i}=this.props;i&&(e.stopPropagation(),this.context.commandBinder.issueCommand(new u.Rh(t)))}}renderError(e){let t=g.ig.SMALL;const i=this.context.locale;let s=i.t(y.ERROR_UPLOAD_FAIL);switch(e){case h.kV.FILE_TOO_LARGE:s=i.t(y.ERROR_FILE_TOO_LARGE);break;case h.kV.EMPTY_FILE:s=i.t(y.ERROR_EMPTY_FILE);break;case h.kV.OVER_QUOTA:s=i.t(y.ERROR_OVER_QUOTA),t=g.ig.MEDIUM;break;case h.kV.PERMISSION_DENIED:s=i.t(y.ERROR_PERMISSION_DENIED)}const r=this.context.locale.t(y.REMOVE_TOOLTIP);return(0,n.jsxs)("div",Object.assign({className:"upload-status"},{children:[(0,n.jsx)(g.oO,Object.assign({className:"upload-error-message",content:s,position:g.lZ.DOWN,tooltipWidth:t,showOnClick:!0},{children:(0,n.jsx)("span",{className:"icon icon-error"})})),(0,n.jsx)(m.hU,{iconClass:"icon-close",className:"attachment-delete",buttonStyle:m.Dd.SOCIAL,buttonSize:f.qE.SMALL,tooltipMsg:r,tooltipPosition:g.lZ.DOWN_LEFT,onClick:this.onRemoveFailed})]}))}renderInProgress(){const{progress:e}=this.props;return(0,n.jsx)("div",Object.assign({className:"upload-status"},{children:(0,n.jsx)(p.$,{progress:e,innerRadius:20,barWidth:4})}))}render(){const{className:e,error:t}=this.props,i={"upload-error":!!t};return(0,n.jsx)("div",Object.assign({className:a()("attachment","attachment-upload",i,e)},{children:t?this.renderError(t):this.renderInProgress()}))}};E.contextType=l.I,E=b([o.Z],E);var S=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let T=class extends s.Component{constructor(e){super(e),this.onViewAttachment=(e,t)=>{this.props.onViewAttachment&&this.props.onViewAttachment(t)},this.renderAttachment=(e,t)=>{const{inline:i,canDelete:s,attachments:r,annotationType:a}=this.props,o=r.length,l=!i&&(1===o||0===t&&o>2),u=!!i||!l;let h,p;return a===c.J.NOTE&&(i?(h=60,p=60):l||(h=140,p=140)),(0,n.jsx)(d.P,{attachment:e,inline:!!i,canDelete:!!s,hero:l,onClick:this.onViewAttachment,thumbnail:u,width:h,height:p},e.id)},this.renderPendingUpload=e=>(0,n.jsx)(E,{id:e.id,className:"inline",progress:e.progress,error:e.error},e.id)}render(){const{attachments:e,uploads:t,failures:i,inline:s,children:r}=this.props;return(0,n.jsxs)("div",Object.assign({className:a()("annotation-attachments",{"annotation-attachments-inline":!!s})},{children:[e.map(this.renderAttachment),t&&t.map(this.renderPendingUpload),i&&i.map(this.renderPendingUpload),r]}))}};T.contextType=l.I,T=S([o.Z],T)},38597:(e,t,i)=>{"use strict";i.d(t,{E:()=>ee});var n=i(85893),s=i(67294),r=i(91033),a=i(38772),o=i(94184),l=i.n(o),c=i(62612),d=i(60083),u=i(86283),h=i(16935),p=i(5604),m=i(43470),f=i(44761),g=i(4311),v=i(33558),b=i(6608);function y({comment:e,noteView:t}){const i=t?t.created:e.created,{userData:r}=(0,s.useContext)(v.I),a=t?t.user.email:e.user.email,o=r.getUserDisplay(a),l=o.color,c=t?t.comments.length-1:0,d=1===c?`${c} reply`:`${c} replies`,u=""===e.text&&!(e.attachments.length>0)?"Original content was deleted":i.toLocaleString();return(0,n.jsxs)("header",Object.assign({className:"note-header"},{children:[(0,n.jsx)(b.C,{label:o.initials,badgeStyle:{color:l,borderColor:l}}),(0,n.jsxs)("div",Object.assign({className:"note-details"},{children:[(0,n.jsx)("span",Object.assign({className:"note-user"},{children:o.name})),c>0&&(0,n.jsx)("span",Object.assign({className:"note-summary-info note-replies"},{children:d})),(0,n.jsx)("div",Object.assign({className:"note-subheader"},{children:u}))]}))]}))}var E=i(21149),S=i(70490);function T(e){const{attachments:t}=e,{analytics:i}=(0,s.useContext)(v.I);if(!(t.length>0))return null;const r=t.filter(E.lV);if(0===r.length)return null;return(0,n.jsx)(S.T,{attachments:r,startIndex:0,onClick:(t,n)=>{i.trackToolGuiEvent("notes","notes_preview_click_attachment"),t.stopPropagation(),e.onClick(n)}})}var O=i(16701),_=i(61092),N=i(84242);function A({text:e,noteId:t}){const i=(0,_.l)(),s=(0,N.x)();return(0,n.jsx)("div",Object.assign({className:l()("note-post",{"note-summary-info":!e})},{children:e&&i&&(0,n.jsx)(O.e,{text:e,textParser:i,linkHandler:s,maxLength:150,annotationType:u.J.NOTE,annotationId:t})}))}var w=i(66102),I=i(38399);const{ANNOTATIONS:k}=I.Z.SHOWCASE;function P(e){const{previewId:t}=e,i=(0,w.b)(),s=(0,f.e)(t),r=(0,g.V)(t);if(!r)return null;const a=r.comments.get(0),o=a&&a.attachments.length>0,c=r.comments.length>1,d=i.t(k.READ_MORE_MESSAGE),u=l()("annotation-preview-contents","note-preview-contents",{"viewable-media":o});return(0,n.jsxs)("div",Object.assign({className:u,onClick:t=>{t.stopPropagation(),e.onClick()}},{children:[a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T,{attachments:a.attachments.values(),onClick:e.onClick}),(0,n.jsx)(y,{noteView:r,comment:a}),(0,n.jsx)(A,{text:a.text,noteId:t})]}),s&&(0,n.jsxs)("div",Object.assign({className:"nested-comment-preview"},{children:[(0,n.jsx)(y,{comment:s}),(0,n.jsx)(A,{text:s.text,noteId:t})]})),c&&(0,n.jsx)("div",Object.assign({className:"link link-more"},{children:d}))]}))}var L=i(52528),C=i(31981),R=i(33338),D=i(22136),M=i(64918),x=i(43037),j=i(47457),U=i(84269),H=i(5666);const{TAGS:F}=I.Z.SHOWCASE;function B(e){const{tag:t,tagType:i,capabilities:r}=e,{analytics:a,commandBinder:o,editMode:c,locale:d}=(0,s.useContext)(v.I),h=c?d.t(F.EDIT_TAG_LABEL):void 0,p=c?"toggle-pencil":"dock",m=c?void 0:d.t(F.DOCK_TAG_LABEL),f=t.id,g=(0,s.useCallback)((e=>{e.stopPropagation(),c&&i===u.J.OBJECT?(a.trackToolGuiEvent("object_tags","object_tags_billboard_edit_tag"),o.issueCommand(new H.OD(f))):(a.trackToolGuiEvent("tags",c?"tags_billboard_edit_tag":"tags_billboard_dock_tag"),o.issueCommand(new x.lt(f,{transition:M.n.Interpolate,dock:!0})))}),[f,c,i]);return i!==u.J.OBJECT||c?(0,n.jsxs)("header",Object.assign({className:l()("tag-billboard-header",{editable:c})},{children:[!c&&r.share&&(0,n.jsx)(U.O,{prefix:"tag",pin:t,id:t.id,darkTheme:!0,includeCameraView:!0,analyticAction:"tags_copy_share_link",buttonVariant:j.Wu.TERTIARY}),r.dock&&(0,n.jsx)(j.zx,{icon:p,label:h,size:j.qE.SMALL,variant:j.Wu.TERTIARY,theme:"dark",onClick:g,reverse:!0,tooltip:m,tooltipOptions:{placement:"bottom"}})]})):null}var V=i(90876),G=i(22782),W=i(19564),z=i(45755),K=i(85679);const Y=(0,z.u)(K.n);var $=i(59512);const q=(0,z.u)($.h);var Z=i(54253);const{ANNOTATIONS:Q}=I.Z.SHOWCASE,X=e=>{const t=new L.v({links:!0}),i=(0,W.z)(),{editMode:r}=(0,s.useContext)(v.I),a=(0,Z.P)(),o=(0,C.w)(),c=Y(),d=q(),h=(0,w.b)(),p=(0,R.L)(),[m,f]=(0,s.useState)(!1),[g,b]=(0,s.useState)(null),[y,S]=(0,s.useState)({dock:!0,share:!0}),T=(0,s.useCallback)((e=>{i.trackToolGuiEvent("tags",e)}),[i]),_=(0,s.useCallback)(((t,i)=>{T("tags_billboard_click_attachment"),e.onClick(i)}),[e,T]),N=(0,s.useCallback)((t=>{T(r?"tags_billboard_click_to_edit":"tags_billboard_click_to_dock"),t.stopPropagation(),e.onClick()}),[e,T,r]),A=(0,s.useCallback)((e=>{f(e)}),[]);if((0,s.useEffect)((()=>{const t=e.previewType,i=e.previewId;if(o&&c)switch(t){case u.J.OBJECT:const e=null==d?void 0:d.getObjectTag(i);if(!e)return;const t=e.mattertagId?c.getTag(e.mattertagId):void 0,s=e.toTagView(t);b(Object.assign({},s));break;case u.J.TAG:const r=c.getTag(i),l=o.getTagView(i);if(!r||!l)return void b(null);function n(){const e=null==a?void 0:a.getCapabilities(i);return e&&S(Object.assign({},e)),e}b(Object.assign({},l));const h=n(),p=null==h?void 0:h.onChanged(n),m=r.onChanged((()=>{const e=o.getTagView(i);e&&b(Object.assign({},e))}));return()=>{null==p||p.cancel(),m.cancel()}}}),[a,c,null==d?void 0:d.collection,e.previewId,e.previewType,o]),!h)return null;return(()=>{if(!g)return null;const{layerWidth:i,layerHeight:s,previewType:r}=e,{id:a,label:o,attachments:c,description:d,keywords:f}=g,v=(0,E.Ug)(c),b=v.length>0,S=(0,E.ae)(c),T=S.length-3;T>0&&(S.length=3);const w=h.t(Q.READ_MORE_MESSAGE),I=!o&&!d,k=l()("annotation-preview-contents","tag-billboard",{"viewable-media":b,"media-only":I,"has-keywords":f&&f.length>0});return(0,n.jsxs)("div",Object.assign({className:k,onClick:N},{children:[(0,n.jsx)(B,{tag:g,tagType:r,capabilities:y}),(0,n.jsxs)("div",Object.assign({className:"tag-billboard-contents"},{children:[(0,n.jsx)(D.v,{attachments:v,layerWidth:i,layerHeight:s,onClick:_}),o&&(0,n.jsx)("div",Object.assign({className:"tag-billboard-title"},{children:o})),d&&(0,n.jsx)("div",Object.assign({className:"tag-billboard-description"},{children:(0,n.jsx)(O.e,{text:d,textParser:t,linkHandler:p,annotationType:u.J.TAG,annotationId:a,maxLength:100,maxLines:4,onTruncationChange:A})})),f&&(0,n.jsx)(V.s,{keywords:f,theme:"dark",className:"tag-previewer-keywords"}),S.length>0&&(0,n.jsx)(G.s,Object.assign({annotationType:u.J.TAG,attachments:S},{children:T>0&&(0,n.jsx)("div",Object.assign({className:"attachment attachments-truncated"},{children:(0,n.jsx)("div",Object.assign({className:"attachment-view attachment-other "},{children:(0,n.jsx)("div",Object.assign({className:"attachment-label"},{children:(0,n.jsxs)("div",Object.assign({className:"file-label"},{children:[T," more attachment",1===T?"":"s","..."]}))}))}))}))})),m&&(0,n.jsx)("div",Object.assign({className:"annotation-read-more"},{children:(0,n.jsx)("span",Object.assign({className:"link link-more"},{children:w}))}))]}))]}))})()};var J=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let ee=class extends s.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.clickOuterAnnotation=()=>{const{currentAnnotation:e}=this.state;if(!e)return;const{selectedAnnotation:t,dockedAnnotation:i}=this.viewData;if(t)this.closeAnnotation();else{i||e.annotationType===u.J.NOTE?this.dockAnnotation():this.selectAnnotation()}},this.onClickNote=async e=>{this.context.analytics.trackGuiEvent("click_note_preview"),this.clickInnerAnnotation(e)},this.onClickTag=e=>{this.context.analytics.trackGuiEvent("tags_click_tag_billboard"),this.clickInnerAnnotation(e)},this.onResize=e=>{e.forEach((e=>{const t=e.target;t.classList.contains("annotation-preview")&&"hidden"!==t.style.visibility||this.updatePositioning(!0)}))},this.updateScreenPosition=()=>{this.updatePositioning(!1)},this.updateCurrentAnnotation=()=>{const{billboardAnnotation:e}=this.viewData;this.setState({currentAnnotation:e}),e&&this.updatePositioning(!0)},this.updatePositioning=e=>{if(!this.pinsViewData||!this.layer||!this.viewData.billboardAnnotation)return;const t=this.pinsViewData.screenPosition;if(t){if(e){const e=t.x,i=t.y;this.updatePreviewDirection(e,i)}this.setState({screenPosition:t,layerWidth:this.layer.offsetWidth,layerHeight:this.layer.offsetHeight})}},this.updatePreviewDirection=(e,t)=>{if(!this.layer||!this.preview)return;const{layerWidth:i,layerHeight:n,previewDirection:s}=this.state,{offsetWidth:r,offsetHeight:a}=this.preview;if(!(i&&n&&r&&a))return;let o=s;const l=t<a,d=t>n-a,u=e<r,h=e>i-r;l&&d?o=h&&!u?c.Od.LEFT:c.Od.RIGHT:l?o=u?c.Od.DOWN_RIGHT:h?c.Od.DOWN_LEFT:c.Od.DOWN:d?o=u?c.Od.UP_RIGHT:h?c.Od.UP_LEFT:c.Od.UP:u&&h?o=l?c.Od.DOWN:c.Od.UP:u?o=c.Od.RIGHT:h?o=c.Od.LEFT:null===o&&(o=c.Od.RIGHT),o!==s&&this.setState({previewDirection:o})},this.setLayerRef=e=>{this.layer=e,e&&(this.resizeObserver.observe(e),this.updatePositioning(!0))},this.setPreviewRef=e=>{this.preview=e,e&&(this.resizeObserver.observe(e),this.updatePositioning(!0))},this.state={currentAnnotation:null,screenPosition:null,previewDirection:null,layerWidth:0,layerHeight:0},this.resizeObserver=new r.Z(this.onResize)}componentDidMount(){const{market:e}=this.context;Promise.all([e.waitForData(h.A),e.waitForData(d.B)]).then((([e,t])=>{this.isUnmounting||(this.viewData=e,this.pinsViewData=t,this.bindings.push(e.onChanged(this.updateCurrentAnnotation),t.onScreenPositionChanged(this.updateScreenPosition)),this.isUnmounting||(this.updateCurrentAnnotation(),this.updateScreenPosition()))}))}componentWillUnmount(){this.isUnmounting=!0;for(const e of this.bindings)e.cancel();this.resizeObserver&&this.resizeObserver.disconnect()}async clickInnerAnnotation(e){const{currentAnnotation:t}=this.state;if(t){const{messageBus:i}=this.context,{id:n,annotationType:s}=t;e&&!this.viewData.dockedAnnotation||s===u.J.OBJECT||this.dockAnnotation(),e&&i.broadcast(new p.q(s,n,e))}}dockAnnotation(){const{currentAnnotation:e}=this.state;if(!e)return;const{analytics:t,commandBinder:i}=this.context;t.trackGuiEvent(`annotations_dock_${e.annotationType}`),i.issueCommand(new m.bd(e.id,e.annotationType))}selectAnnotation(){const{currentAnnotation:e}=this.state;if(!e)return;const{analytics:t,commandBinder:i}=this.context;t.trackGuiEvent(`annotations_select_${e.annotationType}`),i.issueCommand(new m.oM(e.id,e.annotationType))}closeAnnotation(){const{currentAnnotation:e}=this.state;if(!e)return;const{commandBinder:t}=this.context;t.issueCommand(new m.Aj(e.id,e.annotationType))}getPreviewPositioning(){const{screenPosition:e,previewDirection:t}=this.state;if(e){let i="",n=e.x;switch(t){case c.Od.UP:i="translate(-50%, -100%)";break;case c.Od.DOWN:i="translateX(-50%)";break;case c.Od.LEFT:i="translate(-100%, -50%)";break;case c.Od.RIGHT:i="translateY(-50%)";break;case c.Od.UP_LEFT:n+=50,i="translate(-100%, -100%)";break;case c.Od.UP_RIGHT:i="translate(-50px, -100%)";break;case c.Od.DOWN_LEFT:n+=50,i="translate(-100%, 5px)";break;case c.Od.DOWN_RIGHT:i="translate(-50px, 5px)"}return{top:`${e.y}px`,left:`${n}px`,visibility:null===t?"hidden":"",transform:i}}return{}}render(){const{openModal:e,newTagsEnabled:t,notesEnabled:i}=this.props;if(e)return null;const{currentAnnotation:s,previewDirection:r,screenPosition:a,layerWidth:o,layerHeight:c}=this.state,d=null===a,h=c-100,p=t&&s&&s.annotationType===u.J.TAG,m=i&&s&&s.annotationType===u.J.NOTE,f=s&&s.annotationType===u.J.OBJECT;return(0,n.jsx)("div",Object.assign({ref:this.setLayerRef,className:"annotations-preview-layer"},{children:s&&(p||m||f)&&!d&&(0,n.jsxs)("div",Object.assign({ref:this.setPreviewRef,className:l()("annotation-preview",`annotation-preview-${r}`,{"tag-preview":!!p||!!f,"note-preview":!!m}),style:this.getPreviewPositioning(),onClick:this.clickOuterAnnotation},{children:[(p||f)&&(0,n.jsx)(X,{previewId:s.id,previewType:s.annotationType,onClick:this.onClickTag,layerWidth:o,layerHeight:h}),m&&(0,n.jsx)(P,{previewId:s.id,onClick:this.onClickNote})]}))}))}};ee.contextType=v.I,ee=J([a.Z],ee)},16701:(e,t,i)=>{"use strict";i.d(t,{e:()=>g});var n=i(85893),s=i(67294),r=i(38772),a=i(33558),o=i(95160),l=i(42619),c=i(43470),d=i(5604),u=i(45531),h=i(55502),p=i(22782),m=i(70391),f=(i(15930),i(87435),function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a});let g=class extends s.Component{constructor(e){super(e),this.onTextReplaced=e=>{const{onTruncationChange:t}=this.props,i=this.state.truncated;this.setState({truncated:e}),t&&i!==e&&t(e)},this.onClickAnchor=e=>{const t=e.target,i=t.dataset.blocktype;if(e.stopPropagation(),i){const{annotationType:n,annotationId:s,linkHandler:r}=this.props,a={blockType:i,text:t.innerText,value:t.dataset.value,id:t.dataset.id};if(i===o.C.LINK&&r&&a.value){e.preventDefault();const t=(0,l.V)(a.value),{url:i,modelId:o,pose:d}=t;o?r.handler.openLink({fullLink:i,modelId:o}):d?(r.handler.openLink({fullLink:i,pose:d}),this.context.commandBinder.issueCommand(new c.Aj(s,n))):(r.handler.openLink(i),this.context.messageBus.broadcast(new h.Ik(i)))}this.context.messageBus.broadcast(new d.i(n,s,a))}},this.state={truncated:!1}}renderAttachments(e){if(0===e.length)return null;const{onViewAttachment:t,annotationType:i}=this.props;return(0,n.jsx)(p.s,{attachments:e,onViewAttachment:t,annotationType:i})}render(){const{settings:e}=this.context,{text:t,textParser:i,edited:s,attachments:r,maxLength:a,maxLines:o,readMore:l}=this.props,{truncated:c}=this.state,d=e.tryGetProperty(u.sX,!1);return(0,n.jsxs)("div",Object.assign({className:"annotation-box"},{children:[(0,n.jsx)("div",Object.assign({className:"annotation-text-box"},{children:(0,n.jsx)(m.Z,{text:t,textParser:i,onClickAnchor:d?void 0:this.onClickAnchor,clickableLinks:!d,onTextReplaced:this.onTextReplaced,maxLength:a,maxLines:o,readonly:!0})})),s&&(0,n.jsx)("div",Object.assign({className:"annotation-edited"},{children:"(edited)"})),l&&c&&(0,n.jsx)("div",Object.assign({className:"annotation-read-more"},{children:(0,n.jsx)("span",Object.assign({className:"link link-more"},{children:l}))})),r&&!d&&this.renderAttachments(r)]}))}};g.contextType=a.I,g=f([r.Z],g)},6715:(e,t,i)=>{"use strict";i.d(t,{P:()=>X});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(33558),l=i(35446),c=i(32347),d=i(19564),u=i(49627),h=i(38399),p=i(38772),m=i(56382),f=i(97998),g=i(16507),v=i(25328);class b extends s.Component{constructor(e){super(e)}render(){const{className:e,cover:t,data:i,onClick:s,style:r}=this.props,o=a()("oembed","oembed-text",e,{"oembed-text--cover":t}),l=i.provider_name?`${i.provider_name} content`:"Embedded content",c=i.author_name?`from ${i.author_name}`:"";return(0,n.jsxs)("div",Object.assign({className:o,style:r,onClick:s},{children:[i.title&&(0,n.jsx)("h3",{children:i.title}),(0,n.jsx)("p",{children:`${l} ${c}`})]}))}}const y=["soundcloud","spotify"];class E extends s.Component{constructor(e){super(e)}getAttributes(){const{data:e}=this.props;let t=e.thumbnail_url,i=e.thumbnail_width,n=e.thumbnail_height;return(!t||!i||!n)&&e.type===m.ht.PHOTO&&(t=e.url,i=e.width,n=e.height),{url:t,width:i,height:n}}render(){const{className:e,cover:t,data:i,disabled:s,maxHeight:r,maxWidth:o,onClick:l,style:c}=this.props,{url:d,width:u,height:h}=this.getAttributes();if(!d||!u||!h)return(0,n.jsx)(b,Object.assign({},this.props));const p=function(e,t){return e<128||t<128}(u,h),f=!s&&function(e){const t=(e.provider_name||"").toLowerCase();return e.type===m.ht.VIDEO?"giphy"!==t:!(e.type!==m.ht.RICH||!y.includes(t))}(i),E=a()("oembed","oembed-thumbnail",e,{"oembed-thumbnail--cover":t,"oembed-thumbnail--cover--icon":t&&p}),S=Object.assign(Object.assign({},c),{backgroundImage:`url('${d}')`});if(!t){const{width:e,height:t}=function(e,t,i,n){let s=e,r=t;if(i&&s>i){const e=i/s;s*=e,r&&(r*=e)}if(r&&n&&r>n){const e=n/r;s*=e,r*=e}return{width:s,height:r}}(u,h,o,r);S.width=`${e}px`,S.height=`${t}px`}return t&&p&&(S.maxWidth=1.5*u+"px"),(0,n.jsx)("div",Object.assign({className:E,style:S,onClick:s?void 0:l},{children:f&&(0,n.jsx)(g.hU,{className:"oembed-thumbnail__cta",iconClass:"icon-play-unicode",buttonStyle:g.Dd.OVERLAY,buttonSize:v.qE.LARGE})}))}}const S=({id:e,className:t,onClick:i,url:r,cover:o,style:l,containerWidth:c})=>{const{height:d}=(0,u.iP)(),h=(0,s.useCallback)((t=>{i&&i(t,e)}),[i,e]),p=a()({"image-cover":!!o},t),m=4/3,f=.8*d,g=Math.min(Math.round(c/m),f);return(0,n.jsxs)("div",Object.assign({className:a()("oembed-image fill-cover-image",p),style:Object.assign(Object.assign({},l),{minHeight:g,maxWidth:c}),onClick:i?h:void 0},{children:[(0,n.jsx)("div",{className:"fill-blur",style:{backgroundImage:`url('${r}')`}}),(0,n.jsx)("img",{className:a()("image",p),src:r,style:{maxHeight:Math.min(f,Math.round(c*m))},onClick:i?h:void 0})]}))};class T extends s.Component{constructor(e){super(e)}render(){const{className:e,cover:t,data:i,onClick:s,style:r,containerWidth:o}=this.props,l=a()("oembed","oembed-photo",e,{"oembed-photo--cover":t});return(0,n.jsx)(S,{url:i.url,style:r,onClick:s,className:l,containerWidth:o})}}var O=i(31362);function _(e){const{className:t,children:i}=e;if(!i)return null;const s=a()("oembed","oembed-loading",t);return(0,n.jsx)("div",Object.assign({className:s},{children:i}))}var N=i(70371);const A={flickr:!0,instagram:!0},w=/^<iframe.*>.*<\/iframe>$/;function I(e){return w.test(e)}function k(e,t){let i;return i=I(e)?function(e){const t=document.createElement("div");t.innerHTML=e;const i=t.firstChild,n=i.style;return n.maxWidth="100%",n.maxHeight="100%",n.minWidth="",n.minHeight="",i}(e):function(e,t){const i=document.createElement("iframe");i.setAttribute("allow","encrypted-media; autoplay; fullscreen");let n="";return n=t&&t===N.z.Instagram?"\n      <style>\n        html, body { padding: 0; margin: 0; border: 0; }\n        img { display: block; max-width: 100%; height: auto; border: 0; }\n        iframe { display: block; max-width: 100%; border: 0; }\n      </style>\n    ":"\n      <style>\n        html, body { padding: 0; margin: 0; border: 0; }\n        img, iframe { display: block; max-width: 100%; height: auto; border: 0; }\n      </style>\n    ",i.srcdoc=`<!doctype html>${n.replace(/\s+/g," ")}${e}`,i}(e,t),i.src||(e=>void 0!==e&&!!A[e.toLowerCase()])(t)?i.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups allow-presentation"):i.setAttribute("sandbox","allow-same-origin"),i}function P(e){const{className:t,data:i,loadingComponent:r,onClick:o,style:l,onLoad:c}=e,[d,u]=(0,s.useState)(),[h,p]=(0,s.useState)(),[m,f]=(0,s.useState)(!0),[g,v]=(0,s.useState)(i.height);(0,s.useLayoutEffect)((()=>{const e=d;let t=null;if(e){for(;e.lastChild;)e.removeChild(e.lastChild);const n=k(i.html,i.provider_name);n.onload=()=>{c&&n&&c(n),f(!1)},e.appendChild(n),t=e=>{const t=(e=>{let t;try{t=JSON.parse(e.data)}catch(e){return}if("iframe.resize"!==t.context)return;const i=t.src.replace(/http(s?):\/\//,"//"),n=document.querySelector('iframe[src="'+i+'"]');return n?{iframe:n,height:t.height}:void 0})(e);t&&t.iframe===n&&v(t.height)},window.addEventListener("message",t)}return()=>{t&&window.removeEventListener("message",t)}}),[d,i.html,i.provider_name,c]);const b=(0,s.useCallback)((e=>{e&&(p(e.offsetWidth),u(e))}),[]),y=(0,s.useMemo)((()=>{var e;if(!g||!h)return"30%";let t;if((null===(e=i.provider_name)||void 0===e?void 0:e.toLowerCase())===N.z.Flickr)t=(i.height||i.thumbnail_height||220)/i.width;else{t=(g||i.height||i.thumbnail_height||220)/h}return`${Math.max(30,100*t).toPrecision(4)}%`}),[g,h,i.height,i.width,i.thumbnail_height,i.provider_name]);return(0,n.jsxs)("div",Object.assign({className:a()("oembed-iframe--wrapper",t),style:l,onClick:o},{children:[(0,n.jsx)(_,Object.assign({className:m?"":"is-loaded"},{children:r})),(0,n.jsx)("div",{className:a()("oembed-iframe__container",i.provider_name&&`oembed-iframe--src-${i.provider_name.replace(/\s/g,"-")}`,m&&"is-loading"),ref:b,style:{paddingBottom:y}})]}))}var L=i(17141);const C=new f.Z("oembed-video");class R extends s.Component{constructor(){super(...arguments),this.isUnmounting=!1,this.onIFrameLoad=async e=>{if(!this.isUnmounting)try{const t=await function(e){const t=new L.Player(e);return new Promise(((e,i)=>{t.on("ready",(()=>{e(t)}))}))}(e);if(this.isUnmounting)return;(0,O.tq)()||t.play()}catch(e){C.warn("unable to autoplay video"),C.warn(e)}}}componentWillUnmount(){this.isUnmounting=!0}render(){const{className:e,cover:t}=this.props;if(t)return(0,n.jsx)(E,Object.assign({},this.props));const i=a()("oembed","oembed-video",e);return(0,n.jsx)(P,Object.assign({},this.props,{className:i,onLoad:this.onIFrameLoad}))}}const D=e=>{const{className:t,cover:i}=e;if(i)return(0,n.jsx)(E,Object.assign({},e));const s=a()("oembed","oembed-rich",t);return(0,n.jsx)(P,Object.assign({},e,{className:s}))};function M(e){const{children:t,className:i}=e;if(!t)return null;const s=a()("oembed","oembed-error",i);return(0,n.jsx)("div",Object.assign({className:s},{children:t}))}const x=new f.Z("oembed-errors");class j extends s.Component{constructor(e){super(e),this.state={caughtError:void 0}}static getDerivedStateFromError(e){return{caughtError:e}}componentDidCatch(e){x.warn(e.message)}componentDidUpdate(e){e.data!==this.props.data&&this.setState({caughtError:void 0})}render(){const{className:e,cover:t,data:i,disabled:s,renderError:r,loadingComponent:a,maxHeight:o,maxWidth:l,onClick:c,style:d,thumbnail:u,error:h,containerWidth:p}=this.props,{caughtError:f}=this.state;if(r&&(h||f))return(0,n.jsx)(M,Object.assign({className:e},{children:r(h,f)}));if(!i)return(0,n.jsx)(_,Object.assign({className:e},{children:a}));const g={className:e,cover:t,maxHeight:o,maxWidth:l,onClick:c,style:d,containerWidth:p};return u?(0,n.jsx)(E,Object.assign({data:i,disabled:s},g)):i.type===m.ht.PHOTO?(0,n.jsx)(T,Object.assign({data:i},g)):i.type===m.ht.VIDEO?(0,n.jsx)(R,Object.assign({data:i,loadingComponent:a},g)):i.type===m.ht.RICH?(0,n.jsx)(D,Object.assign({data:i,loadingComponent:a},g)):null}}var U=i(66102),H=i(47457);const{ATTACHMENTS:F}=h.Z.SHOWCASE,B={200:F.ERROR_200_MESSAGE,401:F.ERROR_401_MESSAGE,403:F.ERROR_403_MESSAGE,404:F.ERROR_404_MESSAGE,429:F.ERROR_429_MESSAGE},V=({error:e,compact:t,scriptError:i})=>{const[r,a]=(0,s.useState)(null),o=(0,U.b)(),l=(null==e?void 0:e.status)&&(e=>{const t=B[e];if(t)return t;switch(Math.floor(+e/100)){case 2:return F.ERROR_200_MESSAGE;case 4:return F.ERROR_4XX_MESSAGE;case 5:return F.ERROR_5XX_MESSAGE}})(e.status),c=i?i.message:o.t(l||F.FAILED_TO_LOAD_MESSAGE),d=(0,s.useCallback)((e=>{a(e)}),[]);return(0,n.jsx)("div",Object.assign({className:"embed-error-container",ref:d},{children:t?(0,n.jsx)(H.u,{title:c,target:r}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"icon icon-error"}),(0,n.jsx)("div",Object.assign({className:"embed-error-message"},{children:c}))]})}))};var G=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let W=class extends s.Component{constructor(e){super(e),this.isUnmounting=!1,this.renderError=(e,t)=>{const{compact:i}=this.props;return(0,n.jsx)(V,{error:e,scriptError:t,compact:i})},this.state={embed:null,error:void 0}}componentDidMount(){this.getEmbeddedMedia()}componentWillUnmount(){this.isUnmounting=!0}componentDidUpdate(e){this.props.attachment.id!==e.attachment.id&&this.getEmbeddedMedia()}async getEmbeddedMedia(){const{attachment:e}=this.props,{commandBinder:t}=this.context;let i,n=null;try{if(n=await t.issueCommand(new l.st(e)),!n)throw new Error("embed not found")}catch(e){i=e}this.isUnmounting||this.setState({attachmentId:e.id,embed:n,error:i})}render(){const{compact:e,height:t,width:i,onClick:s,style:r,thumbnail:o,containerWidth:l}=this.props,{embed:c,error:d}=this.state,u=c&&this.state.attachmentId===this.props.attachment.id,h=(0,n.jsx)("div",{className:"gui-spinner-icon"}),p=!!i&&!!t,m=a()("embedded-media",{clickable:s&&!d});return(0,n.jsx)(j,{className:m,data:u&&null!=c?c:void 0,style:r,cover:p,loadingComponent:h,renderError:this.renderError,error:d,thumbnail:o,disabled:e,maxWidth:i,maxHeight:t,onClick:d?void 0:s,containerWidth:l})}};W.contextType=o.I,W=G([p.Z],W);var z=i(21149),K=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{ATTACHMENTS:Y}=h.Z.SHOWCASE,$=e=>{e.stopPropagation()};let q=class extends s.Component{constructor(e){super(e),this.isUnmounting=!1,this.state={mediaUrl:""}}componentDidMount(){this.loadMedia()}componentWillUnmount(){this.isUnmounting=!0}componentDidUpdate(e){e.attachment.id!==this.props.attachment.id&&this.loadMedia()}getImageUrl(){const{attachment:e,cover:t,smartWidth:i,smartHeight:n}=this.props,{mediaUrl:s}=this.state;if(!(0,z.lV)(e))return null;if(!t||void 0===i||void 0===n||!(0,z.Uq)(e))return s;const r=-1!==s.indexOf("?");return`${s}${r?"&":"?"}height=${n}&crop=${i}:${n},smart`}async loadMedia(){const{attachment:e,thumbnail:t}=this.props,i=t&&e.thumbnailUrl?e.thumbnailUrl:e.url,n=await i.get();this.isUnmounting||this.setState({mediaUrl:n})}render(){const{attachment:e,inline:t,onClick:i,style:s,containerWidth:r}=this.props,{id:o,category:l,filename:d,bytes:u}=e;if(l!==c.G$.UPLOAD)return null;const h=this.getImageUrl(),p=a()("attachment-view",{clickable:!!i});if(h)return(0,n.jsx)(S,{id:o,url:h,style:s,onClick:i,className:p,containerWidth:r});{const{mediaUrl:e}=this.state,r=this.context.locale.t(Y.DOWNLOAD_TOOLTIP),o=u?(0,z.VV)(u):"";return(0,n.jsxs)("div",Object.assign({className:a()(p,"attachment-other",{inline:t}),onClick:i,style:s},{children:[!t&&(0,n.jsx)("div",{className:"icon icon-file"}),(0,n.jsxs)("div",Object.assign({className:"attachment-label"},{children:[(0,n.jsx)("div",Object.assign({className:"file-label"},{children:d})),o&&!t&&(0,n.jsx)("div",Object.assign({className:"size-label"},{children:o}))]})),!t&&e&&(0,n.jsx)("a",Object.assign({className:"link download-link","data-balloon":r,"data-balloon-pos":"down",href:e,download:!0,onClick:$},{children:(0,n.jsx)("span",{className:"icon-download"})}))]}))}}};function Z({id:e,width:t,height:i,srcDoc:r,onLoad:a}){const o=new URLSearchParams(new URL(e,window.location.href).search).get("parent"),l=(0,s.useCallback)((function(e){a(e.currentTarget,o||"")}),[a,o]);return(0,n.jsx)("iframe",{style:{width:t?`${t}px`:"100%",height:i?`${i}px`:"100%",border:0},srcDoc:r,onLoad:l,referrerPolicy:"no-referrer"},e)}q.contextType=o.I,q=K([p.Z],q);const{ATTACHMENTS:Q}=h.Z.SHOWCASE,X=({attachment:e,onClick:t,inline:i,canDelete:r,hero:h,containerWidth:p,width:m,height:f,thumbnail:g})=>{const{commandBinder:v,locale:b}=(0,s.useContext)(o.I),y=(0,d.z)(),[E,S]=(0,u.h4)(),T=(0,s.useMemo)((()=>b.t(Q.DELETE_ATTACHMENT_TOOLTIP)),[b]),O=(0,s.useCallback)((t=>{t.stopPropagation(),r&&(y.trackGuiEvent("attachments_click_remove"),v.issueCommand(new l.$T(e)))}),[r,e,y,v]),_=(0,s.useCallback)((i=>{t&&t(i,e.id)}),[t,e]),N={attachment:e,thumbnail:g,containerWidth:p||S.width,onClick:t?_:void 0};return(0,n.jsxs)("div",Object.assign({className:a()("attachment",`attachment-category-${e.category}`,{inline:!!i,hero:!!h}),ref:E},{children:[e.category===c.G$.UPLOAD?(0,n.jsx)(q,Object.assign({},N,{inline:i})):e.category===c.G$.EXTERNAL?(0,n.jsx)(W,Object.assign({},N,{compact:i,width:m,height:f})):J(e)?(0,n.jsx)(Z,{id:e.src,width:e.width,height:e.height,srcDoc:e.srcDoc,onLoad:e.onLoad}):(0,n.jsx)("div",{children:"Unknown Attachment Category"}),r&&(0,n.jsx)(H.zx,{icon:"close",className:"attachment-delete",size:H.qE.SMALL,variant:H.Wu.FAB,theme:"dark",tooltip:T,tooltipOptions:{placement:"bottom-start"},onClick:O})]}))};function J(e){return e.category===c.G$.SANDBOX}},70490:(e,t,i)=>{"use strict";i.d(t,{T:()=>m});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(6715),l=i(16507),c=i(19564),d=i(49627);function u(e,t,i){return e[t]?e[t][0]?e[t][0][i]:e[t][i]:"contentBoxSize"===t?e.contentRect["inlineSize"===i?"width":"height"]:void 0}function h(e){void 0===e&&(e={});var t=e.onResize,i=(0,s.useRef)(void 0);i.current=t;var n=e.round||Math.round,r=(0,s.useRef)(),a=(0,s.useState)({width:void 0,height:void 0}),o=a[0],l=a[1],c=(0,s.useRef)(!1);(0,s.useEffect)((function(){return c.current=!1,function(){c.current=!0}}),[]);var d=(0,s.useRef)({width:void 0,height:void 0}),h=function(e,t){var i=(0,s.useRef)(null),n=(0,s.useRef)(null);n.current=t;var r=(0,s.useRef)(null);(0,s.useEffect)((function(){a()}));var a=(0,s.useCallback)((function(){var t=r.current,s=n.current,a=t||(s?s instanceof Element?s:s.current:null);i.current&&i.current.element===a&&i.current.subscriber===e||(i.current&&i.current.cleanup&&i.current.cleanup(),i.current={element:a,subscriber:e,cleanup:a?e(a):void 0})}),[e]);return(0,s.useEffect)((function(){return function(){i.current&&i.current.cleanup&&(i.current.cleanup(),i.current=null)}}),[]),(0,s.useCallback)((function(e){r.current=e,a()}),[a])}((0,s.useCallback)((function(t){return r.current&&r.current.box===e.box&&r.current.round===n||(r.current={box:e.box,round:n,instance:new ResizeObserver((function(t){var s=t[0],r="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",a=u(s,r,"inlineSize"),o=u(s,r,"blockSize"),h=a?n(a):void 0,p=o?n(o):void 0;if(d.current.width!==h||d.current.height!==p){var m={width:h,height:p};d.current.width=h,d.current.height=p,i.current?i.current(m):c.current||l(m)}}))}),r.current.instance.observe(t,{box:e.box}),function(){r.current&&r.current.instance.unobserve(t)}}),[e.box,n]),e.ref);return(0,s.useMemo)((function(){return{ref:h,width:o.width,height:o.height}}),[h,o.width,o.height])}var p=i(47457);const m=({attachments:e,onClick:t,onNavigate:i,startIndex:r=0})=>{const u=(0,c.z)(),[m,{width:f}]=(0,d.h4)(),{ref:g,height:v}=h({box:"border-box"}),[b,y]=(0,s.useState)(r),E=e.length;(0,s.useEffect)((()=>{r!==b&&y(r)}),[r]);const S=(0,s.useCallback)((e=>{e.stopPropagation();const t=b+1<E?b+1:0;u.trackGuiEvent("attachments_viewer_next"),y(t),i&&i(t)}),[i,b,u,E]),T=(0,s.useCallback)((e=>{e.stopPropagation();const t=b>0?b-1:E-1;u.trackGuiEvent("attachments_viewer_prev"),y(t),i&&i(t)}),[i,b,u,E]),O=(0,s.useCallback)(((e,t)=>{e.stopPropagation();const n=t;u.trackGuiEvent("attachments_viewer_dot_clicked"),y(n),i&&i(n)}),[i,u]),_=e[b];if(!_)return null;const N=E>1;return(0,n.jsxs)("div",Object.assign({className:"attachment-carousel",ref:m},{children:[(0,n.jsx)("div",Object.assign({className:"attachment-carousel-view",style:{height:v}},{children:(0,n.jsx)("div",Object.assign({className:"attachment-container",ref:g},{children:(0,n.jsx)(o.P,{attachment:_,onClick:t,thumbnail:!1,containerWidth:f||318})}))})),N&&(0,n.jsx)(l.hU,{className:a()("modal-nav","modal-prev"),iconClass:"icon-dpad-left",onClick:T}),N&&(0,n.jsx)(l.hU,{className:a()("modal-nav","modal-next"),iconClass:"icon-dpad-right",onClick:S}),N&&(0,n.jsx)("div",Object.assign({className:"carousel-bullets"},{children:e.map(((e,t)=>(0,n.jsx)(p.zx,{className:a()("carousel-bullet",t===b&&"carousel-bullet-active"),icon:"simple-tag",onClick:O,onClickArgs:[t,e]},t)))}))]}))}},15792:(e,t,i)=>{"use strict";i.d(t,{I:()=>S});var n=i(85893),s=i(67294),r=i(38772),a=i(94184),o=i.n(a),l=i(32597),c=i(73536),d=i(92211),u=i(40505),h=i(35446),p=i(13794),m=i(70490),f=i(16507),g=i(48534),v=i(33558),b=i(38399),y=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{ATTACHMENTS:E}=b.Z.SHOWCASE;let S=class extends s.Component{constructor(e){super(e),this.bindings=[],this.onKey=async e=>{const{attachments:t,attachmentIndex:i}=this.state,n=t.length;let s=-1;switch(e.keyCode){case l.R.ESCAPE:this.closeAttachmentViewer();break;case l.R.LEFTARROW:s=i-1,s<0&&(s=n-1);break;case l.R.RIGHTARROW:s=i+1,s>=n&&(s=0)}-1!==s&&this.setState({attachmentIndex:s}),e.stopPropagation()},this.closeAttachmentViewer=()=>{this.state.open&&this.context.commandBinder.issueCommand(new h.xW(!1))},this.onModalToggled=e=>{e.modal!==c.P.ATTACHMENT||e.open||this.closeAttachmentViewer()},this.onViewerClosed=()=>{this.state.open&&(this.context.mainDiv.getRootNode().removeEventListener("keydown",this.onKey,{capture:!0}),this.context.commandBinder.issueCommand(new d.Bz(c.P.ATTACHMENT,!1)),this.setState({open:!1}))},this.onNavigate=e=>{this.setState({attachmentIndex:e})},this.onViewAttachments=e=>{const{attachments:t,attachmentId:i}=e,n=i||this.getCurrentAttachmentId(),s=t.findIndex((e=>e.id===n));0===t.length||-1===s?this.closeAttachmentViewer():(this.state.open||(this.context.mainDiv.getRootNode().addEventListener("keydown",this.onKey,{capture:!0}),this.context.commandBinder.issueCommand(new d.Bz(c.P.ATTACHMENT,!0)),this.setState({open:!0})),this.setState({attachments:t,attachmentIndex:s}))},this.state={open:!1,attachmentIndex:-1,attachments:[]}}componentDidMount(){const{messageBus:e}=this.context;this.bindings.push(e.subscribe(p.O,this.onViewAttachments),e.subscribe(p.Rd,this.onViewerClosed),e.subscribe(u.nV,this.onModalToggled))}componentWillUnmount(){for(const e of this.bindings)e.cancel();this.context.mainDiv.getRootNode().removeEventListener("keydown",this.onKey,{capture:!0})}getCurrentAttachmentId(){var e;const{attachmentIndex:t,attachments:i}=this.state;return(null===(e=i[t])||void 0===e?void 0:e.id)||void 0}render(){const{open:e,attachments:t,attachmentIndex:i}=this.state,{locale:s}=this.context,r=s.t(E.CLOSE_TOOLTIP),a=s.t(E.VIEWER_INDEX_COUNT,{currentNumber:i+1,totalNumber:t.length});return(0,n.jsx)("div",Object.assign({className:o()("overlay-layer","attachment-overlay",{open:e})},{children:e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",Object.assign({className:"overlay-top-bar"},{children:[(0,n.jsx)("div",Object.assign({className:"overlay-label"},{children:a})),(0,n.jsx)(f.hU,{iconClass:"icon-close",buttonStyle:f.Dd.OVERLAY,tooltipMsg:r,tooltipPosition:g.lZ.DOWN,onClick:this.closeAttachmentViewer})]})),(0,n.jsx)(m.T,{attachments:t,startIndex:i,onNavigate:this.onNavigate})]})}))}};S.contextType=v.I,S=y([r.Z],S)},23674:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(38772),l=i(33558),c=i(3773),d=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let u=class extends s.Component{constructor(e,t){super(e),this.nudgeTimeout=0,this.initNudge=()=>{const e=this.context.settings.tryGetProperty(this.props.appSettingsKey,!1),t=this.context.settings.tryGetProperty(this.props.localStorageSettingsKey,!1);!e||t||this.nudgeTimeout||(this.nudgeTimeout=window.setTimeout((()=>{this.setState({show:!0}),window.setTimeout((()=>{this.dismissNudge()}),this.props.dismissTimeout)}),this.props.showTimeout))},this.dismissNudge=()=>{if(this.state.show){const{tool:e,guiAction:t}=this.props.analyticsKeys;this.context.analytics.trackToolGuiEvent(e,t),this.context.settings.setLocalStorageProperty(this.props.localStorageSettingsKey,!0),this.setState({show:!1})}},this.localized={title:t.locale.t(this.props.title),message:t.locale.t(this.props.message)},this.state={show:!1}}componentDidMount(){this.initNudge()}componentWillUnmount(){this.nudgeTimeout&&window.clearTimeout(this.nudgeTimeout)}render(){const{show:e}=this.state,{title:t,message:i}=this.localized,s=this.props.arrowPosition?this.props.arrowPosition:c.x.BOTTOM_CENTER;return(0,n.jsx)(c.u,{className:a()("tooltip-title-large","nudge-tooltip"),open:e,closeButton:!0,onClose:this.dismissNudge,title:t,message:(0,n.jsx)("div",Object.assign({className:"nudge-message"},{children:(0,n.jsx)("span",Object.assign({className:"message"},{children:i}))})),arrowPos:s})}};u.contextType=l.I,u=d([o.Z],u);const h=u},84637:(e,t,i)=>{"use strict";i.d(t,{d:()=>E});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(41326),l=i(33558),c=i(79727),d=i(38399),u=i(66102),h=i(39540),p=i(95882),m=i(47457),f=i(68773);function g({name:e,id:t,active:i}){const r=(0,s.useContext)(l.I),{analytics:a}=r,o=(0,s.useCallback)((async()=>{a.trackGuiEvent("floor_clicked"),(0,f.j)(t||null,r)}),[a,t]);return(0,n.jsx)(m.zx,{className:"floor-button",label:e,variant:m.Wu.TERTIARY,size:m.qE.SMALL,theme:"dark",onClick:o,active:i})}var v=i(27250);function b(e){const{currentFloor:t,floors:i}=e,r=(0,u.b)(),{analytics:o}=(0,s.useContext)(l.I),c=(0,h.B)(),f=(0,v.t)(),b=c!==p.Ey.Panorama&&f,y=(0,s.useCallback)((()=>{o.trackGuiEvent("floor_controls")}),[o]),E=t&&t.index+1,S=r.t(d.Z.HELP_MORE_FLOORS_A),T=a()("floor-controls",{"two-digit":void 0!==E&&E>=10}),O=E?"floor-controls":"floor-controls-all",_=i.map((e=>{const{id:i,name:s}=e,r=(null==t?void 0:t.id)===i;return(0,n.jsx)(g,{id:i,name:s,active:r},i)}));return b&&_.push((0,n.jsx)(g,{name:r.t(d.Z.FLOOR_ALL),active:!t},"all")),_.reverse(),(0,n.jsx)(m.xz,Object.assign({buttonClassName:T,buttonDataAttribute:E,onClick:y,variant:m.Wu.TERTIARY,ariaLabel:S,tooltip:S,icon:O,theme:"overlay",menuClassName:"floor-controls-menu",menuTheme:"dark",menuPlacement:"top"},{children:_}))}var y=i(87835);class E extends s.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.onCurrentFloorChanged=()=>{var e,t;const i=(null===(e=this.floorsViewData)||void 0===e?void 0:e.currentFloor)||void 0,n=i&&(null===(t=this.floorsViewData)||void 0===t?void 0:t.getViewData(i.id));this.setState({currentFloor:n})},this.onFloorsChanged=()=>{var e,t;const i=(null===(e=this.floorsViewData)||void 0===e?void 0:e.getNavigableFloorIds()).map(null===(t=this.floorsViewData)||void 0===t?void 0:t.getViewData);this.setState({floors:i})},this.state={currentFloorIndicator:!0,floors:[]}}componentDidMount(){const{market:e}=this.context;e&&e.waitForData(c.c).then((e=>{this.isUnmounting||(this.floorsViewData=e,this.bindings.push(this.floorsViewData.makeFloorChangeSubscription(this.onCurrentFloorChanged),this.floorsViewData.floors.onNameChange(this.onFloorsChanged),this.floorsViewData.onNavigableFloorIdsChanged(this.onFloorsChanged)),this.onCurrentFloorChanged(),this.onFloorsChanged())}))}componentWillUnmount(){this.isUnmounting=!0,this.bindings.forEach((e=>{e.cancel()}))}render(){const{className:e,viewmode:t,iconStyle:i}=this.props,{currentFloor:s,floors:r}=this.state;return r.length>1&&t!==o.BD.OUTSIDE?(0,n.jsxs)("div",Object.assign({className:a()("floor-selector",e)},{children:[i&&(0,n.jsx)(b,{floors:r,currentFloor:s}),!i&&(0,n.jsx)("span",{className:"divider"}),!i&&(0,n.jsx)(y.O,{})]})):null}}E.contextType=l.I},87835:(e,t,i)=>{"use strict";i.d(t,{O:()=>y});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(33558),l=i(38399),c=i(95882),d=i(33057),u=i(89570),h=i(20334);function p(e){return e?e.getNavigableFloorIds().map(e.getViewData):[]}var m=i(27525),f=i(39540),g=i(68773),v=i(66102),b=i(27250);function y(e){const t=function(){const e=(0,h.I)(),[t,i]=(0,s.useState)(p(e));return(0,s.useEffect)((()=>{if(!e)return()=>{};const t=()=>i(p(e)),n=new u.V(e.floors.onNameChange(t),e.onNavigableFloorIdsChanged(t));return t(),()=>n.cancel()}),[e]),t}(),i=(0,f.B)(),r=(0,m.m)(),y=(0,b.t)(),E=(0,s.useContext)(o.I),{analytics:S}=E,T=(0,v.b)(),O=(0,s.useCallback)((e=>{(0,g.j)(e||null,E),S.trackGuiEvent("floor_clicked")}),[E]),_=t.map((e=>({text:e.name,value:e.id,selected:(null==r?void 0:r.id)===e.id}))).reverse();i!==c.Ey.Panorama&&y&&_.unshift({text:T.t(l.Z.FLOOR_ALL),value:"",selected:!r});const N=a()("floor-menu-selector",e.className);return(0,n.jsx)(d.S,{menuStyle:d.K.DROPDOWN,onChange:O,options:_,className:N})}},68773:(e,t,i)=>{"use strict";i.d(t,{j:()=>o});var n=i(97998),s=i(96767),r=i(33324);const a=new n.Z("floor-controls-switch-floor");async function o(e,t){const{analytics:i,commandBinder:n}=t;try{await n.issueCommand(new s.vy);const t=null===e?"click_toggle_all_floors_button":"click_floor_select_button";i.trackGuiEvent(t);const a=new r.Vw(e);await n.issueCommand(a)}catch(e){a.debug(e)}}},30265:(e,t,i)=>{"use strict";i.d(t,{Z:()=>E});var n=i(85893),s=i(67294),r=i(38772),a=i(38399),o=i(33558),l=i(73536),c=i(92211),d=i(99660),u=i(51978),h=i(66102),p=i(45531),m=i(22410);var f=i(89992);const g=()=>{const e=(0,h.b)(),t=!(0,u.y)(p.sX,!1),i=(()=>{const e=(0,m.n)(),t=(0,u.y)(p.r4,"");return t&&(null==e?void 0:e.hasDiscoverUrl())?`${t}${e.model.sid}`:null})(),s=e.t(a.Z.ALT_MATTERPORT_LOGO),r=(0,n.jsx)("img",{className:"footer-logo",alt:s,src:f});return t?(0,n.jsx)("a",Object.assign({className:"link logo-link",href:i||"https://matterport.com",target:"_blank"},{children:r})):r};var v=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const b="gui";let y=class extends s.Component{constructor(e){super(e),this.handleTermsClick=()=>{const e=this.props.openModal===l.P.TERMS;this.context.commandBinder.issueCommand(new c.Bz(l.P.TERMS,!e)),this.context.analytics.trackGuiEvent("click_terms_button",{interactionSource:b})},this.handleHelpClick=()=>{const e=this.props.openModal===l.P.HELP;this.context.commandBinder.issueCommand(new c.Bz(l.P.HELP,!e)),this.context.analytics.trackGuiEvent("click_help_button",{interactionSource:b})},this.handleFeedbackClick=()=>{const{analytics:e,commandBinder:t}=this.context;t.issueCommand(new d.m),e.trackGuiEvent("click_feedback_button",{interactionSource:b})}}render(){const{isWorkshop:e=!1,modelRatingEnabled:t}=this.props;return e&&!t?null:(0,n.jsxs)("div",Object.assign({id:"footer"},{children:[t&&(0,n.jsx)("span",Object.assign({onClick:this.handleFeedbackClick,className:"link model-feedback-link",role:"link"},{children:this.context.locale.t(a.Z.FEEDBACK)})),!e&&t&&(0,n.jsx)("span",{children:" | "}),!e&&(0,n.jsx)("span",Object.assign({onClick:this.handleHelpClick,className:"link",role:"link"},{children:this.context.locale.t(a.Z.HELP)})),!e&&(0,n.jsx)("span",{children:" | "}),!e&&(0,n.jsx)("span",Object.assign({onClick:this.handleTermsClick,className:"link",role:"link"},{children:this.context.locale.t(a.Z.TERMS)})),!e&&(0,n.jsx)(g,{})]}))}};y.contextType=o.I,y=v([r.Z],y);const E=y},28482:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(85893),s=i(67294),r=i(31362),a=i(38399),o=i(33558),l=i(47457);class c extends s.Component{constructor(e){super(e),this.handleButtonClick=()=>{const{analytics:e}=this.context;r.rm()?(e.trackGuiEvent("click_exit_fullscreen",{interactionSource:"gui"}),r.Qg()):(e.trackGuiEvent("click_enter_fullscreen",{interactionSource:"gui"}),r.Zx(document.body))},this.onFullScreenChange=e=>{const{mainDiv:t}=this.context,i=r.rm();i?t.classList.add("full-screen"):t.classList.remove("full-screen"),this.setState({fullscreen:i})},this.state={fullscreen:r.rm()},document.addEventListener("fullscreenchange",this.onFullScreenChange),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange),document.addEventListener("MSFullscreenChange",this.onFullScreenChange),document.addEventListener("mozfullscreenchange",this.onFullScreenChange)}componentWillUnmount(){document.removeEventListener("fullscreenchange",this.onFullScreenChange),document.removeEventListener("webkitfullscreenchange",this.onFullScreenChange),document.removeEventListener("MSFullscreenChange",this.onFullScreenChange),document.removeEventListener("mozfullscreenchange",this.onFullScreenChange)}render(){const{fullscreen:e}=this.state,t=e?this.context.locale.t(a.Z.EXIT_FULLSCREEN):this.context.locale.t(a.Z.VIEW_FULLSCREEN),i=e?"fullscreen-exit":"fullscreen";return(0,n.jsx)("div",Object.assign({className:"fullscreen-mode"},{children:(0,n.jsx)(l.zx,{onClick:this.handleButtonClick,ariaLabel:t,tooltip:t,tooltipOptions:{placement:"top"},icon:i,theme:"overlay",variant:l.Wu.TERTIARY})}))}}c.contextType=o.I},23043:(e,t,i)=>{"use strict";i.d(t,{_:()=>p});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(61687),l=i(77543),c=i(8659),d=i(33558),u=i(2367),h=i(86667);class p extends s.Component{constructor(e,t){super(e,t),this.scrollbarRef=(0,s.createRef)(),this.elementRef=(0,s.createRef)(),this.isUnmounting=!1,this.onScrollableChanged=e=>{this.setState({scrollable:e})},this.onScrollPositionChange=e=>{this.setState({scrollPosition:e})},this.getScrollableContainer=()=>{const e=this.scrollbarRef.current;return(null==e?void 0:e.getScrollableContainer())||void 0},this.handleHighlightClickable=()=>{this.props.highlightClickable(!0)},this.state={scrollLeft:0,hideScrollbar:(0,o.w)((0,h.O)(t)),scrollPosition:c.Ij.None,scrollable:!1}}componentDidMount(){this.context.market.waitForData(u.V).then((e=>{this.isUnmounting||(this.resizeSubscription=e.onPropertyChanged("size",(e=>{this.setState({hideScrollbar:(0,o.w)(e)})})))})),this.onScrollableChanged(!0),this.onScrollPositionChange(c.Ij.Beginning)}componentWillUnmount(){var e;this.isUnmounting=!0,null===(e=this.resizeSubscription)||void 0===e||e.cancel()}componentDidUpdate(e){const{activeElement:t}=this.props;if(null!==t&&e.activeElement!==t){const e=this.scrollbarRef.current;e&&e.scrollToElement(t)}}setSorting(e){const t=this.elementRef.current;if(t)if(e){if(t.classList.add("sorting"),this.props.mobile){const e=this.scrollbarRef.current;e&&e.pauseScrollHandling()}}else t.classList.remove("sorting")}render(){const{thumbScrollingOnly:e,children:t,totalSteps:i}=this.props,{hideScrollbar:s,scrollPosition:r,scrollable:o}=this.state,d=a()({scrollable:o,[r]:!0});return(0,n.jsx)("div",Object.assign({id:"reel",className:d,ref:this.elementRef},{children:(0,n.jsx)(l.Z,Object.assign({direction:c.Nm.horizontal,ref:this.scrollbarRef,hideScrollbar:s,thumbScrollingOnly:e,waitToUpdate:0===i,handleClick:this.handleHighlightClickable,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange},{children:t}))}))}}p.contextType=d.I},60934:(e,t,i)=>{"use strict";i.d(t,{y:()=>f});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(33558),l=i(64918),c=i(17686),d=i(95882),u=i(6335),h=i(47457),p=i(38399);const{HLR:m}=p.Z.WORKSHOP;class f extends s.Component{constructor(){super(...arguments),this.editHighlight=e=>{e.stopPropagation(),this.props.onClickHighlight(this.props.index,!0)},this.removeHighlight=e=>{e.stopPropagation(),this.props.onRemoveHighlight&&this.props.onRemoveHighlight(this.props.highlight.snapshot.sid)},this.onClickHighlight=e=>{e.preventDefault(),this.props.onClickHighlight(this.props.index,!1)},this.setContainerRef=e=>{const{index:t,getRef:i}=this.props;this.element=e,i&&i(t,this.element)}}renderTransitionSettings(){const{locale:e}=this.context,{transitionType:t,panDirection:i,transitionCondition:s,index:r}=this.props,a=i!==c.kw.Auto;let o="pan-auto",d=e.t(m.PAN_DIRECTION_SETTING_AUTO);i===c.kw.Left?(o="icon icon-rotate-left",d=e.t(m.PAN_DIRECTION_SETTING_LEFT)):i===c.kw.Right&&(o="icon icon-rotate-right",d=e.t(m.PAN_DIRECTION_SETTING_RIGHT));let u="";return t===l.n.FadeToBlack?u=e.t(m.TRANSITION_SETTING_SLIDESHOW):t===l.n.Interpolate&&(u=e.t(m.TRANSITION_SETTING_WALKTHROUGH)),(0,n.jsxs)("div",Object.assign({className:"transition-settings"},{children:[(0,n.jsxs)("span",Object.assign({className:"transition-type"},{children:[r+1," - ",u,s&&(0,n.jsx)("span",{children:"*"})]})),(0,n.jsx)("span",Object.assign({className:"pan-direction-type"},{children:d})),a&&(0,n.jsx)("span",{className:`pan-icon ${o}`})]}))}renderImageBar(){var e;const{locale:t}=this.context,{highlight:i,editable:s}=this.props,r=i.snapshot.is360,o=i.snapshot.metadata.cameraMode,l=null!==(e=this.getMarker(o,r))&&void 0!==e?e:"",c=t.t(m.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE),d=t.t(m.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE);return(0,n.jsxs)("div",Object.assign({className:"image-bar"},{children:[(0,n.jsx)("span",{className:a()("highlight-marker",{[l]:!s})}),s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.zx,{className:"highlight-remove",onClick:this.removeHighlight,tooltip:c,ariaLabel:c,icon:"delete",theme:"overlay",variant:h.Wu.FAB}),(0,n.jsx)(h.zx,{className:"highlight-edit",onClick:this.editHighlight,tooltip:d,ariaLabel:d,icon:"toggle-pencil",theme:"overlay",variant:h.Wu.FAB})]})]}))}getMarker(e,t){return e===d.Ey.Dollhouse||e===d.Ey.Floorplan?null:t?"icon-360":"icon-panorama"}render(){const{highlight:e,active:t,editable:i}=this.props,{name:s}=e.snapshot,r=!!s||i;return(0,n.jsxs)("div",Object.assign({className:a()("highlight-box",{active:t,editable:i}),onClick:this.onClickHighlight,ref:this.setContainerRef},{children:[(0,n.jsx)(u.X,{resource:e.snapshot.thumbnailUrl,className:"highlight-image"}),this.renderImageBar(),i&&this.renderTransitionSettings(),(0,n.jsx)("div",Object.assign({className:a()("image-name",{shadowed:r})},{children:(0,n.jsx)("span",Object.assign({className:"static-text",role:"listitem","aria-label":s||"highlight"},{children:s}))}))]}))}}f.contextType=o.I},89323:(e,t,i)=>{"use strict";i.d(t,{V:()=>R});var n,s,r=i(85893),a=i(67294),o=i(94184),l=i.n(o),c=i(33558),d=i(23254),u=i(79727),h=i(41326),p=i(96767),m=i(38399),f=i(97998);!function(e){e.Inside="panorama",e.InsideMesh="mesh",e.Dollhouse="dollhouse",e.Floorplan="floorplan",e.None="none"}(n||(n={})),function(e){e.Inside="click_inside_mode_button",e.InsideMesh="click_mesh_mode_button",e.Dollhouse="click_dollhouse_mode_button",e.Floorplan="click_dollhouse_mode_button"}(s||(s={}));var g=i(66102),v=i(56509),b=i(47457),y=i(23674);function E(e){const{disabled:t,active:i,buttonId:n,nudgeProps:s,onClick:o,analyticsName:l,tooltipPhraseKey:d}=e,u=(0,g.b)(),h=(0,v.Y)(),{editMode:p}=(0,a.useContext)(c.I),m=u.t(d),f=h&&p,E={placement:f?"bottom":"top",offset:f?[0,10]:void 0},S=f&&i?void 0:b.Wu.TERTIARY,T=f&&i?"light":"overlay",O=n,_=f?b.qE.LARGE:void 0,N=(0,a.useCallback)((()=>{o(n,l)}),[o,n,l]);return(0,r.jsxs)("div",Object.assign({className:`mode-button mode-${n}`},{children:[(0,r.jsx)(b.zx,{onClick:N,icon:O,variant:S,theme:T,size:_,active:i,disabled:t,tooltip:m,tooltipOptions:E,ariaLabel:m}),s&&(0,r.jsx)(y.Z,{title:s.title,message:s.message,showTimeout:s.showTimeout,dismissTimeout:s.dismissTimeout,appSettingsKey:s.appSettingsKey,localStorageSettingsKey:s.localStorageSettingsKey,analyticsKeys:s.analyticsKeys,arrowPosition:s.arrowPosition})]}))}var S=i(59625);const T=["dh",S.gx.Dollhouse],O=["fp",S.gx.FloorPlan];function _(e,t){if(t)return!1;const i=0===e.getOverrideParam("dh",1),n=!e.tryGetProperty(S.gx.Dollhouse,!1);return i||n}function N(e,t){if(t)return!1;const i=0===e.getOverrideParam("fp",1),n=!e.tryGetProperty(S.gx.FloorPlan,!1);return i||n}function A(e,t){return!t&&!e}function w(e,t,i){const s=e===t;switch(e){case n.Dollhouse:case n.Floorplan:return i||!s;case n.Inside:return i?t!==n.InsideMesh:!s;case n.InsideMesh:return i?s:t===n.Inside}return!1}var I=i(26158),k=i(62496),P=i(3773);const L=new f.Z("mode-buttons");class C extends a.Component{constructor(e){super(e),this.onClick=async(e,t)=>{const{transitioning:i}=this.props;if(i)return;const s=function(e){switch(e){case n.Dollhouse:return h.BD.DOLLHOUSE;case n.Floorplan:return h.BD.FLOORPLAN;case n.Inside:return h.BD.INSIDE;case n.InsideMesh:return h.BD.MESH;default:throw new Error(`cannot get viewmode for mode buttonId ${e}`)}}(e),{analytics:r,commandBinder:a}=this.context;r.trackGuiEvent(t);try{await a.issueCommand(new p.vy),await a.issueCommand(new h._i(s))}catch(e){L.warn(e)}}}render(){const{activeButtonId:e,activeStateDisplay:t,className:i,dollhousePrevented:a,floorplanPrevented:o,insidePrevented:c,meshPrevented:d,transitioning:u,viewmodeChangeEnabled:h}=this.props,p=t?P.x.TOP_CENTER:P.x.BOTTOM_LEFT,f=!h||u,g=!d&&w(n.InsideMesh,e,!!t),v=!c&&w(n.Inside,e,!!t),b=!a&&w(n.Dollhouse,e,!!t),y=!o&&w(n.Floorplan,e,!!t);return(0,r.jsxs)("div",Object.assign({className:l()("mode-buttons",i)},{children:[g&&(0,r.jsx)(E,{tooltipPhraseKey:m.Z.VIEW_INSIDE_MESH,analyticsName:s.InsideMesh,buttonId:n.InsideMesh,active:e===n.InsideMesh,onClick:this.onClick,disabled:f}),v&&(0,r.jsx)(E,{tooltipPhraseKey:m.Z.VIEW_INSIDE,analyticsName:s.Inside,buttonId:n.Inside,active:e===n.Inside,onClick:this.onClick,disabled:f}),b&&(0,r.jsx)(E,{tooltipPhraseKey:m.Z.VIEW_DOLLHOUSE,analyticsName:s.Dollhouse,buttonId:n.Dollhouse,active:e===n.Dollhouse,onClick:this.onClick,disabled:f,nudgeProps:{title:m.Z.DOLLHOUSE_NUDGE_TITLE,message:m.Z.DOLLHOUSE_NUDGE_MESSAGE,showTimeout:5e3,dismissTimeout:1e4,appSettingsKey:k.I,localStorageSettingsKey:I.F.DollhouseUserNudgeSeen,analyticsKeys:{tool:"view_mode",guiAction:"dollhouse_nudge"},arrowPosition:p}}),y&&(0,r.jsx)(E,{tooltipPhraseKey:m.Z.VIEW_FLOORPLAN,analyticsName:s.Floorplan,buttonId:n.Floorplan,active:e===n.Floorplan,onClick:this.onClick,disabled:f})]}))}}C.contextType=c.I;class R extends a.Component{constructor(e){super(e),this.bindings=[],this.isUnmounting=!1,this.updateDollhouseState=()=>{const{editMode:e,settings:t}=this.context;this.setState({dollhousePrevented:_(t,e)})},this.updateFloorplanState=()=>{const{editMode:e,settings:t}=this.context;this.setState({floorplanPrevented:N(t,e)})},this.onCurrentFloorChanged=()=>{const{editMode:e}=this.context,t=this.floorsViewData.currentFloor,i=this.floorsViewData.hasEnabledAlignedSweeps(t&&t.id);this.setState({insidePrevented:A(i,e)})},this.onViewmodeChangeLockUpdate=()=>{const{market:e}=this.context,t=e.tryGetData(d.O);if(!t)return;const i=t.viewmodeChangeEnabled;this.setState({viewmodeChangeEnabled:i})},this.state={dollhousePrevented:!1,floorplanPrevented:!1,insidePrevented:!1,viewmodeChangeEnabled:!0}}componentDidMount(){const{market:e,settings:t}=this.context;Promise.all([e.waitForData(d.O),e.waitForData(u.c)]).then((([e,i])=>{this.isUnmounting||(this.floorsViewData=i,this.bindings.push(e.onPropertyChanged("viewmodeChangeEnabled",this.onViewmodeChangeLockUpdate),i.makeFloorChangeSubscription(this.onCurrentFloorChanged)),T.forEach((e=>{this.bindings.push(t.onPropertyChanged(e,this.updateDollhouseState))})),O.forEach((e=>{this.bindings.push(t.onPropertyChanged(e,this.updateFloorplanState))})),this.onCurrentFloorChanged(),this.updateDollhouseState(),this.updateFloorplanState(),this.onViewmodeChangeLockUpdate())}))}componentWillUnmount(){this.isUnmounting=!0;for(const e of this.bindings)e.cancel();this.bindings=[]}render(){const{editMode:e}=this.context,{className:t,unaligned:i,viewmode:s,activeStateDisplay:a}=this.props,{viewmodeChangeEnabled:o,dollhousePrevented:c,floorplanPrevented:d,insidePrevented:u}=this.state,p=s===h.BD.TRANSITIONING;p||(this.activeButtonId=function(e,t){if(e)return n.None;switch(t){case h.BD.DOLLHOUSE:return n.Dollhouse;case h.BD.FLOORPLAN:return n.Floorplan;case h.BD.INSIDE:return n.Inside;case h.BD.MESH:return n.InsideMesh}return n.None}(i,s));const m=function(e){return!e}(e);return(0,r.jsx)(C,{className:l()("viewmode-controls",t),activeStateDisplay:a,activeButtonId:this.activeButtonId,transitioning:p,dollhousePrevented:c,floorplanPrevented:d,insidePrevented:u,meshPrevented:m,viewmodeChangeEnabled:o})}}R.contextType=c.I},54569:(e,t,i)=>{"use strict";i.d(t,{Z:()=>q});var n=i(85893),s=i(67294),r=i(33558),a=i(76631),o=i(96767),l=i(60699),c=i(94184),d=i.n(c),u=i(47457),h=i(61531),p=i(23362),m=i(96154),f=i(73536),g=i(92211),v=i(89549),b=i(14355),y=i(38399),E=i(26158),S=i(86902),T=i(85384),O=i(51978),_=i(21359);const{HLR:N}=y.Z.WORKSHOP;function A(e){const t=!(0,O.y)(E.F.TourTextNudgeDismissed,!1),i=(0,T.i)(),o=function(){const[e,t]=(0,s.useState)(!1),i=(0,s.useRef)();(0,h.U)(_.Q,(()=>{t(!0),n(),i.current=setTimeout((()=>{t(!1),i.current=void 0}),3e3)}));const n=()=>{i.current&&(clearTimeout(i.current),i.current=void 0)};return e}(),{highlights:l,currentStep:c,activeStep:u,tourPlaying:p}=e,{locale:m,commandBinder:y,settings:A,editMode:w}=(0,s.useContext)(r.I),I=(0,s.useCallback)(((e,t=!0)=>{A.setLocalStorageProperty(E.F.TourTextNudgeDismissed,!0),t&&e.stopPropagation()}),[A]),k=(0,s.useCallback)((async e=>{await y.issueCommand(new v.tT(a.w1.HLR,!0)),y.issueCommand(new g.Bz(f.P.HIGHLIGHT_EDITOR,!0)),y.issueCommand(new v.Fg(!1)),I(e,!1)}),[y,I]),P=l[c],L=(null==P?void 0:P.title)||(null==P?void 0:P.description),C=w&&!L&&t,R=(null==P?void 0:P.title)||(C?m.t(N.HIGHLIGHT_TITLE_PLACEHOLDER):""),D=(null==P?void 0:P.description)||(C?m.t(N.HIGHLIGHT_DESCRIPTION_PLACEHOLDER):""),M=i&&!(u!==c)&&p||o,x=d()("tour-story",{active:M,prompt:C});return(0,n.jsxs)(b.N,Object.assign({open:i&&p||o,className:x,onClick:M?k:void 0},{children:[C&&(0,n.jsx)(S.zx,{className:"tour-story-dismiss",theme:"dark",variant:S.Wu.TERTIARY,icon:"close",onClick:I}),(0,n.jsx)("div",Object.assign({className:"tour-story-title"},{children:R})),(0,n.jsx)("div",Object.assign({className:"tour-story-description"},{children:D}))]}))}var w=i(18923);const{TOURS:I}=y.Z.SHOWCASE,k=[p.l.FastForwarding,p.l.Rewinding,p.l.Skipping];function P(e){const{activeStep:t,currentStep:i,handlePlayPause:l,highlights:c,tourPlaying:f,toolPanelLayout:g}=e,[v,b]=(0,s.useState)(!1),[E,S]=(0,s.useState)(!1),T=(0,p.T)(),{commandBinder:O,locale:_,analytics:N}=(0,s.useContext)(r.I),P=(0,s.useCallback)((()=>{b(!0)}),[]),L=(0,s.useCallback)((()=>{t===i&&b(!1)}),[t,i]);(0,h.U)(m.Vx,P),(0,h.U)(w.Z,L);const C=0===c.length,R=g===a.wS.NARROW||g===a.wS.BOTTOM_PANEL,D=f?_.t(y.Z.PAUSE):_.t(y.Z.PLAY),M=_.t(y.Z.PREVIOUS),x=_.t(y.Z.NEXT),j=C||!f?"play-unicode":"pause",U=C||k.includes(T),H=c[t];let F=(null==H?void 0:H.snapshot.name)||"";v||(F=f||E?"":_.t(I.TOUR_BUTTON_LABEL));const B=(0,s.useCallback)((()=>{S(!0),l()}),[l]),V=(0,s.useCallback)((async e=>{C||(e.stopPropagation(),S(!0),N.trackGuiEvent("skip_foward_highlights"),await O.issueCommand(new o.r2))}),[N,C,O]),G=(0,s.useCallback)((async e=>{C||(e.stopPropagation(),S(!0),N.trackGuiEvent("skip_backward_highlights"),await O.issueCommand(new o.Ri))}),[N,C,O]);return(0,n.jsxs)("div",Object.assign({className:"tour-story-controls"},{children:[(0,n.jsx)(A,{tourPlaying:f,currentStep:i,activeStep:t,highlights:c}),(0,n.jsx)(u.zx,{icon:"dpad-left",className:"story-tour-previous-cta",variant:u.Wu.TERTIARY,size:u.qE.SMALL,disabled:U,ariaLabel:M,tooltip:M,onClick:G}),(0,n.jsx)(u.zx,{className:"tour-story-play-pause",icon:j,variant:u.Wu.TERTIARY,size:u.qE.SMALL,disabled:U,ariaLabel:D,tooltip:D,onClick:C?void 0:B}),(0,n.jsx)(u.zx,{icon:"dpad-right",className:"story-tour-next-cta",variant:u.Wu.TERTIARY,size:u.qE.SMALL,disabled:U,ariaLabel:x,tooltip:x,onClick:V}),F&&f&&!R&&(0,n.jsx)("span",Object.assign({className:d()("tour-control-label",{active:f})},{children:F}))]}))}var L=i(66102),C=i(89264),R=i(70584);function D(e){const{reelEnabled:t,activeTool:i,tourMode:o}=e,c=(0,L.b)(),{analytics:h,commandBinder:p}=(0,s.useContext)(r.I),m=(0,R.O)(),f=(0,s.useCallback)((()=>{const e=m?"hide_":"show_";h.trackToolGuiEvent("hlr",e+"highlight_reel"),p.issueCommand(new C.Av(!m))}),[m,h,p]),g=o===l.zz.STORIES;if(!t||g&&i!==a.w1.HLR)return null;const v=m?c.t(y.Z.CLOSE_HIGHLIGHTS):c.t(y.Z.OPEN_HIGHLIGHTS),b=m?"dpad-down":"dpad-up",E=d()("highlight-button",{"hlr-expanded":m});return(0,n.jsx)(u.zx,{className:E,onClick:f,tooltip:v,ariaLabel:v,"aria-expanded":m?"true":"false",icon:b,theme:"overlay",variant:u.Wu.TERTIARY})}var M=i(47764),x=i(59625),j=i(74554),U=i(59323);function H(){const e=(0,O.y)(x.gx.HighlightReel,!0),t=(0,M.L)(U.rU,U.iL);return e&&t!==U.Nu}(0,j.M)("reelEnabled",H);function F(){const e=(0,O.y)(x.gx.TourButtons,!0),t=(0,M.L)(U.o9,U.qe),i=(0,M.L)(U.PR,U.l4);return e&&t!==U.Wf&&i!==U.pQ}(0,j.M)("tourEnabled",F);function B(e){const{activeTool:t,handlePlayPause:i,highlights:a,hideReel:o,tourPlaying:c}=e,{locale:d,editMode:h}=(0,s.useContext)(r.I),p=H()&&!o||h,m=F()||h;if(!p&&!m)return null;const f=0===a.length,g=c?d.t(y.Z.PAUSE):d.t(y.Z.PLAY),v=c?"pause-outline":"play";return(0,n.jsxs)("div",Object.assign({className:"highlight-tour-controls"},{children:[p&&(0,n.jsx)(D,{activeTool:t,reelEnabled:p,tourMode:l.zz.LEGACY}),m&&(0,n.jsx)(u.zx,{disabled:f,active:c,onClick:i,variant:u.Wu.TERTIARY,theme:"overlay",className:"tour-controls",ariaLabel:g,icon:v,tooltip:g})]}))}var V=i(56509),G=i(71652),W=i(97998);const z=new W.Z("preview-tour"),{HLR:K}=y.Z.WORKSHOP;function Y(){const{commandBinder:e}=(0,s.useContext)(r.I),t=(0,L.b)(),i=(0,V.Y)(),a=0===(0,G.g)(),l=(0,s.useCallback)((async()=>{if(!a)try{await e.issueCommand(new o.TH)}catch(e){z.debug(e)}}),[e,a]),c=t.t(K.PREVIEW_SETTINGS_CTA),d=i?void 0:c,h=i?c:void 0;return(0,n.jsx)(u.zx,{icon:"play-unicode",label:d,tooltip:h,disabled:a,size:u.qE.LARGE,theme:"dark",className:"preview-tour-button",variant:u.Wu.FAB,onClick:l})}const $=new W.Z("tour-controls");class q extends s.Component{constructor(){super(...arguments),this.handlePlayPause=async()=>{const{analytics:e,commandBinder:t}=this.context,{highlights:i,tourPlaying:n}=this.props;if(0===i.length)return;const s=n?"pause_highlights":"play_highlights";e.trackGuiEvent(s);try{n?await t.issueCommand(new o.vy):await t.issueCommand(new o.TH)}catch(e){$.debug(e)}}}render(){const{activeStep:e,activeTool:t,currentStep:i,highlights:s,hideReel:r,toolPanelLayout:o,tourMode:c,tourPlaying:d}=this.props,u=t===a.w1.HLR,h=t===a.w1.SEARCH,p=t===a.w1.LAYERS;if(u&&!d)return(0,n.jsx)(Y,{});const{editMode:m}=this.context,f=c===l.zz.NONE,g=!!t&&!(u||h||p);if(m){const e=o===a.wS.BOTTOM_PANEL||o===a.wS.NARROW;if(t===a.w1.MESH_TRIM)return null;if(e&&g)return null}else{if(0===s.length||f||g)return null}return c===l.zz.STORIES?(0,n.jsx)(P,{activeStep:e,currentStep:i,highlights:s,toolPanelLayout:o,tourPlaying:d,handlePlayPause:this.handlePlayPause}):(0,n.jsx)(B,{activeTool:t,handlePlayPause:this.handlePlayPause,highlights:s,hideReel:r,tourPlaying:d})}}q.contextType=r.I},44568:(e,t,i)=>{"use strict";i.d(t,{M:()=>y,p:()=>b});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(38772),c=i(33558),d=i(98813),u=i(35446),h=i(47397),p=i(25328),m=i(56382),f=i(38399),g=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{EMBED:v}=f.Z.WORKSHOP;var b;!function(e){e.NONE="none",e.INVALID_URL_SYNTAX="invalid",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(b||(b={}));let y=n=class extends r.Component{constructor(e){super(e),this.inputRef=(0,r.createRef)(),this.isUnmounting=!1,this.onInput=e=>{const t=(0,d.j)(e)?b.NONE:b.INVALID_URL_SYNTAX;this.setState({validationPhase:t,currentUrl:e})},this.onApply=()=>{this.isDisabled()||this.onDoneEditing(this.state.currentUrl)},this.stopPropagation=e=>{e.stopPropagation()},this.onDoneEditing=async e=>{const{onEmbed:t,onEmbedCleared:i,url:n}=this.props;if(""===e)return i&&i(),void this.setState({validationPhase:b.NONE,error:void 0,currentUrl:""});const s=(0,m.V0)(e);if(s&&s!==n)try{const e=await this.loadMedia(s);if(this.isUnmounting)return;e?(this.setState({validationPhase:b.LOADED,error:void 0,currentUrl:s}),t(e)):this.onEmbedError(s)}catch(e){if(this.isUnmounting)return;this.onEmbedError(s,e)}},this.loadMedia=async e=>{const{parentId:t,parentType:i}=this.props;return this.setState({validationPhase:b.LOADING}),this.context.commandBinder.issueCommand(new u.wu(t,i,e))},this.state={currentUrl:e.url||"",validationPhase:b.NONE,error:void 0}}componentWillUnmount(){this.isUnmounting=!0,this.setState({currentUrl:"",validationPhase:b.NONE,error:void 0})}componentDidUpdate(e,t){const{url:i,onValidationPhaseChange:n}=this.props;let s=this.state.validationPhase;i!==e.url&&(s=b.NONE,this.setState({currentUrl:i||"",validationPhase:b.NONE,error:void 0})),n&&s!==t.validationPhase&&n(s)}focus(){this.inputRef.current&&this.inputRef.current.focus()}onEmbedError(e,t){this.setState({error:t,validationPhase:b.ERROR,currentUrl:e})}isDisabled(){const{validationPhase:e,currentUrl:t}=this.state;return e===b.ERROR||e===b.LOADING||e===b.INVALID_URL_SYNTAX&&""!==t||""===t}renderError(){const{locale:e}=this.context,{error:t}=this.state;let i=e.t(v.ERROR_MESSAGE);return t instanceof m.HF?i=e.t(v.PROVIDER_NOT_SUPPORTED_MESSAGE):t instanceof m.t1&&(i=e.t(v.LINK_TYPE_NOT_SUPPORTED_MESSAGE)),(0,s.jsxs)("div",Object.assign({className:"popover-message popover-message-error"},{children:[i," ",(0,s.jsx)("a",Object.assign({className:"link",target:"_blank",rel:"noreferrer",href:n.supportPage},{children:e.t(v.HELP_CTA)}))]}))}renderHelpMessage(){const{locale:e}=this.context,{currentUrl:t,validationPhase:i}=this.state;switch(i){case b.ERROR:return this.renderError();case b.LOADING:return(0,s.jsx)("div",Object.assign({className:"popover-message"},{children:e.t(v.LOADING_MESSAGE)}));case b.INVALID_URL_SYNTAX:if(""!==t)return(0,s.jsx)("div",Object.assign({className:"popover-message popover-message-error"},{children:e.t(v.INVALID_URL_MESSAGE)}))}return(0,s.jsx)("div",Object.assign({className:"popover-message"},{children:(0,s.jsx)("a",Object.assign({className:"link",target:"_blank",href:n.supportPage,tabIndex:-1},{children:e.t(v.SUPPORTED_FORMATS_MESSAGE)}))}))}render(){const{locale:e}=this.context,{className:t,tabIndex:i}=this.props,{currentUrl:n}=this.state,r=this.isDisabled()?p.BN.DISABLED:p.BN.ENABLED,a=void 0!==i&&i>=0;return(0,s.jsxs)("div",Object.assign({className:"media-embed-editor",onClick:this.stopPropagation},{children:[(0,s.jsx)(h.Z,{ref:this.inputRef,text:n,type:"url",className:o()(t),placeholder:"Linked Video or GIF (eg. youtube.com)",onDone:this.onDoneEditing,onInput:this.onInput,allowTabbing:a,tabIndex:i}),(0,s.jsxs)("div",Object.assign({className:"popover-footer"},{children:[this.renderHelpMessage(),(0,s.jsx)(p.zx,Object.assign({className:"button-inline embed-apply-btn",buttonStyle:p.ZJ.CLEAR,buttonSize:p.qE.SMALL,buttonState:r,onClick:this.onApply},{children:e.t(v.APPLY_CTA)}))]}))]}))}};y.contextType=c.I,y.supportPage="https://support.matterport.com/hc/en-us/articles/115006363868-Add-Multimedia-to-a-Mattertag-Post",y=n=g([l.Z],y)},13585:(e,t,i)=>{"use strict";i.d(t,{B:()=>b});var n=i(85893),s=i(38399),r=i(66102),a=i(89478),o=i(67294),l=i(33558),c=i(46391),d=i(26158),u=i(51978),h=i(98025),p=i(49452),m=i(17462),f=i(95229);function g(){const{settings:e}=(0,o.useContext)(l.I),t=(0,r.b)(),i=(0,u.y)(d.F.UnitType,c.M.METRIC),a=(0,u.y)(d.F.MeasurementSnapping,!1),g=(0,u.y)(d.F.MeasurementContinuousLines,!1),v=(0,o.useCallback)((t=>{t.stopPropagation();const n=i===c.M.IMPERIAL?c.M.METRIC:c.M.IMPERIAL;e.setLocalStorageProperty(d.F.UnitType,n)}),[e,i]),b=(0,o.useCallback)((t=>{t.stopPropagation(),e.setLocalStorageProperty(d.F.MeasurementSnapping,!a)}),[e,a]),y=(0,o.useCallback)((t=>{t.stopPropagation(),e.setLocalStorageProperty(d.F.MeasurementContinuousLines,!g)}),[e,g]),E=t.t(s.Z.MEASUREMENT_CONTINUOUS_LINES),S=t.t(s.Z.MEASUREMENT_SNAPPING),T=t.t(s.Z.MEASUREMENT_UNITS),O=t.t(s.Z.MEASUREMENT_IMPERIAL),_=t.t(s.Z.MEASUREMENT_METRIC),N=i===c.M.METRIC;return(0,n.jsxs)(h.J,{children:[(0,n.jsx)(p.w,Object.assign({label:S},{children:(0,n.jsx)(m.Z,{onToggle:b,enabled:!0,onOffLabel:!0,toggled:a})})),(0,n.jsx)(p.w,Object.assign({label:E},{children:(0,n.jsx)(m.Z,{onToggle:y,enabled:!0,onOffLabel:!0,toggled:g})})),(0,n.jsx)(p.w,Object.assign({label:T,className:"units-setting"},{children:(0,n.jsxs)("div",Object.assign({className:"radio-group radio-buttons"},{children:[(0,n.jsx)(f.E,Object.assign({name:"unit",value:c.M.IMPERIAL,id:"unit-imperial",enabled:!0,checked:!N,onChange:v},{children:O})),(0,n.jsx)(f.E,Object.assign({name:"unit",value:c.M.METRIC,id:"unit-metric",enabled:!0,checked:N,onChange:v},{children:_}))]}))}))]})}var v=i(47457);function b({onOpenPopup:e,overlay:t}){const i=(0,r.b)().t(s.Z.MEASUREMENT_SETTINGS),o=t?"overlay":"light",l=t?v.Wu.FAB:v.Wu.TERTIARY,c=t?"bottom":"bottom-end";return(0,n.jsx)(a.P,Object.assign({icon:"settings",tooltip:i,theme:o,variant:l,tooltipPlacement:c,analytic:"measurements_settings_click",className:"measurement-settings",popupSize:"large",onOpenPopup:e},{children:(0,n.jsx)(g,{})}))}},68228:(e,t,i)=>{"use strict";i.d(t,{u:()=>T});var n=i(60975),s=i(76087),r=i(5823),a=i(71166),o=i(39693),l=i(43736),c=i(23037),d=i(71776),u=i(92001),h=i(62436),p=i(16078),m=i(32489),f=i(35870),g=i(93866),v=i(79727),b=i(92294),y=i(20341),E=i(53954),S=i(23254);class T{constructor(e,t,i){this.engine=e,this.settingsData=t,this.editMode=i,this.initialized=!1,this.disabledAssets={[u.U]:!1,[l.s]:!1,[c.Nj]:!1,[d.re]:!1,[o.Mp]:!1},this.settingsToggler=new n.u(t,this.disabledAssets)}async activate(){const e=this.engine;if(!this.initialized){this.initialized=!0;const[t,i,n,s]=await Promise.all([e.market.waitForData(b.X),e.market.waitForData(v.c),e.market.waitForData(E.Z),e.market.waitForData(S.O)]);this.dataMap={measurementModeData:t,floorsViewData:i,sweepData:n,viewmodeData:s}}this.settingsToggler.toggle(!0),this.settingsData.tryGetProperty(s.fc,!1)&&this.editMode&&e.commandBinder.issueCommand(new a.Xv(r.SF.MEASUREMENTPATH)),await e.commandBinder.issueCommandWhenBound(new h.O(!0,!0))}async deactivate(){this.settingsToggler.toggle(!1),this.dataMap.measurementModeData.setSelectedGroupIndex(-1),this.settingsData.tryGetProperty(s.fc,!1)&&this.editMode&&await this.engine.commandBinder.issueCommand(new a.Xv(!1)),await this.engine.commandBinder.issueCommand(new h.O(!1))}async hasPendingEdits(){switch(this.dataMap.measurementModeData.phase){case y.au.CLOSED:case y.au.IDLE:return!1;default:return!0}}in360view(){const e=this.dataMap.sweepData.currentSweep?this.dataMap.sweepData.currentSweep:"";return this.dataMap.viewmodeData.isInside()&&this.dataMap.sweepData.isSweepUnaligned(e)}getSelectedMeasurement(){return this.dataMap.measurementModeData.selectedGroupSid}renameMeasurement(e,t){return this.engine.commandBinder.issueCommand(new p.R(e,t))}setMeasurementVisibility(e,...t){return this.engine.commandBinder.issueCommand(new m.W(e,...t))}async batchDeleteMeasurement(e){return this.engine.commandBinder.issueCommand(new f.JM(...e)),!0}async deleteMeasurement(e){await this.engine.commandBinder.issueCommand(new f.JM(e))}async toggleSelected(e){await this.engine.commandBinder.issueCommand(new g.l(e))}}},4146:(e,t,i)=>{"use strict";i.d(t,{f:()=>x});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(38772),l=i(33558),c=i(20341),d=i(35870),u=i(57989),h=i(51205),p=i(46391),m=i(78283);var f=i(86941),g=i(3773),v=i(47457),b=i(16507),y=i(25328),E=i(26158),S=i(13585);const T={[c.au.CREATING]:!0,[c.au.CONFIRMING_POINT]:!0},O={[c.au.IDLE]:!0,[c.au.CREATING]:!0,[c.au.CREATING_NEXT_POINT]:!0},_=(c.au.CREATING,c.au.CONFIRMING_POINT,{[c.au.IDLE]:!0,[c.au.CREATING]:!0,[c.au.CREATING_NEXT_POINT]:!0});var N=i(89549),A=i(76631),w=i(73536),I=i(92211),k=i(38399);const P="measurement-mode-add-tooltip",L="measurement-mode-desktop-help",C="measurement-mode-mobile-help";var R,D=i(1644),M=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let x=R=class extends s.Component{constructor(e,t){super(e),this.bindings=[],this.propertiesToRefreshUi=[E.F.UnitType,E.F.MeasurementSnapping,E.F.MeasurementContinuousLines,P,L,C],this.isUnmounting=!1,this.onMeasurementModeDataChanged=()=>{const{measurementModeData:e}=this.props.manager.dataMap,t=e.selectedGroupInfo,i=e.phase,n=e.pressProgress>=.95?1:e.pressProgress;i===c.au.CLOSED?(this.closeMeasurementHelpModal(),this.dismissAddTooltip()):i===c.au.IDLE&&this.updateAddTooltipVisibility(),this.setState({phase:i,pressProgress:n,selectedGroup:t,pointPosition:e.pointPosition})},this.updatePerSettings=()=>{const e=this.context.settings;this.setState({units:e.tryGetProperty(E.F.UnitType,p.M.METRIC),snapping:e.tryGetProperty(E.F.MeasurementSnapping,!1),continuousLines:e.tryGetProperty(E.F.MeasurementContinuousLines,!1),addTooltipShown:e.tryGetProperty(P,!1),desktopHelpShown:e.tryGetProperty(L,!1),mobileHelpShown:e.tryGetProperty(C,!1)})},this.updateAddTooltipVisibility=()=>{this.state.addTooltipShown||this.context.editMode||this.isUnmounting||(this.setState({showAddTooltip:!0}),window.clearTimeout(this.startAddingTooltip),this.startAddingTooltip=window.setTimeout((()=>{this.dismissAddTooltip()}),R.START_ADDING_TOOLTIP_TIMEOUT))},this.dismissAddTooltip=()=>{this.isUnmounting||(this.setState({showAddTooltip:!1}),this.context.settings.setProperty(P,!0))},this.getOverlayComponents=()=>{const{mobile:e,openModal:t}=this.props,{mobileHelpShown:i,desktopHelpShown:s,phase:r}=this.state,{editMode:o}=this.context,l=t===w.P.MEASUREMENT_HELP,{closeString:d,helpString:u}=this.locale,h=o?"overlay-top-center":"overlay-bar",p=r!==c.au.IDLE&&r!==c.au.CLOSED,m=[(0,n.jsxs)("div",Object.assign({className:a()(h,{"active-phase":p})},{children:[!o&&(0,n.jsx)("div",{className:"overlay-bar-filler"}),(0,n.jsx)("div",Object.assign({className:"overlay-bar-center"},{children:this.renderOverlayInfo()})),!o&&(0,n.jsxs)(v.hE,Object.assign({className:"overlay-bar-right",spacing:"small"},{children:[(0,n.jsx)(S.B,{onOpenPopup:this.settingsOpened,overlay:!0}),(0,n.jsx)(v.zx,{className:"measurement-help-btn",variant:v.Wu.FAB,theme:"overlay",icon:"help",active:l,onClick:this.toggleHelpOpen,tooltip:!l&&u||void 0,tooltipOptions:{placement:"bottom"}}),(0,n.jsx)(v.zx,{icon:"close",variant:v.Wu.FAB,theme:"overlay",tooltip:d,tooltipOptions:{placement:"bottom"},onClick:this.onCloseMeasurementTool})]}))]}),"top-bar")];if(!s||!i){const t=e?this.getMobileHelp():this.getDesktopHelp();m.push(t)}return m},this.getMobileHelp=()=>{const{phase:e}=this.state,{pressHoldStart:t,pressHoldEnd:i,dragEdit:s}=this.locale.mobileHelp;let r,a;switch(e){case c.au.CREATING_NEXT_POINT:r=(0,n.jsx)("div",{className:"icon icon-drag-edit"}),a=(0,n.jsx)("span",Object.assign({className:"message"},{children:i}));break;case c.au.EDITING:case c.au.POINT_PLACED:r=(0,n.jsx)("div",{className:"icon icon-finger-drag"}),a=(0,n.jsx)("span",Object.assign({className:"message"},{children:s}));break;case c.au.CREATING:r=(0,n.jsx)("div",{className:"icon icon-press-hold"}),a=(0,n.jsx)("span",Object.assign({className:"message"},{children:t}))}return(0,n.jsxs)("div",Object.assign({className:"overlay-message"},{children:[r,a]}),"mobile-help")},this.getDesktopHelp=()=>{const{phase:e,selectedGroup:t}=this.state,{clickAnywhereString:s,escapeString:r}=this.locale.desktopHelp;let a,o;switch(e){case c.au.CREATING:a=(0,n.jsx)("div",{className:"icon icon-draw-lines"}),o=(0,n.jsx)("span",Object.assign({className:"message"},{children:s}));break;case c.au.CREATING_NEXT_POINT:t&&t.count>=3&&(a=(0,n.jsx)("div",Object.assign({className:"escape-key"},{children:(0,n.jsx)("img",{src:i(78899)})})),o=(0,n.jsx)("span",Object.assign({className:"message escape-message"},{children:r})))}return(0,n.jsxs)("div",Object.assign({className:"overlay-message"},{children:[a,o]}),"desktop-help")},this.clickCTAButton=e=>{const{phase:t}=this.state;t===c.au.IDLE?this.onStartPointPlacement(e):this.onStopPointPlacement(e)},this.onDeleteMeasurement=e=>{e&&e.stopPropagation(),this.context.commandBinder.issueCommand(new d.Ev)},this.onStartPointPlacement=e=>{e&&e.stopPropagation(),this.context.commandBinder.issueCommand(new u.c),this.dismissAddTooltip()},this.onStopPointPlacement=e=>{e&&e.stopPropagation(),this.context.commandBinder.issueCommand(new h.B)},this.onCloseMeasurementTool=async e=>{e&&e.stopPropagation(),this.closeMeasurementHelpModal(),await this.context.commandBinder.issueCommand(new N.tT(A.w1.MEASUREMENTS,!1)),this.dismissAddTooltip()},this.settingsOpened=()=>{this.closeMeasurementHelpModal()},this.toggleHelpOpen=e=>{const{openModal:t}=this.props,i=t===w.P.MEASUREMENT_HELP;e.stopPropagation(),i||this.context.analytics.trackToolGuiEvent("measurements","measure_mode_help_clicked"),this.context.commandBinder.issueCommand(new I.Bz(w.P.MEASUREMENT_HELP,!i))},this.locale={startAddingString:t.locale.t(k.Z.MEASUREMENT_START_ADDING),continuousLinesString:t.locale.t(k.Z.MEASUREMENT_CONTINUOUS_LINES),snappingString:t.locale.t(k.Z.MEASUREMENT_SNAPPING),unitsString:t.locale.t(k.Z.MEASUREMENT_UNITS),imperialString:t.locale.t(k.Z.MEASUREMENT_IMPERIAL),metricString:t.locale.t(k.Z.MEASUREMENT_METRIC),desktopHelp:{clickAnywhereString:t.locale.t(k.Z.MEASUREMENT_HELP_CLICK_ANYWHERE),escapeString:t.locale.t(k.Z.MEASUREMENT_HELP_ESCAPE)},mobileHelp:{pressHoldStart:t.locale.t(k.Z.MEASUREMENT_HELP_PRESS_START),dragEdit:t.locale.t(k.Z.MEASUREMENT_HELP_DRAG_EDIT),pressHoldEnd:t.locale.t(k.Z.MEASUREMENT_HELP_PRESS_END)},helpString:t.locale.t(k.Z.HELP),closeString:t.locale.t(k.Z.CLOSE)},this.state={units:p.M.METRIC,snapping:!1,continuousLines:!1,phase:c.au.CLOSED,selectedGroup:null,pressProgress:0,pointPosition:null,showAddTooltip:!1,desktopHelpShown:!1,mobileHelpShown:!1,addTooltipShown:!1}}async componentDidMount(){const{measurementModeData:e}=this.props.manager.dataMap;this.bindings.push(e.onChanged(this.onMeasurementModeDataChanged),e.onDataChanged(this.onMeasurementModeDataChanged));for(const e of this.propertiesToRefreshUi)this.bindings.push(this.context.settings.onPropertyChanged(e,this.updatePerSettings));this.onMeasurementModeDataChanged(),this.updatePerSettings()}componentWillUnmount(){this.isUnmounting=!0;for(const e of this.bindings)e.cancel()}componentDidUpdate(){const{mobile:e}=this.props,{continuousLines:t,selectedGroup:i}=this.state;if(e)this.isCheckVisible()&&this.context.settings.setProperty(C,!0);else if(null!==i){const e=i.count;(t?e>3:2===e)&&this.context.settings.setProperty(L,!0)}}renderProgressCircle(){const{mobile:e}=this.props,{pressProgress:t,pointPosition:i,phase:s}=this.state;if(!e||null===i||t<=0||!T[s])return null;const r={left:i.x-R.pointButtonRadius/2+"px",top:i.y-R.pointButtonRadius/2+"px"};return(0,n.jsx)("div",Object.assign({className:"point-button-wrapper",style:r},{children:(0,n.jsx)(f.$,Object.assign({className:a()({complete:1===t,reset:0===t}),progress:100*t,innerRadius:R.pointButtonRadius,barWidth:R.pressProgressBarThickness},{children:(0,n.jsx)("circle",{className:"point",cx:"0",cy:"0",r:"22",transform:"rotate(-90)",fill:"#fff"})}))}))}renderOverlayInfo(){const{selectedGroup:e,units:t,phase:i}=this.state;if(i===c.au.CREATING)return(0,n.jsx)(D.n,{});if(null===e)return null;const s=e.info.text?` ${e.info.text}`:"",r=`${((e,t)=>{if(t===p.M.METRIC)return`${e.toFixed(2)}m`;const{feet:i,inches:n}=(0,m.XJ)(e);return i>0?`${i}' ${n}"`:`${n}"`})(e.length,t)} ${s}`;return(0,n.jsx)("div",Object.assign({className:"overlay-info"},{children:r}))}render(){return(0,n.jsxs)("div",Object.assign({className:"overlay measurements-overlay"},{children:[this.getOverlayComponents(),this.renderProgressCircle(),this.renderOverlayCta()]}))}hasCancelCta(){if(this.isCheckVisible())return!1;const{phase:e,selectedGroup:t}=this.state,i=e===c.au.CREATING&&(!t||0===t.count),n=e===c.au.CREATING_NEXT_POINT&&!!t&&2===t.count;return i||n}isCheckVisible(){const{phase:e,continuousLines:t}=this.state;return this.isCompleteMeasurement()&&(t?e===c.au.CREATING_NEXT_POINT:e===c.au.CREATING)}isCompleteMeasurement(){const{continuousLines:e,selectedGroup:t}=this.state;if(null===t)return!1;const i=t.count;return e?i>2:2===i}renderOverlayCta(){const{startAddingString:e}=this.locale,{mobile:t,unaligned:i}=this.props,{phase:s,showAddTooltip:r,selectedGroup:o}=this.state,l=s===c.au.EDITING,d=o&&o.count>0&&(t?!!O[s]:!!_[s])?y.BN.ENABLED:y.BN.DISABLED,u=this.isCheckVisible()?"icon-checkmark":"icon-plus",h=i||l?y.BN.DISABLED:y.BN.ENABLED,p=a()("overlay-cta-btn",{"overlay-cta-cancel":this.hasCancelCta()});return(0,n.jsxs)("div",Object.assign({className:"overlay-cta"},{children:[(0,n.jsx)(g.u,{className:"tooltip-simple-medium",open:r,message:(0,n.jsx)("span",{children:e}),arrowPos:g.x.BOTTOM_CENTER}),(0,n.jsx)(b.hU,{className:p,iconClass:u,buttonStyle:b.Dd.PRIMARY,buttonState:h,onClick:this.clickCTAButton}),(0,n.jsx)(b.hU,{className:"overlay-cta-button-outer",buttonStyle:b.Dd.OVERLAY,iconClass:"icon-delete",buttonState:d,onClick:this.onDeleteMeasurement})]}))}closeMeasurementHelpModal(){const{openModal:e}=this.props;e===w.P.MEASUREMENT_HELP&&this.context.commandBinder.issueCommand(new I.Bz(e,!1))}};x.contextType=l.I,x.pointButtonRadius=132,x.pressProgressBarThickness=8,x.START_ADDING_TOOLTIP_TIMEOUT=5e3,x=R=M([o.Z],x)},42358:(e,t,i)=>{"use strict";i.d(t,{s:()=>f});var n=i(85893),s=i(94184),r=i.n(s),a=i(45833),o=i(14355),l=i(66102),c=i(29113),d=i(46950),u=i(47457),h=i(67294),p=i(73536),m=i(92290);function f({commandBinder:e}){const[t,i]=(0,h.useState)(!1),[s,f]=(0,h.useState)(),[g,v]=(0,h.useState)(),b=(0,l.b)(),y=(0,c.w)(),E=(0,h.useCallback)((async t=>{await e.issueCommand(new a.n(400,0)),null==s||s.resolve(t),i(!1),null==y||y.setOpenModal(null)}),[e,s,y]),S=(0,h.useCallback)((()=>{E(m.Uc.CLOSE)}),[E]),T=(0,h.useCallback)((()=>{E(m.Uc.CONFIRM)}),[E]),O=(0,h.useCallback)((async n=>{switch(n.action){case m.Rx.DISPLAY:if(t){if(!(null==g?void 0:g.cancellable))return Promise.reject("Cannot close non-cancellable modal");await E(m.Uc.CLOSE)}e.issueCommand(new a.n(400,3)),i(!0),null==y||y.setOpenModal(p.P.CONFIRM),v(n.properties);const r=new d.Q;return f(r),r.nativePromise();case m.Rx.UPDATE:return v(n.properties),null==s?void 0:s.nativePromise();case m.Rx.CLOSE:return t?(E(m.Uc.CLOSE),null==s?void 0:s.nativePromise()):Promise.reject("Cannot cancel a closed modal")}}),[E,e,g,t,s,y]);(0,h.useEffect)((()=>(e.addBinding(m.EW,O),()=>{e.removeBinding(m.EW,O)})),[e,O]);const _=(0,h.useCallback)((e=>e.stopPropagation()),[]);if(!g)return null;const{title:N,titleLocalizationOptions:A,message:w,messageLocalizationOptions:I,confirmPhraseKey:k,cancelPhraseKey:P,closeButton:L,modalClass:C,confirmDisabled:R,cancelVariant:D}=g;let M=N;if("string"==typeof N){const e=void 0===A?{}:A,t=b.t(N,e);M=(0,n.jsx)("span",{children:t})}let x=w;if("string"==typeof w){const e=void 0===I?{}:I,t=b.t(w,e);x=(0,n.jsx)("p",Object.assign({className:"modal-message"},{children:t}))}return(0,n.jsx)(o.N,Object.assign({open:t,className:r()("modal-background","confirm-modal-background",{open:t}),onClick:_,onPointerDown:_,onPointerUp:_},{children:(0,n.jsxs)("dialog",Object.assign({"data-testid":"confirm-modal",open:t,className:r()("modal","confirm-modal",C)},{children:[(0,n.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,n.jsx)("div",Object.assign({className:"modal-title"},{children:M})),L&&(0,n.jsx)(u.zx,{icon:"close",onClick:S})]})),(0,n.jsx)("div",Object.assign({className:"modal-body"},{children:x})),(0,n.jsxs)(u.hE,Object.assign({spacing:"small"},{children:[P&&(0,n.jsx)(u.zx,Object.assign({size:"large",onClick:S,variant:D||u.Wu.SECONDARY},{children:b.t(P)})),k&&(0,n.jsx)(u.zx,Object.assign({disabled:R,variant:u.Wu.PRIMARY,size:"large",onClick:T},{children:b.t(k)}))]}))]}))}))}},92290:(e,t,i)=>{"use strict";i.d(t,{Uc:()=>n,Rx:()=>s,EW:()=>o});var n,s,r=i(19663);!function(e){e[e.CONFIRM=0]="CONFIRM",e[e.CLOSE=1]="CLOSE"}(n||(n={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.DISPLAY=1]="DISPLAY",e[e.UPDATE=2]="UPDATE"}(s||(s={}));const a={message:"",title:"",modalClass:"",cancellable:!0,closeButton:!0,confirmDisabled:!1};class o extends r.m{constructor(e,t){if(super(),e&&!t)throw new Error("Cannot open empty modal");this.payload={action:e,properties:Object.assign(Object.assign({},a),t)}}}o.id="CONFIRM_MODAL"},73520:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(38772),l=i(86941),c=i(14355),d=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let u=class extends s.Component{constructor(e){super(e)}render(){const{showing:e}=this.props;return(0,n.jsx)(c.N,Object.assign({open:e,className:a()("load-indicator",{"fade-in":e,"fade-out":!e})},{children:(0,n.jsx)("div",Object.assign({className:"center-container"},{children:(0,n.jsx)(l.$,{progress:33,barWidth:4,progressColor:"#ffffff"})}))}))}};u=d([o.Z],u);const h=u},73536:(e,t,i)=>{"use strict";var n;i.d(t,{P:()=>n}),function(e){e.ADD_FROM_PHOTOS="add_from_photos",e.ATTACHMENT="attachmentViewer",e.CONFIRM="confirm",e.CTA="cta",e.HELP="help",e.HIGHLIGHT_EDITOR="highlight_editor",e.LINK_EDITOR="link_editor",e.MATTERTAG_PHOTO="mattertag",e.MEASUREMENT_HELP="measurementModeHelp",e.MODEL_VIEW_ADD="model_view_add",e.MODEL_VIEW_EDITOR="model_view_editor",e.MODEL_VIEW_DUPLICATE="model_view_duplicate",e.RATING_THANK_YOU="rating_thank_you",e.REVERT_CHANGES="revert_unpublished_modal",e.SETTINGS="settings",e.SHARE="share",e.TERMS="terms",e.TOUR_SETTINGS="hlr_settings",e.VIEWS_OPT_IN="views_opt_in",e.VR_SELECT="vrSelect"}(n||(n={}))},26764:(e,t,i)=>{"use strict";i.d(t,{L:()=>L});var n,s=i(85893),r=i(67294),a=i(38772),o=i(33558),l=i(7446),c=i(94184),d=i.n(c),u=i(38399),h=i(38490),p=i(26340),m=i(73165),f=i(47457),g=i(25328),v=i(99660);!function(e){e[e.Disappointed=0]="Disappointed",e[e.Unsatisfied=1]="Unsatisfied",e[e.Neutral=2]="Neutral",e[e.Satisfied=3]="Satisfied",e[e.Happy=4]="Happy"}(n||(n={}));const{MODEL_RATING:b}=u.Z.WORKSHOP,y={HAPPINESS:"happiness",QUALITY:"quality",NAVIGATION:"navigation",FEEDBACK:"feedback"},E=y.HAPPINESS,S={[y.HAPPINESS]:b.HAPPINESS_TITLE,[y.QUALITY]:b.QUALITY_ISSUES_TITLE,[y.NAVIGATION]:b.NAVIGATION_ISSUES_TITLE,[y.FEEDBACK]:b.FEEDBACK_TITLE},T={[y.HAPPINESS]:b.HAPPINESS_BODY},O={[y.QUALITY]:[{text:b.QUALITY_ISSUES_LIGHTING,value:"lighting"},{text:b.QUALITY_ISSUES_3D_MESH,value:"3d_mesh"},{text:b.QUALITY_ISSUES_COLORING,value:"coloring"},{text:b.QUALITY_ISSUES_IMAGE_QUALITY,value:"image_quality"}],[y.NAVIGATION]:[{text:b.NAVIGATION_ISSUES_BLOCKED_DOORWAYS,value:"blocked_doorways"},{text:b.NAVIGATION_ISSUES_OBSTRUCTIONS,value:"obstructions"},{text:b.NAVIGATION_ISSUES_MISALIGNED_SCANS,value:"misaligned_scans"},{text:b.NAVIGATION_ISSUES_FLOOR_SEPARATION,value:"floor_separation"},{text:b.NAVIGATION_ISSUES_DISAPPEARING_FLOORS,value:"disappearing_floors"}]},_=[{value:1,altText:u.Z.REUSABLES.EMOJI_ALT_DISAPPOINTED,icon:n.Disappointed},{value:2,altText:u.Z.REUSABLES.EMOJI_ALT_UNSATISFIED,icon:n.Unsatisfied},{value:3,altText:u.Z.REUSABLES.EMOJI_ALT_NEUTRAL,icon:n.Neutral},{value:4,altText:u.Z.REUSABLES.EMOJI_ALT_SATISFIED,icon:n.Satisfied},{value:5,altText:u.Z.REUSABLES.EMOJI_ALT_HAPPY,icon:n.Happy}];var N=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let A=class extends r.Component{render(){switch(this.props.icon){case n.Disappointed:return(0,s.jsxs)("svg",Object.assign({width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 28C21.9557 28 28 21.9557 28 14.5C28 7.04503 21.9557 1 14.5 1C7.04506 1 1 7.04506 1 14.5C1 21.9557 7.04503 28 14.5 28ZM14.5 29C22.508 29 29 22.508 29 14.5C29 6.49278 22.508 0 14.5 0C6.49278 0 0 6.49278 0 14.5C0 22.508 6.49278 29 14.5 29Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M9.26389 16.1111C10.3761 16.1111 11.2778 14.8488 11.2778 13.2917C11.2778 11.7345 10.3761 10.4722 9.26389 10.4722C8.15165 10.4722 7.25 11.7345 7.25 13.2917C7.25 14.8488 8.15165 16.1111 9.26389 16.1111Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M19.7361 16.1111C20.8484 16.1111 21.75 14.8488 21.75 13.2917C21.75 11.7345 20.8484 10.4722 19.7361 10.4722C18.6239 10.4722 17.7222 11.7345 17.7222 13.2917C17.7222 14.8488 18.6239 16.1111 19.7361 16.1111Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M4.83253 9.66666C4.66497 9.66666 4.495 9.6143 4.35 9.50555C3.99394 9.23891 3.92225 8.73383 4.18889 8.37777C6.81661 4.87361 10.324 4.83333 10.4722 4.83333C10.9169 4.83333 11.2778 5.19422 11.2778 5.63888C11.2778 6.08274 10.9193 6.44283 10.4754 6.44444C10.3506 6.44605 7.60122 6.51372 5.47778 9.34444C5.31989 9.5555 5.07742 9.66666 4.83253 9.66666ZM24.1675 9.66666C23.9218 9.66666 23.6809 9.5555 23.5222 9.34444C21.3956 6.50808 18.6397 6.44605 18.5229 6.44444C18.0799 6.43961 17.7222 6.07711 17.7246 5.63486C17.7271 5.19099 18.0847 4.83333 18.5278 4.83333C18.676 4.83333 22.1826 4.87361 24.8111 8.37777C25.0786 8.73383 25.0061 9.23891 24.65 9.50555C24.505 9.6143 24.3358 9.66666 24.1675 9.66666V9.66666ZM18.9185 22.4581C18.9096 22.4226 17.9961 18.9306 14.5 18.9306C11.0039 18.9306 10.0904 22.4226 10.0815 22.4581C10.0388 22.6297 10.117 22.8053 10.2684 22.8963C10.4199 22.9865 10.6172 22.9656 10.7485 22.848C10.7558 22.8415 11.5646 22.1528 14.5 22.1528C17.3919 22.1528 18.2192 22.8214 18.2507 22.848C18.3272 22.9205 18.4271 22.9583 18.5278 22.9583C18.5954 22.9583 18.6639 22.9414 18.7259 22.9068C18.8838 22.8166 18.9628 22.6337 18.9185 22.4581V22.4581Z",fill:"#222222"})]}));case n.Unsatisfied:return(0,s.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.125 28C22.5808 28 28.625 21.9558 28.625 14.5C28.625 7.04416 22.5808 1 15.125 1C7.66916 1 1.625 7.04416 1.625 14.5C1.625 21.9558 7.66916 28 15.125 28ZM29.625 14.5C29.625 22.5081 23.1331 29 15.125 29C7.11687 29 0.625 22.5081 0.625 14.5C0.625 6.49187 7.11687 0 15.125 0C23.1331 0 29.625 6.49187 29.625 14.5Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M21.1546 22.0553C21.1183 21.9111 20.2137 18.5278 15.125 18.5278C10.0355 18.5278 9.13167 21.9111 9.09542 22.0553C9.05111 22.2301 9.13006 22.4114 9.28633 22.5016C9.44342 22.591 9.63997 22.5644 9.76967 22.4395C9.78497 22.4242 11.3437 20.9444 15.125 20.9444C18.9063 20.9444 20.4658 22.4242 20.4803 22.4387C20.5577 22.5153 20.6608 22.5555 20.7639 22.5555C20.8316 22.5555 20.9 22.5386 20.9621 22.504C21.1199 22.4138 21.1989 22.2309 21.1546 22.0553Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M10.2917 13.6944C11.4039 13.6944 12.3055 12.4321 12.3055 10.875C12.3055 9.31787 11.4039 8.05556 10.2917 8.05556C9.17942 8.05556 8.27777 9.31787 8.27777 10.875C8.27777 12.4321 9.17942 13.6944 10.2917 13.6944Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M19.9583 13.6944C21.0706 13.6944 21.9722 12.4321 21.9722 10.875C21.9722 9.31787 21.0706 8.05556 19.9583 8.05556C18.8461 8.05556 17.9444 9.31787 17.9444 10.875C17.9444 12.4321 18.8461 13.6944 19.9583 13.6944Z",fill:"#222222"})]}));case n.Neutral:return(0,s.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.75 28C22.2057 28 28.25 21.9557 28.25 14.5C28.25 7.04503 22.2057 1 14.75 1C7.29506 1 1.25 7.04506 1.25 14.5C1.25 21.9557 7.29503 28 14.75 28ZM14.75 29C22.758 29 29.25 22.508 29.25 14.5C29.25 6.49278 22.758 0 14.75 0C6.74278 0 0.25 6.49278 0.25 14.5C0.25 22.508 6.74278 29 14.75 29Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M9.51389 16.1111C10.6261 16.1111 11.5278 14.8488 11.5278 13.2917C11.5278 11.7345 10.6261 10.4722 9.51389 10.4722C8.40165 10.4722 7.5 11.7345 7.5 13.2917C7.5 14.8488 8.40165 16.1111 9.51389 16.1111Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M19.9861 16.1111C21.0984 16.1111 22 14.8488 22 13.2917C22 11.7345 21.0984 10.4722 19.9861 10.4722C18.8739 10.4722 17.9722 11.7345 17.9722 13.2917C17.9722 14.8488 18.8739 16.1111 19.9861 16.1111Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M20.3889 20.9444H9.11111C8.66645 20.9444 8.30556 20.5844 8.30556 20.1389C8.30556 19.6934 8.66645 19.3333 9.11111 19.3333H20.3889C20.8344 19.3333 21.1944 19.6934 21.1944 20.1389C21.1944 20.5844 20.8344 20.9444 20.3889 20.9444Z",fill:"#222222"})]}));case n.Satisfied:return(0,s.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.375 28C22.8308 28 28.875 21.9558 28.875 14.5C28.875 7.04416 22.8308 1 15.375 1C7.91916 1 1.875 7.04416 1.875 14.5C1.875 21.9558 7.91916 28 15.375 28ZM29.875 14.5C29.875 22.5081 23.3831 29 15.375 29C7.36687 29 0.875 22.5081 0.875 14.5C0.875 6.49187 7.36687 0 15.375 0C23.3831 0 29.875 6.49187 29.875 14.5Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M9.34541 19.028C9.38166 19.1722 10.2863 22.5555 15.375 22.5555C20.4645 22.5555 21.3683 19.1722 21.4046 19.028C21.4489 18.8532 21.3699 18.672 21.2137 18.5817C21.0566 18.4923 20.86 18.5189 20.7303 18.6438C20.715 18.6591 19.1563 20.1389 15.375 20.1389C11.5937 20.1389 10.0342 18.6591 10.0197 18.6446C9.94233 18.568 9.83922 18.5278 9.73611 18.5278C9.66844 18.5278 9.59997 18.5447 9.53794 18.5793C9.38005 18.6695 9.30111 18.8524 9.34541 19.028V19.028Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M10.5417 13.6944C11.6539 13.6944 12.5556 12.4321 12.5556 10.875C12.5556 9.31787 11.6539 8.05556 10.5417 8.05556C9.42943 8.05556 8.52778 9.31787 8.52778 10.875C8.52778 12.4321 9.42943 13.6944 10.5417 13.6944Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M20.2083 13.6944C21.3206 13.6944 22.2222 12.4321 22.2222 10.875C22.2222 9.31787 21.3206 8.05556 20.2083 8.05556C19.0961 8.05556 18.1944 9.31787 18.1944 10.875C18.1944 12.4321 19.0961 13.6944 20.2083 13.6944Z",fill:"#222222"})]}));case n.Happy:return(0,s.jsxs)("svg",Object.assign({width:"30",height:"29",viewBox:"0 0 30 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 28C22.4558 28 28.5 21.9558 28.5 14.5C28.5 7.04416 22.4558 1 15 1C7.54416 1 1.5 7.04416 1.5 14.5C1.5 21.9558 7.54416 28 15 28ZM29.5 14.5C29.5 22.5081 23.0081 29 15 29C6.99187 29 0.5 22.5081 0.5 14.5C0.5 6.49187 6.99187 0 15 0C23.0081 0 29.5 6.49187 29.5 14.5Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M8.97042 19.028C9.00667 19.1722 9.9113 22.5555 15 22.5555C20.0895 22.5555 20.9933 19.1722 21.0296 19.028C21.0739 18.8532 20.9949 18.672 20.8387 18.5817C20.6816 18.4923 20.485 18.5189 20.3553 18.6438C20.34 18.6591 18.7813 20.1389 15 20.1389C11.2187 20.1389 9.65917 18.6591 9.64467 18.6446C9.56733 18.568 9.46422 18.5278 9.36111 18.5278C9.29344 18.5278 9.22497 18.5447 9.16294 18.5793C9.00505 18.6695 8.92611 18.8524 8.97042 19.028V19.028Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M15 17.6006C12.6107 17.6006 11.0246 17.3218 9.06388 16.9408C8.61519 16.8554 7.74438 16.9408 7.74438 18.2603C7.74438 20.8985 10.7757 24.1965 15 24.1965C19.2244 24.1965 22.2557 20.8985 22.2557 18.2603C22.2557 16.9408 21.3841 16.8546 20.9362 16.9408C18.9754 17.3218 17.3901 17.6006 15 17.6006Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M10.1667 13.6944C11.2789 13.6944 12.1806 12.4321 12.1806 10.875C12.1806 9.31787 11.2789 8.05556 10.1667 8.05556C9.05443 8.05556 8.15278 9.31787 8.15278 10.875C8.15278 12.4321 9.05443 13.6944 10.1667 13.6944Z",fill:"#222222"}),(0,s.jsx)("path",{d:"M19.8333 13.6944C20.9456 13.6944 21.8472 12.4321 21.8472 10.875C21.8472 9.31787 20.9456 8.05556 19.8333 8.05556C18.7211 8.05556 17.8194 9.31787 17.8194 10.875C17.8194 12.4321 18.7211 13.6944 19.8333 13.6944Z",fill:"#222222"})]}))}}};A=N([a.Z],A);const{MODEL_RATING:w}=u.Z.WORKSHOP,I=Object.values(y);class k extends r.Component{constructor(e){super(e),this.submitCurrentRating=(e=!1)=>{const{currentQuestionId:t}=this.state;let i={};switch(t){case y.QUALITY:i={quality:this.state.quality};break;case y.NAVIGATION:i={navigation:this.state.navigation};break;case y.FEEDBACK:i={feedback:this.state.feedback},this.resetValues()}i&&this.context.commandBinder.issueCommand(new v.M(i,e))},this.resetValues=()=>{this.setState({happiness:void 0,quality:void 0,navigation:void 0,feedback:void 0})},this.hasPerfectHappinessRating=()=>5===this.state.happiness,this.handleButtonClick=()=>{const{currentQuestionId:e}=this.state;let t;switch(this.submitCurrentRating(e===y.FEEDBACK),e){case y.QUALITY:t=y.NAVIGATION;break;case y.NAVIGATION:t=y.FEEDBACK}t&&this.setState({currentQuestionId:t})},this.handleHappinessClick=(e,t)=>{this.context.commandBinder.issueCommand(new v.M({happiness:t.value})),5!==t.value?this.setState({happiness:t.value,currentQuestionId:y.QUALITY}):this.submitCurrentRating(!0)},this.handleCheckboxChange=(e,t,i)=>{const n=i.value,s={},r=(this.state[t]||[]).slice();r.includes(n)?r.splice(r.indexOf(n),1):r.push(n),s[t]=r,this.setState(s)},this.handleFeedbackChange=e=>{this.setState({feedback:e})},this.handleClose=()=>{this.context.commandBinder.issueCommand(new v.m(!1))},this.renderProgress=()=>{const{locale:e}=this.context,{currentQuestionId:t}=this.state;if(!t)return null;if(t===y.HAPPINESS||this.hasPerfectHappinessRating())return;const i=I.indexOf(t);return(0,s.jsx)("span",Object.assign({className:"model-rating-progress"},{children:e.t(w.PROGRESS,{"current-question-number":i,"max-question-number":I.length-1})}))},this.state={currentQuestionId:E}}componentWillUnmount(){this.submitCurrentRating(),this.context.commandBinder.issueCommand(new v.m(!1))}renderCurrentQuestion(){const{locale:e}=this.context,{currentQuestionId:t}=this.state;if(t===y.FEEDBACK)return(0,s.jsx)("div",Object.assign({className:"question-type text-entry"},{children:(0,s.jsx)(m.Z,{text:this.state.feedback||"",label:e.t(w.FEEDBACK_LABEL),onInput:this.handleFeedbackChange,onDone:this.handleFeedbackChange,maxLength:200,rows:3,focusOnMount:!0,scrollIntoViewOnMount:!0})}));if(t===y.HAPPINESS)return(0,s.jsx)("div",Object.assign({className:"question-type emoji-select"},{children:(0,s.jsx)(f.hE,{children:_.map((e=>(0,s.jsx)(g.zx,Object.assign({buttonState:this.state.happiness===e.value?g.BN.ACTIVE:g.BN.ENABLED,buttonStyle:g.ZJ.PLAIN,buttonSize:g.qE.SMALL,onClick:this.handleHappinessClick,onClickArgs:[e]},{children:(0,s.jsx)(A,{icon:e.icon})}),e.value)))})}));if(t===y.QUALITY||t===y.NAVIGATION){const i=(t===y.QUALITY?this.state.quality:this.state.navigation)||[],n=O[t];return(0,s.jsx)("div",Object.assign({className:"question-type multi-select"},{children:n.map((n=>(0,s.jsx)(p.X,{enabled:!0,checkboxStyle:p.C.FILTER,onChange:this.handleCheckboxChange,onChangeArgs:[t,n],checked:i.includes(n.value),label:e.t(n.text)},n.text)))}))}return null}render(){const{locale:e}=this.context,{currentQuestionId:t}=this.state,i=t===E,n=S[t],r=T[t],a=t===y.FEEDBACK?w.SAVE:w.NEXT;return(0,s.jsxs)("div",Object.assign({className:d()("model-rating-dialog",{"in-progress":!i})},{children:[(0,s.jsx)(h.P,{onClose:this.handleClose,closeOnMouseDown:!0}),(0,s.jsxs)("div",Object.assign({className:"model-rating-form"},{children:[(0,s.jsxs)("div",Object.assign({className:"model-rating-question"},{children:[(0,s.jsx)("h3",Object.assign({className:"question-title"},{children:e.t(n)})),r&&(0,s.jsx)("p",Object.assign({className:"question-body"},{children:e.t(r)})),this.renderCurrentQuestion()]})),(0,s.jsxs)("footer",Object.assign({className:"model-rating-footer"},{children:[(0,s.jsx)("div",{children:t!==y.HAPPINESS&&(0,s.jsx)(g.zx,Object.assign({buttonStyle:g.ZJ.SECONDARY,buttonState:g.BN.ENABLED,onClick:this.handleButtonClick,onClickArgs:[t]},{children:e.t(a)}))}),this.renderProgress()]}))]}))]}))}}k.contextType=o.I;var P=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let L=class extends r.Component{constructor(e){super(e),this.isUnmounting=!1,this.bindings=[],this.handleDialogVisibilityChange=e=>{this.setState({isVisible:e})},this.state={initializing:!0,isVisible:!1}}componentDidMount(){const{market:e}=this.context.engine;e.waitForData(l.P).then((e=>{this.isUnmounting||(this.bindings.push(e.onDialogVisibleChanged(this.handleDialogVisibilityChange)),this.setState({initializing:!1}))}))}componentWillUnmount(){this.isUnmounting=!0,this.bindings.forEach((e=>e.cancel()))}render(){const{initializing:e,isVisible:t}=this.state;return t&&!e?(0,s.jsx)(k,{}):null}};L.contextType=o.I,L=P([a.Z],L)},76577:(e,t,i)=>{"use strict";i.d(t,{B:()=>m});var n=i(85893),s=i(67294),r=i(33558),a=i(92211),o=i(73536),l=i(38399),c=i(38490),d=i(71215),u=i(58937),h=i(71657);const{MODEL_RATING:p}=l.Z.WORKSHOP;class m extends s.Component{constructor(){super(...arguments),this.onClose=()=>{this.context.commandBinder.issueCommand(new a.Bz(o.P.RATING_THANK_YOU,!1))},this.stopPropagation=e=>{e.stopPropagation()}}render(){const{locale:e}=this.context;return(0,n.jsxs)("dialog",Object.assign({className:"modal model-rating-thank-you open",onClick:this.stopPropagation,onPointerDown:this.stopPropagation,onPointerUp:this.stopPropagation},{children:[(0,n.jsx)(c.P,{onClose:this.onClose}),(0,n.jsx)("h4",{children:e.t(p.THANK_YOU_HEADING)}),(0,n.jsx)(u.ZP,{animation:h.F.HandsRaised}),(0,n.jsx)("p",Object.assign({className:"p4"},{children:e.t(p.THANK_YOU_BODY)})),(0,n.jsxs)("small",Object.assign({className:"model-rating-cta"},{children:[e.t(p.THANK_YOU_CTA)," ",(0,n.jsx)(d.r,Object.assign({href:"//matterport.com/resources/support",onClick:this.onClose},{children:e.t(p.THANK_YOU_CTA_LINK_TEXT)}))]}))]}))}}m.contextType=r.I},57708:(e,t,i)=>{"use strict";i.d(t,{L:()=>v});var n=i(60975),s=i(43736),r=i(23037),a=i(92001),o=i(71776),l=i(5823),c=i(71166),d=i(97163),u=i(16935),h=i(60083),p=i(66291),m=i(10359),f=i(24696),g=i(38965);class v{constructor(e,t){this.engine=e,this.initialized=!1,this.disabledAssets={[a.U]:!1,[r.Nj]:!1,[s.s]:!1,[o.re]:!1},this.settingsToggler=new n.u(t,this.disabledAssets),this.initPromise=this.init()}async init(){const e=this.engine.market;return Promise.all([e.waitForData(p.X),e.waitForData(m.c),e.waitForData(d.b),e.waitForData(u.A),e.waitForData(h.B)]).then((([e,t,i,n,s])=>(this.dataMap={notesViewData:e,hashtagData:t,attachmentsData:i,annotationsViewData:n,pinsViewData:s},!0)))}async activate(){this.initialized||(this.initialized=!0,await this.initPromise),this.settingsToggler.toggle(!0),this.engine.commandBinder.issueCommand(new c.Xv(l.SF.NOTE)),await this.engine.commandBinder.issueCommand(new f.yK(!0))}async hasPendingEdits(){const{notesPhase:e,activeNotation:t}=this.dataMap.notesViewData;switch(e){case g.U.IDLE:case g.U.CLOSED:return!1;case g.U.EDITING:case g.U.CREATING:return!0;default:return!!t}}async deactivate(){await this.engine.commandBinder.issueCommand(new f.yK(!1)),await this.engine.commandBinder.issueCommand(new c.Xv(!1)),this.settingsToggler.toggle(!1)}getTextParser(){return this.dataMap.notesViewData.getTextParser()}getLinkHandler(){return this.dataMap.notesViewData.getLinkHandler()}}},95038:(e,t,i)=>{"use strict";i.d(t,{R:()=>C});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(38772),c=i(33558),d=i(31362),u=i(76631),h=i(26158),p=i(86283),m=i(44877),f=i(62612),g=i(24696),v=i(38965),b=i(39693),y=i(1644),E=i(20487),S=i(60150),T=i(3773),O=i(25328),_=i(16507),N=i(86941),A=i(48534),w=i(57623),I=i(38399),k=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{NOTES:P}=I.Z.SHOWCASE;let L=n=class extends r.Component{constructor(e){super(e),this.bindings=[],this.touchDevice=(0,d.Jm)(),this.showNudgeTimeout=0,this.dismissNudgeTimeout=0,this.isUnmounting=!1,this.updateNotesPhase=()=>{this.isUnmounting||this.setState({notesPhase:this.props.manager.dataMap.notesViewData.notesPhase})},this.updateActiveAnnotation=()=>{if(this.isUnmounting)return;const e=this.props.manager.dataMap.notesViewData.activeNotation;this.setState({activeNotation:e})},this.updateForPinChanges=()=>{if(this.isUnmounting)return;const e=this.props.manager.dataMap.pinsViewData;this.setState({pinEditorState:e.pinEditorState,creationProgress:e.progress,screenPosition:e.screenPosition,canPlace:e.canPlace,canAdd:e.canAdd})},this.showNudge=()=>{this.isUnmounting||(this.setState({showAddNudge:!0}),this.dismissNudgeTimeout=window.setTimeout(this.dismissNudge,n.DISMISS_NUDGE_TIMEOUT))},this.dismissNudge=()=>{this.isUnmounting||(this.context.settings.setLocalStorageProperty(h.F.NotesAddNudgeSeen,!0),this.setState({showAddNudge:!1}))},this.clickCTAButton=e=>{this.dismissNudge(),this.hasCancelCta()?(e.stopPropagation(),this.props.manager.dataMap.notesViewData.isNewNote&&this.context.commandBinder.issueCommand(new g.gc)):this.onStartAddingNote(e)},this.savePinAppearance=e=>{const{openNoteView:t}=this.props;t&&this.context.commandBinder.issueCommand(new g.oE(t.id,e))},this.onStartAddingNote=e=>{e.stopPropagation(),this.trackEvent("notes_overlay_click_add"),this.context.commandBinder.issueCommand(new g.VI)},this.deleteNote=()=>{const{openNoteView:e}=this.props;e&&(this.trackEvent("notes_overlay_click_delete"),this.context.commandBinder.issueCommand(new g.sG(e.id)))},this.closeEditor=()=>{this.context.commandBinder.issueCommand(new g.df(!1))},this.toggleColorPicker=e=>{e.stopPropagation();const{notesPhase:t}=this.state,i=t===v.U.EDITING;this.context.commandBinder.issueCommand(new g.df(!i)),this.setState({showAddNudge:!1})},this.state={showAddNudge:!1,notesPhase:v.U.CLOSED,pinEditorState:f.V8.IDLE,activeNotation:null,screenPosition:null,creationProgress:0,canPlace:!0,canAdd:!0}}componentDidMount(){const{notesViewData:e,pinsViewData:t}=this.props.manager.dataMap;this.bindings.push(e.onNotesPhaseChanged(this.updateNotesPhase),e.onActiveNotationChanged(this.updateActiveAnnotation),t.onChanged(this.updateForPinChanges)),this.setNudge(),this.updateNotesPhase(),this.updateForPinChanges(),this.updateActiveAnnotation()}componentDidUpdate(e){var t,i;(null===(t=e.openNoteView)||void 0===t?void 0:t.id)!==(null===(i=this.props.openNoteView)||void 0===i?void 0:i.id)&&this.dismissNudge()}componentWillUnmount(){this.isUnmounting=!0,window.clearTimeout(this.showNudgeTimeout),window.clearTimeout(this.dismissNudgeTimeout);for(const e of this.bindings)e.cancel()}setNudge(){this.context.settings.tryGetProperty(h.F.NotesAddNudgeSeen,!1)||this.showNudgeTimeout||(this.showNudgeTimeout=window.setTimeout(this.showNudge,n.SHOW_NUDGE_TIMEOUT))}trackEvent(e){this.context.analytics.trackToolGuiEvent("notes",e)}hasCancelCta(){const{pinEditorState:e}=this.state;return e===f.V8.CREATING||e===f.V8.PLACING}getOverlayMessage(){const{pinEditorState:e,canPlace:t}=this.state;if(e===f.V8.CREATING||!this.touchDevice&&e===f.V8.PLACING||!t){const e=this.context.locale.t(this.touchDevice?P.OVERLAY_ADD_TOUCH:P.OVERLAY_ADD_CLICK),i=this.context.locale.t(this.touchDevice?P.OVERLAY_PLACE_TOUCH:P.OVERLAY_PLACE_CLICK);return t?e:i}return null}renderProgressCircle(){const{creationProgress:e,screenPosition:t,pinEditorState:i}=this.state;if(!(i===f.V8.PRESSING&&e>0&&this.touchDevice)||!t)return null;const r={left:t.x-n.PROGRESS_RADIUS/2+"px",top:t.y-n.PROGRESS_RADIUS/2+"px"};return(0,s.jsx)("div",Object.assign({className:"point-button-wrapper",style:r},{children:(0,s.jsx)(N.$,Object.assign({progress:100*e,innerRadius:n.PROGRESS_RADIUS,barWidth:n.PROGRESS_WIDTH},{children:(0,s.jsx)("circle",{className:"point",cx:"0",cy:"0",r:"22",transform:"rotate(-90)",fill:"#fff"})}))}))}renderTopBar(e){const{notesPhase:t}=this.state,{openNoteView:i,toolPanelLayout:n,manager:r}=this.props,{notesViewData:a}=r.dataMap,o=n===u.wS.SIDE_PANEL,l=a.isNewNote;if(o||l){const e=this.getOverlayMessage();return(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)(y.n,{}),e&&(0,s.jsxs)(E.C,{children:[(0,s.jsx)("div",{className:"icon icon-notes"}),(0,s.jsx)("span",Object.assign({className:"message"},{children:e}))]})]})}if(i&&e){const e=t!==v.U.OPENING&&!!i,n=t===v.U.EDITING?O.BN.ACTIVE:e?O.BN.ENABLED:O.BN.DISABLED;return(0,s.jsx)("div",Object.assign({className:"overlay-bar overlay-top-right"},{children:(0,s.jsx)(_.hU,{iconClass:"icon-stem-height",buttonStyle:_.Dd.OVERLAY,buttonState:n,onClick:this.toggleColorPicker})}))}return null}renderCta(e){const{showAddNudge:t,canAdd:i}=this.state,n=this.hasCancelCta(),r=i?O.BN.ENABLED:O.BN.DISABLED,a=!i||t?void 0:this.context.locale.t(n?P.CANCEL_TOOLTIP:P.ADD_TOOLTIP);return(0,s.jsx)(_.hU,Object.assign({className:"overlay-cta-btn",buttonStyle:_.Dd.PRIMARY,buttonState:r,tooltipMsg:a,tooltipPosition:e,onClick:this.clickCTAButton},{children:(0,s.jsx)("div",Object.assign({className:o()("overlay-cta-rotate-btn",{"overlay-cta-cancel":n})},{children:(0,s.jsx)("span",{className:"icon icon-plus"})}))}))}renderActionBar(e){const{openNoteView:t}=this.props,{showAddNudge:i,notesPhase:n,activeNotation:r,pinEditorState:a}=this.state;if(n===v.U.CLOSED||r)return null;const{toolPanelLayout:l}=this.props,c=a===f.V8.CREATING||a===f.V8.PLACING,d=n===v.U.EDITING,h=n===v.U.OPENING,p=l===u.wS.SIDE_PANEL,m=this.context.locale.t(P.COLOR_STEM_TOOLTIP),g=this.context.locale.t(P.DELETE_TOOLTIP);if(p){const n=!c&&!h&&!!t,r=d?O.BN.ACTIVE:n?O.BN.ENABLED:O.BN.DISABLED;return(0,s.jsxs)("div",Object.assign({className:"overlay-cta"},{children:[e&&(0,s.jsx)(_.hU,{className:o()("overlay-cta-button-outer","overlay-cta-button-outer-left"),iconClass:"icon-stem-height",buttonStyle:_.Dd.OVERLAY,buttonState:r,tooltipMsg:m,tooltipPosition:A.lZ.DOWN,onClick:this.toggleColorPicker}),(0,s.jsx)(T.u,{className:"tooltip-simple-medium",open:i,message:(0,s.jsx)("span",{children:this.context.locale.t(P.ADD_CTA_TOOLTIP)}),arrowPos:T.x.BOTTOM_CENTER}),this.renderCta(A.lZ.DOWN),e&&(0,s.jsx)(_.hU,{className:"overlay-cta-button-outer",buttonStyle:_.Dd.OVERLAY,iconClass:"icon-delete",tooltipMsg:g,tooltipPosition:A.lZ.DOWN,buttonState:n?O.BN.ENABLED:O.BN.DISABLED,onClick:this.deleteNote})]}))}return(0,s.jsx)("div",Object.assign({className:"overlay-cta"},{children:this.renderCta(A.lZ.UP)}))}render(){const{toolPanelLayout:e,openModal:t,openNoteView:i,unaligned:n}=this.props;if(t)return null;const{notesPhase:r}=this.state,{userData:a}=this.context,o=a.isCommenter(),l=!!i&&(0,m.C)(a,p.J.NOTE,i.user),c=r===v.U.EDITING,d=e===u.wS.SIDE_PANEL;return(0,s.jsxs)("div",Object.assign({className:"overlay"},{children:[this.renderTopBar(l),o&&!n&&this.renderActionBar(l),i&&d&&l&&(0,s.jsx)(S.q,{pin:i,id:i.id,pinType:f.Er.NOTE,onSave:this.savePinAppearance,onClose:this.closeEditor,open:c,colors:b.ZP.colors,toolPanelLayout:e}),this.renderProgressCircle()]}))}};L.contextType=c.I,L.PROGRESS_RADIUS=132,L.PROGRESS_WIDTH=8,L.SHOW_NUDGE_TIMEOUT=5e3,L.DISMISS_NUDGE_TIMEOUT=5e3,L=n=k([l.Z],L);const C=(0,w.l)(L)},538:(e,t,i)=>{"use strict";i.d(t,{s:()=>It});var n=i(85893),s=i(67294),r=i(76631),a=i(15501),o=i(40216),l=i(65596),c=i(73536),d=i(57623),u=i(2429);var h=i(73085),p=i(66291);const m=(0,h.M)(p.X,"isNewNote",!1);var f=i(33558),g=i(61531),v=i(93001),b=i(62612),y=i(86283),E=i(44877),S=i(35004),T=i(24696),O=i(38965),_=i(36773);var N=i(39693),A=i(94184),w=i.n(A),I=i(39880),k=i(35446),P=i(21149);function L(){const e=(0,_.Q)(),[t,i]=(0,s.useState)((null==e?void 0:e.activeNotation)||null);return(0,s.useEffect)((()=>{if(!e)return()=>{};const t=e.onActiveNotationChanged(i);return()=>t.cancel()}),[e]),t}var C=i(4311);function R(e){const t=[];return e&&e.comments.forEach((e=>{t.push(...e.attachments)})),t}var D=i(66102),M=i(5823);function x(){const e=(0,v.v)(),[t,i]=(0,s.useState)((null==e?void 0:e.getUsersWhoMayNeedAccess())||{});return(0,s.useEffect)((()=>{if(!e)return()=>{};function t(){i((null==e?void 0:e.getUsersWhoMayNeedAccess())||{})}const n=e.onChanged(t);return t(),()=>n.cancel()}),[e]),t}var j=i(61092),U=i(84242),H=i(45755),F=i(10359);const B=(0,H.u)(F.c);function V(){const e=B(),[t,i]=(0,s.useState)((null==e?void 0:e.getHashtags())||[]);return(0,s.useEffect)((()=>{if(!e)return()=>{};function t(){i((null==e?void 0:e.getHashtags())||[])}const n=e.onChanged(t);return t(),()=>{n.cancel()}}),[e]),t}var G=i(47457),W=i(38772),z=i(95160),K=i(42619),Y=i(43470),$=i(5604),q=i(92211),Z=i(97163),Q=i(36892),X=i(22782),J=i(25328),ee=i(71570),te=i(39361),ie=i(93958),ne=i(16507),se=i(11686),re=i(98010);class ae extends re.v{}class oe extends re.v{}var le=i(38490),ce=i(44568),de=i(38399),ue=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{EMBED:he}=de.Z.WORKSHOP;let pe=class extends s.Component{constructor(e){super(e),this.popupRef=(0,s.createRef)(),this.embedRef=(0,s.createRef)(),this.open=()=>{this.popupRef.current&&this.popupRef.current.classList.add("open"),this.focus()},this.close=()=>{this.popupRef.current&&this.popupRef.current.classList.remove("open")},this.stopPropagation=e=>{e.stopPropagation()}}componentDidMount(){this.context.messageBus.subscribe(ae,this.open),this.context.messageBus.subscribe(oe,this.close)}componentWillUnmount(){this.close(),this.context.messageBus.unsubscribe(ae,this.open),this.context.messageBus.unsubscribe(oe,this.close)}focus(){this.embedRef.current&&this.embedRef.current.focus()}render(){const{locale:e}=this.context,{onCancel:t,onEmbed:i,parentId:s,parentType:r}=this.props;return(0,n.jsxs)("div",Object.assign({ref:this.popupRef,className:"annotation-popup",onClick:this.stopPropagation},{children:[(0,n.jsxs)("div",Object.assign({className:"popover-header"},{children:[(0,n.jsx)("div",Object.assign({className:"popover-label"},{children:e.t(he.MEDIA_LINK_LABEL)})),(0,n.jsx)(le.P,{buttonStyle:le.A.LIGHT,onClose:t})]})),(0,n.jsx)(ce.M,{ref:this.embedRef,parentId:s,parentType:r,className:"text-field-dark",onEmbed:i})]}))}};pe.contextType=f.I,pe=ue([W.Z],pe);i(15930),i(87435);var me=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{ANNOTATIONS:fe}=de.Z.SHOWCASE;let ge=class extends s.Component{constructor(e){super(e),this.uploadTooltipTimeout=0,this.bindings=[],this.isUnmounting=!1,this.getAttachmentsState=()=>{if(!this.attachmentsData)return;const{active:e,parentId:t,parentType:i}=this.props;if(!e)return;return{pendingAttachments:this.attachmentsData.getPendingAttachmentsForAsset(t,i),removedAttachments:this.attachmentsData.getRemovedAttachmentsForAsset(t,i),failures:this.attachmentsData.failures.values,uploads:this.attachmentsData.uploads.values}},this.updateAttachments=()=>{const e=this.getAttachmentsState();e&&this.setState(e)},this.cancelEdits=()=>{this.props.onCancelEditing&&this.props.onCancelEditing()},this.saveEdits=()=>{this.onDoneEditing()},this.onDoneEditing=()=>{const{onDoneEditing:e}=this.props;if(e){const t=this.getMarkdown();e(t,""===t&&0===this.getAttachmentCount())}},this.onInput=e=>{this.setState({textChanged:e.trim()!==this.props.text})},this.openLinkEditor=()=>{!(this.props.openModal===c.P.LINK_EDITOR)&&this.textEditor&&(this.context.analytics.trackGuiEvent("annotation_open_link_editor"),this.textEditor.prepareLinkForEdit())},this.onClickBlock=(e,t)=>{const{active:i,annotationType:n,annotationId:s,linkHandler:r}=this.props,a=e.blockType;if(a===z.C.LINK&&i)this.setState({selectedBlock:e}),this.context.commandBinder.issueCommand(new q.Bz(c.P.LINK_EDITOR,!0));else if(!i){if(a===z.C.LINK&&r&&e.value){t&&t.preventDefault();const i=(0,K.V)(e.value),{url:a,modelId:o,pose:l}=i;o?r.handler.openLink({fullLink:a,modelId:o}):l?(r.handler.openLink({fullLink:a,pose:l}),this.context.commandBinder.issueCommand(new Y.Aj(s,n))):r.handler.openLink(a)}this.context.messageBus.broadcast(new $.i(n,s,e))}},this.closeLinkEditor=async()=>(this.setState({selectedBlock:null}),this.context.commandBinder.issueCommand(new q.Bz(c.P.LINK_EDITOR,!1))),this.onCancelLink=async()=>{await this.closeLinkEditor()},this.toggleEmbedEditor=()=>{this.setState((e=>{const t=!e.embedPopupOpen;return t?(this.context.analytics.trackGuiEvent("annotation_open_embed_editor"),this.context.messageBus.broadcast(new ae)):this.context.messageBus.broadcast(new oe),{embedPopupOpen:t}}))},this.closeEmbedEditor=()=>{this.state.embedPopupOpen&&this.toggleEmbedEditor()},this.onRemoveLink=()=>{this.onSaveLink("","")},this.onSaveLink=(e,t)=>{this.props.openModal===c.P.LINK_EDITOR&&this.textEditor&&(this.setState({textChanged:!0}),this.textEditor.saveLink(e,t),this.closeLinkEditor())},this.onClickFileInput=()=>{const{active:e,onClickToEdit:t}=this.props;this.isAtMaxAttachments()?(window.clearTimeout(this.uploadTooltipTimeout),this.setState({showUploadTooltip:!0}),this.uploadTooltipTimeout=window.setTimeout((()=>{this.setState({showUploadTooltip:!1})}),2500)):!e&&t&&t()},this.onFileUpload=e=>{const{parentId:t,parentType:i}=this.props,n=Array.from(e),s=this.getAttachmentCount();e.length+s>Q.yk&&n.splice(Q.yk-s),this.context.commandBinder.issueCommand(new k.It(t,i,n)),this.edit()},this.onDrop=e=>{this.context.analytics.trackGuiEvent("attachment_drag_and_dropped"),this.onFileUpload(e)},this.onFilesChosen=e=>{this.context.analytics.trackGuiEvent("annotation_files_chosen"),this.onFileUpload(e)},this.dropActivated=()=>{const{active:e,creating:t,onClickToEdit:i}=this.props;t&&!e&&i&&i()},this.setTextEditorRef=e=>this.textEditor=e,this.state={textChanged:!1,selectedBlock:null,showUploadTooltip:!1,pendingAttachments:[],removedAttachments:[],uploads:[],failures:[],embedPopupOpen:!1}}componentDidMount(){this.context.market.waitForData(Z.b).then((e=>{this.attachmentsData=e,this.bindings.push(this.attachmentsData.onChanged(this.updateAttachments)),this.isUnmounting||this.updateAttachments()}))}componentWillUnmount(){this.isUnmounting=!0,window.clearTimeout(this.uploadTooltipTimeout);for(const e of this.bindings)e.cancel()}componentDidUpdate(e,t){const{active:i,parentId:n,parentType:s}=this.props;e.active&&!i?this.setState({textChanged:!1,pendingAttachments:[],removedAttachments:[],uploads:[],failures:[],embedPopupOpen:!1}):n===e.parentId&&s===e.parentType||this.updateAttachments()}edit(){this.textEditor&&this.textEditor.toggleEditing(!0)}focus(){this.textEditor&&this.textEditor.focus()}getMarkdown(){let e;return e=this.textEditor?this.textEditor.getMarkdown():this.props.text,e.trim()}getAttachmentCount(){const{attachments:e}=this.props,{pendingAttachments:t,removedAttachments:i,uploads:n}=this.state;return e.length+t.length+n.length-i.length}isAtMaxAttachments(){return this.getAttachmentCount()>=Q.yk}inEmptyState(){const{active:e,text:t}=this.props;return!e&&""===t.trim()&&0===this.getAttachmentCount()}renderButtonBar(){const{active:e,creating:t,parentId:i}=this.props;if(!e)return null;const{pendingAttachments:s,removedAttachments:r,textChanged:a,uploads:o,showUploadTooltip:l}=this.state,c=this.isAtMaxAttachments(),d=a||r.length>0||s.length>0,u=o.length>0,h=!c&&!u,p=d&&e&&!u?J.BN.ENABLED:J.BN.DISABLED,m=c?J.BN.DIMMED:u?J.BN.DISABLED:J.BN.ENABLED,f=this.context.locale.t(c?fe.MAX_ATTACHMENTS_TOOLTIP:fe.UPLOAD_TOOLTIP,Q.yk),g=this.context.locale.t(c?fe.MAX_ATTACHMENTS_TOOLTIP:fe.EMBED_TOOLTIP,Q.yk),v=this.context.locale.t(t?fe.ADD_CTA:fe.SAVE_CTA),b=this.context.locale.t(fe.LINK_TOOLTIP),y=this.context.locale.t(fe.CANCEL_CTA);return(0,n.jsxs)("div",Object.assign({className:"annotation-button-bar"},{children:[(0,n.jsxs)("div",Object.assign({className:"annotation-editors"},{children:[(0,n.jsx)(te.p,Object.assign({id:`${i}-annotation`,multi:!0,enabled:h,onUpload:this.onFilesChosen},{children:(0,n.jsx)(ne.hU,{iconClass:"icon-attach",buttonStyle:ne.Dd.PLAIN,buttonState:m,onClick:this.onClickFileInput,tooltipMsg:f,tooltipPersist:l})})),(0,n.jsx)(ne.hU,{iconClass:"icon-media-mix",buttonStyle:ne.Dd.PLAIN,buttonState:m,tooltipMsg:g,onClick:this.toggleEmbedEditor}),(0,n.jsx)(ne.hU,{iconClass:"icon-add-link",buttonStyle:ne.Dd.PLAIN,tooltipMsg:b,onClick:this.openLinkEditor})]})),(0,n.jsxs)("div",Object.assign({className:"annotation-cta-buttons"},{children:[(0,n.jsx)(J.zx,Object.assign({buttonStyle:J.ZJ.SECONDARY,buttonSize:J.qE.SMALL,className:"button-inline",buttonState:J.BN.ENABLED,onClick:this.cancelEdits},{children:y})),(0,n.jsx)(J.zx,Object.assign({className:"button-inline",buttonStyle:J.ZJ.SECONDARY,buttonSize:J.qE.SMALL,buttonState:p,onClick:this.saveEdits},{children:v}))]}))]}))}renderAttachments(){const{attachments:e,active:t,onViewAttachment:i,annotationType:s}=this.props,{uploads:r,failures:a,pendingAttachments:o}=this.state,l=this.attachmentsData?e.filter((e=>!this.attachmentsData.removals.get(e.id))):e;return o.forEach((e=>l.push(e))),(0,n.jsx)(X.s,{annotationType:s,canDelete:t,inline:t,attachments:l,uploads:r,failures:a,onViewAttachment:i})}renderSmartEditor(){const{placeholder:e,hashtags:t,text:i,creating:s,textParser:r,active:a,maxLength:o,tabIndex:l,annotationType:c,onClickToEdit:d}=this.props,u=c===y.J.NOTE,h=this.inEmptyState()&&u&&!s?this.context.locale.t(fe.CONTENT_DELETED):e;return(0,n.jsx)(ee.b,{ref:this.setTextEditorRef,textParser:r,text:i,active:!!a,clickToEdit:!!d,placeholder:h,onClickBlock:this.onClickBlock,onStartEditing:a?void 0:d,onDoneEditing:this.onDoneEditing,onCancelEditing:this.cancelEdits,onInput:this.onInput,tabIndex:l,maxLength:o,hashtags:t||[],userMentions:u})}render(){const{className:e,creating:t,active:i,parentId:s,parentType:r,annotationType:a,onClickToEdit:o,edited:l,title:c}=this.props,{uploads:d,selectedBlock:u}=this.state,h=this.getAttachmentCount()<Q.yk,p=!(d.length>0)&&(i||t)&&h,m=a===y.J.NOTE,f=this.inEmptyState()&&!t&&m,g=!i&&l&&!f,v={annotating:i,"editor-box":i||!!o,"annotation-emptied":f};let b="",E="";return u&&u.blockType===z.C.LINK&&(b=u.text,E=u.value||""),(0,n.jsxs)(ie.Z,Object.assign({className:"annotation-box",onDropped:this.onDrop,disabled:!p,onActivate:this.dropActivated},{children:[c,(0,n.jsxs)("div",Object.assign({className:w()("annotation-text-box",v,e)},{children:[this.renderSmartEditor(),i&&this.renderAttachments(),i&&this.renderButtonBar()]})),g&&(0,n.jsx)("div",Object.assign({className:"annotation-edited"},{children:"(edited)"})),!i&&!t&&this.renderAttachments(),i&&!!s&&(0,n.jsx)(pe,{parentId:s,parentType:r,onEmbed:this.closeEmbedEditor,onCancel:this.closeEmbedEditor}),i&&!!s&&(0,n.jsx)(se.I,{linkText:b,linkUrl:E,onCancelLink:this.onCancelLink,onSaveLink:this.onSaveLink,onRemoveLink:this.onRemoveLink})]}))}};ge.contextType=f.I,ge=me([W.Z],ge);var ve=i(16701),be=i(6608),ye=i(5686),Ee=i(66197),Se=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{INVITE_USER:Te,INVITE_BUTTON:Oe,INVITE_USERS:_e,INVITE_VISIBLE_MSG:Ne}=de.Z.USERS;let Ae=class extends s.Component{constructor(e){super(e),this.onInviteUsers=()=>{this.props.onInviteUsers(this.props.invitees)}}render(){const{invitees:e}=this.props;if(0===e.length)return null;const{locale:t}=this.context;let i;const s=t.t(Oe,e.length);i=1===e.length?t.t(Te,{email:e[0]}):t.t(_e,{emails:e.join(", ")});const r=t.t(Ne);return(0,n.jsxs)("div",Object.assign({className:"user-invite-card"},{children:[(0,n.jsxs)("div",Object.assign({className:"user-invite-info"},{children:[(0,n.jsx)("span",{className:"icon icon-eye-show"}),(0,n.jsx)("span",Object.assign({className:""},{children:r}))]})),(0,n.jsx)("p",Object.assign({className:"user-invite-msg"},{children:i})),(0,n.jsx)(J.zx,Object.assign({onClick:this.onInviteUsers,buttonStyle:J.ZJ.TERTIARY,className:w()("button-inline","user-invite-button")},{children:s}))]}))}};Ae.contextType=f.I,Ae=Se([W.Z],Ae);var we=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{INVITE_VISIBLE_MSG:Ie,INVITE_USER_FAILED:ke,INVITE_USERS_FAILED:Pe}=de.Z.USERS;let Le=class extends s.Component{constructor(e){super(e)}render(){const{failedEmails:e}=this.props,{locale:t}=this.context;if(0===e.length)return null;let i;i=1===e.length?t.t(ke,{email:e[0]}):t.t(Pe,{failedEmails:e.join(", ")});const s=t.t(Ie);return(0,n.jsxs)("div",Object.assign({className:"user-invite-card"},{children:[(0,n.jsxs)("div",Object.assign({className:"user-invite-info"},{children:[(0,n.jsx)("span",{className:"icon icon-eye-show"}),(0,n.jsx)("span",Object.assign({className:""},{children:s}))]})),(0,n.jsx)("p",Object.assign({className:"user-invite-msg"},{children:i}))]}))}};Le.contextType=f.I,Le=we([W.Z],Le);var Ce=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{UNKNOWN_USER:Re,UNKNOWN_USERS:De,INVITE_VISIBLE_MSG:Me}=de.Z.USERS;let xe=class extends s.Component{render(){const{locale:e}=this.context,{emails:t}=this.props;if(0===t.length)return null;let i;i=1===t.length?e.t(Re,{email:t[0]}):e.t(De,{emails:t.join(", ")});const s=e.t(Me);return(0,n.jsxs)("div",Object.assign({className:"user-invite-card"},{children:[(0,n.jsxs)("div",Object.assign({className:"user-invite-info"},{children:[(0,n.jsx)("span",{className:"icon icon-eye-show"}),(0,n.jsx)("span",Object.assign({className:""},{children:s}))]})),(0,n.jsx)("p",Object.assign({className:"user-invite-msg"},{children:i}))]}))}};xe.contextType=f.I,xe=Ce([W.Z],xe);var je=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let Ue=class extends s.Component{constructor(e){super(e),this.inviteUsers=async e=>{if(0===e.length)return;const{noteId:t,message:i}=this.props;await this.context.commandBinder.issueCommand(new ye.JB(e,i,N.AT,t))}}getInvitees(){const{userMentions:e}=this.props,t=[];return e.forEach((e=>{(e.userStatus===Ee.J.MENTIONED||e.userStatus===Ee.J.KNOWN&&e.modelAccess===M.x6.PUBLIC)&&t.push(e.email)})),t}getFailedEmails(){const{userMentions:e}=this.props,t=[];return e.forEach((e=>{e.userStatus===Ee.J.FAILED&&t.push(e.email)})),t}render(){const{expires:e,noteId:t}=this.props;if((new Date).getTime()>e)return null;const{userData:i}=this.context,s=i.isInviter(),r=this.getInvitees(),a=this.getFailedEmails();return(0,n.jsxs)("div",Object.assign({className:"user-mentions-unknown"},{children:[s&&r.length>0&&(0,n.jsx)(Ae,{invitees:r,modelAccess:N.AT,noteId:t,onInviteUsers:this.inviteUsers}),!s&&r.length>0&&(0,n.jsx)(xe,{emails:r}),a.length>0&&(0,n.jsx)(Le,{failedEmails:a})]}))}};Ue.contextType=f.I,Ue=je([W.Z],Ue);const{NOTES:He}=de.Z.SHOWCASE;function Fe(e){const{comment:t,noteId:i,onCancel:r,onViewAttachment:l}=e,{user:c,created:d,edited:u,id:h,text:p}=t,{analytics:m,commandBinder:g}=(0,s.useContext)(f.I),b=(0,v.v)(),S=(0,D.b)(),O=(0,a.R)(),A=(0,o.T)(),I=(0,s.useRef)(null),k=(0,j.l)(),P=(0,U.x)(),C=(0,_.Q)(),R=L(),H=V(),F=x();if(!C||!k||!b)return null;function B(e){m.trackToolGuiEvent("notes",e)}const W=R===h,z=t.attachments.values(),K=(0,E.C)(b,y.J.NOTE,c),Y=(0,E.K)(b,y.J.NOTE,c),$=t.modified.getTime()+60*N.E8*1e3,q=b.getUserDisplay(c.email),Z=q.color,Q=k.getPlainText(p),X=C.getCommentUserMentions(p,F),J=!W&&(K||Y)?(0,n.jsxs)(G.xz,Object.assign({icon:"more-vert",variant:G.Wu.TERTIARY,menuArrow:!0,menuClassName:"search-result-menu",menuPlacement:"bottom-end"},{children:[K&&(0,n.jsx)(G.zx,{label:S.t(He.EDIT),icon:"toggle-pencil",size:G.qE.SMALL,variant:G.Wu.TERTIARY,onClick:()=>{I.current&&(B("notes_click_edit_comment"),g.issueCommand(new T.x4(t.id)),I.current.edit())}}),Y&&(0,n.jsx)(G.zx,{className:"menu-delete-btn",icon:"delete",label:S.t(He.DELETE),size:G.qE.SMALL,variant:G.Wu.TERTIARY,onClick:()=>{B("notes_click_delete_comment"),g.issueCommand(new T.mH(i,t.id))}})]})):null;return(0,n.jsxs)("div",Object.assign({className:w()("comment",{active:W}),"data-id":h},{children:[(0,n.jsxs)("div",Object.assign({className:"note-header comment-header"},{children:[(0,n.jsx)(be.C,{badgeStyle:{color:Z,borderColor:Z},label:q.initials}),(0,n.jsxs)("div",Object.assign({className:"note-details"},{children:[(0,n.jsx)("span",Object.assign({className:"note-user"},{children:q.name})),(0,n.jsx)("div",Object.assign({className:"note-subheader"},{children:d.toLocaleString()}))]})),J]})),K?(0,n.jsx)(ge,{ref:I,textParser:k,linkHandler:P,annotationId:i,annotationType:y.J.NOTE,parentId:h,parentType:M.ud.COMMENT,attachments:z,active:W,edited:u,creating:!1,text:p,hashtags:H,toolPanelLayout:A,openModal:O,onViewAttachment:l,onDoneEditing:(e,n)=>{n?(B("notes_delete_empty_comment"),g.issueCommand(new T.mH(i,t.id)),r()):g.issueCommand(new T.Uw(i,t.id,e))},onCancelEditing:r,maxLength:N.Ko}):(0,n.jsx)(ve.e,{text:p,textParser:k,linkHandler:P,annotationType:y.J.NOTE,annotationId:i,attachments:z,edited:u,onViewAttachment:l}),K&&X.length>0&&(0,n.jsx)(Ue,{noteId:i,message:Q,userMentions:X,expires:$})]}))}const{NOTES:Be}=de.Z.SHOWCASE;function Ve({noteId:e,replyId:t,active:i,onCancel:r,onReply:l}){const c=(0,D.b)(),{commandBinder:d,analytics:u}=(0,s.useContext)(f.I),h=(0,a.R)(),p=(0,o.T)(),m=(0,j.l)(),g=(0,U.x)(),v=V();if(!m)return null;return(0,n.jsx)(ge,{className:"reply-box",textParser:m,linkHandler:g,annotationType:y.J.NOTE,annotationId:e,parentType:M.ud.COMMENT,parentId:t,attachments:[],active:i,edited:!1,creating:!0,text:"",hashtags:v,toolPanelLayout:p,openModal:h,placeholder:c.t(Be.REPLY_PLACEHOLDER),onClickToEdit:()=>{u.trackToolGuiEvent("notes","notes_click_new_comment"),d.issueCommand(new T.x4(t))},onDoneEditing:(e,i)=>{i?r():l(t,e)},onCancelEditing:r,maxLength:N.Ko})}var Ge=i(13132),We=i(84269);const{NOTES:ze}=de.Z.SHOWCASE;function Ke({note:e,active:t,onCancelNote:i}){const{analytics:r,commandBinder:a}=(0,s.useContext)(f.I),o=(0,v.v)(),l=m(),c=(0,D.b)();if(!o)return null;const d=e.comments.get(0);function u(e){r.trackToolGuiEvent("notes",e)}const h=(0,E.C)(o,y.J.NOTE,e.user),p=o.getUserDisplay(e.user.email),g=p.color,b=!l&&!t,S=b&&(0,E.K)(o,y.J.NOTE,e.user),O=b&&!e.resolved,_=b&&e.resolved,N=!l&&(h||_||S)?(0,n.jsxs)(G.xz,Object.assign({icon:"more-vert",variant:G.Wu.TERTIARY,menuArrow:!0,menuClassName:"search-result-menu",menuPlacement:"bottom-end"},{children:[h&&(0,n.jsx)(G.zx,{label:c.t(ze.EDIT),icon:"toggle-pencil",size:G.qE.SMALL,variant:G.Wu.TERTIARY,onClick:()=>{u("notes_click_edit_note"),d&&a.issueCommand(new T.x4(d.id))}}),_&&(0,n.jsx)(G.zx,{label:c.t(ze.UNRESOLVE),icon:"revert",size:G.qE.SMALL,variant:G.Wu.TERTIARY,onClick:()=>{u("notes_click_unresolve_note"),a.issueCommand(new T.yp(e.id,!1))}}),S&&(0,n.jsx)(G.zx,{className:"menu-delete-btn",icon:"delete",label:c.t(ze.DELETE),size:G.qE.SMALL,variant:G.Wu.TERTIARY,onClick:()=>{u("notes_click_delete_note"),a.issueCommand(new T.sG(e.id))}})]})):null,A=c.t(ze.MARK_AS_RESOLVED);return(0,n.jsxs)("header",Object.assign({className:"note-header"},{children:[(0,n.jsx)(be.C,{badgeStyle:{color:g,borderColor:g},label:p.initials}),(0,n.jsxs)("div",Object.assign({className:"note-details"},{children:[(0,n.jsx)("span",Object.assign({className:"note-user"},{children:p.name})),(0,n.jsx)("div",Object.assign({className:"note-subheader"},{children:e.created.toLocaleString()}))]})),(0,n.jsxs)(G.hE,Object.assign({spacing:"small"},{children:[l&&(0,n.jsx)(G.zx,{icon:"close",tooltip:c.t(ze.CANCEL),onClick:i,tooltipOptions:{placement:"bottom-end"}}),O&&(0,n.jsx)(G.zx,{icon:"checkmark",size:G.qE.SMALL,variant:G.Wu.FAB,theme:"dark",tooltip:A,onClick:()=>{u("notes_click_resolve_note"),a.issueCommand(new T.yp(e.id,!0))}}),b&&(0,n.jsx)(We.O,{prefix:"note",pin:e,id:e.id,darkTheme:!0,analyticAction:"copy_note_share_link",includeCameraView:!0}),N]}))]}))}const{NOTES:Ye}=de.Z.SHOWCASE;function $e({note:e,onViewAttachment:t,onCancel:i}){var r;const{commandBinder:l}=(0,s.useContext)(f.I),c=(0,D.b)(),d=(0,a.R)(),u=(0,o.T)(),h=(0,v.v)(),p=x(),b=(0,s.useRef)(null),E=(0,_.Q)(),S=L(),O=m(),A=V(),w=(0,j.l)(),I=(0,U.x)(),k=e.comments.get(0),P=null==k?void 0:k.id,C=!!S&&(S===P||O);if((0,g.U)(Ge.cd,(()=>{O&&q()})),(0,s.useEffect)((()=>{C&&q()}),[C]),!E||!w||!h)return null;const R=e.id,H=(null===(r=null==k?void 0:k.attachments)||void 0===r?void 0:r.values())||[],F=(null==k?void 0:k.text)||"",B=(null==k?void 0:k.edited)||!1,G=(null==k?void 0:k.modified.getTime())+60*N.E8*1e3,W=e.user.id===h.getCurrentUserId(),z=!!W&&h.isCommenter(),K=w.getPlainText(F),Y=E.getCommentUserMentions(F,p),$=C?c.t(Ye.ADD_NOTE_MESSAGE):void 0,q=()=>{b.current&&S===R&&b.current.edit()};return(0,n.jsxs)("div",Object.assign({className:"note-post"},{children:[(0,n.jsx)(Ke,{note:e,active:C,onCancelNote:i}),z?(0,n.jsx)(ge,{ref:b,textParser:w,linkHandler:I,annotationId:R,annotationType:y.J.NOTE,parentId:P||R,parentType:M.ud.COMMENT,attachments:H,active:C,edited:B,creating:O,text:F,hashtags:A,placeholder:$,toolPanelLayout:u,openModal:d,onViewAttachment:t,onDoneEditing:async(e,t)=>{t?i():O?await l.issueCommand(new T.FB(e)):await l.issueCommand(new T.kd(R,e))},onCancelEditing:i,maxLength:N.TM}):(0,n.jsx)(ve.e,{text:F,textParser:w,linkHandler:I,annotationType:y.J.NOTE,annotationId:R,attachments:H,edited:B,onViewAttachment:t}),!O&&k&&W&&Y.length>0&&(0,n.jsx)(Ue,{message:K,noteId:R,expires:G,userMentions:Y})]}))}function qe({note:e}){const{commandBinder:t,analytics:i}=(0,s.useContext)(f.I),r=(0,v.v)(),a=L(),o=m(),l=function(e){const t=(0,C.V)(e),[i,n]=(0,s.useState)(R(t));return(0,s.useEffect)((()=>{if(!t)return()=>{};function e(){n(R(t))}const i=t.comments.onChanged(e);return e(),()=>{i.cancel()}}),[t]),i}(e.id),[c,d]=(0,s.useState)((0,I.O1)(11)),u=()=>{t.issueCommand(new T.oH)},h=e=>{if(l.length){i.trackToolGuiEvent("notes","notes_click_view_attachment");const n=l.filter((e=>(0,P.lV)(e)));n.length>0&&t.issueCommand(new k.xW(!0,n,e))}},p={annotating:!!a,creating:o},g=a===c,b=!o&&(null==r?void 0:r.isCommenter())&&(g||!a);return(0,n.jsxs)("div",Object.assign({className:w()("note-widget",p)},{children:[e&&(0,n.jsx)($e,{note:e,onViewAttachment:h,onCancel:()=>{o?t.issueCommand(new T.gc):a&&u()}}),!o&&(0,n.jsx)("div",Object.assign({className:"note-comments"},{children:e.comments.map(((t,i)=>0===i?null:(0,n.jsx)(Fe,{noteId:e.id,comment:t,onCancel:u,onViewAttachment:h},t.id)))})),b&&(0,n.jsx)(Ve,{replyId:c,noteId:e.id,active:g,onCancel:()=>{u(),d((0,I.O1)(11))},onReply:(i,n)=>{t.issueCommand(new T.Df(e.id,n,i)),d((0,I.O1)(11))}})]}))}var Ze=i(68072),Qe=i(60150),Xe=i(89549),Je=i(50788),et=i(37082),tt=i(36964);const it=(0,et.Y)(!1);function nt(e){it.value=e}function st(){return[(0,tt.y)(it),nt]}var rt=i(64918),at=i(46362),ot=i(44761),lt=i(85535);function ct(e){const{analyticAction:t}=e,{analytics:i,commandBinder:r}=(0,s.useContext)(f.I),a=(0,at.s)(),o=(0,d.M)(),l=(0,ot.e)(null==o?void 0:o.id),[c,u]=st();if(!(o&&a.length>1))return null;const h=a.findIndex((e=>{const t=e.id,i=e.parentId;return i&&i===(null==o?void 0:o.id)&&(!l||t===(null==l?void 0:l.id))}));return(0,n.jsx)(lt.$,{index:h,total:a.length,disabled:c,wrapAround:!0,onNavigate:e=>{const n=a[e];if(!n)return;const s=n.id,l=n.parentId;if(!s||!l)return;u(!0);const c=o?null:rt.n.Interpolate;i.trackToolGuiEvent("notes",t),r.issueCommand(new T.yP(l,!0,!1,s,c)).then((()=>{u(!1)}))}})}const{NOTES:dt}=de.Z.SHOWCASE;function ut(){const e=L(),{commandBinder:t}=(0,s.useContext)(f.I),i=(0,D.b)(),a=(0,l.v)(),o=(0,Je.F)(),[c]=st(),d=a&&o&&(o===r.w1.SEARCH||o===r.w1.LAYERS),u=d||!a,h=!e&&!d,p=u?i.t(dt.NAV_BACK):i.t(dt.NAV_CLOSE),m=u?"back":"close";return(0,n.jsxs)("div",Object.assign({className:"detail-panel-header"},{children:[(0,n.jsx)(G.zx,{icon:m,label:p,variant:G.Wu.TERTIARY,onClick:()=>{c||(d?t.issueCommand(new Xe.cR).then((()=>{t.issueCommand(new Xe.qy(!1))})):a?t.issueCommand(new Xe.CH(r.w1.NOTES)):t.issueCommand(new T._N))}}),h&&(0,n.jsx)(ct,{analyticAction:"notes_navigate_in_panel"})]}))}function ht({panelOpen:e,note:t}){const{commandBinder:i}=(0,s.useContext)(f.I),a=(0,v.v)(),l=(0,o.T)(),c=(0,s.useRef)(null),d=function(){const e=(0,_.Q)(),[t,i]=(0,s.useState)((null==e?void 0:e.notesPhase)||O.U.CLOSED);return(0,s.useEffect)((()=>{if(!e)return()=>{};const t=e.onNotesPhaseChanged(i);return i(e.notesPhase),()=>t.cancel()}),[e]),t}(),u=m();(0,g.U)(S.J,(e=>{c.current&&c.current.scrollToSelector(`[data-id='${e.commentId}']`)})),(0,s.useEffect)((()=>{c.current&&t&&c.current.resetScrollTop()}),[null==t?void 0:t.id]);const h=!(!t||!a)&&(0,E.C)(a,y.J.NOTE,t.user),p=d===O.U.EDITING,A=l===r.wS.BOTTOM_PANEL,w=p&&A;return(0,n.jsxs)(Ze.J,Object.assign({ref:c,open:e,className:"note-panel",scrollingDisabled:w},{children:[t&&!u&&(0,n.jsx)(ut,{}),t&&(0,n.jsx)(qe,{note:t}),t&&A&&h&&(0,n.jsx)(Qe.q,{id:t.id,pin:t,pinType:b.Er.NOTE,onSave:e=>{t&&i.issueCommand(new T.oE(t.id,e))},onClose:()=>{i.issueCommand(new T.df(!1))},colors:N.ZP.colors,open:p,toolPanelLayout:l},t.id)]}))}var pt=i(51978),mt=i(76087),ft=i(77230),gt=i(72801),vt=i(11311),bt=i(62752),yt=i(22744),Et=i(43363);i(52424);const{NOTES:St}=de.Z.SHOWCASE;function Tt(){const e=(0,D.b)(),t=(0,pt.y)(mt.fc,!1),i=(0,bt.g)(),r=(0,s.useRef)(null),a=t?"filter":void 0,o=t?void 0:i===yt.$.OPEN?e.t(St.FILTER_UNRESOLVED):i===yt.$.RESOLVED?e.t(St.FILTER_RESOLVED):e.t(St.FILTER_ALL);return(0,n.jsx)("div",Object.assign({className:"search-filter"},{children:(0,n.jsxs)(G.xz,Object.assign({ref:r,icon:a,label:o,variant:G.Wu.TERTIARY,size:G.qE.SMALL,menuClassName:"search-filter-menu",caret:!t},{children:[(0,n.jsxs)("div",Object.assign({className:"search-filter-menu-header"},{children:[(0,n.jsx)("div",{children:"Filter by"}),(0,n.jsx)(G.zx,{icon:"close",ariaLabel:e.t(de.Z.CLOSE),variant:G.Wu.TERTIARY,onClick:()=>{r.current&&r.current.closeMenu()}})]})),(0,n.jsx)(Ot,{id:yt.$.ALL,label:e.t(St.FILTER_ALL),selected:i===yt.$.ALL},yt.$.ALL),(0,n.jsx)(Ot,{id:yt.$.OPEN,label:e.t(St.FILTER_UNRESOLVED),selected:i===yt.$.OPEN},yt.$.OPEN),(0,n.jsx)(Ot,{id:yt.$.RESOLVED,label:e.t(St.FILTER_RESOLVED),selected:i===yt.$.RESOLVED},yt.$.RESOLVED)]}))}))}function Ot({id:e,label:t,selected:i}){const{commandBinder:r,analytics:a}=(0,s.useContext)(f.I);return(0,n.jsx)(Et.e,{id:e,label:t,selected:i,onToggled:()=>{i||(a.trackToolGuiEvent("notes","notes_list_change_filter"),r.issueCommand(new T.RO(e,!0)))}})}var _t=i(82588),Nt=i(21209);const{NOTES:At}=de.Z.SHOWCASE;function wt({children:e,viewsBanner:t=!1}){const i=(0,pt.y)(mt.fc,!1),s=i?void 0:"deprecated-notes-ui",a=(0,D.b)(),o=(0,ft.A)(),l=(0,at.s)().length,c=i||!!o,d=(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)(Nt.Y,{}),(0,n.jsx)(_t.B,{filter:(0,n.jsx)(Tt,{}),showSearch:c})]}),u=a.t(o?At.COMMENTS:At.NOTES,l);return(0,n.jsxs)(gt.L,Object.assign({toolId:r.w1.NOTES,className:w()("notes-list-panel",s),title:u,subheader:d},{children:[e,(0,n.jsx)(vt.R,{url:N.f0})]}))}function It({children:e,viewsBanner:t}){const i=(0,a.R)(),h=(0,o.T)(),p=(0,l.v)(),f=(0,d.M)(),g=function(){const e=(0,d.M)(),t=(0,u.Y)();return(null==e?void 0:e.id)===(null==t?void 0:t.id)?e:null}(),v=m(),[b,y]=(0,s.useState)(g),E=p;(0,s.useEffect)((()=>{f&&(null==f?void 0:f.id)!==(null==b?void 0:b.id)&&y(f)}),[null==f?void 0:f.id]);const S=v?g:f,T=h===r.wS.BOTTOM_PANEL,O=i&&i!==c.P.CONFIRM,_=!(!S||T&&O);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ht,{panelOpen:_,note:S||b}),!E&&(0,n.jsx)(wt,Object.assign({viewsBanner:t},{children:e}))]})}},75043:(e,t,i)=>{"use strict";i.d(t,{u:()=>a});var n=i(85893),s=i(94184),r=i.n(s);function a({children:e,className:t}){return(0,n.jsx)("div",Object.assign({className:r()("overlay-top-center",t)},{children:(0,n.jsx)("div",Object.assign({className:"overlay-info"},{children:e}))}))}},20487:(e,t,i)=>{"use strict";i.d(t,{C:()=>s});var n=i(85893);function s({children:e}){return(0,n.jsx)("div",Object.assign({className:"overlay-message"},{children:e}))}},85890:(e,t,i)=>{"use strict";i.d(t,{Q:()=>O});var n=i(85893),s=i(94184),r=i.n(s),a=i(67294),o=i(33324),l=i(25328),c=i(48534),d=i(16507),u=i(54244),h=i(33558),p=i(59581),m=i(37082),f=i(36964),g=i(89557),v=i(20334);const b=new m.f({from:null,to:null,progress:new g.z(0),promise:Promise.resolve()});var y=i(40577);function E(){const e=function(){const e=(0,v.I)();return(0,f.y)(e?e.transitionObservable:b)}();return(0,y.q)((null==e?void 0:e.to)||null)}var S=i(27525),T=i(27250);function O(e){const{commandBinder:t}=(0,a.useContext)(h.I),i=(0,p.W)(),s=function(){const e=(0,S.m)(),t=E(),[i,n]=(0,a.useState)(e?e.name:"");return(0,a.useEffect)((()=>(e?n(e.name):t&&n(t.name),()=>{})),[e,t]),i}(),m=(0,T.t)(),f=(0,a.useCallback)((()=>{t.issueCommand(new o.Vw(null,!1))}),[t]);if(i!==u.nh.PLAYING)return null;const g=r()("floor-container",e.className);return(0,n.jsxs)("div",Object.assign({className:g},{children:[(0,n.jsx)("div",Object.assign({className:"floor-title h4"},{children:s||""})),m&&(0,n.jsx)(d.hU,{iconClass:"icon-close",buttonStyle:d.Dd.CLEAR,buttonSize:l.qE.STANDARD,tooltipPosition:c.lZ.DOWN_RIGHT,onClick:f})]}))}},36927:(e,t,i)=>{"use strict";i.d(t,{$:()=>st});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(57956),l=i(33558),c=i(86941),d=i(64918),u=i(67511),h=i(51397),p=i(55502),m=i(85679),f=i(73536),g=i(36120),v=i(45531),b=i(92211),y=i(38772),E=i(32597),S=i(39880),T=i(95160),O=i(52528),_=i(48534),N=i(38399),A=i(98010);class w extends A.v{constructor(e=!1){super(),this.urlFocus=e}}class I extends A.v{}var k,P=i(30643),L=i(17141),C=i(31362);!function(e){e[e.NOT_READY=1]="NOT_READY",e[e.CUED=2]="CUED",e[e.PLAYING=3]="PLAYING",e[e.PAUSED=4]="PAUSED"}(k||(k={}));var R=i(97998),D=i(60542);const M=new R.Z("embedly");class x{constructor(e){this.msg=e}}class j{constructor(e){this.msg=e}}class U{constructor(e){this.msg=e}}const H="Instagram",F="Flickr";class B{constructor(e,t){this.key=e,this.queue=t,this.embedEndpoint="https://api.embed.ly/1/oembed",this.imageEndpoint="https://i.embed.ly/1/display/resize",this.saveProvidersForScripts=[F,H]}static clearCache(){B.embedCache={},B.imageCache={}}async getType(e){const t=await this.fetchFromCache(e);if(t)return t.type;try{const t=await this.getEmbedDetails(e);if(t.type===P.z.rich||t.type===P.z.video)return t.type}catch(e){if(401!==e.status_code&&404!==e.status_code&&501!==e.status_code&&!(e instanceof x))return P.z.error}try{return await this.getImageDetails(e),P.z.photo}catch(e){}return P.z.error}async fetchFromCache(e){const t=await this.getDisplayUrl(e),i=B.imageCache[t];if(i)return i;const n=await this.getOEmbedUrl(e),s=B.embedCache[n];return s||null}async getMediaDetails(e,t){switch(e){case P.z.photo:return this.getImageDetails(t);case P.z.rich:case P.z.video:return this.getEmbedDetails(t)}throw Error("unsupported media type")}async getOEmbedUrl(e){const t=Math.max(window.screen.height,window.screen.width),i=`&maxwidth=${t}&maxheight=${t}`;return`${this.embedEndpoint}?key=${this.key}&url=${encodeURIComponent(e)}${i}`}async getEmbedDetails(e){const t=await this.getOEmbedUrl(e);return B.embedCache[t]?Promise.resolve(B.embedCache[t]):this.loadEmbed(t)}async getDisplayUrl(e){const t=Math.max(window.screen.height,window.screen.width),i=`&url=${encodeURIComponent(e)}&width=${t}&height=${t}`;return`${this.imageEndpoint}?key=${this.key}${i}`}async getImageDetails(e){const t=await this.getDisplayUrl(e);return B.imageCache[t]?Promise.resolve(B.imageCache[t]):this.loadImage(t)}loadEmbed(e){return this.queue.get(e,{responseType:"json"}).then((t=>this.validateAndCacheEmbed(e,t)))}loadImage(e){return new Promise(((t,i)=>this.queue.get(e,{responseType:"arraybuffer"}).then((t=>this.validateAndCacheImage(e,t))).then(t).catch(i)))}validateAndCacheEmbed(e,t){const i=!!(!t.html||!t.html.match(/<script/i))||this.saveProvidersForScripts.includes(t.provider_name);if(!(t.type!==P.z.photo||t.html&&i))throw new x('image can\'t be used as a "rich" type');if(!t||t.type===P.z.rich&&(!t.html||!i))throw new j("missing html or html contains Javascript");switch(t.type){case P.z.photo:t.html&&(t.type=P.z.rich);break;case P.z.rich:case P.z.video:break;case P.z.link:{const e="not supporting link types because of existing link functionality";throw M.debug(e),new U(e)}default:{const e=`Did the OEmbed format extend?! Unknown type: ${t.type}`;throw M.debug(e),new U(e)}}const n=(void 0===t.height||void 0===t.width)&&t.thumbnail_width&&t.thumbnail_height,s=n?t.thumbnail_width:t.width,r=n?t.thumbnail_height:t.height,a=t.provider_name,o={width:s,height:r,embedlyResponse:{html:t.html,src:t.url,provider:a},type:t.type};return B.embedCache[e]=o,o}validateAndCacheImage(e,t){return new Promise(((i,n)=>{t||n("Embedly: got an empty response when requesting image");const s=new Uint8Array(t),r=new Blob([s]),a=new Image;a.addEventListener("load",(t=>function(t){const n=t.target,s={width:n.naturalWidth,height:n.naturalHeight,embedlyResponse:{url:o,src:e},type:P.z.photo};B.imageCache[e]=s,i(s)}(t)));const o=URL.createObjectURL(r);a.src=o}))}}B.embedCache={},B.imageCache={};var V=i(33102),G=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const W=new R.Z("mattertag-media");let z=class extends s.Component{constructor(e){super(e),this.playerControls=null,this.bindings=[],this.handleClick=()=>{this.props.mediaType===P.z.photo&&this.props.onClickImage&&this.props.onClickImage()},this.onPlayerLoaded=e=>{this.playerControls=e,e.play()},this.setupPlayerControls=e=>{let t=k.NOT_READY;const i=()=>{t=k.CUED,this.onPlayerLoaded(o)},n=()=>{t=k.PLAYING},s=()=>{t=k.PAUSED},r=()=>{};try{e.on("ready",i),e.on("play",n),e.on("pause",s),e.on("ended",r)}catch(e){W.debug(e)}const a=(0,C.tq)(),o={play:()=>{if(e&&t!==k.NOT_READY&&!a)try{e.play()}catch(e){W.error(e)}},pause:()=>{if(e&&t!==k.NOT_READY)try{e.pause()}catch(e){W.debug(e)}}}},this.setEmbedContentRef=e=>{e&&!this.iframe&&this.createEmbed(e)},this.setContainerRef=e=>{this.mediaContainer=e,this.updateMaxDims()},this.updateMaxDims=()=>{if(this.mediaContainer&&this.props.mediaAspectRatio&&this.props.mediaType===P.z.video){const e=this.mediaContainer.getBoundingClientRect();this.setState({maxWidth:e.width,maxHeight:e.height})}},this.mediaStyles=()=>{const{width:e,height:t,mediaPayload:i,mediaType:n,mediaAspectRatio:s}=this.props,{maxWidth:r,maxHeight:a}=this.state,o={};if(i)switch(n){case P.z.photo:o.backgroundImage=i.url?`url('${i.url}')`:"none";case P.z.rich:void 0!==e&&(o.width=`${e}px`),void 0!==t&&(o.height=`${t}px`,i.provider===H?o.height=`${t+54}px`:o.height=`${t}px`);break;case P.z.video:if(void 0!==e&&void 0!==t){const i=(0,D.lZ)(e,t);o.width=`${e}px`,o.height=`${i}px`}else if(r&&a&&void 0!==s){const e=Math.min(a,(0,D.lZ)(r,r/s)),t=e*s;o.width=`${t}px`,o.height=`${e}px`}}return o},this.state={maxWidth:0,maxHeight:0}}componentDidMount(){this.props.mediaAspectRatio&&this.props.mediaType===P.z.video&&(this.bindings.push(this.context.messageBus.subscribe(V.B,this.updateMaxDims)),this.updateMaxDims())}componentWillUnmount(){this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}UNSAFE_componentWillReceiveProps(e){e.mediaPayload!==this.props.mediaPayload&&this.iframe&&this.iframe.parentNode&&(this.iframe.parentNode.removeChild(this.iframe),this.iframe=null),this.playerControls&&this.props.closing!==e.closing&&(e.closing?this.playerControls.pause():this.playerControls.play())}createEmbed(e){const{mediaType:t,mediaPayload:i,width:n,height:s}=this.props,{html:r,provider:a,src:o}=i,l=document.createElement("div");l.innerHTML=r;let c=l.firstChild;if("iframe"!==c.tagName.toLowerCase()){if(c=document.createElement("iframe"),!("srcdoc"in c))return W.warn(`Browser does not support srcdoc, refusing to embed ${r}`),void(this.iframe=null);let e,t;void 0!==n&&(c.width=n.toString()),void 0!==s&&(c.height=s.toString()),c.setAttribute("allow","encrypted-media; autoplay; fullscreen"),c.classList.add("tag-iframe-sandbox","loading"),c.onload=()=>c.classList.remove("loading"),e=a===F&&void 0!==o?`<img src=${o} />`:r,t=a===H?"\n          <style>\n            html, body { padding: 0; margin: 0; border: 0; }\n            img { display: block; max-width: 100%; height: auto; border: 0; }\n            iframe { display: block; max-width: 100%; border: 0; }\n          </style>\n        ":"\n          <style>\n            html, body { padding: 0; margin: 0; border: 0; }\n            img, iframe { display: block; max-width: 100%; height: auto; border: 0; }\n          </style>\n        ";const i=t.replace(/\s+/g," ");c.srcdoc=`<!doctype html>${i}${e}`}else{const e=c.style;e.maxWidth="100%",e.maxHeight="100%",e.minWidth="",e.minHeight=""}if(t===P.z.video&&c.src)try{const e=new L.Player(c);c.addEventListener("load",(()=>this.setupPlayerControls(e)))}catch(e){W.error(e)}this.iframe=c,e.appendChild(c)}render(){const{mediaPayload:e,mediaType:t}=this.props;if(!e)return null;const i=a()({"tag-image":t===P.z.photo,"tag-embed":t===P.z.rich,"tag-video":t===P.z.video}),s=e&&e.html?(0,n.jsx)("div",{className:"tag-embed-content",ref:this.setEmbedContentRef}):null;return(0,n.jsx)("div",Object.assign({ref:this.setContainerRef,className:"tag-media-content",onClick:this.handleClick},{children:(0,n.jsx)("div",Object.assign({className:i,style:this.mediaStyles()},{children:s}))}))}};z.contextType=l.I,z=G([y.Z],z);const K=z;var Y=i(16507),$=i(25328),q=i(52544),Z=i(98813),Q=i(38490),X=i(47397);const{MATTERTAGS:J}=N.Z.WORKSHOP;class ee extends s.Component{constructor(e){super(e),this.elementRef=(0,s.createRef)(),this.urlInputRef=(0,s.createRef)(),this.textInputRef=(0,s.createRef)(),this.open=e=>{this.elementRef.current&&this.elementRef.current.classList.add("open"),this.focus(e.urlFocus)},this.close=()=>{this.urlInputRef.current&&this.urlInputRef.current.blur(),this.textInputRef.current&&this.textInputRef.current.blur(),this.setState({currentText:"",currentUrl:"",validUrl:!0,errorMessage:void 0}),this.elementRef.current&&this.elementRef.current.classList.remove("open")},this.onEditedUrl=e=>{const{validUrl:t,currentText:i}=this.state;if(!t)return;const n=""!==i?i:e,s=this.props.onSaveLink(n,e);this.setState({errorMessage:s})},this.onInputUrl=e=>{this.setState({validUrl:(0,Z.j)(e),currentUrl:e,errorMessage:void 0})},this.onEditedText=e=>{this.focus(!0)},this.onInputText=e=>{this.setState({currentText:e,errorMessage:void 0})},this.onApply=e=>{this.state.currentUrl&&this.onEditedUrl(this.state.currentUrl)},this.onClose=e=>{this.close(),this.props.onCancel()},this.onPreviewUrl=()=>{this.state.validUrl&&window.open(this.state.currentUrl,"_blank")},this.stopPropagation=e=>{e.stopPropagation()},this.state={currentUrl:e.linkUrl,currentText:e.linkText,validUrl:!0,errorMessage:void 0}}componentDidMount(){this.context.messageBus.subscribe(w,this.open),this.context.messageBus.subscribe(I,this.close)}componentWillUnmount(){this.close(),this.context.messageBus.unsubscribe(w,this.open),this.context.messageBus.unsubscribe(I,this.close)}componentDidUpdate(e){this.props.linkUrl!==e.linkUrl&&this.setState({currentUrl:this.props.linkUrl}),this.props.linkText!==e.linkText&&this.setState({currentText:this.props.linkText})}focus(e=!1){e?this.urlInputRef.current&&this.urlInputRef.current.focus():this.textInputRef.current&&this.textInputRef.current.focus()}renderButtons(){const{locale:e}=this.context,{validUrl:t,currentUrl:i}=this.state,{onRemoveLink:s,linkText:r,linkUrl:a}=this.props,o=""!==r&&""!==a,l=!i||!t?$.BN.DISABLED:$.BN.ENABLED,c=e.t(J.LINK_EDITOR_APPLY_CTA),d=e.t(J.LINK_EDITOR_REMOVE_TIP);return(0,n.jsxs)("div",Object.assign({className:"popover-footer"},{children:[this.renderValidationMessage(),o&&(0,n.jsx)(Y.hU,{iconClass:"icon-delete",buttonStyle:Y.Dd.CLEAR,tooltipMsg:d,tooltipPosition:_.lZ.UP,onClick:s}),(0,n.jsx)($.zx,Object.assign({className:"button-inline",buttonStyle:$.ZJ.CLEAR,buttonSize:$.qE.SMALL,buttonState:l,onClick:this.onApply},{children:c}))]}))}renderValidationMessage(){const{locale:e}=this.context,{linkText:t,linkUrl:i}=this.props,{validUrl:s,currentUrl:r,errorMessage:a}=this.state,o=""===t&&""===i&&""===r;return a?(0,n.jsx)("div",Object.assign({className:"popover-message popover-message-error"},{children:a})):!s&&r?(0,n.jsx)("div",Object.assign({className:"popover-message popover-message-error"},{children:e.t(J.LINK_EDITOR_INVALID_TIP)})):(0,n.jsx)("div",Object.assign({className:"popover-message"},{children:o&&e.t(J.LINK_EDITOR_TIP_TEXT)}))}render(){const{locale:e}=this.context,{validUrl:t,currentText:i,currentUrl:s}=this.state,r=e.t(J.LINK_EDITOR_TEXT_LABEL),a=e.t(J.LINK_EDITOR_URL_LABEL),o=e.t(J.LINK_EDITOR_PREVIEW_TIP);return(0,n.jsxs)("div",Object.assign({ref:this.elementRef,className:"annotation-popup link-editor",onClick:this.stopPropagation},{children:[(0,n.jsxs)("div",Object.assign({className:"popover-header"},{children:[(0,n.jsx)("div",Object.assign({className:"popover-label"},{children:r})),(0,n.jsx)(Q.P,{buttonStyle:Q.A.LIGHT,onClose:this.onClose})]})),(0,n.jsx)(X.Z,{ref:this.textInputRef,text:i,className:"text-field-dark",onBlur:this.onEditedText,onInput:this.onInputText}),(0,n.jsxs)("div",Object.assign({className:"url-field"},{children:[(0,n.jsx)("div",Object.assign({className:"popover-label"},{children:a})),(0,n.jsx)(X.Z,{ref:this.urlInputRef,text:s,type:"url",className:"text-field-dark",placeholder:"https://",onBlur:this.onEditedUrl,onInput:this.onInputUrl}),t&&s&&(0,n.jsx)(Y.hU,{className:"preview-link",iconClass:"icon-ext-link",buttonStyle:Y.Dd.PLAIN,tooltipMsg:o,tooltipPosition:_.lZ.UP,onClick:this.onPreviewUrl})]})),this.renderButtons()]}))}}ee.contextType=l.I;var te=i(71776),ie=i(35895),ne=i(40505),se=i(25307);const{MATTERTAGS:re}=N.Z.WORKSHOP;class ae extends s.Component{constructor(e){super(e),this.textParser=new O.v({links:!0}),this.inputDiv=(0,s.createRef)(),this.getInputDiv=()=>this.inputDiv.current,this.hasTextSelected=()=>this.range&&this.range.startOffset!==this.range.endOffset,this.onSelectionChange=()=>{const e=this.getCurrentSelection();e&&(this.range=e.cloneRange())},this.addFauxHighlight=()=>{this.execCommand("backColor","#ff315840")},this.removeFauxHighlight=()=>{this.execCommand("backColor","transparent")},this.prepareLinkSelection=()=>{const e=this.getAnchorFromSelection();let t=null;const i=window.getSelection();return i&&(e||this.range||!this.inputDiv.current?(this.addFauxHighlight(),e||(t=this.range?this.range.toString():i.toString())):(this.inputDiv.current.focus(),i.selectAllChildren(this.inputDiv.current),i.collapseToEnd(),this.range=i.getRangeAt(0),t=this.range.toString())),e||(t||"")},this.onMouseDown=e=>{e.stopPropagation(),this.removeFauxHighlight(),this.range=null},this.onKeyDown=e=>{const t=e.which||e.keyCode;return e.stopPropagation(),t===E.R.ESCAPE?this.props.onNavigationKey(e):t===E.R.RETURN||t===E.R.TAB?(e.shiftKey||(e.preventDefault(),this.finalizeInput()),this.props.onNavigationKey(e)):void 0},this.onKeyPress=e=>{const{maxLength:t}=this.props;if(t&&this.range&&this.inputDiv&&this.inputDiv.current){const[i,n]=this.textParser.getHTMLWithoutSelection(this.inputDiv.current,this.range),s=this.getTextInsertion(e,i,n);this.textParser.serializeHTMLToMarkdown(`${i}${s}${n}`).length>t&&e.preventDefault()}},this.onInput=()=>{this.props.updateLength()},this.onPaste=e=>{e.preventDefault();const{maxLength:t}=this.props,i=(e.clipboardData||window.clipboardData).getData("text/plain");if(t){if(this.inputDiv.current&&this.range){const[e,n]=this.textParser.getHTMLWithoutSelection(this.inputDiv.current,this.range),s=s=>this.textParser.serializeHTMLToMarkdown(`${e}${i.slice(0,s)}${n}`).length<=t,r=(0,se.$)(i.length,s);if(r>=0){const e=i.slice(0,r);document.execCommand("insertHTML",!1,e)}}}else document.execCommand("insertHTML",!1,i)},this.onFocus=e=>{this.inputDiv.current&&(this.context.messageBus.broadcast(new ne.SN(this.inputDiv.current,!0)),this.props.onFocus&&this.props.onFocus())},this.onBlur=()=>{this.inputDiv.current&&(this.context.messageBus.broadcast(new ne.SN(this.inputDiv.current,!1)),this.props.onBlur&&this.props.onBlur(),this.finalizeInput())};const t=new ie.gm((()=>({})),(e=>document.addEventListener("selectionchange",e)),(e=>document.removeEventListener("selectionchange",e)));this.selectionSubscription=t.createSubscription(this.onSelectionChange)}componentDidMount(){const{description:e,onLinkClick:t}=this.props,i=this.getInputDiv();this.textParser.deserialize(e,!0,t).forEach((e=>{null==i||i.appendChild(e)})),this.selectionSubscription.renew(),setTimeout((()=>{this.props.updateLength()}),0)}componentDidUpdate(e){e.description!==this.props.description&&this.props.updateLength()}componentWillUnmount(){var e;this.selectionSubscription.cancel(),null===(e=this.inputDiv.current)||void 0===e||e.blur()}shouldComponentUpdate(){return!1}getCurrentSelection(){const e=window.getSelection();if(e&&e.rangeCount>0){const t=e.getRangeAt(0);if(this.inputDiv.current&&(this.inputDiv.current===t.commonAncestorContainer||this.inputDiv.current.compareDocumentPosition(t.commonAncestorContainer)&Node.DOCUMENT_POSITION_CONTAINED_BY))return t}return null}linkify(e,t){const{descriptionLength:i,maxLength:n}=this.props,s=`link_${Date.now()}`,r=this.createAnchor(e,t);r.id=s;const a=this.textParser.serializeHTMLToMarkdown(r.outerHTML);if(n&&a.length+i>n)return this.context.locale.t(re.LINK_EDITOR_MAX_LENGTH_TIP);this.execCommand("backColor","transparent"),this.execCommand("insertHTML",r.outerHTML);const o=document.getElementById(s);return o&&(o.onclick=this.props.onLinkClick),!1}unlink(e){const t=e.parentNode,i=e.textContent;t&&(t.removeChild(e),i&&!(0,Z.j)(i)&&this.execCommand("insertText",i))}updateLink(e,t,i){const{descriptionLength:n,maxLength:s,updateLength:r}=this.props,{serializeHTMLToMarkdown:a}=this.textParser,o=this.createAnchor(t,i),l=a(o.outerHTML),c=a(e.outerHTML);return n+(l.length-c.length)>s?this.context.locale.t(re.LINK_EDITOR_MAX_LENGTH_TIP):(e.href=o.href,e.text=o.text,e.setAttribute("data-value",i),r(),!1)}createAnchor(e,t){const i=document.createElement("a");return i.href=t,i.text=this.textParser.sanitizeText(e),i.classList.add(O.o.LINK),i.setAttribute("data-value",t),i}applyRange(){if(this.range){const e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(this.range))}}execCommand(e,t){this.range&&(this.applyRange(),document.execCommand(e,!1,t),this.onSelectionChange())}getAnchorFromSelection(){const e=this.getCurrentSelection();if(!e)return null;let t=e.commonAncestorContainer;for(;t&&"A"!==t.nodeName;){if(t===this.inputDiv.current)return null;t=t.parentNode}return t||null}finalizeInput(){var e;this.props.onFinalizeInput(),null===(e=this.inputDiv.current)||void 0===e||e.blur()}getTextInsertion(e,t,i){if((e.which||e.keyCode)!==E.R.RETURN)return e.key;const n=t.slice(-1),s=i.slice(0,1);return"\n"===n||"\n"===s?"\n":"\n\n"}render(){return(0,n.jsx)("div",{ref:this.inputDiv,className:"inputDiv","data-placeholder":this.props.placeholder,onMouseDown:this.onMouseDown,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onPaste:this.onPaste,contentEditable:!0,onInput:this.onInput,onFocus:this.onFocus,onBlur:this.onBlur})}}ae.contextType=l.I;var oe=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{MATTERTAGS:le}=N.Z.WORKSHOP;let ce=class extends s.Component{constructor(e){super(e),this.textParser=new O.v({links:!0}),this.editableDescriptionRef=(0,s.createRef)(),this.linkElement=null,this.onLabelEdit=e=>{const{manager:t,id:i,onEdited:n}=this.props;t.setLabel(i,e).then(n)},this.onLabelKeyPress=e=>{if(e.keyCode===E.R.ESCAPE)return this.props.onNavigationKey(e);if(e.stopPropagation(),e.keyCode===E.R.TAB){const e=this.editableDescriptionRef.current;if(e){const t=e.getInputDiv();t&&t.focus()}}return!1},this.updateDescriptionLength=()=>{const e=this.editableDescriptionRef.current;if(!e)return;const t=e.getInputDiv();if(!t)return;const i=this.textParser.serialize(t),n=i.length;this.props.onDescriptionInput((0,S.Yv)(i)),this.setState({descriptionLength:n})},this.onDescriptionEdited=()=>{const e=this.editableDescriptionRef.current;if(!e)return;const t=e.getInputDiv();if(t){const{manager:e,id:i,onEdited:n}=this.props,s=this.textParser.serialize(t);e.setDescription(i,s).then(n)}},this.onLabelFocus=()=>{this.closePopover()},this.onDescriptionFocus=()=>{this.setState({editingDescription:!0})},this.onDescriptionBlur=()=>{this.setState({editingDescription:!1})},this.closePopover=()=>{this.setState({linkUrl:"",linkText:""}),this.linkElement=null,this.props.onClosePopover()},this.linkClicked=e=>{if(e.preventDefault(),this.props.linkEditorOpen)this.closePopover();else{e.stopPropagation(),this.linkElement=e.target;const{href:t,text:i}=this.linkElement;this.setState({linkUrl:t,linkText:i}),this.props.onClickLink()}},this.onRemoveLink=()=>{this.onSaveLink("","")},this.onSaveLink=(e,t)=>{let i;const n=this.editableDescriptionRef.current;if(this.linkElement&&n?""!==t?i=n.updateLink(this.linkElement,e,t):n.unlink(this.linkElement):n&&(i=n.linkify(e,t)),i&&"string"==typeof i)return i;this.closePopover(),this.onDescriptionEdited()},this.state={editingDescription:!1,descriptionLength:0,linkUrl:"",linkText:""}}prepareNewLinkSelection(){const e=this.editableDescriptionRef.current;if(!e)return!1;const t=e.prepareLinkSelection();let i,n;return"string"==typeof t?(this.linkElement=null,i="",n=t):(this.linkElement=t,i=t.href,n=t.text),this.setState({linkUrl:i,linkText:n}),""!==n&&""===i}render(){const{locale:e}=this.context,{linkUrl:t,linkText:i,editingDescription:s,descriptionLength:r}=this.state,{label:o,linkEditorOpen:l,onNavigationKey:c,description:d}=this.props,u=`${r}/${te.Us}`,h=e.t(le.TITLE_PLACEHOLDER),p=e.t(le.DESCRIPTION_PLACEHOLDER);return(0,n.jsxs)("div",Object.assign({className:"editable-text-content"},{children:[(0,n.jsx)("div",Object.assign({className:"mattertag-label-editor"},{children:(0,n.jsx)(q.Z,{text:o,placeholder:h,onEdited:this.onLabelEdit,onInput:this.onLabelEdit,onKeyPress:this.onLabelKeyPress,maxLength:60,closeOnFocusOut:!0,textarea:!0,fractionalCounter:!0,onStartEditing:this.onLabelFocus})})),(0,n.jsx)("div",Object.assign({className:"editable-tag-description"},{children:(0,n.jsx)("div",Object.assign({className:a()("modifiable-text fractional-counter",{editing:s||l,empty:0===r}),"data-fractional-counter":u},{children:(0,n.jsx)(ae,{ref:this.editableDescriptionRef,maxLength:te.Us,descriptionLength:r,placeholder:p,description:d,updateLength:this.updateDescriptionLength,onFinalizeInput:this.onDescriptionEdited,onNavigationKey:c,onLinkClick:this.linkClicked,onFocus:this.onDescriptionFocus,onBlur:this.onDescriptionBlur})}))})),(0,n.jsx)(ee,{linkUrl:t,linkText:i,onCancel:this.closePopover,onSaveLink:this.onSaveLink,onRemoveLink:this.onRemoveLink})]}))}};ce.contextType=l.I,ce=oe([y.A],ce);var de=i(98940),ue=i(78283),he=i(59625),pe=i(46391),me=i(68647);const{MATTERTAGS:fe}=N.Z.WORKSHOP;class ge extends s.Component{constructor(e){super(e),this.sliderRef=(0,s.createRef)(),this.setStemValue=(e,t=!0)=>{const i=t?(0,ue._F)(e):e;if(i!==this.props.stemHeight){const{manager:e,sid:t,onEdited:n}=this.props;e.setStemHeight(t,i).then(n)}},this.onClickReset=()=>{const e=this.sliderRef.current;e&&(this.setStemValue(this.state.originalStemHeight,!1),e.setValue((0,ue.zy)(this.state.originalStemHeight)))},this.onToggleStemVisibility=()=>{const{manager:e,sid:t,stemVisible:i,onEdited:n}=this.props;e.setStemVisibility(t,!i).then(n)},this.stopPropagation=e=>{e.stopPropagation()},this.updateUnits=()=>{this.setState({units:this.context.settings.tryGetProperty(he.gx.Units,pe.M.IMPERIAL)})},this.formatStemHeight=e=>{if(this.state.units===pe.M.IMPERIAL)return(0,de.KQ)(e);return`${Math.round(100*(0,ue._F)(e))/100}m`},this.state={originalStemHeight:e.stemHeight,units:pe.M.IMPERIAL}}componentDidMount(){const e=this.sliderRef.current;e&&e.setValue((0,ue.zy)(this.props.stemHeight)),this.context.settings.onPropertyChanged(he.gx.Units,this.updateUnits),this.updateUnits()}componentWillUnmount(){this.context.settings.removeOnPropertyChanged(he.gx.Units,this.updateUnits)}render(){const{locale:e}=this.context,{stemVisible:t,stemHeight:i}=this.props,{originalStemHeight:s}=this.state,r=s!==i,o=e.t(fe.STEM_SLIDER_RESET_CTA),l=e.t(fe.SHOW_STEM_LABEL);return(0,n.jsxs)("div",Object.assign({className:"editable-popover stem-popover",onClick:this.stopPropagation},{children:[(0,n.jsx)(me.S,{ref:this.sliderRef,discrete:!1,min:0,max:9,initialValue:(0,ue.zy)(s),onInput:this.setStemValue,displayBounds:!0,width:150,formatNumbers:this.formatStemHeight,tooltipPosition:me.h.DOWN}),(0,n.jsx)("div",Object.assign({className:a()("link-btn","popover-btn","stem-slider-reset",{disabled:!r}),onClick:this.onClickReset},{children:o})),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",Object.assign({className:"stem-checkbox",onClick:this.onToggleStemVisibility},{children:[(0,n.jsx)("div",{className:a()("checkbox icon-checkmark",{checked:t})}),(0,n.jsx)("div",Object.assign({className:"checkbox-text"},{children:l}))]}))]}))}}ge.contextType=l.I;var ve=i(17364);const be=["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#03687d","#03a9f4","#00bcd4","#417505","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"];class ye extends s.Component{constructor(e){super(e),this.handleColorPicked=e=>{const{manager:t,sid:i,onEdited:n}=this.props;t.setColor(i,e).then(n)},this.stopPropagation=e=>{e.stopPropagation()}}render(){const{color:e}=this.props;return(0,n.jsx)("div",Object.assign({className:"editable-popover color-editor",onClick:this.stopPropagation},{children:(0,n.jsx)(ve.z,{colors:be,defaultColor:e,onColorPicked:this.handleColorPicked})}))}}const{MATTERTAGS:Ee}=N.Z.WORKSHOP;var Se;!function(e){e[e.NONE=0]="NONE",e[e.INVALID_URL_SYNTAX=1]="INVALID_URL_SYNTAX",e[e.LOADING=2]="LOADING",e[e.LOADED=3]="LOADED",e[e.ERROR=4]="ERROR"}(Se||(Se={}));class Te extends s.Component{constructor(e){super(e),this.isUnmounting=!1,this.onInput=e=>{const t=(0,Z.j)(e)?Se.NONE:Se.INVALID_URL_SYNTAX;this.setState({validationPhase:t,currentUrl:e})},this.onApply=()=>{this.applyDisabled||this.onChangeMedia(this.state.currentUrl)},this.stopPropagation=e=>{e.stopPropagation()},this.onChangeMedia=async e=>{const{sid:t,mediaSrc:i,onEdited:n,manager:s}=this.props;if(e!==i){const i=await this.loadMedia(e);if(i!==P.z.error){if(await s.setEmbed(t,e,i),this.isUnmounting)return;this.setState({validationPhase:Se.LOADED}),n()}else{if(this.isUnmounting)return;this.setState({validationPhase:Se.ERROR})}}else this.props.onCancel()},this.loadMedia=async e=>{let t=P.z.none;return this.setState({validationPhase:Se.NONE}),e&&(this.setState({validationPhase:Se.LOADING}),t=await this.props.embedlyValidator.getType(e)),t},this.state={currentUrl:e.mediaSrc,validationPhase:this.getInitialValidationPhase()}}componentWillUnmount(){this.isUnmounting=!0}getInitialValidationPhase(){return this.props.mediaType===P.z.error?Se.ERROR:this.props.mediaSrc?Se.LOADED:Se.NONE}UNSAFE_componentWillReceiveProps(e){this.props.mediaSrc!==e.mediaSrc&&this.setState({currentUrl:e.mediaSrc})}render(){const{locale:e}=this.context,{onCancel:t}=this.props,{currentUrl:i}=this.state,s=e.t(Ee.MEDIA_LINK_LABEL),r=e.t(Ee.MEDIA_LINK_SUPPORTED_FORMATS_LINK);return(0,n.jsxs)("div",Object.assign({className:"annotation-popup open media-editor",onClick:this.stopPropagation},{children:[(0,n.jsxs)("div",Object.assign({className:"popover-header"},{children:[(0,n.jsxs)("div",Object.assign({className:"popover-label"},{children:[s,(0,n.jsx)("a",Object.assign({className:"link",target:"_blank",href:Te.supportPage},{children:r}))]})),(0,n.jsx)(Q.P,{buttonStyle:Q.A.LIGHT,onClose:t})]})),(0,n.jsx)(X.Z,{text:i,type:"url",className:"text-field-dark",placeholder:"https://",onDone:this.onChangeMedia,onInput:this.onInput}),this.renderPopoverFooter()]}))}get applyDisabled(){const{mediaSrc:e}=this.props,{validationPhase:t,currentUrl:i}=this.state;return t===Se.ERROR||t===Se.LOADING||t===Se.INVALID_URL_SYNTAX&&""!==i||i===e&&""===i}renderPopoverFooter(){const{locale:e}=this.context,t=this.applyDisabled?$.BN.DIMMED:$.BN.ENABLED,i=e.t(Ee.MEDIA_LINK_APPLY_CTA);return(0,n.jsxs)("div",Object.assign({className:"popover-footer"},{children:[this.renderValidationMessage(),(0,n.jsx)($.zx,Object.assign({className:"button-inline",buttonStyle:$.ZJ.CLEAR,buttonSize:$.qE.SMALL,buttonState:t,onClick:this.onApply},{children:i}))]}))}renderValidationMessage(){const{locale:e}=this.context;switch(this.state.validationPhase){case Se.ERROR:return(0,n.jsxs)("div",Object.assign({className:"popover-message popover-message-error"},{children:[e.t(Ee.MEDIA_LINK_ERROR_MESSAGE),(0,n.jsx)("a",Object.assign({className:"link",target:"_blank",href:Te.supportPage},{children:e.t(Ee.MEDIA_LINK_HELP_LINK)}))]}));case Se.LOADING:return(0,n.jsx)("div",Object.assign({className:"popover-message"},{children:e.t(Ee.MEDIA_LINK_LOADING_MESSAGE)}));case Se.INVALID_URL_SYNTAX:if(""!==this.state.currentUrl)return(0,n.jsx)("div",Object.assign({className:"popover-message popover-message-error"},{children:e.t(Ee.MEDIA_LINK_INVALID_URL_MESSAGE)}))}return(0,n.jsx)("div",{className:"popover-message"})}}Te.contextType=l.I,Te.supportPage="https://support.matterport.com/hc/en-us/articles/115006363868-Add-Multimedia-to-a-Mattertag-Post";var Oe=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{MATTERTAGS:_e}=N.Z.WORKSHOP;var Ne;!function(e){e.COLOR="color",e.STEM="stem",e.MEDIA="media",e.LINK="text-link"}(Ne||(Ne={}));let Ae=class extends s.Component{constructor(e){super(e),this.textParser=new O.v({links:!0}),this.getColorStyle=()=>{const e=this.props.getSavedData().color;if(e)return{backgroundColor:e}},this.toggleVisibility=()=>{const{id:e,manager:t}=this.props;this.closePopover();const i=this.state.currentValues.visible;t.setVisibility(e,!i).then(this.onEdited)},this.onEdited=()=>{const e=this.props.getSavedData();e&&this.setState({currentValues:e,tagEmpty:this.props.manager.isTagEmpty(this.props.id)})},this.onMediaEdited=()=>{this.onEdited(),this.closePopover()},this.onMediaCancel=()=>{this.closePopover()},this.cancelEdits=()=>{this.props.manager.revertChanges()},this.doneEditing=()=>{const{manager:e,id:t}=this.props;e.saveMattertag(t)},this.onAddLinkClicked=e=>{if(e.stopPropagation(),this.state.popover===Ne.LINK)this.closePopover();else if(this.state.linkCount<5){const e=this.billboardText.prepareNewLinkSelection();this.openLinkEditor(e)}},this.onClickLink=()=>{this.openLinkEditor(!1)},this.onDescriptionInput=e=>{const t=this.props.getSavedData(),i=(0,S.Yv)(t.label)&&(0,S.Yv)(t.mediaSrc)&&e;this.updateLinkCount(this.props.description),this.setState({tagEmpty:i})},this.onNavigationKey=e=>{e.keyCode===E.R.ESCAPE&&this.cancelEdits()},this.billboardClick=e=>{e.stopPropagation();const{popover:t}=this.state;t===Ne.LINK||t===Ne.MEDIA||this.closePopover()},this.closePopover=()=>{const{popover:e}=this.state;null!==e&&this.setPopover(e,!1)},this.setBillboardTextRef=e=>{this.billboardText=e};const t=e.getSavedData();this.state={popover:null,linkCount:0,currentValues:Object.assign({},t),tagEmpty:e.manager.isTagEmpty(e.id)},this.clickColor=this.clickMenuIcon.bind(this,Ne.COLOR),this.clickStem=this.clickMenuIcon.bind(this,Ne.STEM),this.clickMedia=this.clickMenuIcon.bind(this,Ne.MEDIA)}componentDidMount(){this.context.analytics.trackToolGuiEvent("mattertags","mattertag_editor_opened"),this.updateLinkCount(this.props.description)}componentDidUpdate(e,t){const i=this.props.manager.dataMap.mattertagsViewData.toolState;t.tagEmpty&&!this.state.tagEmpty&&i===u.rI.PLACED&&this.props.manager.dataMap.mattertagsViewData.setToolState(u.rI.EDITING),this.updateLinkCount(this.props.description)}setPopover(e,t){const i=this.state.popover,n=t?e:null;i!==n&&i===Ne.LINK&&this.context.messageBus.broadcast(new I),this.setState({popover:n})}openLinkEditor(e){this.setPopover(Ne.LINK,!0),this.context.messageBus.broadcast(new w(e))}updateLinkCount(e){let t=0;const i=this.textParser.parse(e);for(const e of i)e.blockType===T.C.LINK&&t++;this.setState({linkCount:t})}clickMenuIcon(e,t){t.stopPropagation(),this.setPopover(e,this.state.popover!==e)}render(){const{locale:e}=this.context,{tagEmpty:t,popover:i}=this.state,s=null!==i,r=i===Ne.LINK||i===Ne.MEDIA,o=e.t(_e.EDIT_BILLBOARD_CANCEL_CTA),l=e.t(_e.EDIT_BILLBOARD_DONE_CTA);return(0,n.jsxs)("div",Object.assign({className:a()("editable-billboard-body",{"popover-open":s,"url-popover-open":r}),onClick:this.billboardClick},{children:[(0,n.jsxs)("div",Object.assign({className:"editable-billboard-content",onClick:this.billboardClick},{children:[this.renderTextContent(),this.renderMattertagMedia(),this.renderActivePopover()]})),(0,n.jsxs)("div",Object.assign({className:"billboard-footer",onClick:this.billboardClick},{children:[this.renderMenuItems(),(0,n.jsxs)("div",Object.assign({className:"billboard-cta"},{children:[(0,n.jsx)($.zx,Object.assign({buttonStyle:$.ZJ.CLEAR,buttonSize:$.qE.SMALL,className:"button-inline",onClick:this.cancelEdits},{children:o})),(0,n.jsx)($.zx,Object.assign({className:"button-inline",buttonStyle:$.ZJ.CLEAR,buttonSize:$.qE.SMALL,buttonState:t?$.BN.DISABLED:$.BN.ENABLED,onClick:this.doneEditing},{children:l}))]}))]}))]}))}renderActivePopover(){const{id:e,manager:t}=this.props,{popover:i,currentValues:s}=this.state,{stemVisible:r,stemHeight:a,color:o,mediaSrc:l,mediaType:c}=s;switch(i){case Ne.STEM:return(0,n.jsx)(ge,{sid:e,stemVisible:r,stemHeight:a,onEdited:this.onEdited,manager:t});case Ne.COLOR:return(0,n.jsx)(ye,{sid:e,color:o,onEdited:this.onEdited,manager:t});case Ne.MEDIA:return(0,n.jsx)(Te,{sid:e,mediaSrc:l,mediaType:c,embedlyValidator:this.props.embedlyValidator,onEdited:this.onMediaEdited,onCancel:this.onMediaCancel,manager:t});default:return null}}renderMenuItems(){const{locale:e}=this.context,{manager:t,id:i,fullSized:s}=this.props,{popover:r,currentValues:o,linkCount:l}=this.state,{visible:c}=o,d=t.isNewTag(i),u=r===Ne.COLOR,h=r===Ne.STEM,p=r===Ne.MEDIA,m=r===Ne.LINK,f=l<5,g=e.t(f?_e.LINK_TOOLTIP_MESSAGE:_e.LINK_DISABLED_TOOLTIP_MESSAGE),v=s?_.lZ.UP:_.lZ.DOWN,b=m?$.BN.ACTIVE:f?$.BN.ENABLED:$.BN.DIMMED;return(0,n.jsxs)("div",Object.assign({className:"billboard-menu"},{children:[(0,n.jsx)(Y.hU,{iconClass:"icon-link",className:a()("billboard-menu-item","add-link"),buttonState:b,buttonStyle:Y.Dd.CLEAR,onClick:this.onAddLinkClicked,tooltipMsg:m?void 0:g,tooltipPosition:v}),(0,n.jsx)(Y.hU,Object.assign({className:a()("billboard-menu-item","color"),buttonStyle:Y.Dd.CLEAR,buttonState:u?$.BN.ACTIVE:$.BN.ENABLED,onClick:this.clickColor,tooltipMsg:u?void 0:e.t(_e.COLOR_TOOLTIP_MESSAGE),tooltipPosition:v},{children:(0,n.jsx)("span",{className:"color-dot",style:this.getColorStyle()})})),(0,n.jsx)(Y.hU,{iconClass:"icon-stem-height",className:a()("billboard-menu-item","stem"),buttonStyle:Y.Dd.CLEAR,buttonState:h?$.BN.ACTIVE:$.BN.ENABLED,onClick:this.clickStem,tooltipMsg:h?void 0:e.t(_e.STEM_TOOLTIP_MESSAGE),tooltipPosition:v}),(0,n.jsx)(Y.hU,{iconClass:"icon-media-mix",className:a()("billboard-menu-item","media"),buttonStyle:Y.Dd.CLEAR,buttonState:p?$.BN.ACTIVE:$.BN.ENABLED,onClick:this.clickMedia,tooltipMsg:p?void 0:e.t(_e.MEDIA_TOOLTIP_MESSAGE),tooltipPosition:v}),!d&&(0,n.jsx)(Y.hU,{iconClass:c?"icon-eye-hide":"icon-eye-show",className:"billboard-menu-item",buttonStyle:Y.Dd.CLEAR,onClick:this.toggleVisibility,tooltipMsg:e.t(c?_e.HIDE_TOOLTIP_MESSAGE:_e.SHOW_TOOLTIP_MESSAGE),tooltipPosition:v})]}))}renderTextContent(){const{popover:e}=this.state,{id:t,label:i,description:s,manager:r}=this.props,a=e===Ne.LINK;return(0,n.jsx)(ce,{id:t,ref:this.setBillboardTextRef,label:i,description:s,linkEditorOpen:a,onClickLink:this.onClickLink,onClosePopover:this.closePopover,onDescriptionInput:this.onDescriptionInput,onNavigationKey:this.onNavigationKey,onEdited:this.onEdited,manager:r})}renderMattertagMedia(){const{id:e,mediaType:t,closing:i,media:{hasMedia:s,mediaPayload:r},mediaAspectRatio:a}=this.props;return s?r?(0,n.jsx)(K,{mediaPayload:r,mediaType:t,mediaAspectRatio:a,closing:i},e):(0,n.jsx)("div",Object.assign({className:"loadingSpinner"},{children:(0,n.jsx)("div",{className:"gui-spinner-icon"})})):null}};Ae.contextType=l.I,Ae=Oe([y.Z],Ae);var we=i(37262);class Ie extends s.Component{constructor(e){super(e),this.mouseThroughElementRef=(0,s.createRef)(),this.eventsToSend={[Ie.SendEvent.HOVER]:!1,[Ie.SendEvent.CLICK]:!1,[Ie.SendEvent.BUTTON]:!1},this.onHoverEvent=e=>{switch(e.type){case"mousemove":this.props.onMouseMove&&this.props.onMouseMove(e);break;case"mouseenter":this.props.onMouseEnter&&this.props.onMouseEnter(e);break;case"mouseleave":this.props.onMouseLeave&&this.props.onMouseLeave(e);break;case"pointermove":this.props.onMouseMove&&this.props.onMouseMove(e);break;case"pointerenter":this.props.onMouseEnter&&this.props.onMouseEnter(e);break;case"pointerleave":this.props.onMouseLeave&&this.props.onMouseLeave(e)}this.eventsToSend[Ie.SendEvent.HOVER]&&this.isValidTarget(e.target)&&this.sendEventThrough(e.type,e)},this.isValidTarget=e=>{const t=this.mouseThroughElementRef.current;return!!t&&(e===t||this.props.includeChildrenEvents&&e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINS)},this.onClick=e=>{this.props.onClick&&this.props.onClick(e),this.eventsToSend[Ie.SendEvent.CLICK]&&this.isValidTarget(e.target)&&(this.sendEventThrough("mousedown",e),window.setTimeout((()=>this.sendEventThrough("mouseup",e)),0))},this.onButtonEvent=e=>{switch(e.type){case"pointerdown":this.props.onPointerDown&&this.props.onPointerDown(e);break;case"pointerup":this.props.onPointerUp&&this.props.onPointerUp(e)}this.eventsToSend[Ie.SendEvent.BUTTON]&&this.isValidTarget(e.target)&&this.sendEventThrough(e.type,e)},this.onClick=this.onClick.bind(this),this.registerEvents()}get target(){return this.props.clickTarget||this.context.mainDiv.querySelector("canvas")}UNSAFE_componentWillReceiveProps(e){(0,we.NK)(this.props.sendEvents,e.sendEvents)&&this.registerEvents()}render(){return(0,n.jsx)("div",Object.assign({id:this.props.id,ref:this.mouseThroughElementRef,className:this.props.className,style:this.props.style||{},onMouseEnter:this.onHoverEvent,onMouseLeave:this.onHoverEvent,onMouseMove:this.onHoverEvent,onPointerEnter:this.onHoverEvent,onPointerLeave:this.onHoverEvent,onPointerMove:this.onHoverEvent,onMouseDown:this.onButtonEvent,onMouseUp:this.onButtonEvent,onPointerDown:this.onButtonEvent,onPointerUp:this.onButtonEvent,onClick:this.onClick},{children:this.props.children}))}registerEvents(){this.props.sendEvents.length&&(this.eventsToSend[Ie.SendEvent.CLICK]=this.props.sendEvents.indexOf(Ie.SendEvent.CLICK)>-1,this.eventsToSend[Ie.SendEvent.HOVER]=this.props.sendEvents.indexOf(Ie.SendEvent.HOVER)>-1,this.eventsToSend[Ie.SendEvent.BUTTON]=this.props.sendEvents.indexOf(Ie.SendEvent.BUTTON)>-1)}sendEventThrough(e,t){var i;const n=t.nativeEvent;let s;try{s=window.PointerEvent?new PointerEvent(e,n):new MouseEvent(e,n)}catch(t){s=document.createEvent("MouseEvents");const i=n.view;if(!i)return;s.initMouseEvent(e,n.bubbles,n.cancelable,i,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}null===(i=this.target)||void 0===i||i.dispatchEvent(s)}}Ie.contextType=l.I,function(e){let t;!function(e){e[e.HOVER=1]="HOVER",e[e.CLICK=2]="CLICK",e[e.BUTTON=3]="BUTTON"}(t=e.SendEvent||(e.SendEvent={}))}(Ie||(Ie={}));var ke=i(49947),Pe=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let Le=class extends s.Component{constructor(e){super(e),this.formatLink=(e,t)=>Ce(e,t,!1),this.linkClicked=e=>t=>{t.preventDefault(),this.props.onLinkClick(e);const{link:i}=e;if(void 0===i)return;switch(i.type){case ke.U.NAVIGATION:i.navigationData&&this.props.linkHandler.handler.openLink({pose:i.navigationData,fullLink:i.url});break;case ke.U.MODEL:try{const e=new URL(i.url);this.props.linkHandler.handler.openLink({modelId:e.searchParams.get("m")||"",fullLink:i.url})}catch(e){}break;case ke.U.EXT_LINK:this.context.messageBus.broadcast(new p.Ik(i.url)),this.props.linkHandler.handler.openLink(i.url)}}}render(){const{description:e,parsedDescription:t}=this.props;let i=e;return t&&t.length>0&&(i=Re(t,this.formatLink,this.linkClicked)),i?(0,n.jsx)("div",Object.assign({className:"tag-description"},{children:i})):null}};Le.contextType=l.I,Le=Pe([y.Z],Le);const Ce=(e,t,i)=>{if(!e.link)return null;const s=e.link,r=s.type===ke.U.NAVIGATION?"Link to position within this model":"Link to external web site";return(0,n.jsxs)("a",Object.assign({className:"link-url",contentEditable:i,href:s.url,onClick:t(e)},{children:[s.label,(0,n.jsx)("i",{className:"icon-ext-link",title:r})]}),s.label)},Re=(e,t,i)=>e.map((e=>{switch(e.type){case P.z.link:if(e.link)return t(e,i);case P.z.text:return(e.text||"").replace("&zwnj;","")}return null})),De=310;var Me=i(51110),xe=i(8659),je=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let Ue=class extends s.Component{constructor(e){super(e),this.scrollbarsRef=(0,s.createRef)(),this.state={height:null,descriptionHeight:0,scrollable:!1,determiningScrollability:!1,scrollClass:xe.Ij.None},this.onScrollPositionChange=()=>{const e=this.scrollbarsRef.current;if(!e||this.state.determiningScrollability)return;const t=e.scrollPosition.vertical;this.setState({scrollClass:t})}}UNSAFE_componentWillReceiveProps(e){e.tagWidth!==this.props.tagWidth&&this.setState({height:null,scrollable:!0,determiningScrollability:!0})}componentDidMount(){this.determineScrollability()}componentDidUpdate(){this.state.determiningScrollability&&this.determineScrollability()}determineScrollability(){const e=this.textContainer&&this.textContainer.querySelector(".tag-description");let t={determiningScrollability:!1};if(this.props.description&&e){const i=this.props.mediaTag?65:159;if(e.scrollHeight>i+12){const e=this.textContainer&&this.textContainer.querySelector(".tag-label"),n=this.props.label?i+e.scrollHeight-5:i;t=Object.assign(Object.assign({},t),{height:n,scrollable:!0,scrollClass:xe.Ij.Beginning})}else t=Object.assign(Object.assign({},t),{height:null,scrollable:!1,scrollClass:xe.Ij.None})}this.setState(t)}render(){const{label:e,description:t,parsedDescription:i,onLinkClick:s}=this.props;if(e||t||i){const r=a()({"tag-text-content":!0,noScroll:!this.state.height||!this.state.scrollable,[this.state.scrollClass]:!0});return(0,n.jsx)("div",Object.assign({className:r,style:{height:this.state.scrollable&&this.state.height||"auto"},ref:e=>{this.textContainer=e}},{children:(0,n.jsxs)(Me.Z,Object.assign({name:"mattertag-text-content",forceHidden:!1,waitToUpdate:this.state.determiningScrollability,singleScrollDirection:xe.Nm.vertical,ref:this.scrollbarsRef,onScrollPositionChange:this.onScrollPositionChange},{children:[e&&(0,n.jsx)("div",Object.assign({className:"tag-label",onClick:this.onBoundClick},{children:(0,n.jsx)("span",{children:e})})),(0,n.jsx)(Le,{description:t,parsedDescription:i,onLinkClick:s,linkHandler:this.props.linkHandler})]}))}))}return null}};Ue=je([y.Z],Ue);const He=Ue;class Fe extends s.Component{constructor(){super(...arguments),this.elementRef=(0,s.createRef)()}shouldComponentUpdate(){return!1}componentDidMount(){const e=this.elementRef.current;e&&this.props.widget.frame.mount(e)}componentWillUnmount(){this.elementRef.current&&this.props.widget.frame.unmount()}render(){const{width:e,height:t}=this.props.widget.size,i={};return e&&t&&(i.width=e+"px",i.height=t+"px"),(0,n.jsx)("div",{className:"custom-widget-container",style:i,ref:this.elementRef})}}var Be=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let Ve=class extends s.Component{constructor(e){super(e),this.clickBillboard=()=>{this.props.onClickBillboard()},this.onClickImage=()=>{this.props.allowTagOverlay?this.props.onOpenOverlay():this.props.onClickBillboard()}}render(){const{media:e,style:t,selected:i,allowTagOverlay:s,label:r,description:o,parsedDescription:l}=this.props;return(0,n.jsxs)("div",Object.assign({className:a()("billboard-body",{expandable:s}),onClick:this.clickBillboard},{children:[(0,n.jsxs)("div",Object.assign({className:"billboard-content",style:t.bodyStyle},{children:[(0,n.jsx)(He,{label:r,description:o,parsedDescription:l,tagWidth:t.width,imgHeight:t.height,mediaTag:e.hasMedia,onLinkClick:this.props.onLinkClick,linkHandler:this.props.linkHandler}),this.renderMattertagMedia(),this.renderCustomWidget()]})),!i&&(0,n.jsx)(Ie,{sendEvents:[Ie.SendEvent.BUTTON],className:"hover-arrow"})]}))}renderMattertagMedia(){const{id:e,allowTagOverlay:t,mediaType:i,style:{width:s,height:r,closing:a},media:{hasMedia:o,mediaPayload:l}}=this.props;return o?l?(0,n.jsx)(K,{mediaPayload:l,mediaType:i,width:s,height:r,onClickImage:t?this.onClickImage:void 0,closing:a},e):(0,n.jsx)("div",Object.assign({className:"loadingSpinner"},{children:(0,n.jsx)("div",{className:"gui-spinner-icon"})})):null}renderCustomWidget(){if(this.props.customWidget)return(0,n.jsx)(Fe,{widget:this.props.customWidget})}};Ve=Be([y.A],Ve);var Ge=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let We=class extends s.Component{constructor(e){super(e),this.scrollbarsRef=(0,s.createRef)(),this.toggleCollapseText=()=>{this.setState((e=>({collapsed:!e.collapsed})))},this.onScrollPositionChange=()=>{const e=this.scrollbarsRef.current;if(!e||this.state.determiningScrollability)return;const t=e.scrollPosition.vertical;this.setState({scrollClass:t})},this.updateScrollAndCollapse=()=>{const e=this.textContainer?this.textContainer.scrollHeight:0,t=this.textContainer&&this.textContainer.querySelector(".tag-description");let i={determiningScrollability:!1};if(e){const n=Math.max(e-41-this.state.overlayHeight,0),s=n>0,r=e-n,a=t&&t.scrollHeight-n,o=s?xe.Ij.Beginning:xe.Ij.None,l=t&&e>41;i=Object.assign(Object.assign({},i),{height:r,scrollable:s,descriptionHeight:a,scrollClass:o,collapsible:l})}this.setState(i)},this.updateOverlayDimensions=()=>{const{label:e,description:t,maxWidth:i,maxHeight:n,mediaAspectRatio:s}=this.props,r=i-24,a=n-24-(e||t?41:0),o=s<r/a;this.setState({overlayWidth:o?a*s:r,overlayHeight:o?a:r/s})},this.stopPropagation=e=>{e.stopPropagation()},this.state={overlayWidth:0,overlayHeight:0,collapsible:!!(e.description&&e.description.length>0),collapsed:!1,height:null,descriptionHeight:0,scrollable:!1,determiningScrollability:!1,scrollClass:xe.Ij.None}}componentDidMount(){this.updateOverlayDimensions(),this.updateScrollAndCollapse()}componentDidUpdate(e,t){const i=e.mediaAspectRatio!==this.props.mediaAspectRatio,n=e.maxWidth!==this.props.maxWidth,s=e.maxHeight!==this.props.maxHeight;(i||n||s)&&(this.setState({determiningScrollability:!0,scrollable:!1,scrollClass:xe.Ij.None,height:0}),window.requestAnimationFrame((()=>{this.updateOverlayDimensions(),this.updateScrollAndCollapse()})))}render(){const{mediaPayload:e,mediaType:t,closing:i}=this.props,{overlayWidth:s,overlayHeight:r,collapsible:o}=this.state;return(0,n.jsx)("div",Object.assign({className:"billboard-body",onClick:this.stopPropagation},{children:(0,n.jsxs)("div",Object.assign({className:a()("billboard-content",{collapsible:o})},{children:[this.renderOverlayText(),(0,n.jsx)(K,{mediaPayload:e,mediaType:t,width:s,height:r,closing:i})]}))}))}renderOverlayText(){const{label:e,description:t,parsedDescription:i,onLinkClick:s,closeImageOverlay:r}=this.props,{collapsible:o,collapsed:l,descriptionHeight:c,scrollable:d,height:u,determiningScrollability:h,scrollClass:p}=this.state,m=h||l?void 0:{maxHeight:u+"px"},f={};return t&&u&&d&&(f.height=c+"px",f.overflow="hidden"),(0,n.jsxs)("div",Object.assign({className:a()("tag-text-content",{collapsed:l,noScroll:!u||!d}),style:m,ref:e=>{this.textContainer=e}},{children:[e&&(0,n.jsx)("div",Object.assign({className:"tag-label",onClick:this.toggleCollapseText},{children:(0,n.jsx)("div",Object.assign({className:"labelText"},{children:e}))})),t&&(0,n.jsx)("div",Object.assign({style:f,className:a()(p,"wrappedDesc")},{children:(0,n.jsx)(Me.Z,Object.assign({name:"mattertag-overlay-text",forceHidden:!1,waitToUpdate:h,singleScrollDirection:xe.Nm.vertical,ref:this.scrollbarsRef,onScrollPositionChange:this.onScrollPositionChange},{children:(0,n.jsx)("div",{children:(0,n.jsx)(Le,{description:t,parsedDescription:i,onLinkClick:s,linkHandler:this.props.linkHandler})})}))})),(0,n.jsxs)("div",Object.assign({className:"buttons"},{children:[o&&(0,n.jsx)(Y.hU,{className:a()("tag-button","tag-collapse-button"),iconClass:"icon-dpad-down",onClick:this.toggleCollapseText}),(0,n.jsx)(Y.hU,{className:"tag-button",iconClass:"icon-close",onClick:r})]}))]}))}};We.contextType=l.I,We=Ge([y.Z],We);const ze=We;var Ke=i(40964),Ye=i(44523);class $e extends s.Component{constructor(e){super(e),this.adjustSizing=(e=this.props,t=!0)=>{const i=qe(e.editing,e.containerSize);i!==this.state.fullSized&&(this.context.messageBus.broadcast(new Ke.Zi(i)),t&&this.setState({fullSized:i}))},this.state={fullSized:!1}}componentDidMount(){this.adjustSizing(this.props)}componentDidUpdate(){this.adjustSizing(this.props)}render(){const e=a()({"full-size-on-small-screens":this.state.fullSized,"floating-on-normal-screens":!this.state.fullSized});return(0,n.jsx)("div",Object.assign({className:e},{children:this.props.children}))}componentWillUnmount(){this.adjustSizing({editing:!1,containerSize:{width:0,height:0}},!1)}}function qe(e,t){return e&&(t.width<=700||t.height<=600)}$e.contextType=l.I;const Ze=(0,Ye.P)($e);var Qe,Xe=i(2367),Je=i(86667),et=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const tt=new R.Z("billboard");var it;!function(e){e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.FAILED=3]="FAILED",e[e.ENABLED=4]="ENABLED"}(it||(it={}));let nt=Qe=class extends s.Component{constructor(e,t){super(e,t),this.linkCount=0,this.linksClicked=[],this.isUnmounting=!1,this.linkEditorOpened=()=>this.setState({expanded:!0}),this.linkEditorClosed=()=>this.setState({expanded:!1}),this.getSavedData=()=>{const{label:e,description:t,mediaSrc:i,mediaType:n,stemVisible:s,enabled:r}=this.props.tag,{stemHeight:a,color:o}=this.props.view;return{visible:r,color:o,label:e,description:t,stemHeight:a,mediaSrc:i,mediaType:n,stemVisible:s}},this.updateBillboardSize=()=>{const{mediaWidth:e,mediaHeight:t}=this.state,{tag:i}=this.props;if(i.mediaType===P.z.photo||i.mediaType===P.z.rich||i.mediaType===P.z.video){const n=this.getDimensionsForMedia(i.mediaType,e,t);this.setState(Object.assign({},n))}},this.closeImageOverlay=()=>{const{overlay:e,toggleImageOverlay:t,tag:i}=this.props;e&&t(i.sid,!1)},this.onOpenOverlay=()=>{const{toggleImageOverlay:e,allowTagOverlay:t,tag:i}=this.props;t&&e(i.sid,!0)},this.onBillboardClicked=()=>{const{manager:e,toolOpen:t,tag:i,selected:n}=this.props;t&&e&&!n&&e.selectMattertag(i.sid)},this.setBillboardRef=e=>{this.billboardRef=e},this.updateTagDirection=()=>{const{direction:e}=this.state,{getTagContainer:t,tag:i}=this.props,{navigating:n,navigatingPosition:s,position:r,onTagDirectionChanged:a}=this.props.view,o=t();if(!o)return;const[l,c]=[o.offsetWidth,o.offsetHeight];let d;d=n&&s?Qe.getTagDirection(s.x,s.y,l,c):r?Qe.getTagDirection(r.x,r.y,l,c):Qe.getTagDirection(0,0,l,c),d!==e&&(a(i.sid,d),this.setState({direction:d}))},this.onLinkClick=e=>{if(void 0===e.link)return;-1===this.linksClicked.indexOf(e.link)&&this.linksClicked.push(e.link);const t=e.link.type;this.linkCount++,this.context.analytics.track("click_mattertag_link",{link_type:t,link_count:this.linkCount,links_clicked:this.linksClicked.length})};const i=this.getDimensionsForMedia(e.tag.mediaType,1024,1024),n=t.settings.getProperty(te.lc);this.embedly=new B(n,t.queue),this.state={width:i.width,height:190,expanded:!1,mediaWidth:0,mediaHeight:0,mediaPayload:null,landscape:!1,active:!1,mediaLoadingState:e.mediaEnabled?it.NOT_LOADED:it.ENABLED,savedData:this.getSavedData(),direction:void 0};const s=e.tag,r=new ie.gm((()=>({})),(e=>{s.onPropertyChanged("mediaSrc",e),s.onPropertyChanged("mediaType",e)}),(e=>{s.removeOnPropertyChanged("mediaSrc",e),s.removeOnPropertyChanged("mediaType",e)}));this.tagOnChangedSub=r.createSubscription((()=>{this.loadMedia(!0)}),!1)}componentDidMount(){const{view:e,manager:t}=this.props;this.updateTagDirection(),this.loadMedia(),!e.located||e.navigating&&!e.navigatingPosition||this.setState({active:!0}),this.context.market.waitForData(Xe.V).then((e=>{this.isUnmounting||(this.resizeSub=e.onPropertyChanged("size",this.updateBillboardSize))})),t&&(this.context.messageBus.subscribe(w,this.linkEditorOpened),this.context.messageBus.subscribe(I,this.linkEditorClosed)),this.tagOnChangedSub.renew()}componentWillUnmount(){var e;this.isUnmounting=!0,this.tagOnChangedSub.cancel(),null===(e=this.resizeSub)||void 0===e||e.cancel(),this.props.manager&&(this.context.messageBus.unsubscribe(w,this.linkEditorOpened),this.context.messageBus.unsubscribe(I,this.linkEditorClosed))}componentDidUpdate(e,t){const{manager:i,editing:n,tag:s,view:r,overlay:a}=this.props,{active:o}=this.state;if(i===e.manager||e.manager||(this.context.messageBus.subscribe(w,this.linkEditorOpened),this.context.messageBus.subscribe(I,this.linkEditorClosed)),n===e.editing&&a===e.overlay||this.updateBillboardSize(),r.closeTheTag||s&&s.mediaSrc!==e.tag.mediaSrc&&this.loadMedia(!0),o||e.view.navigatingPosition===r.navigatingPosition||this.updateTagDirection(),r.closeTheTag)o&&this.setState({active:!1});else if(o||!r.located||r.navigating&&!r.navigatingPosition||this.setState({active:!0}),n&&(!e.editing||null===this.state.savedData)){const e=this.getSavedData();e&&this.setState({savedData:e})}}loadMedia(e=!1){const{mediaType:t,mediaSrc:i}=this.props.tag,{mediaLoadingState:n}=this.state;if(Qe.isMediaTag(t)&&(e||![it.LOADING,it.FAILED,it.ENABLED].includes(n)))return this.setState({mediaLoadingState:it.LOADING}),this.embedly.getMediaDetails(t,i).then((e=>{if(e&&this.billboardRef){const i=this.getDimensionsForMedia(t,e.width,e.height);this.setState(Object.assign(Object.assign({},i),{mediaWidth:e.width,mediaHeight:e.height,mediaPayload:e.embedlyResponse,mediaLoadingState:it.LOADED}))}})).catch((e=>{if(tt.debug(e),this.billboardRef){const e=this.getDimensionsForMedia(P.z.text,1024,1024);this.setState(Object.assign(Object.assign({},e),{mediaLoadingState:it.FAILED}))}}))}getDimensionsForMedia(e,t,i){if(e===P.z.text||e===P.z.none||e===P.z.error)return{width:298,height:0,landscape:!1};const{getTagContainer:n,editing:s,overlay:r}=this.props;let a=t,o=i;const l=Math.max(t,1)/Math.max(i,1),c=n();if(c)if(r)a=c.offsetWidth,o=c.offsetHeight;else{const i=e===P.z.photo;let n;n=s?i?150:340:80;const r=c.offsetWidth-100,d=c.offsetHeight-n;a=i?l>1?Math.max(Math.min(t,400,r),De):Math.max(Math.min(t,300),200):Math.max(Math.min(t,350,r),De),o=a/l,o>d&&(o=d,a=o*l)}return{width:a,height:o,landscape:l>1}}render(){const{overlay:e,editing:t,view:i,tag:s}=this.props,{closeTheTag:r}=i,{sid:o,mediaType:l,label:c,description:d}=s,{landscape:u,mediaLoadingState:h,active:p,direction:m,expanded:f}=this.state,g=Qe.isMediaTag(l)&&h!==it.FAILED&&h!==it.ENABLED,v=h===it.LOADING&&l===P.z.photo,b=t||e?void 0:this.getTagPositionStyle(),y=t||e||!m?void 0:"tag"+m.trim().replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase();const E=this.isImageTag(),S=g&&l===P.z.video,T=g&&(l===P.z.rich||v),O=S||T||E,_=c.length>0||d.length>0;return(0,n.jsx)(Ze,Object.assign({editing:t},{children:(0,n.jsx)("div",Object.assign({className:a()("tag-position",{"billboard-standard-view":!t&&!e,"billboard-overlay":e,"billboard-editing":t,"media-only-mattertag":!_&&O,"media-mattertag":O,"video-mattertag":S,"embed-mattertag":T,"image-mattertag":E,"link-popover-expanded":f}),style:b},{children:(0,n.jsx)("div",Object.assign({className:a()("tag-wrapper",{active:!r&&p})},{children:(0,n.jsx)("div",Object.assign({ref:this.setBillboardRef,className:a()("tag-container",[y],{"media-landscape":O&&u,"media-portrait":O&&!u}),onClick:this.closeImageOverlay},{children:this.renderBillboard(g)}))}))}),o)}))}renderBillboard(e){const{mediaPayload:t,width:i,height:s,savedData:r,mediaWidth:a,mediaHeight:o}=this.state,{overlay:l,selected:c,view:d,tag:u,allowTagOverlay:h}=this.props,p=o>0?a/o:void 0;if(l&&p){const{label:e,description:r,parsedDescription:a,mediaType:o}=u;return(0,n.jsx)(ze,{label:e,description:r,parsedDescription:a,mediaPayload:t,mediaType:o,maxWidth:i,maxHeight:s,mediaAspectRatio:p,closing:d.closeTheTag,closeImageOverlay:this.closeImageOverlay,onLinkClick:this.onLinkClick,linkHandler:this.props.linkHandler})}{const{sid:a}=u,o={mediaPayload:t,hasMedia:e},l=e&&!t?{width:i+"px"}:{},{editing:m,manager:f}=this.props;if(m&&f){const e=qe(m,(0,Je.O)(this.context));return(0,n.jsx)(Ae,{id:a,getSavedData:this.getSavedData,manager:f,fullSized:e,mediaAspectRatio:p,media:o,mediaType:u.mediaType,closing:d.closeTheTag,label:u.label,description:u.description,originalValues:r,embedlyValidator:this.embedly})}{const e={width:i,height:s,bodyStyle:l,closing:d.closeTheTag};return(0,n.jsx)(Ve,{id:a,allowTagOverlay:h,selected:c,style:e,onClickBillboard:this.onBillboardClicked,onOpenOverlay:this.onOpenOverlay,onLinkClick:this.onLinkClick,linkHandler:this.props.linkHandler,media:o,mediaType:u.mediaType,mediaSrc:u.mediaSrc,label:u.label,parsedDescription:u.parsedDescription,description:u.description,customWidget:u.widgetFrame})}}}isImageTag(){const{tag:e}=this.props;return this.state.mediaLoadingState!==it.FAILED&&this.state.mediaLoadingState!==it.ENABLED&&e.mediaType===P.z.photo}static getTagDirection(e,t,i,n){const s=.2,r=1-(e+1)/i*2,a=1-(t+1)/n*2,o=a<-.2?0:a<s?1:2,l=r<-.2?2:r<s?1:0,c=Math.max(e,i-e);let d;return d=0===l?1===o?u.Pg.RIGHT:0===o?u.Pg.RIGHT_UP:u.Pg.RIGHT_DOWN:2===l?1===o?u.Pg.LEFT:0===o?u.Pg.LEFT_UP:u.Pg.LEFT_DOWN:1===o&&c>De?r<0?u.Pg.RIGHT:u.Pg.LEFT:2===o?u.Pg.DOWN:u.Pg.UP,tt.debug(`Selected ${d} for [${e}, ${t}] in ${i}x${n} (${l}, ${o})`),d}getTagPositionStyle(){const{view:e}=this.props;if(e.located){const{position:t}=e;return{transform:`translate(${t?t.x:0}px, ${t?t.y:0}px)`}}return{pointerEvents:"none",visibility:"hidden"}}static isMediaTag(e){return e===P.z.photo||e===P.z.video||e===P.z.rich}};nt.contextType=l.I,nt=Qe=et([y.Z],nt);nt.getTagDirection;class st extends s.Component{constructor(e){super(e),this.tagsRootRef=(0,s.createRef)(),this.bindings=[],this.isUnmounting=!1,this.onUpdateSelectedTag=()=>{if(!this.isUnmounting){const{selectedTag:e,overlay:t}=this.state,i=this.mattertagsViewData.selectedTag;i!==e&&(t&&e&&this.toggleImageOverlay(e,!1),this.setState({selectedTag:i}))}},this.onUpdateToolState=()=>!this.isUnmounting&&this.setState({toolState:this.mattertagsViewData.toolState}),this.onUpdateScreenPosition=()=>!this.isUnmounting&&this.setState({screenPosition:this.mattertagsViewData.screenPosition}),this.onUpdateProgress=()=>!this.isUnmounting&&this.setState({creationProgress:this.mattertagsViewData.progress}),this.onUpdateBillboards=()=>!this.isUnmounting&&this.setState({billboards:this.mattertagsViewData.activeBillboards.keys}),this.toggleImageOverlay=async(e,t)=>{if(!this.isUnmounting&&(this.props.allowTagOverlay||!t))if(this.setState({overlay:t}),this.context.commandBinder.issueCommand(new b.Bz(f.P.MATTERTAG_PHOTO,t)),t){this.context.messageBus.broadcast(new p.dJ(e,h.V.OVERLAY));const t=e!==this.state.selectedTag?d.n.Interpolate:d.n.Instant,i=this.mattertagsData.getTag(e);this.context.commandBinder.issueCommand(new g.Y(i.sid,t))}else this.closeBillboard(e)},this.getTagContainer=()=>this.tagsRootRef.current,this.state={billboards:[],selectedTag:null,overlay:!1,toolState:u.rI.CLOSED,creationProgress:0,screenPosition:null}}componentDidMount(){const e=this.context.market;Promise.all([e.waitForData(m.n),e.waitForData(u.P5),this.context.engine.getModuleBySymbol(o.y.DEEP_LINKS)]).then((([e,t,i])=>{this.init(e,t,i)}))}init(e,t,i){this.isUnmounting||(this.mattertagsData=e,this.mattertagsViewData=t,this.linkHandler=i,this.bindings.push(this.mattertagsViewData.onSelectedTagChanged(this.onUpdateSelectedTag),this.mattertagsViewData.onChanged(this.onUpdateBillboards),this.mattertagsViewData.onToolStateChanged(this.onUpdateToolState)),this.context.editMode&&this.bindings.push(this.mattertagsViewData.onScreenPositionChanged(this.onUpdateScreenPosition),this.mattertagsViewData.onProgressChanged(this.onUpdateProgress)),this.setState({selectedTag:this.mattertagsViewData.selectedTag,toolState:this.mattertagsViewData.toolState,screenPosition:this.mattertagsViewData.screenPosition,creationProgress:this.mattertagsViewData.progress,billboards:this.mattertagsViewData.activeBillboards.keys}))}componentWillUnmount(){this.isUnmounting=!0,this.bindings.forEach((e=>{e.cancel()})),this.bindings.length=0}componentDidUpdate(e){const{allowTagOverlay:t,toolOpen:i}=this.props;if(this.context.editMode&&(t!==e.allowTagOverlay||i!==e.toolOpen)){const e=this.mattertagsViewData&&this.mattertagsViewData.openTag;e&&(this.state.overlay?t||this.toggleImageOverlay(e,!1):this.closeBillboard(e))}}closeBillboard(e){this.mattertagsViewData.closeBillboard(e)}renderBillboards(){const{settings:e}=this.context,{overlay:t,selectedTag:i,toolState:s,billboards:r}=this.state,{toolOpen:a,manager:o,allowTagOverlay:l}=this.props,c=[],d=s===u.rI.CREATING||s===u.rI.PRESSING||s===u.rI.PLACING,h=!(!a||s!==u.rI.EDITING&&s!==u.rI.PLACED);return d||r.forEach((s=>{const r=i===s,d=h&&r,u=this.mattertagsViewData.getViewData(s),p=this.mattertagsData.getTag(s),m=e.tryGetProperty(v.sX,!1),f=d||!m;!p||u.closeTheTag&&d||c.push((0,n.jsx)(nt,{editing:d,selected:r,overlay:t,allowTagOverlay:l,toolOpen:a,view:u,tag:p,manager:o,mediaEnabled:f,toggleImageOverlay:this.toggleImageOverlay,getTagContainer:this.getTagContainer,linkHandler:this.linkHandler},`billboard-${s}`))})),c}renderProgressCircle(){const{mobile:e}=this.props,{creationProgress:t,screenPosition:i,toolState:s}=this.state;if(!(s===u.rI.PRESSING&&t>0&&e)||!i)return null;const r={left:i.x-st.creationButtonRadius/2+"px",top:i.y-st.creationButtonRadius/2+"px"};return(0,n.jsx)("div",Object.assign({className:"point-button-wrapper",style:r},{children:(0,n.jsx)(c.$,Object.assign({className:a()({complete:1===t,reset:0===t}),progress:100*t,innerRadius:st.creationButtonRadius,barWidth:st.progressBarThickness},{children:(0,n.jsx)("circle",{className:"point",cx:"0",cy:"0",r:"22",transform:"rotate(-90)",fill:"#fff"})}))}))}render(){if(!this.mattertagsData||!this.mattertagsViewData)return null;const{toolOpen:e}=this.props,{toolState:t}=this.state,i=!(!e||t!==u.rI.EDITING&&t!==u.rI.PLACED);return(0,n.jsxs)("div",Object.assign({className:a()("overlay-layer","tags-layer",{"tag-editable":e,"tags-layer-editing":i,"tags-layer-displaying":!i}),ref:this.tagsRootRef},{children:[this.renderProgressCircle(),this.renderBillboards()]}))}}st.contextType=l.I,st.creationButtonRadius=132,st.progressBarThickness=8},60150:(e,t,i)=>{"use strict";i.d(t,{q:()=>v});var n=i(85893),s=i(67294),r=i(38772),a=i(94184),o=i.n(a),l=i(33558),c=i(72936),d=i(76631),u=i(17364),h=i(68709),p=i(38490),m=i(38399),f=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const{PINS:g}=m.Z.WORKSHOP;let v=class extends s.Component{constructor(e){super(e),this.closePinAssetEditor=e=>{e&&e.stopPropagation(),this.props.onClose()},this.handleColorPicked=e=>{this.context.analytics.trackGuiEvent("pin_change_color"),this.props.onSave({color:e})},this.saveStemEnabled=e=>{this.context.analytics.trackGuiEvent(e?"pin_show_stem":"pin_hide_stem"),this.props.onSave({stemEnabled:e})},this.saveStemLength=e=>{this.context.analytics.trackGuiEvent("pin_change_stem_height"),this.props.onSave({stemLength:e})},this.previewStemLength=e=>{const{id:t,pinType:i}=this.props;this.context.commandBinder.issueCommand(new c.tE(t,i,{stemLength:e}))},this.stopPropagation=e=>{e.stopPropagation()}}renderStemEditor(){const{pin:e}=this.props;return(0,n.jsx)(h.r,{stemLength:e.stemLength,stemEnabled:e.stemEnabled,onLengthUpdate:this.previewStemLength,onLengthChanged:this.saveStemLength,onStemEnabledChanged:this.saveStemEnabled})}render(){const{toolPanelLayout:e,open:t,pin:i,colors:s}=this.props,r=e===d.wS.BOTTOM_PANEL;if(!t&&!r)return null;const a=this.context.locale.t(g.COLOR_STEM_EDITOR_TITLE);return(0,n.jsxs)("div",Object.assign({className:o()("pin-tool-editor",{"tool-popup":!r,open:r&&t}),onClick:this.stopPropagation},{children:[(0,n.jsxs)("div",Object.assign({className:"tool-editor-title"},{children:[(0,n.jsx)("span",{children:a}),(0,n.jsx)(p.P,{buttonStyle:p.A.LIGHT,onClose:this.closePinAssetEditor,hideTooltip:!0})]})),(0,n.jsx)(u.z,{colors:s,defaultColor:i.color,onColorPicked:this.handleColorPicked}),this.renderStemEditor()]}))}};v.contextType=l.I,v=f([r.Z],v)},84269:(e,t,i)=>{"use strict";i.d(t,{O:()=>S});var n=i(85893),s=i(7159),r=i(84428),a=i(67294),o=i(94184),l=i.n(o),c=i(33558),d=i(15130),u=i(44443),h=i(38399),p=i(25985),m=i(23254),f=i(79727),g=i(53954),v=i(45531),b=i(47457);function y(e){const{label:t,className:i,darkTheme:r,analyticAction:o,urlParams:y,includeCameraView:E,buttonVariant:S}=e,{analytics:T,editMode:O,locale:_,market:N,settings:A}=(0,a.useContext)(c.I),[w,I]=(0,a.useState)(!1),k=O||A.tryGetProperty(v.Yo,!1),P=(0,a.useCallback)((e=>{e.stopPropagation()}),[]),L=(0,a.useCallback)((e=>{e.stopPropagation(),w||(!async function(e,t,i){const n=(0,u.rI)();let r;if(i){const[e,i,n,a]=await Promise.all([t.waitForData(p.M),t.waitForData(m.O),t.waitForData(f.c),t.waitForData(g.Z)]);r=s.K.serialize({cameraData:e,viewmodeData:i,floorsViewData:n,sweepData:a})}else r=s.K.removeNavigationKeys();(0,u.on)(r),Object.keys(e).forEach((t=>r.set(t,e[t]))),n.search=r.toString(),(0,d.v)(n.toString())}(y,N,!!E),I(!0),T.trackGuiEvent(o))}),[y,w,I,T,O,E,N]);(0,a.useEffect)((()=>{if(!w)return()=>{};const e=window.setTimeout((()=>I(!1)),2500);return()=>window.clearTimeout(e)}),[w]);let C=S||(!t?b.Wu.FAB:b.Wu.TERTIARY),R="share",D=t,M=t?void 0:_.t(h.Z.COPY_LINK),x=!1;return w&&(C=b.Wu.TERTIARY,R=void 0,D=_.t(h.Z.SHARE_COPIED),M=void 0,x=!0),k?(0,n.jsx)("div",Object.assign({className:l()("url-link-copy",i,{"link-copied":w}),onClick:P},{children:(0,n.jsx)(b.zx,{icon:R,label:D,size:b.qE.SMALL,variant:C,theme:r?"dark":"light",disabled:x,tooltip:M,tooltipOptions:{placement:"bottom"},onClick:L})})):null}var E=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};function S(e){const{prefix:t,pin:i,id:a}=e,o=E(e,["prefix","pin","id"]),{stemNormal:l,stemLength:c,anchorPosition:d}=i,u={[`${t}`]:a,"pin-pos":s.K.encodeVector3((new r.Vector3).copy(l).setLength(c).add(d))};return(0,n.jsx)(y,Object.assign({urlParams:u},o))}},53837:(e,t,i)=>{"use strict";i.d(t,{m:()=>l});var n=i(85893),s=i(32279),r=i(77230),a=i(66102),o=i(47457);function l(e){var t,i,l;const{id:c,numItems:d,numSelected:u,selected:h,selectable:p,onSelect:m}=e,f=(0,s.b)(),g=(0,r.A)(),v=(0,a.b)(),b=g&&(null===(t=f[c])||void 0===t?void 0:t.groupMatchingPhraseKey)||(null===(i=f[c])||void 0===i?void 0:i.groupPhraseKey),y=b?v.t(b):c,E=p?`${y} (${u}/${d})`:`${y} (${d})`,S=null===(l=f[c])||void 0===l?void 0:l.groupMenuActions,T=[];if(S)for(const e of S)T.push((0,n.jsx)(o.zx,{label:v.t(e.labelKey),icon:e.icon,variant:o.Wu.TERTIARY,size:o.qE.SMALL,onClick:()=>{e.handler()},disabled:e.disabled},e.labelKey));const O=T.length?(0,n.jsx)(o.xz,Object.assign({icon:"more-vert",variant:o.Wu.TERTIARY,menuArrow:!0,menuClassName:"search-group-menu"},{children:T})):void 0;return(0,n.jsx)(o._m,{id:c,title:E,actions:O,selectable:p,selected:h,onSelect:m})}},38333:(e,t,i)=>{"use strict";i.d(t,{c:()=>a});var n=i(85893),s=i(66102),r=i(47457);function a(e){const{id:t,numItems:i,numSelected:a,selected:o,selectable:l,onSelect:c}=e,d=(0,s.b)().t(`SHOWCASE.NOTES.${t}`),u=l?`${d} (${a}/${i})`:`${d} (${i})`;return(0,n.jsx)(r._m,{id:t,title:u,selectable:l,selected:o,onSelect:c})}},62043:(e,t,i)=>{"use strict";i.d(t,{qF:()=>A,kG:()=>N,iy:()=>I,kz:()=>w});var n=i(85893),s=i(67294),r=i(74349),a=i(51978),o=i(46362),l=i(35221);var c=i(36676),d=i(63319),u=i(32924),h=i(16326),p=i(31855);function m(e=!0){return f((0,o.s)(),function(){const e=[];for(const t in l.Z)e.push({id:t});const[t]=(0,s.useState)(e);return t}(),d.HH.DATE,e)}function f(e,t,i,n){const r=(0,c.s)(),[a,o]=(0,s.useState)([]);return(0,s.useEffect)((()=>{const s=t.reduce(((e,t,n)=>Object.assign(Object.assign({},e),{[t.id]:{id:t.id,grouping:i,groupOrder:n,items:[]}})),{}),a={};e.forEach((e=>{const t=e.getGroupingId(i);if(t&&s[t])t&&s[t].items.push(e);else{const t=e.getGroupingId(d.HH.TYPE);t&&(a[t]||(a[t]={id:t,grouping:d.HH.TYPE,groupOrder:(0,p.j)(r,t,d.HH.TYPE),items:[]}),a[t].items.push(e))}}));let l=Object.values(s);return n&&(l=l.filter((e=>e.items.length>0))),o(l.concat(Object.values(a))),()=>{}}),[e,t,i,n]),a}var g=i(32279),v=i(49571);var b=i(77230),y=i(76087),E=i(47457),S=i(38399),T=i(66102);const{SEARCH:O}=S.Z.SHOWCASE,_=({group:e})=>{const t=(0,T.b)().t(O.EMPTY_LIST_MESSAGE);return(0,n.jsx)(E.gQ,{message:t})};function N(e){const{excludeEmptyGroups:t}=e,i=function(e=!0){const t=(0,u.W)();return f((0,o.s)(),t,d.HH.FLOOR,e)}(t);return(0,n.jsx)(k,Object.assign({},e,{dataGroups:i}))}function A(e){const{excludeEmptyGroups:t}=e,i=m(t);return(0,n.jsx)(k,Object.assign({},e,{dataGroups:i}))}function w(e){const{excludeEmptyGroups:t}=e,i=function(e=!0){const t=(0,g.b)(),i=Object.values(t).sort(((e,t)=>(e.groupOrder||v.Xs)-(t.groupOrder||v.Xs))).map((e=>({id:e.id,grouping:d.HH.TYPE,groupOrder:e.groupOrder||v.Xs,items:e.matches})));return e?i.filter((e=>e.items.length>0)):i}(t);return(0,n.jsx)(k,Object.assign({},e,{dataGroups:i}))}function I(e){const{excludeEmptyGroups:t}=e,i=function(e=!0){const t=(0,h.Y)();return f((0,o.s)(),t,d.HH.LAYER,e)}(t);return(0,n.jsx)(k,Object.assign({},e,{dataGroups:i}))}function k(e){const{renderGroup:t,renderItem:i,dataGroups:o,activeItemId:l,activeGroupId:c}=e,[d,u]=(0,r.s)(),h=(0,s.useRef)(null),p=(0,b.A)()?void 0:d,m=(0,a.y)(y.fc,!1)?"mp-nova-color-accordion":void 0;return(0,s.useEffect)((()=>{var e;if(l){let t=-1;const i=null===(e=o.find((e=>{const i=e.items.findIndex((e=>e.id===l));return-1!==i&&(t=i,!0)})))||void 0===e?void 0:e.id;h.current&&i&&h.current.focusGroupItem(i,t)}return()=>{}}),[o,l,h]),(0,n.jsx)(E.UQ,{className:m,ref:h,data:o,itemHeight:60,renderItem:i,renderGroup:t,renderEmpty:_,onToggleCollapse:u,collapsedIds:p,activeGroupId:c,collapseEmptyGroups:o.length>1})}},43363:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var n=i(85893),s=i(94184),r=i.n(s),a=i(47457);function o({id:e,icon:t,label:i,selected:s,onToggled:o}){return(0,n.jsxs)("div",Object.assign({className:r()("mp-nova-menu-item","search-type-filter"),onClick:e=>{o(e)}},{children:[(0,n.jsx)("div",Object.assign({className:"search-filter-selected"},{children:s&&(0,n.jsx)(a.zx,{icon:"checkmark",size:a.qE.SMALL,variant:a.Wu.TERTIARY},`${e}-selection`)})),(0,n.jsx)(a.zx,{icon:t,label:i,size:a.qE.SMALL,variant:a.Wu.TERTIARY},e)]}))}},37714:(e,t,i)=>{"use strict";i.d(t,{D:()=>y});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(33558),l=i(38399),c=i(66102),d=i(51978),u=i(76087),h=i(63319),p=i(30851),m=i(46362),f=i(90055),g=i(62043),v=i(47457);const{SEARCH:b}=l.Z.SHOWCASE;function y(e){const{excludeEmptyGroups:t,activeItemId:i,grouping:r,emptyPhrase:l}=e,y=(0,d.y)(u.fc,!1),E=(0,s.useRef)(null),{editMode:S}=(0,s.useContext)(o.I),T=(0,c.b)(),O=(0,p.D)(),_=(0,f.LP)(),N=0===(0,m.s)().length,A=r===h.HH.FLOOR,w=r===h.HH.LAYER,I=r===h.HH.DATE,k=void 0!==t?t:O,P=T.t(l||b.EMPTY_LIST_MESSAGE),L=!!k&&N,C=Object.assign(Object.assign({},e),{scrollRef:null==E?void 0:E.current,excludeEmptyGroups:k,activeItemId:i});S&&w&&_&&(C.activeGroupId=_.id);const R=a()("list-contents","searchable-list",{"searchable-list-deprecated-ui":!y});return L?(0,n.jsx)(v.gQ,{message:P}):(0,n.jsx)("div",Object.assign({className:R,ref:E},{children:A?(0,n.jsx)(g.kG,Object.assign({},C)):w?(0,n.jsx)(g.iy,Object.assign({},C)):I?(0,n.jsx)(g.qF,Object.assign({},C)):(0,n.jsx)(g.kz,Object.assign({},C))}))}},62213:(e,t,i)=>{"use strict";i.d(t,{F:()=>b});var n=i(85893),s=i(94184),r=i.n(s),a=i(47457),o=i(33558),l=i(67294);var c=i(66102),d=i(36676);const u=(e,t)=>Number(t.isSelected)-Number(e.isSelected)||e.text.localeCompare(t.text),h={fixtures:"KEYWORDS_FIXTURES"};function p(){const e=(0,c.b)(),t=function(){const e=(0,d.s)(),[t,i]=(0,l.useState)((null==e?void 0:e.getKeywordSummaries())||[]);return(0,l.useEffect)((()=>{if(!e)return()=>{};function t(){e&&i(e.getKeywordSummaries())}const n=e.keywordCounts.onChanged(t),s=e.keywordFilters.onChanged(t);return t(),()=>{n.cancel(),s.cancel()}}),[e]),t}();return(0,l.useMemo)((()=>t.map((t=>Object.assign(Object.assign({},t),{text:h[t.id]?e.t(h[t.id]):t.text}))).sort(u)),[t,e])}var m=i(71166);const f=()=>{const e=p(),t=function(e,t){const{engine:i}=(0,l.useContext)(o.I);return(0,l.useCallback)(((...n)=>{const s=t?Array.isArray(t)?t:t(...n):[];i.commandBinder.issueCommand(new e(...s))}),[e,t,i])}(m.M8,(e=>[e.id]));return(0,n.jsx)(a.no,{className:"search-keyword-summary",tokens:e,onTokenClick:t,maxVisibleTruncated:5,allowSelect:!0})};var g=i(77543),v=i(8659);const b=({isNarrowScreen:e})=>(0,n.jsx)("div",Object.assign({className:r()("search-tool-overlay",e&&"narrow-screen")},{children:e?(0,n.jsx)(g.Z,Object.assign({direction:v.Nm.horizontal},{children:(0,n.jsx)(f,{})})):(0,n.jsx)(f,{})}))},810:(e,t,i)=>{"use strict";i.d(t,{v:()=>p});var n=i(85893),s=i(38399),r=i(63319),a=i(20334),o=i(66102),l=i(86191),c=i(47457);function d({id:e,numItems:t}){const i=`${(0,l.W)(e)} (${t})`;return(0,n.jsx)(c._m,{id:e,title:i,className:"layers-group-header"})}var u=i(53837),h=i(38333);const p=({group:e})=>{const{id:t,items:i,grouping:s}=e;switch(s){case r.HH.TYPE:return(0,n.jsx)(u.m,{id:t,numItems:i.length});case r.HH.FLOOR:return(0,n.jsx)(m,{id:t,numItems:i.length});case r.HH.DATE:return(0,n.jsx)(h.c,{id:t,numItems:i.length});case r.HH.LAYER:return(0,n.jsx)(d,{id:t,numItems:i.length})}return null};function m({id:e,numItems:t}){const i=(0,a.I)();let r=(0,o.b)().t(s.Z.FLOOR_ALL);i&&e&&(r=i.getFloorName(e));const l=`${r} (${t})`;return(0,n.jsx)(c._m,{id:e,title:l})}},82588:(e,t,i)=>{"use strict";i.d(t,{B:()=>j});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(33558),l=i(38399),c=i(76631),d=i(89549),u=i(40216),h=i(51588),p=i(66102),m=i(31362),f=i(25071),g=i(77230),v=i(37034),b=i(71166),y=i(15130),E=i(44443),S=i(16507),T=i(48534),O=i(45531);function _(e){const{collapsedToBottom:t,query:i,keywordFilters:r=[],toolPanelLayout:a}=e,{locale:d,analytics:u,editMode:h,settings:p}=(0,s.useContext)(o.I),[m,f]=(0,s.useState)(!1),g=h||p.tryGetProperty(O.Yo,!1),v=(0,s.useCallback)((()=>{!function(e,t){const i=(0,E.rI)(),n=new URLSearchParams(window.location.search);(0,E.on)(n);const s=encodeURIComponent(e);if(n.set("q",s),t.length>0){const e=encodeURIComponent(t.join(","));n.set("qK",e)}i.search=n.toString(),(0,y.v)(i.toString())}(i,r),f(!0);const e=h?"workshop_gui":"showcase_gui";u.track(e,{gui_action:"space_search_share_link_clicked"})}),[i,r,h,u]);if((0,s.useEffect)((()=>{if(!m)return()=>{};const e=window.setTimeout((()=>f(!1)),2500);return()=>window.clearTimeout(e)}),[m]),m)return(0,n.jsx)("span",Object.assign({className:"link-copied"},{children:d.t(l.Z.SHARE_COPIED)}));const b=a===c.wS.SIDE_PANEL||!t;return g?(0,n.jsx)(S.hU,Object.assign({onClick:v,buttonStyle:S.Dd.PLAIN},{children:b?(0,n.jsx)(T.oO,Object.assign({content:d.t(l.Z.COPY_URL),position:T.lZ.DOWN,tooltipTimeout:2e3},{children:(0,n.jsx)("span",{className:"icon icon-share"})})):(0,n.jsx)("span",{className:"icon icon-share"})})):null}var N=i(25328),A=i(47397),w=i(19280),I=i(44523);const{SEARCH:k}=l.Z.SHOWCASE;function P({filter:e,readOnly:t,shareEnabled:i}){const{commandBinder:r}=(0,s.useContext)(o.I),l=(0,s.useRef)(null),y=(0,s.useRef)(null),E=(0,p.b)(),S=(0,u.T)(),T=(0,h.E)(),O=(0,g.A)(),P=(0,v.f)(),L=(0,s.useMemo)((()=>(0,m.Jm)()),[]),C=S===c.wS.BOTTOM_PANEL&&T,R=(0,w.p)((0,I.O)()),D=(0,s.useCallback)((e=>{r.issueCommand(new b.H1(e))}),[r]),M=E.t(k.SEARCH_IN_TOOL_PLACEHOLDER),x=E.t(k.CLEAR_SEARCH).toLocaleUpperCase(),j=P.length>0||""!==O,U=i&&j,H=L?void 0:f.El;return(0,n.jsxs)("div",Object.assign({ref:y,className:a()("list-search","search-panel-header")},{children:[(0,n.jsxs)("div",Object.assign({className:"search-bar"},{children:[(0,n.jsx)("span",{className:a()("search-header-icon","icon","icon-magnifying-glass",{"search-header-icon-active":j})}),(0,n.jsx)(A.Z,{text:O,onInput:D,onDone:e=>{C&&e&&r.issueCommand(new d.Fg(!1))},placeholder:M,onFocus:()=>{R&&C&&L&&(r.issueCommand(new d.Fg(!1)),window.setTimeout((()=>{y.current&&y.current.scrollIntoView({behavior:"smooth",block:"start"})}),f.El))},ref:l,focusOnMount:H,readOnly:t}),(0,n.jsxs)("div",Object.assign({className:"search-header-button-container"},{children:[""!==O&&(0,n.jsx)(N.zx,Object.assign({onClick:()=>{D(""),l.current&&!L&&l.current.focus()},buttonStyle:N.ZJ.PLAIN,buttonSize:N.qE.STANDARD},{children:x})),U&&(0,n.jsx)(_,{query:O,keywordFilters:P,collapsedToBottom:C,toolPanelLayout:S})]}))]})),e]}))}var L=i(32279),C=i(37190),R=i(47457);const{SEARCH:D}=l.Z.SHOWCASE;function M({id:e,label:t}){const{commandBinder:i}=(0,s.useContext)(o.I),r=(0,p.b)().t(D.FILTER_SEARCH_REMOVE);return(0,n.jsx)(R.zx,{icon:"close",label:t,tooltip:r,tooltipOptions:{placement:"bottom"},size:R.qE.SMALL,variant:R.Wu.FAB,theme:"dark",onClick:()=>{i.issueCommand(new b.Mp(e,!1))},reverse:!0})}function x(){const e=(0,p.b)(),t=(0,L.b)(),i=(0,C.b)();if(0===i.length)return null;const s=i.map((i=>{const s=e.t(t[i].groupPhraseKey);return(0,n.jsx)(M,{id:i,label:s},i)}));return(0,n.jsx)("div",Object.assign({className:"search-filter-pills"},{children:s}))}function j(e){const{showSearch:t=!0,shareEnabled:i=!1,filterPills:s=!1,filter:r}=e;return(0,n.jsxs)("div",Object.assign({className:"list-subheaders"},{children:[t&&(0,n.jsx)(P,{filter:r,shareEnabled:i}),!t&&r,s&&(0,n.jsx)(x,{})]}))}},16589:(e,t,i)=>{"use strict";i.d(t,{PP:()=>n,vr:()=>a,zf:()=>o});const n=["<mark>","</mark>"];function s(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function r(e,t){const[i,r]=n,a=`${i}|${r}`;let o=!1;if(e.match(new RegExp(a))&&(e=e.replace(new RegExp(`(${a})`,"g"),((e,t)=>t.split("").join("‌"))),o=!0),t){let n;n=o?t.split("").map(s).join("[‌]?"):s(t),e=e.replace(new RegExp(`(${n})`,"gi"),((e,t)=>`${i}${t}${r}`))}return e}const a=r;function o(e,t){return r(function(e,t){var i;const n=e.toLowerCase(),[r,a,o]=[n.indexOf(t),e.length,(null===(i=n.match(new RegExp(`${s(t)}`,"g")))||void 0===i?void 0:i.length)||1];let l=e,c=r;if(a>20&&c>0){if(1===o){const e=Math.floor((20-t.length)/2);e>0&&c>e&&(c-=e)}l=`...${l.substr(c)}`,l.length<20&&(c-=20-l.length,c>0&&(l=`...${e.substr(c)}`))}return l}(e,t),t)}},90876:(e,t,i)=>{"use strict";i.d(t,{s:()=>m});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(51978),l=i(47457),c=i(76087),d=i(71166),u=i(33558),h=i(76631),p=i(89549);const m=({keywords:e,className:t,maxVisible:i=2,theme:r})=>{const{engine:m,editMode:f}=(0,s.useContext)(u.I),g=(0,o.y)(c.Wp,!1),v=(0,o.y)(c.fc,!1),b=f&&(g||v),y=(0,s.useCallback)((({text:e},t)=>{t.stopPropagation();const i=b?h.w1.LAYERS:h.w1.SEARCH;m.commandBinder.issueCommand(new p.tT(i,!0)),m.commandBinder.issueCommand(new d.FZ([e]))}),[m,b]);return(0,n.jsx)(l.no,{className:a()("tag-keywords",t),tokens:e.map((e=>({id:e,text:e}))),onTokenClick:y,maxVisibleTruncated:i,tokenSize:"small",tokenTheme:r})}},22136:(e,t,i)=>{"use strict";i.d(t,{v:()=>l});var n=i(85893),s=i(67294),r=i(33558),a=i(45531),o=i(70490);const l=({attachments:e,onClick:t})=>{const{settings:i}=(0,s.useContext)(r.I),l=i.tryGetProperty(a.sX,!1),c=(0,s.useCallback)(((i,n)=>{0!==e.length&&(i.stopPropagation(),t(i,n))}),[e,t]);return l||0===e.length?null:(0,n.jsx)("div",Object.assign({className:"tag-media"},{children:(0,n.jsx)(o.T,{attachments:e,startIndex:0,onClick:c})}))}},1691:(e,t,i)=>{"use strict";i.d(t,{Q:()=>E});var n=i(67950),s=i(76087),r=i(5823),a=i(71166),o=i(52528),l=i(60975),c=i(43736),d=i(23037),u=i(92001),h=i(39693),p=i(92290),m=i(97163),f=i(79727),g=i(16935),v=i(60083),b=i(61774),y=i(43037);class E{constructor(e,t){this.engine=e,this.settings=t,this.initialized=!1,this.bindings=[],this.textParser=new o.v({links:!0}),this.disabledEditorAssets={[u.U]:!1,[d.Nj]:!1,[c.s]:!1,[h.Mp]:!1},this.settingsToggler=new l.u(t,this.disabledEditorAssets),this.initPromise=this.init()}async init(){const e=this.engine.market;return Promise.all([e.waitForData(b.n),e.waitForData(m.b),e.waitForData(f.c),e.waitForData(g.A),e.waitForData(v.B)]).then((([e,t,i,n,s])=>(this.dataMap={tagsViewData:e,attachmentsData:t,floorsViewData:i,annotationsViewData:n,pinsViewData:s},!0)))}async activate(){const e=this.engine;if(this.initialized)for(const e of this.bindings)e.renew();else this.initialized=!0,await this.initPromise;this.settingsToggler.toggle(!0),this.settings.tryGetProperty(s.fc,!1)&&e.commandBinder.issueCommand(new a.Xv(r.SF.MATTERTAG)),await e.commandBinder.issueCommand(new y.yU(!0))}async deactivate(){await this.engine.commandBinder.issueCommand(new y.yU(!1)),this.settings.tryGetProperty(s.fc,!1)&&await this.engine.commandBinder.issueCommand(new a.Xv(!1)),this.settingsToggler.toggle(!1)}async hasPendingEdits(){const{dirtyTagState:e,creatingTag:t}=this.dataMap.tagsViewData;return e||t}setDirtyTagState(e){return this.engine.commandBinder.issueCommand(new y.q4(e))}getAvailableKeywords(){var e,t;return null===(t=null===(e=this.dataMap)||void 0===e?void 0:e.tagsViewData)||void 0===t?void 0:t.getAvailableKeywords()}areObjectTagsEnabled(){var e,t;return(null===(t=null===(e=this.dataMap)||void 0===e?void 0:e.tagsViewData)||void 0===t?void 0:t.objectTagsEnabled)||!1}async confirmAndDeleteTag(e,t){const i=(0,n.nQ)();if(await this.engine.commandBinder.issueCommand(new p.EW(p.Rx.DISPLAY,i))!==p.Uc.CLOSE)return this.deleteTag(e,t)}deleteTag(e,t){return this.setDirtyTagState(!1),this.engine.commandBinder.issueCommand(new y.T3(e,t))}setTagVisibility(e,t){this.engine.commandBinder.issueCommand(new y.bg(e,t))}}},72201:(e,t,i)=>{"use strict";i.d(t,{O:()=>p});var n=i(85893),s=i(67294),r=i(33558),a=i(64918),o=i(56509),l=i(43037),c=i(44158),d=i(71330),u=i(85535),h=i(75043);function p(e){const{overlay:t,analyticAction:i}=e,{analytics:p,commandBinder:m}=(0,s.useContext)(r.I),f=(0,o.Y)(),g=(0,c.k)(!0),v=(0,d.P)(),[b,y]=(0,s.useState)(!1);if(!(v&&g.length>1))return null;const E=g.findIndex((e=>e.id===(null==v?void 0:v.id)));if(-1===E)return null;const S=(0,n.jsx)(u.$,{index:E,total:g.length,disabled:b,overlay:t,wrapAround:!0,onNavigate:e=>{const t=g[e];if(!t)return;y(!0);const n=v?f?a.n.Instant:a.n.FadeToBlack:a.n.Interpolate;p.trackToolGuiEvent("tags",i),m.issueCommand(new l.lt(t.id,{transition:n})).then((()=>{y(!1)}))}});return t?(0,n.jsx)(h.u,Object.assign({className:"tags-navigation-overlay"},{children:S})):S}},10231:(e,t,i)=>{"use strict";i.d(t,{r:()=>o});var n=i(85893),s=i(15501),r=i(96403),a=i(72201);i(96845);function o(){const e=(0,s.R)(),t=(0,r.B)();return e||t?null:(0,n.jsx)("div",Object.assign({className:"overlay tags-overlay"},{children:(0,n.jsx)(a.O,{overlay:!0,analyticAction:"tags_navigate_in_canvas"})}))}},68072:(e,t,i)=>{"use strict";i.d(t,{J:()=>m});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(76631),l=i(40216),c=i(61531),d=i(31362),u=i(40505),h=i(58956),p=i(44523);const m=(0,s.forwardRef)((({children:e,open:t,className:i,scrollingDisabled:r},m)=>{const f=(0,s.useRef)(null),g=(0,s.useMemo)((()=>(0,d.Jm)()),[]),v=(0,l.T)(),[b,y]=(0,s.useState)(!1),E=(0,p.O)();(0,c.U)(u.SN,(e=>{y(e.focused)})),(0,s.useImperativeHandle)(m,(()=>({resetScrollTop:()=>{f.current&&f.current.resetScrollTop()},scrollToSelector:e=>{f.current&&f.current.scrollToSelector(e)}})),[f]);const S=v===o.wS.BOTTOM_PANEL,T=g&&b&&S,O=S,_={open:t,"sticky-header":!T,"detail-panel-align-top":T&&!function(){var e;if(!f.current)return!1;const t=f.current.getScrollHeight(),i=(null===(e=f.current.getScroller())||void 0===e?void 0:e.getBoundingClientRect().top)||0;return t<=E.height-i}()};return(0,n.jsx)("div",Object.assign({className:a()("detail-panel",_,i)},{children:(0,n.jsx)(h.T,Object.assign({ref:f,hideThumb:O,disabled:r},{children:e}))}))}))},72801:(e,t,i)=>{"use strict";i.d(t,{L:()=>m});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(76631),l=i(14355),c=i(51588),d=i(40216),u=i(33023),h=i(25071),p=i(57061);function m(e){const{closed:t,toolId:i,children:r,className:m,filmstrip:f,title:g,titleNode:v,subheader:b,hideHelp:y,hideBadge:E,footer:S,controls:T,subheaderCollapsedHeight:O}=e,_=(0,c.E)(),N=(0,d.T)(),A=(0,u.Q)(i),[w,I]=(0,s.useState)(_),[k,P]=(0,s.useState)(!1);let L=0;const C=e=>{if(e){if(k||w)return;window.clearTimeout(L),P(!0),L=window.setTimeout((()=>{P(!1),I(!0)}),h.g)}else I(!1),window.clearTimeout(L)};(0,s.useEffect)((()=>{C(_)}),[_]),(0,s.useEffect)((()=>()=>{window.clearTimeout(L)}),[]);const R=!!A&&!t,D=N===o.wS.BOTTOM_PANEL,M=!(w&&!k),x={closed:t,collapsed:w,collapsing:k,"filmstrip-panel":f},j=O&&(D&&w)?{height:O+h.oO}:void 0,U=b&&(O||!w),H=f||D;return(0,n.jsxs)(l.N,Object.assign({open:R,className:a()("list-panel",x,m),style:j},{children:[A&&(0,n.jsx)(p.V,Object.assign({tool:A,title:g,titleNode:v,hideHelp:y,hideBadge:E,expandable:H,onTogglePanel:C},{children:T})),U&&b,M&&r,M&&S||null]}))}},57061:(e,t,i)=>{"use strict";i.d(t,{V:()=>g});var n=i(85893),s=i(42933),r=i(67294),a=i(33558),o=i(38399),l=i(66102),c=i(89549),d=i(51588),u=i(47457),h=i(69251);const{CLOSE_BUTTON_TOOLTIP_MESSAGE:p}=o.Z.REUSABLES,{COLLAPSE_PANEL:m,EXPAND_PANEL:f}=o.Z.PANELS;function g(e){const{tool:t,title:i,titleNode:o,children:g,expandable:v,hideHelp:b,hideBadge:y,onTogglePanel:E}=e,S=(0,l.b)(),T=(0,d.E)(),{commandBinder:O}=(0,r.useContext)(a.I),_=!b,N=(0,r.useCallback)((()=>{O.issueCommand(new c.CH(t.id))}),[O,t]),A=(0,r.useCallback)((e=>{e&&e.stopPropagation();const t=!T;E&&E(t),O.issueCommand(new c.Fg(t))}),[O,T,E]),w=T?"dpad-up":"dpad-down",I=T?S.t(f):S.t(m);return(0,n.jsxs)("div",Object.assign({className:"panel-header",onClick:v?A:void 0},{children:[(0,n.jsxs)(h.p,{children:[v&&(0,n.jsx)(u.zx,{icon:w,label:i,tooltip:I,tooltipOptions:{placement:"bottom-start"},variant:u.Wu.TERTIARY,onClick:A}),!v&&i,t.badgePhraseKey&&!y&&(0,n.jsx)("span",Object.assign({className:"word-badge"},{children:S.t(t.badgePhraseKey)})),o||null]}),(0,n.jsxs)(u.hE,Object.assign({className:"panel-header-controls"},{children:[g,_&&(0,n.jsx)(s.w,{tool:t}),(0,n.jsx)(u.zx,{icon:"close",tooltip:S.t(p),tooltipOptions:{placement:"bottom"},variant:u.Wu.TERTIARY,onClick:N})]}))]}))}},69251:(e,t,i)=>{"use strict";i.d(t,{p:()=>a});var n=i(85893),s=i(94184),r=i.n(s);const a=({children:e,className:t})=>{if(!e)return null;const i=r()("panel-title",t);return(0,n.jsx)("div",Object.assign({className:i},{children:e}))}},11522:(e,t,i)=>{"use strict";i.d(t,{g:()=>g});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(33558),l=i(38399),c=i(89549),d=i(29113);var u=i(51588),h=i(56509),p=i(66102),m=i(14355);const{PANELS:f}=l.Z;function g({children:e,className:t,sidePanelCollapsible:i}){const{commandBinder:r,analytics:l}=(0,s.useContext)(o.I),g=(0,u.E)(),v=function(){const e=(0,d.w)(),[t,i]=(0,s.useState)((null==e?void 0:e.getActiveTool())||null);return(0,s.useEffect)((()=>{if(!e)return()=>{};const t=e.onToolChanged((()=>i((null==e?void 0:e.getActiveTool())||null)));return()=>t.cancel()}),[e]),t}(),b=(0,p.b)(),y=(0,h.Y)(),E=v&&v.panel;let S=null;E&&e&&Array.isArray(e)&&(S=e.find((e=>e&&e.key===(null==v?void 0:v.id)))||!1);const T=(0,s.useCallback)((()=>{S&&!y&&(l.track("showcase_gui",{gui_action:"toggle_side_panel"}),r.issueCommand(new c.Fg(!g)))}),[S,y,l,r,g]);(0,s.useEffect)((()=>{S&&!y&&g&&!i&&r.issueCommand(new c.Fg(!1))}),[S,y,g,i,r]);const O=g?b.t(f.EXPAND_PANEL):b.t(f.COLLAPSE_PANEL),_=g?"icon-dpad-left":"icon-dpad-right",N=!!(v&&S&&v.panel),A=N&&!y&&i?(0,n.jsx)("div",Object.assign({className:"panel-track"},{children:(0,n.jsx)("div",Object.assign({className:"panel-track-thumb","data-balloon":O,"data-balloon-pos":"left",onClick:T},{children:(0,n.jsx)("span",{className:`icon ${_}`})}))})):void 0,w={"panel-open":N&&!g,"panel-collapsed":N&&g};return(0,n.jsx)(m.N,Object.assign({className:a()("panels",w,t),open:N,firstChild:A,selectChild:!0,childKey:null==v?void 0:v.id},{children:e}))}},78271:(e,t,i)=>{"use strict";i.d(t,{j:()=>s});var n=i(76631);const s=(()=>{let e=0;return function(t,i){window.clearTimeout(e);const s=t.classList;switch(i){case n.wS.NORMAL:s.remove("narrow-layout"),s.contains("side-panel")?e=window.setTimeout((()=>{s.remove("side-panel")}),900):s.remove("bottom-panel");break;case n.wS.NARROW:s.add("narrow-layout"),s.contains("bottom-panel")?e=window.setTimeout((()=>{s.remove("bottom-panel")}),900):s.remove("side-panel");break;case n.wS.SIDE_PANEL:s.add("side-panel"),s.remove("bottom-panel","narrow-layout");break;case n.wS.BOTTOM_PANEL:s.remove("side-panel"),s.add("narrow-layout","bottom-panel")}}})()},33526:(e,t,i)=>{"use strict";i.d(t,{m:()=>m});var n=i(85893),s=i(94184),r=i.n(s),a=i(67294),o=i(33558),l=i(66102),c=i(33023),d=i(96403),u=i(89549),h=i(47457),p=i(14355);function m({toolName:e,showing:t=!0,attached:i=!1}){const{commandBinder:s,analytics:m}=(0,a.useContext)(o.I),f=(0,l.b)(),g=(0,c.Q)(e),v=(0,d.B)();if(!g)return null;const{id:b,namePhraseKey:y,icon:E,analytic:S}=g,T=v===g.id,O=f.t(y),_=E.replace("icon-",""),N=i?"dark":"overlay";return(0,n.jsx)(p.N,Object.assign({open:t,className:r()("top-tool-button",{"faded-out":!t})},{children:(0,n.jsx)(h.zx,{onClick:()=>{s.issueCommand(new u.tT(b,!T)),m.trackToolGuiEvent(S,`click_${S}_button`,{interactionSource:"gui"})},tooltip:O,tooltipOptions:{placement:"bottom"},icon:_,theme:N,variant:h.Wu.FAB,active:T})}))}},86006:(e,t,i)=>{"use strict";i.d(t,{G:()=>o});var n=i(85893),s=i(94184),r=i.n(s),a=i(85384);function o(e){const t=(0,a.i)(),{activeStep:i,currentStep:s,highlights:o}=e,l=o[s],c=i!==s,d=((null==l?void 0:l.title)||(null==l?void 0:l.description))&&t&&!c;return(0,n.jsx)("div",Object.assign({className:"overlay-layer"},{children:(0,n.jsx)("div",{className:r()("tour-story-scrim",{active:d})})}))}},70765:(e,t,i)=>{"use strict";i.d(t,{e:()=>G});var n=i(85893),s=i(94184),r=i.n(s),a=i(76631),o=i(60699),l=i(70584),c=i(14355),d=i(67294),u=i(33558),h=i(97998),p=i(38772),m=i(31362),f=i(96767),g=i(33397),v=i(23043),b=i(60934);class y extends d.Component{constructor(e){super(e),this.highlights=[],this.highlightList=e=>{const{currentStep:t,onHighlightClicked:i}=this.props;return(0,n.jsx)("div",Object.assign({className:"hlr-container"},{children:(0,n.jsx)("div",Object.assign({className:"highlights",role:"list"},{children:e.items.map(((e,s)=>(0,n.jsx)(b.y,{highlight:e,index:s,active:s===t,editable:!1,onClickHighlight:i,getRef:this.addHighlightRef},`${e.id}_${s}`)))}))}))},this.addHighlightRef=(e,t)=>{this.highlights[e]=t,e===this.props.currentStep&&this.props.setActiveElement&&this.props.setActiveElement(t)}}componentDidUpdate(e){e.currentStep!==this.props.currentStep&&this.props.setActiveElement(this.highlights[this.props.currentStep])}render(){const{highlights:e}=this.props;return e&&e.length?(0,n.jsx)(this.highlightList,{items:e}):null}}i(110);var E=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const S=new h.Z("highlight-reel");let T=class extends d.Component{constructor(e){super(e),this.bindings=[],this.mobile=(0,m.tq)(),this.setActiveElement=e=>{this.setState({activeElement:e})},this.setHighlightClickable=(e=>this.highlightClickable=e).bind(this),this.onHighlightClicked=async e=>{const{commandBinder:t,analytics:i}=this.context;if(this.highlightClickable)try{this.props.tourPlaying&&await t.issueCommand(new f.vy),this.props.transition.active||(i.trackToolGuiEvent("hlr","click_highlight"),await t.issueCommand(new f.rU(e)).catch((e=>{if(!(e instanceof g.z))throw e;S.warn(e.message)})),this.setHighlightClickable(!1))}catch(e){S.debug(e)}},this.state={activeElement:null}}componentWillUnmount(){this.bindings.forEach((e=>{e.cancel()}))}render(){const{activeStep:e,highlights:t,totalSteps:i}=this.props;return(0,n.jsx)("div",Object.assign({id:"reel-container"},{children:(0,n.jsx)(v._,Object.assign({totalSteps:i,activeElement:this.state.activeElement,mobile:this.mobile,highlightClickable:this.setHighlightClickable,thumbScrollingOnly:!1},{children:(0,n.jsx)(y,{highlights:t,currentStep:e,onHighlightClicked:this.onHighlightClicked,setActiveElement:this.setActiveElement})}))}))}};T.contextType=u.I,T=E([p.Z],T);var O=i(38399);const{HLR:_}=O.Z.SHOWCASE;class N extends d.Component{render(){const{locale:e}=this.context,t=e.t(_.EMPTY_REEL_LEARN_MORE),i=e.t(_.EMPTY_REEL_TITLE),s=e.t(_.EMPTY_REEL_MESSAGE);return(0,n.jsx)("div",Object.assign({className:"empty-reel"},{children:(0,n.jsxs)("div",Object.assign({className:"no-highlights-message"},{children:[(0,n.jsx)("p",{children:i}),(0,n.jsxs)("p",{children:[s,(0,n.jsx)("a",Object.assign({className:"link",target:"_blank",href:"https://support.matterport.com/hc/en-us/articles/360019401733"},{children:t}))]})]}))}))}}N.contextType=u.I;var A=i(71652),w=i(17686),I=i(34646),k=i(23362);function P(){const e=(0,I.s)(),t=(0,k.T)(),i=t===k.l.Paused,n=t===k.l.Idle,s=(0,d.useRef)(null),r=(0,d.useRef)(0);if(n)return r.current=0,r.current;if(!i)return r.current;if(e===s.current)return r.current;if(!w.c5.includes(e.type))return r.current;const{started:a,stopped:o,duration:l}=e,c=(o-a)/l,u=r.current+c*(1-r.current);return s.current=e,r.current=u,u}var L=i(68473),C=i(71802);function R({index:e}){const t=(0,A.g)(),i=P(),s=(0,k.T)(),a=(0,L.j)(),o=(0,C.l)(),l=function(){var e,t;const i=(0,I.s)(),n=(0,d.useRef)(null);return w.c5.includes(i.type)?i.toIndex===(null===(t=n.current)||void 0===t?void 0:t.toIndex)?n.current.duration:(n.current=i,i.duration):(null===(e=n.current)||void 0===e?void 0:e.duration)||0}(),c=o.duration,u=o.toIndex,h=u===e,p=a===e,m=["story-tour-progress-bar"];if(s===k.l.Skipping)e>=u?m.push("story-tour-progress-bar--incomplete"):m.push("story-tour-progress-bar--complete");else if(p)switch(s){case k.l.Completed:m.push("story-tour-progress-bar--complete");break;case k.l.Playing:m.push("story-tour-progress-bar--playing");break;case k.l.Paused:m.push("story-tour-progress-bar--paused");break;case k.l.Rewinding:m.push("story-tour-progress-bar--rewinding");break;case k.l.FastForwarding:m.push("story-tour-progress-bar--fast-forwarding");break;case k.l.Idle:m.push("story-tour-progress-bar--incomplete")}else a===t-1&&0===u?m.push("story-tour-progress-bar--complete"):h&&s===k.l.Rewinding?m.push("story-tour-progress-bar--full-rewinding"):e<a?m.push("story-tour-progress-bar--complete"):e>a&&m.push("story-tour-progress-bar--incomplete");const f={};if(p&&(s===k.l.Playing||s===k.l.Paused?f.animationDuration=`${l}ms`:s===k.l.FastForwarding&&(f.animationDuration=`${c}ms`)),s===k.l.Rewinding){const e=i/(i+1);p&&h?f.animationDuration=`${c}ms`:p?f.animationDuration=e*c+"ms":h&&(f.animationDuration=(1-e)*c+"ms",f.animationDelay=e*c+"ms")}return(0,n.jsx)("div",{className:r()(...m),style:f})}function D(){const e=P();return(0,d.useEffect)((()=>{document.documentElement.style.setProperty("--currentTourScenePosition",100*e+"%")}),[e]),null}var M=i(77543),x=i(8659),j=i(6335);function U(e){const{snapshot:t,numberOfHighlights:i,currentIndex:s,xOffset:a}=e,{name:o}=t,l=s===i-1,c={};0===s?(c.left="15px",c.transform="none"):l?(c.right="10px",c.transform="none"):c.left=`${a}px`;const d=r()("highlight-box","active"),u=r()("image-name",{shadowed:!!o});return(0,n.jsxs)("div",Object.assign({style:c,className:d},{children:[(0,n.jsx)(j.X,{resource:t.thumbnailUrl,className:"highlight-image"}),(0,n.jsx)("div",Object.assign({className:u},{children:(0,n.jsx)("span",Object.assign({className:"static-text"},{children:o}))}))]}))}class H extends d.Component{constructor(e){super(e),this.scrollbarRef=(0,d.createRef)(),this.reelRef=(0,d.createRef)(),this.onClickSceneBar=async e=>{e.preventDefault();const t=e.target.getAttribute("data-index");if(t){const e=parseInt(t,10),{tourPlaying:i,transition:n}=this.props,{commandBinder:s,analytics:r}=this.context;try{i&&await s.issueCommand(new f.vy({willResume:!0})),n.active||(r.track("showcase_gui",{gui_action:"click_scene_bar"}),await s.issueCommand(new f.rU(e)),i&&await s.issueCommand(new f.TH({index:e})))}catch(e){}}},this.onEnterSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){const i=parseInt(t,10);this.setState({focusedIndex:i,xOffset:e.clientX})}},this.onLeaveSceneBar=e=>{const t=e.target.getAttribute("data-index");if(t){parseInt(t,10)===this.state.focusedIndex&&this.setState({focusedIndex:-1})}},this.onScrollableChanged=e=>{this.setState({scrollable:e})},this.onScrollPositionChange=e=>{this.setState({scrollPosition:e})},this.state={focusedIndex:-1,xOffset:0,scrollLeft:0,scrollPosition:x.Ij.None,scrollable:!1}}componentDidUpdate(){var e;const{activeStep:t,tourPlaying:i}=this.props,n=this.scrollbarRef.current;if(n&&!n.isDragging&&i){const i=null===(e=this.reelRef.current)||void 0===e?void 0:e.querySelector(`#highlightbar_${t}`);i&&n.scrollToElement(i)}}renderSceneBar(e,t){const{focusedIndex:i}=this.state,s=r()("highlight-bar",{"highlight-bar-hover":t<=i});return(0,n.jsx)("div",Object.assign({id:`highlightbar_${t}`,className:"highlight-compacted","data-index":t,onClick:this.onClickSceneBar,onMouseEnter:this.onEnterSceneBar,onMouseLeave:this.onLeaveSceneBar,onMouseMove:this.onEnterSceneBar},{children:(0,n.jsx)("div",Object.assign({className:s},{children:(0,n.jsx)(R,{index:t})}))}),`${e.id}_bar_${t}`)}renderHighlightBox(){const{focusedIndex:e,xOffset:t}=this.state;if(-1===e)return null;const{highlights:i}=this.props,s=i[e];return(0,n.jsx)(U,{snapshot:s.snapshot,numberOfHighlights:i.length,currentIndex:e,xOffset:t})}render(){const{highlights:e,tourPlaying:t}=this.props;return(0,n.jsxs)("div",Object.assign({className:r()("tour-story-reel",{"tour-playing":t}),ref:this.reelRef},{children:[(0,n.jsx)(D,{}),(0,n.jsx)(M.Z,Object.assign({direction:x.Nm.horizontal,ref:this.scrollbarRef,hideScrollbar:!0,thumbScrollingOnly:!1,waitToUpdate:0===e.length,handleClick:this.onClickSceneBar,onScrollableChanged:this.onScrollableChanged,onScrollPositionChange:this.onScrollPositionChange},{children:(0,n.jsx)("div",Object.assign({className:"highlights"},{children:e.map(((e,t)=>this.renderSceneBar(e,t)))}))})),this.renderHighlightBox()]}))}}H.contextType=u.I;var F=i(89264),B=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let V=class extends d.Component{constructor(){super(...arguments),this.handleClick=()=>{this.context.analytics.trackToolGuiEvent("hlr","tour_progress");const{reelOpen:e}=this.props;e||this.context.commandBinder.issueCommand(new F.Av(!0))}}getTourSteps(){const{totalSteps:e,activeStep:t}=this.props,i=[];for(let s=0;s<e;s++)i.push((0,n.jsx)("div",{className:r()({active:s===t})},s.toString()));return i}render(){const{reelOpen:e,tourPlaying:t,activeStep:i,totalSteps:s}=this.props,a=i+1+"/"+s,o=-1!==i&&!e&&a,l=-1!==i&&e&&t;return s>0?(0,n.jsxs)("div",Object.assign({id:"tour-progress",className:r()({"faded-in":t,"full-width":e}),onClick:this.handleClick,"data-balloon":o,"data-balloon-pos":"right","data-balloon-size":"xs"},{children:[l&&(0,n.jsx)("div",Object.assign({className:"progress-number"},{children:a})),-1!==i&&(0,n.jsx)("div",Object.assign({className:"progress-bar"},{children:this.getTourSteps()}))]})):null}};function G(e){const{activeStep:t,highlights:i,openTool:s,tourMode:d,tourPlaying:u,transition:h}=e,p=(0,l.O)(),m=s===a.w1.HLR;if(d===o.zz.STORIES)return m&&!u?null:(0,n.jsx)(H,{highlights:i,tourPlaying:u,activeStep:t,transition:h});{const e=p&&(!m||u),s=(null==i?void 0:i.length)||0,a=0===s;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.N,Object.assign({className:r()("highlight-reel",{"reel-empty":a,closed:!e}),open:e},{children:a?(0,n.jsx)(N,{}):(0,n.jsx)(T,{highlights:i,tourPlaying:u,activeStep:t,totalSteps:s,transition:h})})),u&&(0,n.jsx)(V,{activeStep:t,tourPlaying:u,totalSteps:s,reelOpen:p})]})}}V.contextType=u.I,V=B([p.Z],V)},19801:(e,t,i)=>{"use strict";i.d(t,{O:()=>W});var n=i(53261);const s=()=>{},r=()=>null,a=()=>!1,o=()=>Promise.reject(),l=()=>Promise.resolve(),c=()=>"",d=()=>({}),u=()=>[],h=()=>({renew:s,cancel:s}),p={register:s,unregister:s,waitForData:o,tryGetData:r,getModuleNameFromData:()=>""},m={subscribe:h,unsubscribe:s,broadcast:s};var f=i(57118);class g extends f.B{constructor(){super(...arguments),this.addBinding=h,this.removeBinding=s,this.issueCommand=o,this.issueCommandWhenBound=o,this.hookCommand=s,this.resetHooks=s}}const v=new g,b={mask:0,addLayers:s,removeLayers:s,clone:()=>b},y=()=>b;const E={market:p,msgBus:m,commandBinder:v,getModule:o,getModuleBySymbol:o,getModuleBySymbolSync:function(){throw new Error("getModuleBySymbolSync not supported")},tryGetModuleBySymbolSync:r,getModuleSync:()=>{throw new Error("cannot get module with mock engine")},tryGetModuleSync:r,addComponent:l,removeComponent:l,getComponentByType:r,getComponents:function*(){},claimRenderLayer:y,getRenderLayer:y,subscribe:h,unsubscribe:s,broadcast:s,disposeRenderLayer:s,startGenerator:s,stopGenerator:s,after:l,getXrFrame:()=>{},toggleRendering:s};var S=i(21068);class T extends S.default{constructor(){super(...arguments),this.init=l,this.onUpdate=s,this.dispose=s,this.track=s,this.trackGuiEvent=s,this.trackToolGuiEvent=s,this.getSessionId=c}}const O=new T;var _=i(54078);class N extends _.default{constructor(){super(...arguments),this.t=e=>e}get languageCode(){return"en"}}const A=new N;var w=i(20436);const I=(0,i(67622).Q)(""),k=()=>I;class P extends w.m{constructor(){super(...arguments),this.getUserInfoByEmail=r,this.getUserInfoById=r,this.getUserDisplay=k,this.iterate=s,this.getUsersWhoMayNeedAccess=d,this.getKnownUsers=u,this.getCurrentUser=k,this.isLoggedIn=a,this.isOrgAdmin=a,this.isInviter=a,this.isEditor=a,this.isCommenter=a,this.getCurrentUserId=()=>I.id,this.onUsersChanged=h}}const L=new P(I,!1,!1);var C=i(91380),R=i(15637),D=i(50892),M=i(76631);const x={activate:l,deactivate:l},j=new D.U({id:M.w1.LABELS,namePhraseKey:"",panel:!1,panelLeft:!1,hidesAppBar:!1,icon:"",analytic:"",dimmed:!1,enabled:!1,manager:x,ui:{}}),U=new R.v;class H extends C.t{constructor(){super(...arguments),this.addTools=s,this.iterate=s,this.getTool=()=>j,this.removeTool=s,this.removeAllTools=s,this.setOpenAsset=s,this.onOpenAssetChanged=h,this.getActiveTool=r,this.onToolChanged=h,this.setOpenModal=s,this.onOpenModalChanged=h,this.onToolsLoadedChanged=h,this.setSoftOpening=s,this.onSoftOpeningChanged=h,this.isPanelOpen=a,this.isToolCollapsedToBottom=a,this.setToolPanelLayout=s,this.onToolPanelLayoutChanged=h,this.onToolCollapsedChanged=h,this.setToolCollapsed=s}get toolsMap(){return U}get openAsset(){return null}get activeToolName(){return null}get openModal(){return null}get toolsLoaded(){return!1}get softOpening(){return!1}get toolPanelLayout(){return M.wS.NORMAL}get toolCollapsed(){return!1}}const F=new H;var B=i(34029);class V extends B.e{constructor(){super(...arguments),this.setProperty=s,this.setLocalStorageProperty=s,this.hasProperty=a,this.tryGetProperty=s,this.getProperty=s,this.getOverrideParam=s,this.iterate=s}}const G=new V,W={editMode:!1,mainDiv:document.createElement("div"),queue:new n.gO,messageBus:m,userData:L,toolsData:F,settings:G,analytics:O,engine:E,market:p,commandBinder:v,locale:A}},33558:(e,t,i)=>{"use strict";i.d(t,{I:()=>r});var n=i(67294),s=i(19801);const r=(0,n.createContext)(s.O)},45755:(e,t,i)=>{"use strict";i.d(t,{u:()=>r,m:()=>a});var n=i(67294),s=i(33558);function r(e){return()=>a(e)}function a(e){const{market:t}=(0,n.useContext)(s.I),[i,r]=(0,n.useState)(t.tryGetData(e));return(0,n.useEffect)((()=>{let i=!1;return t.waitForData(e).then((e=>{i||r(e)})),()=>{i=!0}}),[t,e]),i}},74554:(e,t,i)=>{"use strict";i.d(t,{M:()=>r});var n=i(85893),s=i(67294);function r(e,t){return i=>(0,s.forwardRef)(((s,r)=>{const a=t(),o=Object.assign(Object.assign({},s),{[e]:a});return(0,n.jsx)(i,Object.assign({},o,{ref:r}))}))}},74349:(e,t,i)=>{"use strict";i.d(t,{s:()=>o});var n=i(67294),s=i(45755),r=i(58892);const a=(0,s.u)(r.v);function o(){const e=a(),[t,i]=(0,n.useState)((null==e?void 0:e.getAccordionGroupCollapsedStates())||{});(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){e&&i(e.getAccordionGroupCollapsedStates())}const n=e.onAccordionCollapsedGroupsChanged(t);return t(),()=>n.cancel()}),[e]);return[t,(t,i)=>{e&&e.setAccordionGroupCollapsed(t,i)}]}},73085:(e,t,i)=>{"use strict";i.d(t,{M:()=>r,v:()=>a});var n=i(67294),s=i(45755);function r(e,t,i){return()=>a(e,t,i)}function a(e,t,i){const r=(0,s.m)(e),[a,o]=(0,n.useState)(r?r[t]:i);return(0,n.useEffect)((()=>{if(!r)return()=>{};const e=r.onPropertyChanged(t,o);return o(r[t]),()=>e.cancel()}),[r,t]),a}},61531:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});var n=i(67294),s=i(33558);function r(e,t){const{messageBus:i}=(0,n.useContext)(s.I);(0,n.useEffect)((()=>{const n=i.subscribe(e,t);return()=>n.cancel()}),[i,e,t])}},36964:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var n=i(67294);function s(e){const[t,i]=(0,n.useState)(e.value);return(0,n.useEffect)((()=>{const t=e.onChanged(i);return i(e.value),()=>t.cancel()}),[e]),t}},47764:(e,t,i)=>{"use strict";i.d(t,{L:()=>r});var n=i(67294),s=i(33558);function r(e,t=null){const{settings:i}=(0,n.useContext)(s.I);return i.getOverrideParam(e,t)}},51978:(e,t,i)=>{"use strict";i.d(t,{y:()=>r});var n=i(67294),s=i(33558);function r(e,t){const{settings:i}=(0,n.useContext)(s.I),[r,a]=(0,n.useState)(i.tryGetProperty(e,t));return(0,n.useEffect)((()=>{if(!e)return a(t),()=>{};const n=()=>{a(i.tryGetProperty(e,t))},s=i.onPropertyChanged(e,n);return n(),()=>s.cancel()}),[i,e,t]),r}},5016:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>N});var n=i(97542),s=i(57956),r=i(67294),a=i(20745),o=i(33558),l=i(19801),c=i(85893),d=i(50540),u=i(94184),h=i.n(u),p=i(98010);class m extends p.v{constructor(e){super(),this.open=e}}var f=i(38490),g=i(97998),v=i(73698);const b=new g.Z("alert-notification");class y extends r.Component{constructor(e){super(e),this.throttledMessages=new Map,this.onClose=()=>{clearTimeout(this.alertTimer),this.setState({open:!1})},this.state={open:!1}}componentDidMount(){this.update()}componentWillUnmount(){this.state.open&&this.props.messageBus.broadcast(new m(!1))}UNSAFE_componentWillReceiveProps(e){this.update(e)}componentDidUpdate(e,t){this.state.open!==t.open&&this.props.messageBus.broadcast(new m(this.state.open))}update(e=this.props){const{show:t,timeout:i,message:n,throttle:s,type:r}=e,{analytics:a}=this.context;if(t){if(s>0){if(this.throttledMessages.has(n)&&this.throttledMessages.get(n)>Date.now())return void b.debug(`Suppressed alert dialog due to message throttling: ${n}`);this.throttledMessages.set(n,Date.now()+1e3*s)}clearTimeout(this.alertTimer),this.setState({open:!0}),i>0&&(this.alertTimer=window.setTimeout(this.onClose,1e3*i)),a&&a.track("alert_gui",{alert_action:"show",alert_type:r,alert_message:n})}}render(){const{title:e,message:t,type:i}=this.props,{open:n}=this.state,s={active:n,[`notification-${i}`]:!0};return(0,c.jsxs)("aside",Object.assign({className:h()("alert-notification",s)},{children:[(0,c.jsxs)("div",Object.assign({className:"notification-body"},{children:[e&&(0,c.jsx)("h3",Object.assign({className:"notification-title"},{children:e})),(0,c.jsx)("p",Object.assign({className:"notification-text"},{children:t}))]})),(0,c.jsx)(f.P,{buttonStyle:f.A.LIGHT,onClose:this.onClose,hideTooltip:!0})]}))}}y.contextType=o.I,y.defaultProps={type:v.N.INFO,show:!1,timeout:10,throttle:0};var E=i(67223);class S extends r.Component{constructor(e){super(e),this.bindings=[],this.state={guiError:!1,errorMessagePhraseKey:""}}componentDidMount(){const{commandBinder:e}=this.context;this.bindings.push(e.addBinding(d.I,(async e=>{this.showErrorMessage(e.messagePhraseKey,e.options)})))}componentWillUnmount(){this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}componentDidUpdate(e,t){const{guiError:i}=this.state;i&&this.setState({guiError:!1})}showErrorMessage(e,t){this.setState({guiError:!0,errorMessagePhraseKey:e,errorOptions:t})}render(){const{messageBus:e,locale:t}=this.context,{guiError:i,errorMessagePhraseKey:n,errorOptions:s}=this.state;let r=n&&t.t(n);const{error:a}=s||{};return a&&(0,E.bh)(a)&&(r=`${r} (${a.code})`),(0,c.jsx)(y,Object.assign({messageBus:e,show:i,message:r},s))}}S.contextType=o.I;var T=i(34029),O=i(20436),_=i(58892);class N extends n.Y{constructor(){super(...arguments),this.name="gui",this.workshopApp=!1,this.onAppReadyChanged=(e,t)=>{this.workshopApp&&(t&&e?this.mainDiv.classList.add("edit-mode"):this.mainDiv.classList.remove("edit-mode"))}}async init(e,t){this.workshopApp=e.workshopApp,this.mainDiv=e.mainDiv,this.container=e.container,this.reactContainer=e.reactContainer,this.queue=e.queue,this.engine=t,this.messageBus=t,this.market=t.market,this.commandBinder=t.commandBinder;const i=t.getModuleBySymbol(s.y.LOCALE),n=t.getModuleBySymbol(s.y.SHOWCASE_ANALYTICS),r=t.market.waitForData(O.m),a=t.market.waitForData(T.e);this.mainArgs=await Promise.all([i,n,a,r]),this.loadErrorBar(this.mainArgs),this.guiViewData=new _.v,this.market.register(this,_.v,this.guiViewData)}dispose(e){this.bindings.forEach((e=>{e.cancel()})),this.bindings=[]}async loadUi(e){let t=[];return t=t.concat(this.mainArgs),t=t.concat([this.mainDiv,this.reactContainer,this.engine,this.messageBus,this.market,this.commandBinder,this.onAppReadyChanged,this.queue]),e.apply(this,t)}loadErrorBar(e){((e,t,i,n,s,c,d)=>{const u=document.createElement("div");u.className="error-bar",n.insertBefore(u,n.firstElementChild);const h=Object.assign(Object.assign({},l.O),{messageBus:e,commandBinder:t,market:i,analytics:s,settings:c,locale:d});(0,a.s)(u).render((0,r.createElement)(o.I.Provider,{value:h},[(0,r.createElement)(S,{key:"error-bar"})]))})(this.engine,this.commandBinder,this.market,this.container,e[1],e[2],e[0])}}},40505:(e,t,i)=>{"use strict";i.d(t,{nV:()=>s,Z_:()=>r,bN:()=>a,SN:()=>o});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.modal=e,this.open=t}}class r extends n.v{constructor(e){super(),this.isOpen=e}}class a extends n.v{constructor(e){super(),this.suppress=e}}class o extends n.v{constructor(e,t){super(),this.textElement=e,this.focused=t}}},73698:(e,t,i)=>{"use strict";var n;i.d(t,{N:()=>n}),function(e){e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(n||(n={}))},6608:(e,t,i)=>{"use strict";i.d(t,{C:()=>c});var n=i(85893),s=i(67294),r=i(38772),a=i(94184),o=i.n(a),l=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let c=class extends s.Component{constructor(e){super(e)}render(){const{iconClass:e,label:t,badgeStyle:i,onClick:s}=this.props;return(0,n.jsxs)("span",Object.assign({className:o()("badge",{clickable:!!s}),style:i,onClick:s},{children:[e&&(0,n.jsx)("span",{className:`icon badge-icon ${e}`}),t&&(0,n.jsx)("span",Object.assign({className:"badge-label"},{children:t}))]}))}};c=l([r.Z],c)},26340:(e,t,i)=>{"use strict";i.d(t,{C:()=>n,X:()=>d});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(38772),c=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.FILTER=1]="FILTER"}(n||(n={}));let d=class extends r.Component{constructor(e){super(e),this.onChange=e=>{this.props.stopPropagation&&e.stopPropagation(),this.setState((e=>({checkedValue:!e.checkedValue})),(()=>{this.props.onChange&&this.props.onChange(this.checkboxElement,...this.props.onChangeArgs||[])}))},this.setCheckboxRef=e=>{this.checkboxElement=e},this.state={checkedValue:e.checked}}UNSAFE_componentWillReceiveProps(e){this.setState({checkedValue:e.checked})}render(){const{checkboxStyle:e=n.DEFAULT,className:t,dataValue:i,enabled:r,error:a,helpText:l,id:c,label:d}=this.props,{checkedValue:u}=this.state,h=!r;return(0,s.jsxs)("div",Object.assign({ref:this.setCheckboxRef,id:c,role:"checkbox","aria-checked":u?"true":"false","aria-disabled":h,"data-value":i,className:o()("checkbox-element",`checkbox-style-${n[e].toLowerCase()}`,{checked:u,disabled:h,error:a},t),onClick:this.onChange},{children:[e!==n.FILTER&&(0,s.jsx)("div",{className:"checkbox icon-checkmark"}),(0,s.jsx)("div",Object.assign({className:"checkbox-text"},{children:d})),l&&(0,s.jsx)("span",Object.assign({className:"help-text"},{children:l}))]}))}};d.defaultProps={enabled:!0,error:!1},d=c([l.Z],d)},86941:(e,t,i)=>{"use strict";i.d(t,{$:()=>u});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(38772),c=i(49827),d=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let u=n=class extends r.Component{constructor(e){super(e),this.strokePattern=[0,100],this.strokeOffset=0,this.innerRadius=15.92,this.strokeWidth=1,this.drawRadius=this.innerRadius+this.strokeWidth/2,this.updateSvgAttributes(e),this.elementId=this.props.id||"circle-progress-"+n.id++}UNSAFE_componentWillReceiveProps(e){this.updateSvgAttributes(e)}updateSvgAttributes(e){this.strokeWidth=e.barWidth||this.strokeWidth,this.innerRadius=e.innerRadius||this.innerRadius,this.drawRadius=this.innerRadius+this.strokeWidth/2;const t=2*this.drawRadius*Math.PI;this.strokeOffset=t*(e.startPosition||this.strokeOffset),this.strokePattern[0]=t*(0,c.uZ)(e.progress,0,100)/100,this.strokePattern[1]=t-this.strokePattern[0]}render(){const{progressColor:e}=this.props,t=2*(this.innerRadius+this.strokeWidth),i=t/2;return(0,s.jsxs)("svg",Object.assign({id:this.elementId,className:o()("circular-progress",this.props.className),viewBox:`${-i} ${-i} ${t} ${t}`},{children:[(0,s.jsx)("circle",{className:"bar-bg",cx:"0",cy:"0",r:this.drawRadius,transform:"rotate(-90) "+(this.props.ccw?"scale(-1 1)":""),strokeDasharray:`${this.strokePattern[1]} ${this.strokePattern[0]}`,strokeDashoffset:this.strokeOffset-this.strokePattern[0],strokeWidth:this.strokeWidth,fill:"none"}),(0,s.jsx)("circle",{className:e?void 0:"progress",cx:"0",cy:"0",r:this.drawRadius,transform:"rotate(-90) "+(this.props.ccw?"scale(-1 1)":""),strokeDasharray:`${this.strokePattern[0]} ${this.strokePattern[1]}`,strokeWidth:this.strokeWidth,stroke:e,fill:"none"}),this.props.children]}))}};u.id=0,u=n=d([l.Z],u)},27854:(e,t,i)=>{"use strict";i.d(t,{i:()=>b});var n=i(85893),s=i(91033),r=i(94184),a=i.n(r),o=i(67294),l=i(16507),c=i(38772),d=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};var h;!function(e){e.UP="up",e.DOWN="down"}(h||(h={}));let p=class extends o.Component{constructor(e){super(e),this.elementRef=(0,o.createRef)(),this.onOutsideClick=e=>{this.toggleDropdown(!1)},this.onToggleClick=e=>{e.stopPropagation(),this.toggleDropdown()},this.onTransitionEnd=e=>{e&&e.target!==e.currentTarget||(window.clearTimeout(this.transitionTimeout),this.setState({transitioning:!1}))},this.toggleDropdown=e=>{const{open:t}=this.state,i=void 0!==e?e:!t;i?window.addEventListener("click",this.onOutsideClick):window.removeEventListener("click",this.onOutsideClick),this.transitionTimeout=window.setTimeout(this.onTransitionEnd,1e3),this.setState({open:i,transitioning:!0})},this.state={open:!1,transitioning:!1}}componentWillUnmount(){window.removeEventListener("click",this.onOutsideClick)}render(){const{open:e,transitioning:t}=this.state,i=this.props,{children:s,className:r,direction:o}=i,c=u(i,["children","className","direction"]),d={up:o===h.UP,open:e,transitioning:t};return(0,n.jsxs)("div",Object.assign({ref:this.elementRef,className:a()("dropdown",d,r)},c,{children:[(0,n.jsx)("div",Object.assign({className:"dropdown-mask"},{children:(0,n.jsx)("div",Object.assign({className:"dropdown-menu",onTransitionEnd:this.onTransitionEnd},{children:s}))})),(0,n.jsx)("div",Object.assign({className:"dropdown-toggle"},{children:(0,n.jsx)(l.hU,{iconClass:"icon-toolbar-more-horiz",onClick:this.onToggleClick,className:"dropdown-toggle"})}))]}))}};p.defaultProps={direction:h.DOWN},p=d([c.Z],p);var m=i(95912),f=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},g=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const v="collapsed";let b=class extends o.Component{constructor(e){super(e),this.contentRef=(0,o.createRef)(),this.collapsedRef=(0,o.createRef)(),this.toggleRef=(0,o.createRef)(),this.onResize=()=>{this.update()},this.update=(0,m.P)((()=>{var e;const t=null===(e=this.toggleRef.current)||void 0===e?void 0:e.elementRef.current,i=this.contentRef.current,n=this.collapsedRef.current;if(!i||!n||!t)return;const s=i.children,r=n.children;if(!s||s.length!==r.length)return;const{collapsed:a}=this.state,o=i.offsetWidth,l=t.offsetWidth||0;let c=0,d=0;for(let e=0;e<s.length;e++){let t=s[e].offsetWidth||0;d||e!==s.length-1||(t-=l),c+=t,c<=o?(s[e].classList.remove(v),r[e].classList.add(v)):(d++,s[e].classList.add(v),r[e].classList.remove(v))}!!d!==a&&this.setState({collapsed:!a})}),50),this.state={collapsed:!1},this.observer=new s.Z(this.onResize)}componentDidMount(){this.connectObserver(),this.update()}componentDidUpdate(){this.update()}componentWillUnmount(){this.disconnectObserver(),this.reset()}connectObserver(){const e=this.contentRef.current;e&&this.observer.observe(e)}disconnectObserver(){this.observer&&this.observer.disconnect()}reset(){const e=this.contentRef.current;if(!e)return;const t=e.querySelectorAll(".collapsed");Array.from(t).forEach((e=>e.classList.remove(v)))}render(){const e=this.props,{children:t,className:i}=e,s=g(e,["children","className"]),{collapsed:r}=this.state,o=`collapsible-list ${i}`,l={hidden:!r};return t&&Array.isArray(t)?(0,n.jsxs)("div",Object.assign({className:a()(o)},s,{children:[(0,n.jsx)("div",Object.assign({ref:this.contentRef,className:"collapsible-list-items"},{children:t})),(0,n.jsx)(p,Object.assign({ref:this.toggleRef,direction:h.UP,className:a()(l)},{children:(0,n.jsx)("div",Object.assign({ref:this.collapsedRef,className:"collapsible-list-menu"},{children:t}))}))]})):t}};b.defaultProps={},b=f([c.Z],b)},17364:(e,t,i)=>{"use strict";i.d(t,{z:()=>c});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(38772),l=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let c=class extends s.Component{constructor(e){super(e),this.clickColor=e=>{const t=e.currentTarget;if(t&&t.dataset){const i=t.dataset.value;i&&(e.stopPropagation(),this.props.onColorPicked(i),this.setState({activeColor:i}))}},this.renderColorSwatch=e=>{const{activeColor:t}=this.state,i={backgroundColor:e},s=a()({"color-swatch":!0,"icon-checkmark":!0,active:e===t});return(0,n.jsx)("div",{className:s,style:i,"data-value":e,onClick:this.clickColor},e)},this.state={activeColor:e.defaultColor||""}}UNSAFE_componentWillReceiveProps(e){e.defaultColor&&!this.state.activeColor&&this.setState({activeColor:e.defaultColor})}render(){const{colors:e}=this.props;return(0,n.jsx)("div",Object.assign({className:"color-picker"},{children:e.map((e=>this.renderColorSwatch(e)))}))}};c=l([o.Z],c)},48534:(e,t,i)=>{"use strict";i.d(t,{lZ:()=>n,ig:()=>s,oO:()=>u});var n,s,r=i(85893),a=i(67294),o=i(38772),l=i(94184),c=i.n(l),d=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};!function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e.UP_LEFT="up-left",e.UP_RIGHT="up-right",e.DOWN_LEFT="down-left",e.DOWN_RIGHT="down-right"}(n||(n={})),function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.XLARGE="xlarge",e.FIT="fit"}(s||(s={}));let u=class extends a.Component{constructor(e){super(e),this.onClick=e=>{this.props.showOnClick&&this.setState((e=>({persist:!e.persist}))),void 0!==this.props.tooltipTimeout&&window.setTimeout((()=>{this.setState({tooltipEnabled:!1})}),this.props.tooltipTimeout)},this.onMouseEnter=e=>{this.enableTooltip(),this.adjustBalloonPosIfNeeded(e)},this.enableTooltip=()=>{this.setState({tooltipEnabled:!0})},this.state={currentPosition:null,tooltipEnabled:!0,persist:!1}}render(){const{children:e,position:t,content:i,className:n,tooltipWidth:s}=this.props,{currentPosition:a,tooltipEnabled:o,persist:l}=this.state;return(0,r.jsx)("div",Object.assign({role:"button","data-balloon":i,"data-balloon-pos":a||t,"data-balloon-width":s,"data-balloon-persist":l||void 0,className:c()("data-balloon",n,{disabled:!o}),onClick:this.onClick,onTouchStart:this.enableTooltip,onMouseEnter:this.onMouseEnter},{children:e}))}adjustBalloonPosIfNeeded(e){const{currentPosition:t}=this.state;if(null===t){const t=e.target,{position:i}=this.props;let s=i;if(i!==n.LEFT&&i!==n.RIGHT){const e=window.getComputedStyle(t,":after"),r=e.width?parseInt(e.width,10):0;if(r>0){const e=t.getBoundingClientRect(),a=(r-e.width)/2,o=i===n.UP||i===n.UP_RIGHT||i===n.UP_LEFT;e.left-a<=0?s=o?n.UP_RIGHT:n.DOWN_RIGHT:(i===n.UP_LEFT||i===n.DOWN_LEFT)&&e.left-r<=0?s=o?n.UP:n.DOWN:e.right+a>=window.innerWidth?s=o?n.UP_LEFT:n.DOWN_LEFT:(i===n.UP_RIGHT||i===n.DOWN_RIGHT)&&e.right+r>=window.innerWidth&&(s=o?n.UP:n.DOWN)}}this.setState({currentPosition:s})}}};u=d([o.Z],u)},6335:(e,t,i)=>{"use strict";i.d(t,{X:()=>o});var n=i(85893),s=i(94184),r=i.n(s),a=i(67294);function o({resource:e,className:t}){const[i]=function(e){var t;const[i,n]=(0,a.useState)(e.getCurrentValue()),[s,r]=(0,a.useState)(null===(t=e.validUntil)||void 0===t?void 0:t.getTime()),o=!!s&&s-Date.now()<=0;return(0,a.useEffect)((()=>{if(void 0===s)return()=>{};let t=!1;const i=s-Date.now(),a=()=>{e.get().then((i=>{var s;t||(n(i),r(null===(s=e.validUntil)||void 0===s?void 0:s.getTime()))}))};if(i<=0)return a(),()=>t=!0;const o=window.setTimeout(a,i);return()=>{t=!0,window.clearTimeout(o)}}),[e,s]),(0,a.useEffect)((()=>{n(e.getCurrentValue())}),[e]),[i,o]}(e),s=i?{backgroundImage:`url('${i}')`}:{};return(0,n.jsx)("div",{className:r()(t),style:s})}},16507:(e,t,i)=>{"use strict";i.d(t,{Dd:()=>s,hU:()=>f});var n,s,r=i(85893),a=i(67294),o=i(94184),l=i.n(o),c=i(38772),d=i(31362),u=i(48534),h=i(25328),p=i(33558),m=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};!function(e){e.CLEAR="clear",e.PLAIN="plain",e.OVERLAY="overlay",e.PRIMARY="primary",e.SOCIAL="social",e.TOOLBAR="toolbar"}(s||(s={}));let f=n=class extends a.Component{constructor(e){super(e),this.onClick=e=>{const t=this.props.buttonState;t!==h.BN.BUSY&&t!==h.BN.DISABLED&&this.props.onClick&&this.props.onClick(e)},this.onMouseDown=e=>{const{onMouseDown:t,onClick:i,buttonState:s}=this.props;if(t)t(e);else if(n.iMobile&&i&&s!==h.BN.BUSY&&s!==h.BN.DISABLED){const t=this.context.mainDiv.getRootNode().activeElement;t&&e.cancelable&&(t.blur(),e.preventDefault())}}}render(){const{ariaLabel:e,breakoutTooltip:t,buttonSize:i,buttonState:n,buttonStyle:a,children:o,className:c,dataValue:d,iconClass:p,id:m,onClick:f,onMouseUp:g,tooltipMsg:v,tooltipPersist:b,tooltipPosition:y,tooltipPreformatted:E,tooltipWidth:S}=this.props,T=n===h.BN.DISABLED,O=n===h.BN.BUSY,_=n===h.BN.DECORATIVE,N=!T&&!O&&!_,A=v?y||u.lZ.DOWN:void 0,w=v?!!E:void 0,I={"button-small":i===h.qE.SMALL,"button-large":i===h.qE.LARGE,"button-disabled":T,"button-dimmed":n===h.BN.DIMMED,"button-active":n===h.BN.ACTIVE,"button-busy":O,"button-interactive":N,"icon-button-primary":a===s.PRIMARY,"icon-button-overlay":a===s.OVERLAY,"icon-button-plain":a===s.PLAIN,"icon-button-social":a===s.SOCIAL,"icon-button-toolbar":a===s.TOOLBAR,"icon-button-breakout-tooltip":t},k={id:m,role:"button","aria-label":e||v,"aria-disabled":T,"data-value":d,className:l()("icon-button",I,c),onClick:f?this.onClick:void 0,onMouseUp:g,onMouseDown:this.onMouseDown},P={"data-balloon":v,"data-balloon-pos":A,"data-balloon-width":S,"data-balloon-pre":w,"data-balloon-persist":b};return t||Object.assign(k,P),(0,r.jsxs)("div",Object.assign({},k,{children:[t&&(0,r.jsx)("div",Object.assign({className:"icon-button-breakout-tooltip-container"},{children:(0,r.jsx)("div",Object.assign({className:"icon-button-breakout-tooltip-trigger"},P))})),p&&(0,r.jsx)("span",{className:`icon ${p}`}),o]}))}};f.contextType=p.I,f.iMobile=(0,d.Tt)()||(0,d._1)(),f=n=m([c.Z],f)},71215:(e,t,i)=>{"use strict";i.d(t,{r:()=>o});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r);class o extends s.Component{render(){const{className:e,href:t,children:i,onClick:s}=this.props;return(0,n.jsx)("a",Object.assign({className:a()("link",{className:e}),href:t,target:"_blank",onClick:s},{children:i}))}}},85535:(e,t,i)=>{"use strict";i.d(t,{$:()=>d});var n=i(85893),s=i(67294),r=i(38772),a=i(47457),o=i(32597),l=i(33558),c=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let d=class extends s.Component{constructor(){super(...arguments),this.onKey=async e=>{if(this.props.disabled)return;switch(e.keyCode){case o.R.COMMA:this.onGotoPrev();break;case o.R.PERIOD:this.onGotoNext()}},this.onGotoNext=()=>{const e=this.getNextIndex();-1!==e&&this.props.onNavigate(e)},this.onGotoPrev=()=>{const e=this.getPrevIndex();-1!==e&&this.props.onNavigate(e)}}componentDidMount(){this.context.mainDiv.getRootNode().addEventListener("keydown",this.onKey,{capture:!0})}componentWillUnmount(){this.context.mainDiv.getRootNode().removeEventListener("keydown",this.onKey,{capture:!0})}getNextIndex(){const{total:e,index:t,wrapAround:i}=this.props;return t+1<e?t+1:i?0:-1}getPrevIndex(){const{total:e,index:t,wrapAround:i}=this.props;return t>0?t-1:i?e-1:-1}render(){const{total:e,index:t,disabled:i,overlay:s}=this.props;if(e<2||-1===t)return null;const r=s?"dark":"light",o=s?void 0:a.qE.LARGE,l=`${t+1} of ${e}`;return(0,n.jsxs)("div",Object.assign({className:"list-nav"},{children:[(0,n.jsx)(a.zx,{icon:"dpad-left",variant:a.Wu.TERTIARY,size:o,disabled:i,theme:r,onClick:this.onGotoPrev}),(0,n.jsx)("span",Object.assign({className:"list-nav-label"},{children:l})),(0,n.jsx)(a.zx,{icon:"dpad-right",variant:a.Wu.TERTIARY,size:o,disabled:i,theme:r,onClick:this.onGotoNext})]}))}};d.contextType=l.I,d=c([r.Z],d)},95229:(e,t,i)=>{"use strict";i.d(t,{E:()=>c});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(38772),l=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let c=class extends s.Component{constructor(e){super(e),this.onChange=e=>{this.props.onChange(e)}}render(){const{id:e,name:t,value:i,checked:s,children:r,enabled:o}=this.props,l=!o;return(0,n.jsxs)("div",Object.assign({className:a()("radio-element","radio-button",{disabled:l})},{children:[(0,n.jsx)("input",{type:"radio",id:e,name:t,value:i,checked:s,onChange:this.onChange}),(0,n.jsx)("label",Object.assign({htmlFor:e},{children:r}))]}))}};c=l([o.Z],c)},33057:(e,t,i)=>{"use strict";i.d(t,{S:()=>c,K:()=>n});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(3773);class c extends r.Component{constructor(e){super(e),this.onSelectOption=e=>{const{onChange:t}=this.props,i=e.target.getAttribute("data-value");this.closeMenu(),t(i)},this.onClick=e=>{const{open:t}=this.state;return t?this.closeMenu():this.openMenu()},this.onTooltipClose=()=>{this.closeMenu()},this.state={open:!1}}getSelectedOption(){return this.props.options.find((e=>e.selected))||null}openMenu(){this.setState({open:!0})}closeMenu(){this.setState({open:!1})}renderPopupContents(){const e=[];return this.props.options.forEach(((t,i)=>{const n=t.className||"";e.push((0,s.jsx)("div",Object.assign({"data-value":t.value,className:o()({tpMsg:!0,disabled:!!t.disabled,[n]:!!n}),onClick:this.onSelectOption},{children:t.text}),`${i}-${t.value}`))})),(0,s.jsx)("div",Object.assign({className:"tooltip-menu"},{children:e}))}render(){const{arrowPos:e,className:t,id:i,label:r,menuStyle:a,placeholder:c}=this.props,{open:d}=this.state,u=this.getSelectedOption(),h=a===n.BUTTON,p=a===n.DROPDOWN,m=o()("select-popup",{"select-button":h,"select-dropdown":p},t),f=u?u.selectedText||u.text:c||"";return(0,s.jsxs)("div",Object.assign({className:m,id:i},{children:[r&&(0,s.jsx)("label",Object.assign({className:"select-label"},{children:r})),(0,s.jsxs)("div",Object.assign({className:"select-trigger",onClick:this.onClick},{children:[(0,s.jsx)("span",Object.assign({className:"select-menu-text"},{children:f})),(0,s.jsx)("span",{className:"icon icon-dpad-down"}),(0,s.jsx)(l.u,{open:!!d,onClose:this.onTooltipClose,message:this.renderPopupContents(),arrowPos:e||l.x.NONE,bodyClassName:"item-tooltip"})]}))]}))}}!function(e){e[e.DROPDOWN=0]="DROPDOWN",e[e.BUTTON=1]="BUTTON"}(n||(n={}))},98025:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r);function o({children:e,className:t}){const i=(0,s.useCallback)((e=>{e.stopPropagation()}),[]);return(0,n.jsx)("div",Object.assign({className:a()("settings-container settings-box",t),onClick:i},{children:e}))}},49452:(e,t,i)=>{"use strict";i.d(t,{w:()=>a});var n=i(85893),s=i(94184),r=i.n(s);function a({label:e,children:t,className:i}){return(0,n.jsxs)("div",Object.assign({className:r()("settings-toggle",i)},{children:[(0,n.jsx)("div",Object.assign({className:"settings-label"},{children:e})),t]}))}},77543:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(91033),l=i(49827),c=i(16441),d=i(8659),u=i(92915),h=i(4510),p=i(57151),m=i(23885),f=i(16507),g=i(25328);class v extends s.Component{constructor(e){super(e),this.outerWrapperRef=(0,s.createRef)(),this.innerWrapperRef=(0,s.createRef)(),this.contentContainerRef=(0,s.createRef)(),this.dragStartScroll=0,this.listening=!1,this.animation=null,this.handlingPaused=!1,this.isDragging=!1,this.isUnmounting=!1,this.handleEvent=e=>{"mousedown"!==e.type&&"pointerdown"!==e.type&&"touchstart"!==e.type||(this.handlingPaused=!1),this.props.suppressDrag||this.handlingPaused||this.inputFilter.handleEvent(e)},this.getScrolledOffset=()=>{if(!this.innerWrapperRef.current||0===this.state.contentSize)return 0;const e=this.props.direction===d.Nm.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]/this.state.contentSize},this.getScrollableContainer=()=>this.innerWrapperRef.current||void 0,this.pauseScrollHandling=()=>{this.handlingPaused=!0,this.toggleDownEventListening(!1)},this.scrollWithScrollBar=e=>{if(!this.props.suppressDrag){const t=this.getAxis();e.hasOwnProperty(t)&&this.scrollTo(e[t])}},this.scrollTo=e=>{void 0===e||isNaN(e)||(this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentSize,0)),this.setState({scrollOffset:this.getScrollPosition()}))},this.handleDragStart=()=>{this.setState({scrollCenter:null}),this.isDragging=!0},this.handlePressStart=()=>{this.dragStartScroll=this.getScrollPosition()},this.handlePressMove=e=>{if(!this.props.suppressDrag){const t=(e[this.getAxis()]+this.dragStartScroll)/this.state.contentSize;this.scrollTo(t)}},this.handleWheelEvent=e=>{if(this.props.suppressDrag)return void e.preventDefault();this.props.direction===d.Nm.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.setState({scrollCenter:null}),this.handleExternalChange())},this.handleClick=e=>{this.props.handleClick&&this.props.handleClick(e)},this.handleDragEnd=(e,t)=>{this.isDragging=!1;const i=e[this.getAxis()]/t,n=Math.min(d.UI,Math.abs(d.UI*i)),s=this.getScrollPosition(),r=i*n/2;this.animation=new h.Z({duration:n,startValue:s/this.state.contentSize,endValue:Math.max(0,Math.min((s+r)/this.state.contentSize,1)),easingFunction:m.hl})},this.handleResize=()=>{!this.isUnmounting&&this.innerWrapperRef.current&&this.contentContainerRef.current&&this.state.scrollCenter&&this.scrollToElement(this.state.scrollCenter)},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.onManualScroll=()=>{this.props.onScrolled&&this.props.onScrolled()},this.onButtonScroll=e=>{if(this.contentContainerRef.current&&this.props.steps){const t=this.props.direction===d.Nm.vertical?"offsetHeight":"offsetWidth",i=this.contentContainerRef.current[t]/this.props.steps,n=this.getScrollPosition();let s;s=e?(n+i)/this.state.contentSize:(n-i)/this.state.contentSize,this.scrollTo((0,l.uZ)(s,0,1))}},this.onScrollBack=()=>{this.onButtonScroll(!1)},this.onScrollForward=()=>{this.onButtonScroll(!0)},this.onHoldScrollBack=()=>{this.mouseInterval=window.setInterval(this.onScrollBack,300)},this.onHoldScrollForward=()=>{this.mouseInterval=window.setInterval(this.onScrollForward,300)},this.onScrollButtonUp=()=>{window.clearInterval(this.mouseInterval)},this.renderScrollBackButton=()=>{const e=this.getScrollPosition(),t=this.props.direction===d.Nm.vertical?"icon-dpad-up":"icon-dpad-left",i=0===e?g.BN.DISABLED:g.BN.ENABLED;return(0,n.jsx)(f.hU,{className:a()("scroll-button","scroll-back"),iconClass:t,buttonStyle:f.Dd.CLEAR,buttonState:i,onClick:this.onScrollBack,onMouseDown:this.onHoldScrollBack,onMouseUp:this.onScrollButtonUp})},this.renderScrollForwardButton=()=>{const e=this.contentContainerRef.current,t=this.innerWrapperRef.current;if(!e||!t)return null;const i=this.getScrollPosition(),s=this.props.direction===d.Nm.vertical?"offsetHeight":"offsetWidth",r=this.props.direction===d.Nm.vertical?"icon-dpad-down":"icon-dpad-right",o=e[s]-t[s]-i>0?g.BN.ENABLED:g.BN.DISABLED;return(0,n.jsx)(f.hU,{className:a()("scroll-button","scroll-forward"),iconClass:r,buttonStyle:f.Dd.CLEAR,buttonState:o,onClick:this.onScrollForward,onMouseDown:this.onHoldScrollForward,onMouseUp:this.onScrollButtonUp})},this.state={scrollCenter:null,scrollOffset:0,innerSize:0,contentSize:0},this.resizeObserver=new o.Z(this.handleResize),this.inputFilter=new p.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick})}componentDidMount(){this.outerWrapperRef.current&&this.resizeObserver.observe(this.outerWrapperRef.current),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick):this.toggleDownEventListening(!0),this.toggleDragHandling(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("wheel",this.handleWheelEvent),this.inputFilter.setEnabled(!this.props.suppressDrag),this.handleExternalChange(!0)}componentWillUnmount(){this.isUnmounting=!0,this.resizeObserver.disconnect(),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("wheel",this.handleWheelEvent),this.toggleDragHandling(!1),this.props.thumbScrollingOnly?this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick):this.toggleDownEventListening(!1)}UNSAFE_componentWillReceiveProps(e){e.thumbScrollingOnly&&!this.props.thumbScrollingOnly?(this.innerWrapperRef.current&&this.innerWrapperRef.current.addEventListener("click",this.handleClick),this.toggleDownEventListening(!1)):!e.thumbScrollingOnly&&this.props.thumbScrollingOnly&&(this.toggleDownEventListening(!0),this.innerWrapperRef.current&&this.innerWrapperRef.current.removeEventListener("click",this.handleClick)),e.suppressDrag!==this.props.suppressDrag&&this.inputFilter.setEnabled(!e.suppressDrag)}componentDidUpdate(e,t){this.props.waitToUpdate||this.handleExternalChange();const i=this.animation;if(i)if(i.isAnimating){const e=i.getUpdatedValue();window.requestAnimationFrame((()=>{this.innerWrapperRef.current&&this.scrollTo(e)}))}else this.animation=null;t.scrollOffset!==this.state.scrollOffset&&this.props.onScrolled&&this.props.onScrolled()}toggleDownEventListening(e){const t=this.handleEvent;this.innerWrapperRef.current&&(e?window.PointerEvent?this.innerWrapperRef.current.addEventListener("pointerdown",t):(this.innerWrapperRef.current.addEventListener("mousedown",t),this.innerWrapperRef.current.addEventListener("touchstart",t)):window.PointerEvent?this.innerWrapperRef.current.removeEventListener("pointerdown",t):(this.innerWrapperRef.current.removeEventListener("mousedown",t),this.innerWrapperRef.current.removeEventListener("touchstart",t)))}toggleDragHandling(e){const t=this.handleEvent;!this.listening&&e?(this.listening=!0,window.PointerEvent?(window.addEventListener("pointermove",t),window.addEventListener("pointerup",t)):(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t))):this.listening&&!e&&(this.listening=!1,window.PointerEvent?(window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",t)):(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t)))}getScrollPosition(){if(!this.innerWrapperRef.current)return 0;const e=this.props.direction===d.Nm.vertical?"scrollTop":"scrollLeft";return this.innerWrapperRef.current[e]}setScrollPosition(e){if(!this.innerWrapperRef.current)return;const t=this.props.direction===d.Nm.vertical?"scrollTop":"scrollLeft";this.innerWrapperRef.current[t]=e}getAxis(){return this.props.direction===d.Nm.vertical?"y":"x"}scrollToPercentage(e,t){this.animation=new h.Z({duration:t,startValue:this.getScrolledOffset(),endValue:Math.max(0,Math.min(1,e))})}scrollToElement(e){const t=this.innerWrapperRef.current,i=this.outerWrapperRef.current;if(!e||!t||!i)return;if(!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINS))return;const n=this.props.direction===d.Nm.vertical;this.setState({scrollCenter:e});const s=n?"offsetTop":"offsetLeft",r=n?"offsetHeight":"offsetWidth";let a=e[s]+e[r]/2,o=e;for(;o.parentElement&&o!==t;)o=o.parentElement,a+=o[s];const l=(a-i.parentElement[r]/2)/this.state.contentSize;this.animation=new h.Z({duration:d.UI,startValue:this.getScrollPosition()/this.state.contentSize,endValue:Math.max(0,Math.min(1,l))})}handleExternalChange(e){if(this.isUnmounting||!this.innerWrapperRef.current||!this.contentContainerRef.current)return;const t=this.props.direction===d.Nm.vertical?"clientHeight":"clientWidth",i={innerSize:Number(this.innerWrapperRef.current&&this.innerWrapperRef.current[t])||1,contentSize:Number(this.contentContainerRef.current&&this.contentContainerRef.current[t])||1,scrollOffset:this.innerWrapperRef.current&&this.getScrollPosition()};(0,c.g)(this.state,i)&&(e?this.setState(i):this.debouncedSetState(i))}needScrolling(){if(!this.contentContainerRef.current||!this.outerWrapperRef.current)return!1;const e=this.props.direction===d.Nm.vertical?"offsetHeight":"offsetWidth";return this.contentContainerRef.current[e]>this.outerWrapperRef.current[e]}render(){const{hideScrollbar:e,children:t,onScrollableChanged:i,scrollButtons:s,steps:r,onScrollPositionChange:o,direction:l,className:c}=this.props,{innerSize:d,contentSize:h,scrollOffset:p}=this.state,m=s&&!!r&&this.needScrolling();return(0,n.jsxs)("div",Object.assign({className:a()("outerScrollbarWrapper",[l],[c],{"button-scrolling":m}),ref:this.outerWrapperRef},{children:[m&&this.renderScrollBackButton(),(0,n.jsx)("div",Object.assign({className:"innerScrollbarWrapper",ref:this.innerWrapperRef},{children:(0,n.jsx)("div",Object.assign({className:"paddingScrollbarWrapper",ref:this.contentContainerRef},{children:t}))})),(0,n.jsx)(u.L,{direction:l,wrapperLength:d,childLength:h,scrollOffset:p,scrollTo:this.scrollWithScrollBar,forceHidden:!!e,onVisibilityChange:i,onScrollPositionChange:o,onThumbDrag:this.onManualScroll}),m&&this.renderScrollForwardButton()]}))}}},68647:(e,t,i)=>{"use strict";i.d(t,{h:()=>J,S:()=>X});var n=i(85893),s=i(67294);var r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function a(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}Object.create;Object.create;var o=function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.create;function l(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,r=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return a}function d(e,t,i){if(i||2===arguments.length)for(var n,s=0,r=t.length;s<r;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;var u=i(94184),h=i.n(u),p=function(e){return(Array.isArray(e)?e:[e]).filter((function(e){return!!e})).map((function(e){return"mdc-theme--"+e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}))},m=s.forwardRef((function(e,t){var i=e.tag,n=void 0===i?"div":i,r=(e.theme,e.element),a=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}(e,["tag","theme","element"]),l=r?r.props(a):a,c=r?f(t,r.setRef):t;return s.createElement(n,o({},l,{ref:c}))})),f=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var i,n;try{for(var s=l(e),r=s.next();!r.done;r=s.next()){var a=r.value;"function"==typeof a?a(t):a&&"current"in a&&(a.current=t)}}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}}},g=function(e,t){"function"==typeof e?e(t):e&&"current"in e&&(e.current=t)};function v(e){var t=s.forwardRef(e),i=function(e,t){return s.createElement(s.Fragment,null)};return i.displayName=e.constructor.name||"RMWCComponent",t.displayName=i.displayName,t}var b={blur:"onBlur",cancel:"onCancel",click:"onClick",close:"onClose",contextmenu:"onContextMenu",copy:"onCopy",cut:"onCut",auxclick:"onAuxClick",doubleclick:"onDoubleClick",dragend:"onDragEnd",dragstart:"onDragStart",drop:"onDrop",focus:"onFocus",input:"onInput",invalid:"onInvalid",keydown:"onKeyDown",keypress:"onKeyPress",keyup:"onKeyUp",mousedown:"onMouseDown",mouseup:"onMouseUp",paste:"onPaste",pause:"onPause",play:"onPlay",pointercancel:"onPointerCancel",pointerdown:"onPointerDown",pointerup:"onPointerUp",ratechange:"onRateChange",reset:"onReset",seeked:"onSeeked",submit:"onSubmit",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchstart:"onTouchStart",volumechange:"onVolumeChange",abort:"onAbort",animationend:"onAnimationEnd",animationiteration:"onAnimationIteration",animationstart:"onAnimationStart",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",drag:"onDrag",dragenter:"onDragEnter",dragexit:"onDragExit",dragleave:"onDragLeave",dragover:"onDragOver",durationchange:"onDurationChange",emptied:"onEmptied",encrypted:"onEncrypted",ended:"onEnded",error:"onError",gotpointercapture:"onGotPointerCapture",load:"onLoad",loadeddata:"onLoadedData",loadedmetadata:"onLoadedMetadata",loadstart:"onLoadStart",lostpointercapture:"onLostPointerCapture",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseover:"onMouseOver",playing:"onPlaying",pointermove:"onPointerMove",pointerout:"onPointerOut",pointerover:"onPointerOver",progress:"onProgress",scroll:"onScroll",seeking:"onSeeking",stalled:"onStalled",suspend:"onSuspend",timeupdate:"onTimeUpdate",toggle:"onToggle",touchmove:"onTouchMove",transitionend:"onTransitionEnd",waiting:"onWaiting",wheel:"onWheel",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",change:"onChange",select:"onSelect",beforeinput:"onBeforeInput",compositionend:"onCompositionEnd",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate"},y=function(e){return b[e]||e},E=function(){function e(e){this._classes=new Set,this._events={},this._style={},this._props={},this._ref=null,this._onChange=null,this._onChange=e,this.onChange=this.onChange.bind(this),this.addClass=this.addClass.bind(this),this.removeClass=this.removeClass.bind(this),this.hasClass=this.hasClass.bind(this),this.setProp=this.setProp.bind(this),this.getProp=this.getProp.bind(this),this.removeProp=this.removeProp.bind(this),this.setStyle=this.setStyle.bind(this),this.addEventListener=this.addEventListener.bind(this),this.removeEventListener=this.removeEventListener.bind(this),this.setRef=this.setRef.bind(this)}return e.prototype.onChange=function(){this._onChange&&this._onChange()},e.prototype.destroy=function(){var e=this;this._onChange=null,this._events={},this._style={},this._props={},this._classes=new Set,setTimeout((function(){e._ref=null}))},e.prototype.addClass=function(e){this._classes.has(e)||(this._classes.add(e),this.onChange())},e.prototype.removeClass=function(e){this._classes.has(e)&&(this._classes.delete(e),this.onChange())},e.prototype.hasClass=function(e){return this._classes.has(e)},e.prototype.setProp=function(e,t,i){void 0===i&&(i=!1),this._props[e]!==t&&(this._props[e]=t,!i&&this.onChange())},e.prototype.getProp=function(e){return this._props[e]},e.prototype.removeProp=function(e){void 0!==this._props[e]&&(delete this._props[e],this.onChange())},e.prototype.props=function(e){var t=this,i=e.className,n=void 0===i?"":i,s=e.style,r=void 0===s?{}:s,a=Object.entries(e).reduce((function(e,i){var n=c(i,2),s=n[0],r=n[1],a=t._events[s];if("function"==typeof r&&"function"==typeof a){e[s]=function(e){return a(e),r(e)}}return e}),o({},this._events)),l=h()(n,d([],c(this._classes))),u=o(o({},this._style),r);return o(o(o(o({},e),this._props),a),{style:u,className:l})},e.prototype.setStyle=function(e,t){e=e.startsWith("--")?e:e.replace(/(-[a-z])/g,(function(e){return e.toUpperCase().replace("-","")})),this._style[e]!==t&&(this._style[e]=t,this.onChange())},e.prototype.addEventListener=function(e,t){var i=y(e);this._events[i]!==t&&(this._events[i]=t,this.onChange())},e.prototype.removeEventListener=function(e,t){var i=y(e);this._events[i]&&(delete this._events[i],this.onChange())},e.prototype.setRef=function(e){e&&(this._ref=e)},Object.defineProperty(e.prototype,"ref",{get:function(){return this._ref},enumerable:!1,configurable:!0}),e}(),S=function(e){return function(t,i,n){var s;void 0===n&&(n=!1),s=new CustomEvent(t,{detail:i,bubbles:n}),Object.defineProperty(s,"target",{value:i,writable:!1}),Object.defineProperty(s,"currentTarget",{value:i,writable:!1});var r=t;return e[r]&&e[r](s),s}},T={bottom:0,height:0,left:0,right:0,top:0,width:0},O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};var _=function(){return(_=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};var N={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},A={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",standard:"transitionend"}};function w(e){return Boolean(e.document)&&"function"==typeof e.document.createElement}var I=function(){function e(e){void 0===e&&(e={}),this.adapter_=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();var k={ACTIVE:"mdc-slider--active",DISABLED:"mdc-slider--disabled",DISCRETE:"mdc-slider--discrete",FOCUS:"mdc-slider--focus",HAS_TRACK_MARKER:"mdc-slider--display-markers",IN_TRANSIT:"mdc-slider--in-transit",IS_DISCRETE:"mdc-slider--discrete"},P={ARIA_DISABLED:"aria-disabled",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",CHANGE_EVENT:"MDCSlider:change",INPUT_EVENT:"MDCSlider:input",PIN_VALUE_MARKER_SELECTOR:".mdc-slider__pin-value-marker",STEP_DATA_ATTR:"data-step",THUMB_CONTAINER_SELECTOR:".mdc-slider__thumb-container",TRACK_MARKER_CONTAINER_SELECTOR:".mdc-slider__track-marker-container",TRACK_SELECTOR:".mdc-slider__track"},L={PAGE_FACTOR:4},C=["mousedown","pointerdown","touchstart"],R=["mouseup","pointerup","touchend"],D={mousedown:"mousemove",pointerdown:"pointermove",touchstart:"touchmove"},M="ArrowDown",x="ArrowLeft",j="ArrowRight",U="ArrowUp",H="End",F="Home",B="PageDown",V="PageUp",G=function(e){function t(i){var n=e.call(this,_({},t.defaultAdapter,i))||this;return n.savedTabIndex_=NaN,n.active_=!1,n.inTransit_=!1,n.isDiscrete_=!1,n.hasTrackMarker_=!1,n.handlingThumbTargetEvt_=!1,n.min_=0,n.max_=100,n.step_=0,n.value_=0,n.disabled_=!1,n.preventFocusState_=!1,n.thumbContainerPointerHandler_=function(){return n.handlingThumbTargetEvt_=!0},n.interactionStartHandler_=function(e){return n.handleDown_(e)},n.keydownHandler_=function(e){return n.handleKeydown_(e)},n.focusHandler_=function(){return n.handleFocus_()},n.blurHandler_=function(){return n.handleBlur_()},n.resizeHandler_=function(){return n.layout()},n}return function(e,t){function i(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return k},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return P},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return L},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},addClass:function(){},removeClass:function(){},getAttribute:function(){return null},setAttribute:function(){},removeAttribute:function(){},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabIndex:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},registerThumbContainerInteractionHandler:function(){},deregisterThumbContainerInteractionHandler:function(){},registerBodyInteractionHandler:function(){},deregisterBodyInteractionHandler:function(){},registerResizeHandler:function(){},deregisterResizeHandler:function(){},notifyInput:function(){},notifyChange:function(){},setThumbContainerStyleProperty:function(){},setTrackStyleProperty:function(){},setMarkerValue:function(){},setTrackMarkers:function(){},isRTL:function(){return!1}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;this.isDiscrete_=this.adapter_.hasClass(k.IS_DISCRETE),this.hasTrackMarker_=this.adapter_.hasClass(k.HAS_TRACK_MARKER),C.forEach((function(t){e.adapter_.registerInteractionHandler(t,e.interactionStartHandler_),e.adapter_.registerThumbContainerInteractionHandler(t,e.thumbContainerPointerHandler_)})),this.adapter_.registerInteractionHandler("keydown",this.keydownHandler_),this.adapter_.registerInteractionHandler("focus",this.focusHandler_),this.adapter_.registerInteractionHandler("blur",this.blurHandler_),this.adapter_.registerResizeHandler(this.resizeHandler_),this.layout(),this.isDiscrete_&&0===this.getStep()&&(this.step_=1)},t.prototype.destroy=function(){var e=this;C.forEach((function(t){e.adapter_.deregisterInteractionHandler(t,e.interactionStartHandler_),e.adapter_.deregisterThumbContainerInteractionHandler(t,e.thumbContainerPointerHandler_)})),this.adapter_.deregisterInteractionHandler("keydown",this.keydownHandler_),this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter_.deregisterResizeHandler(this.resizeHandler_)},t.prototype.setupTrackMarker=function(){this.isDiscrete_&&this.hasTrackMarker_&&0!==this.getStep()&&this.adapter_.setTrackMarkers(this.getStep(),this.getMax(),this.getMin())},t.prototype.layout=function(){this.rect_=this.adapter_.computeBoundingRect(),this.updateUIForCurrentValue_()},t.prototype.getValue=function(){return this.value_},t.prototype.setValue=function(e){this.setValue_(e,!1)},t.prototype.getMax=function(){return this.max_},t.prototype.setMax=function(e){if(e<this.min_)throw new Error("Cannot set max to be less than the slider's minimum value");this.max_=e,this.setValue_(this.value_,!1,!0),this.adapter_.setAttribute(P.ARIA_VALUEMAX,String(this.max_)),this.setupTrackMarker()},t.prototype.getMin=function(){return this.min_},t.prototype.setMin=function(e){if(e>this.max_)throw new Error("Cannot set min to be greater than the slider's maximum value");this.min_=e,this.setValue_(this.value_,!1,!0),this.adapter_.setAttribute(P.ARIA_VALUEMIN,String(this.min_)),this.setupTrackMarker()},t.prototype.getStep=function(){return this.step_},t.prototype.setStep=function(e){if(e<0)throw new Error("Step cannot be set to a negative number");this.isDiscrete_&&("number"!=typeof e||e<1)&&(e=1),this.step_=e,this.setValue_(this.value_,!1,!0),this.setupTrackMarker()},t.prototype.isDisabled=function(){return this.disabled_},t.prototype.setDisabled=function(e){this.disabled_=e,this.toggleClass_(k.DISABLED,this.disabled_),this.disabled_?(this.savedTabIndex_=this.adapter_.getTabIndex(),this.adapter_.setAttribute(P.ARIA_DISABLED,"true"),this.adapter_.removeAttribute("tabindex")):(this.adapter_.removeAttribute(P.ARIA_DISABLED),isNaN(this.savedTabIndex_)||this.adapter_.setAttribute("tabindex",String(this.savedTabIndex_)))},t.prototype.handleDown_=function(e){var t=this;if(!this.disabled_){this.preventFocusState_=!0,this.setInTransit_(!this.handlingThumbTargetEvt_),this.handlingThumbTargetEvt_=!1,this.setActive_(!0);var i=function(e){t.handleMove_(e)},n=D[e.type],s=function(){t.handleUp_(),t.adapter_.deregisterBodyInteractionHandler(n,i),R.forEach((function(e){return t.adapter_.deregisterBodyInteractionHandler(e,s)}))};this.adapter_.registerBodyInteractionHandler(n,i),R.forEach((function(e){return t.adapter_.registerBodyInteractionHandler(e,s)})),this.setValueFromEvt_(e)}},t.prototype.handleMove_=function(e){e.preventDefault(),this.setValueFromEvt_(e)},t.prototype.handleUp_=function(){this.setActive_(!1),this.adapter_.notifyChange()},t.prototype.getClientX_=function(e){return e.targetTouches&&e.targetTouches.length>0?e.targetTouches[0].clientX:e.clientX},t.prototype.setValueFromEvt_=function(e){var t=this.getClientX_(e),i=this.computeValueFromClientX_(t);this.setValue_(i,!0)},t.prototype.computeValueFromClientX_=function(e){var t=this.max_,i=this.min_,n=(e-this.rect_.left)/this.rect_.width;return this.adapter_.isRTL()&&(n=1-n),i+n*(t-i)},t.prototype.handleKeydown_=function(e){var t=this.getKeyId_(e),i=this.getValueForKeyId_(t);isNaN(i)||(e.preventDefault(),this.adapter_.addClass(k.FOCUS),this.setValue_(i,!0),this.adapter_.notifyChange())},t.prototype.getKeyId_=function(e){return e.key===x||37===e.keyCode?x:e.key===j||39===e.keyCode?j:e.key===U||38===e.keyCode?U:e.key===M||40===e.keyCode?M:e.key===F||36===e.keyCode?F:e.key===H||35===e.keyCode?H:e.key===V||33===e.keyCode?V:e.key===B||34===e.keyCode?B:""},t.prototype.getValueForKeyId_=function(e){var t=this,i=t.max_,n=t.min_,s=t.step_||(i-n)/100;switch(this.adapter_.isRTL()&&(e===x||e===j)&&(s=-s),e){case x:case M:return this.value_-s;case j:case U:return this.value_+s;case F:return this.min_;case H:return this.max_;case V:return this.value_+s*L.PAGE_FACTOR;case B:return this.value_-s*L.PAGE_FACTOR;default:return NaN}},t.prototype.handleFocus_=function(){this.preventFocusState_||this.adapter_.addClass(k.FOCUS)},t.prototype.handleBlur_=function(){this.preventFocusState_=!1,this.adapter_.removeClass(k.FOCUS)},t.prototype.setValue_=function(e,t,i){if(void 0===i&&(i=!1),e!==this.value_||i){var n=this.min_,s=this.max_,r=e===n||e===s;this.step_&&!r&&(e=this.quantize_(e)),e<n?e=n:e>s&&(e=s),e=e||0,this.value_=e,this.adapter_.setAttribute(P.ARIA_VALUENOW,String(this.value_)),this.updateUIForCurrentValue_(),t&&(this.adapter_.notifyInput(),this.isDiscrete_&&this.adapter_.setMarkerValue(e))}},t.prototype.quantize_=function(e){return Math.round(e/this.step_)*this.step_},t.prototype.updateUIForCurrentValue_=function(){var e=this,t=this,i=t.max_,n=t.min_,s=(t.value_-n)/(i-n),r=s*this.rect_.width;this.adapter_.isRTL()&&(r=this.rect_.width-r);var a=function(e,t){if(w(e)&&t in N){var i=e.document.createElement("div"),n=N[t],s=n.standard,r=n.prefixed;return s in i.style?s:r}return t}(window,"transform"),o=function(e,t){if(w(e)&&t in A){var i=e.document.createElement("div"),n=A[t],s=n.standard,r=n.prefixed;return n.cssProperty in i.style?s:r}return t}(window,"transitionend");if(this.inTransit_){var l=function(){e.setInTransit_(!1),e.adapter_.deregisterThumbContainerInteractionHandler(o,l)};this.adapter_.registerThumbContainerInteractionHandler(o,l)}requestAnimationFrame((function(){e.adapter_.setThumbContainerStyleProperty(a,"translateX("+r+"px) translateX(-50%)"),e.adapter_.setTrackStyleProperty(a,"scaleX("+s+")")}))},t.prototype.setActive_=function(e){this.active_=e,this.toggleClass_(k.ACTIVE,this.active_)},t.prototype.setInTransit_=function(e){this.inTransit_=e,this.toggleClass_(k.IN_TRANSIT,this.inTransit_)},t.prototype.toggleClass_=function(e,t){t?this.adapter_.addClass(e):this.adapter_.removeClass(e)},t}(I);var W=function(e){var t=(0,s.useRef)(),i=(0,s.useRef)(),n=function(e){var t=e.foundation,i=e.props,n=e.elements,r=e.api,a=c((0,s.useState)(0),2)[1],l=(0,s.useRef)(i);l.current=i;var u=(0,s.useMemo)((function(){return Object.keys(n).reduce((function(e,t){return e[t]=new E((function(){a((function(e){return e+1}))})),e}),{})}),[]),h=(0,s.useMemo)((function(){var e=t(o(o({},u),{getProps:function(){return l.current},emit:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return S(l.current).apply(void 0,d([],c(e)))}}));return r&&g(l.current.apiRef,r(o({foundation:e},u))),e}),[]);return(0,s.useEffect)((function(){var e=h;return e.init(),r&&g(l.current.apiRef,r(o({foundation:e},u))),g(l.current.foundationRef,e),function(){e.destroy(),g(l.current.apiRef,null),g(l.current.foundationRef,null),Object.values(u).map((function(e){return e.destroy()})),l.current={}}}),[h,u]),o({foundation:h},u)}({props:e,elements:{rootEl:!0,thumbContainerEl:!0,sliderPinEl:!0},foundation:function(e){var n,s,r,a=e.rootEl,o=e.thumbContainerEl,c=e.sliderPinEl,d=e.emit;return new G({hasClass:function(e){return a.hasClass(e)},addClass:function(e){return a.addClass(e)},removeClass:function(e){return a.removeClass(e)},getAttribute:function(e){return a.getProp(e)},setAttribute:(n=function(e,t){return a.setProp(e,t)},s=300,function(){var e=this,t=arguments,i=function(){r=null,n.apply(e,t)};null!==r&&clearTimeout(r),r=setTimeout(i,s)}),removeAttribute:function(e){return a.removeProp(e)},computeBoundingRect:function(){return a.ref?a.ref.getBoundingClientRect():T},getTabIndex:function(){return a.ref?a.ref.tabIndex:0},registerInteractionHandler:function(e,t){a.addEventListener(e,t)},deregisterInteractionHandler:function(e,t){a.removeEventListener(e,t)},registerThumbContainerInteractionHandler:function(e,t){o.addEventListener(e,t)},deregisterThumbContainerInteractionHandler:function(e,t){o.removeEventListener(e,t)},registerBodyInteractionHandler:function(e,t){document.body&&document.body.addEventListener(e,t)},deregisterBodyInteractionHandler:function(e,t){document.body&&document.body.removeEventListener(e,t)},registerResizeHandler:function(e){window.addEventListener("resize",e)},deregisterResizeHandler:function(e){window.removeEventListener("resize",e)},notifyInput:function(){d("onInput",{value:l.getValue()})},notifyChange:function(){d("onChange",{value:l.getValue()})},setThumbContainerStyleProperty:function(e,t){o.setStyle(e,t)},setTrackStyleProperty:function(e,i){var n;null===(n=t.current)||void 0===n||n.style.setProperty(e,i)},setMarkerValue:function(e){c.setProp("value",e)},setTrackMarkers:function(e,t,n){var s,r=e.toLocaleString(),a="linear-gradient(to right, currentColor 2px, transparent 0) "+("0 center / calc((100% - 2px) / "+("(("+t.toLocaleString()+" - "+n.toLocaleString()+") / "+r+")")+") 100% repeat-x");null===(s=i.current)||void 0===s||s.style.setProperty("background",a)},isRTL:function(){return!!a.ref&&"rtl"===getComputedStyle(a.ref).direction}})}}),l=n.foundation,u=a(n,["foundation"]);return(0,s.useEffect)((function(){void 0!==e.max&&l.setMax(+e.max)}),[e.max,l]),(0,s.useEffect)((function(){void 0!==e.min&&l.setMin(+e.min)}),[e.min,l]),(0,s.useEffect)((function(){var t=void 0!==e.value?Number(e.value):l.getValue(),i=l.getMin(),n=l.getMax();t<i&&(console.warn("Attempted to set slider to "+t+" which is less than min: "+i),t=i),t>n&&(console.warn("Attempted to set slider to "+t+" which is greater than max: "+n),t=n),l.setValue(t)}),[e.value,l]),(0,s.useEffect)((function(){void 0!==e.step&&l.setStep(+e.step)}),[e.step,l]),(0,s.useEffect)((function(){void 0!==e.disabled&&l.setDisabled(e.disabled)}),[e.disabled,l]),(0,s.useEffect)((function(){void 0!==e.discrete&&(l.isDiscrete_=e.discrete),e.discrete&&0===l.getStep()&&l.setStep(1)}),[e.discrete,l]),(0,s.useEffect)((function(){var t=l.hasTrackMarker_;void 0!==e.displayMarkers&&e.displayMarkers!==t&&(l.hasTrackMarker_=e.displayMarkers,window.requestAnimationFrame((function(){return l.setupTrackMarker()})))}),[e.displayMarkers,l]),(0,s.useEffect)((function(){var e=l.handleDown_.bind(l);l.handleDown_=function(t){t.persist(),e(t)}}),[l]),r({setTrackRef:function(e){return t.current=e},setTrackMarkerContainerRef:function(e){return i.current=e}},u)},z=s.memo(s.forwardRef((function(e,t){return s.createElement("div",{ref:t,className:"mdc-slider__track"})}))),K=s.memo(s.forwardRef((function(e,t){return s.createElement("div",{ref:t,className:"mdc-slider__track-marker-container"})}))),Y=s.memo((function(e){var t=e.value;return s.createElement("div",{className:"mdc-slider__pin"},s.createElement("span",{className:"mdc-slider__pin-value-marker"},t))})),$=s.memo((function(){return s.createElement("svg",{className:"mdc-slider__thumb",width:"21",height:"21"},s.createElement("circle",{cx:"10.5",cy:"10.5",r:"7.875"}))})),q=s.memo((function(){return s.createElement("div",{className:"mdc-slider__focus-ring"})})),Z=v((function(e,t){var i=W(e),n=i.rootEl,o=i.thumbContainerEl,l=i.sliderPinEl,u=i.setTrackRef,f=i.setTrackMarkerContainerRef,g=e.value,v=(e.min,e.max),b=e.discrete,y=e.displayMarkers,E=e.step,S=e.disabled,T=(e.onChange,e.onInput,e.children),O=(e.foundationRef,a(e,["value","min","max","discrete","displayMarkers","step","disabled","onChange","onInput","children","foundationRef"])),_=function(e,t){return h().apply(void 0,d(d([e.className],c(e.theme?p(e.theme):[])),c("function"==typeof t?t(e):t)))}(e,["mdc-slider",{"mdc-slider--discrete":b,"mdc-slider--display-markers":y&&b}]),N=E?{"data-step":E}:{};return y&&!b&&console.warn("The 'displayMarkers' prop on rmwc Slider will\n        only work in conjunction with the 'discrete' prop"),s.createElement(m,r({tabIndex:0,role:"slider","aria-valuemax":v,"aria-valuenow":g,"aria-label":"Select Value"},S?{"aria-disabled":S}:{},N,O,{ref:t,element:n,className:_}),s.createElement("div",{className:"mdc-slider__track-container"},s.createElement(z,{ref:u}),y&&s.createElement(K,{ref:f})),s.createElement(m,{element:o,className:"mdc-slider__thumb-container"},b&&s.createElement(Y,{value:l.getProp("value")}),s.createElement($,null),s.createElement(q,null)),T)}));i(85925);let Q=0;class X extends s.Component{constructor(e){super(e),this.mdcRef=(0,s.createRef)(),this.setValue=e=>{this.setState({value:e})},this.onSliderInput=e=>{var t;const i=e.detail.value;this.layoutRecalculated||(null===(t=this.mdcRef.current)||void 0===t||t.layout(),this.layoutRecalculated=!0),this.setState({value:i}),this.props.onInput&&this.props.onInput(i)},this.onSliderChange=e=>{const t=e.detail.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(t)},this.getLeftOffset=()=>100*(this.state.value-this.props.min)/(this.props.max-this.props.min)+"%",this.getSliderId=()=>`slider-with-tooltip-${this.id}`,this.getStyleElement=()=>`#${this.getSliderId()} .mdc-slider__thumb-container {\n        left: ${this.getLeftOffset()}\n    }`,this.getDisplayValue=e=>{const{formatNumbers:t,units:i}=this.props;return(t?t(e):e)+(i||"")},this.setActive=e=>()=>this.setState({active:e}),this.hasChanged=()=>{this.setState({hasChanged:!1})},this.onMouseDown=e=>{this.props.onInputStart&&this.props.onInputStart()},this.onEventMouseUp=e=>{this.props.onInputEnd&&this.props.onInputEnd()},this.onMouseUp=e=>{this.props.onInputEnd&&this.props.onInputEnd()},this.id=Q++,this.state={value:void 0!==e.initialValue?e.initialValue:(e.max+e.min)/2,active:!1,hasChanged:!1},this.setActiveSlider=this.setActive(!0),this.setInactiveSlider=this.setActive(!1)}componentDidMount(){document.addEventListener("mouseup",this.onEventMouseUp),document.addEventListener("mouseleave",this.onEventMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onEventMouseUp),document.removeEventListener("mouseleave",this.onEventMouseUp)}componentDidUpdate(e,t){t.value!==this.state.value&&(clearTimeout(this.hasChangedTimeout),this.setState({hasChanged:!0}),this.hasChangedTimeout=window.setTimeout(this.hasChanged,450))}render(){const{width:e,displayBounds:t,min:i,max:s,discrete:r,tooltipPosition:a,variant:o="default",disabled:l,tabIndex:c}=this.props,{active:d,hasChanged:u,value:p}=this.state,m={left:this.getLeftOffset()},f="inline-value"===o,g=!f&&t,v=!f,b=void 0!==c?c:0;return(0,n.jsxs)("div",Object.assign({id:this.getSliderId(),className:h()("slider-with-tooltip",{displayBounds:t,disabled:l}),style:{width:`${e}px`},onMouseEnter:this.setActiveSlider,onMouseLeave:this.setInactiveSlider},{children:[v&&a===J.UP&&(0,n.jsx)("div",{className:h()("slider-tooltip",{active:d||u}),"data-balloon":this.getDisplayValue(p),"data-balloon-pos":J.UP,style:m}),g&&(0,n.jsx)("div",Object.assign({className:"min-amount"},{children:this.getDisplayValue(i)})),f&&(0,n.jsx)("div",Object.assign({className:"min-amount"},{children:this.getDisplayValue(p)})),(0,n.jsx)(Z,{discrete:r,min:i,max:s,value:p,onInput:this.onSliderInput,onChange:this.onSliderChange,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,foundationRef:this.mdcRef,disabled:l,tabIndex:b}),g&&(0,n.jsx)("div",Object.assign({className:"max-amount"},{children:this.getDisplayValue(s)})),(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:this.getStyleElement()}}),v&&a===J.DOWN&&(0,n.jsx)("div",{className:h()("slider-tooltip",{active:d||u}),"data-balloon":this.getDisplayValue(p),"data-balloon-pos":J.DOWN,style:m})]}))}}var J;!function(e){e.UP="up",e.DOWN="down"}(J||(J={}))},98940:(e,t,i)=>{"use strict";i.d(t,{KQ:()=>n});const n=e=>{let t="";t+=Math.floor(e)+"'";const i=Math.floor(e%1*12);return i<10&&(t+="0"),t+=i+"''",t}},68709:(e,t,i)=>{"use strict";i.d(t,{r:()=>h});var n=i(85893),s=i(67294),r=i(33558),a=i(59625),o=i(46391),l=i(68647),c=i(78283),d=i(98940),u=i(26340);class h extends s.Component{constructor(e){super(e),this.sliderRef=(0,s.createRef)(),this.stemLengthUpdating=(e,t=!0)=>{const i=t?(0,c._F)(e):e;i!==this.props.stemLength&&this.props.onLengthUpdate(i)},this.saveStemLength=(e,t=!0)=>{const i=t?(0,c._F)(e):e;this.props.onLengthChanged(i)},this.onChangeStemEnabled=e=>{const t=e.classList.contains("checked");this.props.onStemEnabledChanged(t)},this.stopPropagation=e=>e.stopPropagation(),this.updateUnits=()=>{this.setState({units:this.context.settings.tryGetProperty(a.gx.Units,o.M.IMPERIAL)})},this.formatStemHeight=e=>{if(this.state.units===o.M.IMPERIAL)return(0,d.KQ)(e);return`${Math.round(100*(0,c._F)(e))/100}m`},this.state={units:o.M.IMPERIAL}}componentDidMount(){this.updateUnits(),this.sliderRef.current&&this.sliderRef.current.setValue((0,c.zy)(this.props.stemLength)),this.context.settings.onPropertyChanged(a.gx.Units,this.updateUnits)}componentWillUnmount(){this.context.settings.removeOnPropertyChanged(a.gx.Units,this.updateUnits)}UNSAFE_componentWillReceiveProps(e){e.stemLength!==this.props.stemLength&&this.sliderRef.current&&this.sliderRef.current.setValue((0,c.zy)(e.stemLength))}render(){const{stemEnabled:e,stemLength:t,variant:i,disabled:s,tabIndex:r}=this.props;return(0,n.jsxs)("div",Object.assign({className:"stem-editor",onClick:this.stopPropagation},{children:[(0,n.jsx)("div",Object.assign({className:"stem-slider"},{children:(0,n.jsx)(l.S,{ref:this.sliderRef,discrete:!1,min:.1,max:9,initialValue:(0,c.zy)(t),onChange:this.saveStemLength,onInput:this.stemLengthUpdating,displayBounds:!0,width:150,formatNumbers:this.formatStemHeight,tooltipPosition:l.h.DOWN,variant:i,disabled:s,tabIndex:r})})),(0,n.jsx)(u.X,{enabled:!0,checked:e,label:"Show Stem",onChange:this.onChangeStemEnabled})]}))}}h.contextType=r.I},52544:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(33558),l=i(32597),c=i(38772),d=i(51110),u=i(8659),h=i(31362),p=i(40505),m=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let f=class extends s.Component{constructor(e){super(e),this.el=(0,s.createRef)(),this.touchDevice=(0,h.Jm)(),this.isUnmounting=!1,this.handleOutsideClick=e=>{if(!this.state.editing||!this.input.current)return;const t=this.getTextString(this.input.current.value,this.props.defaultText);this.stopEditing(t,!0)},this.stopEditing=(e,t=!0)=>{this.setState({editing:!1});const i=this.props.validator?this.props.validator(e):this.props.text!==e;t&&i?(this.setState({currentText:e}),this.props.onEdited&&this.props.onEdited(e)):this.props.onCancelEditing&&this.props.onCancelEditing()},this.stopPropagation=e=>{e.stopPropagation()},this.onBlur=()=>{this.input.current&&this.context.engine.broadcast(new p.SN(this.input.current,!1))},this.onFocus=()=>{this.input.current&&this.context.engine.broadcast(new p.SN(this.input.current,!0))},this.startEditing=e=>{clearTimeout(this.startEditingTimeout),this.startEditingTimeout=window.setTimeout((()=>{if(!this.input.current||this.isUnmounting)return;e&&e.stopPropagation();const{onStartEditing:t,autoSelect:i,defaultText:n}=this.props,{currentText:s}=this.state;this.setState({editing:!0}),t&&t(),this.input.current.focus(),(i||n&&this.input.current.select&&s===n)&&this.input.current.select()}),0)},this.onKeyPress=e=>{var t;if(e.stopPropagation(),this.props.onKeyPress&&this.props.onKeyPress(e))return;const i=e.which||e.keyCode;if(!("keydown"===e.type&&i!==l.R.TAB||i!==l.R.RETURN&&i!==l.R.TAB||e.shiftKey)){e.preventDefault(),null===(t=this.input.current)||void 0===t||t.blur();const i=this.getTextString(e.target.value,this.props.defaultText);this.stopEditing(i)}},this.onInput=e=>{const t=e.target.value;this.setState({currentText:t}),this.props.validator&&this.props.validator(t)&&this.setState({lastValidText:t}),this.props.onInput&&this.props.onInput(t)},this.state={editing:!1,currentText:this.props.text,lastValidText:this.props.text},this.input=(0,s.createRef)()}componentDidMount(){this.input.current&&(this.props.closeOnFocusOut&&this.input.current.addEventListener("focusout",this.handleOutsideClick),(this.props.editing||this.props.autofocus)&&this.startEditing())}componentWillUnmount(){this.isUnmounting=!0,this.input.current&&(this.props.closeOnFocusOut&&this.input.current.removeEventListener("focusout",this.handleOutsideClick),this.input.current.blur())}UNSAFE_componentWillReceiveProps(e){if(e.editing&&!this.props.editing&&this.startEditing(),e.text!==this.props.text){const t=this.getTextString(e.text,e.defaultText);this.setState({currentText:t})}}componentDidUpdate(e,t){this.input.current&&(!t.editing&&this.state.editing?this.input.current.focus():t.editing&&!this.state.editing&&this.input.current.blur())}getElement(){return this.el.current}getTextString(e,t){return this.props.validator?this.props.validator(e)?e:this.state.lastValidText:""===e&&void 0!==t?t:e}setCurrentText(e){this.setState({currentText:e}),this.focusInput(),this.props.onEdited&&this.props.onEdited(e)}getCurrentText(){return this.state.currentText}focusInput(){this.input.current&&this.input.current.focus()}getFractionalCounter(){if(this.props.maxLength&&this.props.fractionalCounter)return`${this.state.currentText.length}/${this.props.maxLength}`}render(){const{editing:e,currentText:t}=this.state,{hint:i,isDisabled:r,placeholder:o,noFocusedPlaceholder:l,clickToEdit:c,maxLength:h,tabIndex:p,textarea:m,readOnlyText:f,autocapitalize:g,fractionalCounter:v,showUnderline:b,className:y}=this.props,E=!(t||!o||e&&l),S=E?o:void 0,T=!1!==c?this.startEditing:void 0,O=(0,n.jsx)("div",Object.assign({className:"current-text",onClick:T,"data-hint":i},{children:t||o||""}));return(0,n.jsxs)("div",Object.assign({className:a()("text-input","modifiable-text",y,{editing:e,"fractional-counter":v,default:!t,"has-hint":!!i,"has-placeholder":E}),"data-hint":i,"data-fractional-counter":this.getFractionalCounter(),ref:this.el},{children:[m?(0,n.jsx)(d.Z,Object.assign({name:"text-input",singleScrollDirection:u.Nm.vertical,forceHidden:!1},{children:O})):O,(0,s.createElement)(m?"textarea":"input",{ref:this.input,className:a()("inputDiv",{editing:e}),type:"text",value:t,placeholder:S,maxLength:h,onInput:this.onInput,onClick:this.props.propagateMouseEvent?void 0:this.stopPropagation,onKeyPress:this.onKeyPress,disabled:r,readOnly:this.props.readOnlyMode,onKeyDown:this.onKeyPress,onKeyUp:this.stopPropagation,tabIndex:p,autoCapitalize:g,onBlur:this.touchDevice?this.onBlur:void 0,onFocus:this.touchDevice?this.onFocus:void 0}),f&&(0,n.jsx)("div",Object.assign({className:"read-only-text"},{children:f})),b&&(0,n.jsx)("div",{className:"editable-line"})]}))}};f.contextType=o.I,f=m([c.Z],f);const g=f},47397:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(85893),s=i(67294),r=i(38772),a=i(33558),o=i(94184),l=i.n(o),c=i(32597),d=i(40505),u=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let h=class extends s.Component{constructor(e){super(e),this.focusTimeout=0,this.onInput=e=>{if(this.props.onInput){const t=e.target;this.props.onInput(t.value)}},this.onKeyPress=e=>{e.stopPropagation();const{allowTabbing:t}=this.props,i=e.which||e.keyCode,n=[c.R.TAB,c.R.RETURN,c.R.ESCAPE];if("keydown"===e.type&&!n.includes(i))return!1;const s=e.target;switch(this.props.maxLength&&s.value.length>this.props.maxLength&&e.preventDefault(),i){case c.R.ESCAPE:this.props.onCancel&&this.props.onCancel();break;case c.R.TAB:case c.R.RETURN:this.props.onBlur||e.shiftKey||(i===c.R.TAB&&t||e.preventDefault(),this.blur())}return!1},this.stopPropagation=e=>e.stopPropagation(),this.onFocus=e=>{this.context.messageBus.broadcast(new d.SN(this.input,!0)),this.props.onFocus&&this.props.onFocus(e)},this.onBlur=e=>{this.context.messageBus.broadcast(new d.SN(this.input,!1));const t=e.target.value,{onBlur:i,onDone:n}=this.props;i?i(t):n&&n(t)},this.setRef=e=>this.input=e,this.state={currentText:e.text}}componentWillUnmount(){window.clearTimeout(this.focusTimeout),this.input&&this.input.blur()}componentDidMount(){const{focusOnMount:e,readOnly:t}=this.props;t||(0===e?this.focus():void 0!==e&&(this.focusTimeout=window.setTimeout((()=>{this.focus()}),e)))}UNSAFE_componentWillReceiveProps(e){e.text!==this.props.text&&this.setState({currentText:e.text})}getText(){return this.input?this.input.value:""}focus(){this.input.focus()}blur(){this.input.blur()}scrollIntoView(e){this.input.scrollIntoView(e)}render(){const{placeholder:e,tabIndex:t,maxLength:i,type:s,className:r,readOnly:a}=this.props,{currentText:o}=this.state;return(0,n.jsx)("div",Object.assign({className:l()("text-field",r)},{children:(0,n.jsx)("input",{ref:this.setRef,className:"text-input-box",type:s||"text",value:o,placeholder:e,maxLength:i,onInput:this.onInput,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyPress,onKeyUp:this.stopPropagation,onBlur:this.onBlur,onFocus:this.onFocus,tabIndex:t,readOnly:a})}))}};h.contextType=a.I,h=u([r.Z],h);const p=h},73165:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var n,s=i(85893),r=i(67294),a=i(38772),o=i(94184),l=i.n(o),c=i(33558),d=i(32597),u=i(40505),h=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};!function(e){e[e.OUTLINED=0]="OUTLINED",e[e.ADJUSTABLE=1]="ADJUSTABLE"}(n||(n={}));const p=function*(){let e=0;for(;;)yield e++}();let m=class extends r.Component{constructor(e){super(e),this.elementRef=(0,r.createRef)(),this.onInput=e=>{if(this.props.onInput){const t=e.target;this.props.onInput(t.value)}},this.onKeyPress=e=>{e.stopPropagation();const t=e.which||e.keyCode,i=[d.R.RETURN];if("keydown"===e.type&&!i.includes(t))return!1;const n=e.target;switch(this.props.maxLength&&n.value.length>this.props.maxLength&&e.preventDefault(),t){case d.R.RETURN:e.shiftKey||(e.preventDefault(),this.blur(),this.props.onDone(n.value))}return!1},this.stopPropagation=e=>e.stopPropagation(),this.onChange=e=>{this.updateHeight()},this.onFocus=e=>{this.context.messageBus.broadcast(new u.SN(this.input,!0)),this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0})},this.onBlur=e=>{this.context.messageBus.broadcast(new u.SN(this.input,!1)),this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1})},this.setRef=e=>this.input=e,this.instanceId=`textarea-${p.next().value}`,this.state={currentText:e.text,isFocused:!1}}componentDidMount(){this.props.focusOnMount&&this.input&&this.input.focus(),this.props.scrollIntoViewOnMount&&this.input&&this.input.scrollIntoView(),this.updateHeight()}componentWillUnmount(){this.input&&this.input.blur()}UNSAFE_componentWillReceiveProps(e){e.text!==this.props.text&&this.setState({currentText:e.text})}componentDidUpdate(e,t){t.currentText!==this.state.currentText&&this.updateHeight()}getText(){return this.input?this.input.value:""}focus(){this.input.focus()}blur(){this.input.blur()}updateHeight(){if(this.props.inputStyle===n.ADJUSTABLE){const e=this.elementRef.current;if(!this.input||!e)return;e.style.height="",this.input.style.overflowY="";const t=this.input.scrollHeight;e.style.height=`${t}px`,t>e.scrollHeight&&(this.input.style.overflowY="auto")}}render(){const{placeholder:e,tabIndex:t,maxLength:i,inputStyle:r=n.OUTLINED,label:a,name:o,readOnly:c,rows:d}=this.props,{currentText:u,isFocused:h}=this.state,p=o||this.instanceId,m=""===u,f=a&&(r!==n.ADJUSTABLE||h||!m),g=r===n.ADJUSTABLE?1:d;return(0,s.jsxs)("div",Object.assign({className:l()("textarea-container",`textarea-style-${n[r].toLowerCase()}`,{focused:h,readonly:c,placeholder:m}),ref:this.elementRef},{children:[f&&(0,s.jsx)("label",Object.assign({className:"label",htmlFor:p},{children:a})),(0,s.jsx)("textarea",{className:"textarea",value:u,ref:this.setRef,name:p,placeholder:e,maxLength:i,onInput:this.onInput,onChange:this.onChange,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyPress,onKeyUp:this.stopPropagation,onBlur:this.onBlur,onFocus:this.onFocus,rows:g,tabIndex:t,readOnly:c})]}))}};m.contextType=c.I,m=h([a.Z],m);const f=m},90099:(e,t,i)=>{"use strict";i.d(t,{L:()=>s,Q:()=>r});var n=i(19663);class s extends n.m{constructor(e){super(),this.id="SHOW_TOASTR",this.payload=e}}class r extends n.m{constructor(){super(...arguments),this.id="HIDE_TOASTR"}}},341:(e,t,i)=>{"use strict";i.d(t,{C:()=>u});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(33558),l=i(38772),c=i(90099),d=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let u=class extends s.Component{constructor(e){super(e),this.getInitialState=()=>({messagePhraseKey:"",active:!1,ctaPhraseKey:"",timeout:0,multiline:!1,dismissesOnAction:!1,actionHandler:()=>{}}),this.triggerAction=e=>{e.stopPropagation(),this.state.actionHandler&&this.state.actionHandler(),this.state.dismissesOnAction&&this.hide()},this.hide=async()=>{window.clearTimeout(this.timeout),this.setState({active:!1})},this.show=async e=>{const t=Object.assign(this.getInitialState(),e,{active:!0});this.setState(t),window.clearTimeout(this.timeout),t.timeout>0&&(this.timeout=window.setTimeout((()=>{this.setState({active:!1})}),t.timeout))},this.state=this.getInitialState()}componentDidMount(){this.context.commandBinder.addBinding(c.L,this.show),this.context.commandBinder.addBinding(c.Q,this.hide)}componentWillUnmount(){window.clearTimeout(this.timeout),this.context.commandBinder.removeBinding(c.L,this.show),this.context.commandBinder.removeBinding(c.Q,this.hide)}render(){const{locale:e}=this.context,t=this.props.className||"",{active:i,multiline:s,messagePhraseKey:r,ctaPhraseKey:o,dismissesOnAction:l}=this.state,c={active:i,multiline:s},d=r?e.t(r):null,u=o?e.t(o):null;return(0,n.jsx)("div",Object.assign({className:"toastr-wrapper",onClick:l?this.hide:void 0},{children:(0,n.jsxs)("div",Object.assign({className:a()("toastr-contents",`${t}`,c)},{children:[(0,n.jsx)("div",Object.assign({className:"toastr-text"},{children:d})),u&&(0,n.jsx)("a",Object.assign({className:"link",onClick:this.triggerAction},{children:u}))]}))}))}};u.contextType=o.I,u=d([l.A],u)},17462:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(38399),l=i(66102);function c(e){const{id:t,onToggle:i,labelledBy:r,className:c,onOffLabel:d,enabled:u,toggled:h}=e,p=(0,l.b)(),m=(0,s.useCallback)((e=>{u&&i(e)}),[i,u]),f=p.t(o.Z.ON),g=p.t(o.Z.OFF),v=h?f:g;return(0,n.jsxs)("div",Object.assign({className:a()("reusable-toggle",c,{"toggle-on":h,enabled:u}),id:t,onClick:m,role:"checkbox","aria-checked":h,"aria-labelledby":r},{children:[d&&(0,n.jsx)("span",Object.assign({className:"toggle-label"},{children:v})),(0,n.jsx)("div",{className:"track"}),(0,n.jsx)("div",{className:"thumb"})]}))}},89478:(e,t,i)=>{"use strict";i.d(t,{P:()=>c});var n=i(67294),s=i(31362),r=i(33558),a=i(47457),o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const l=(0,s.Jm)();function c(e){const{tooltip:t,tooltipPlacement:i="bottom",analytic:s,children:c,popupSize:d="medium",onOpenPopup:u}=e,h=o(e,["tooltip","tooltipPlacement","analytic","children","popupSize","onOpenPopup"]),{analytics:p}=(0,n.useContext)(r.I),[m,f]=(0,n.useState)(!1),g=!(!m||!c),v=l||g?"static":"hover";let b;g?b=c:l&&!m||(b=t);const y={placement:i,onToggle:e=>{e||f(e)},trigger:v,theme:g?"light":"dark",size:g?d:"small"},E=`button-tooltip-${t}-${v}`;return(0,n.createElement)(a.zx,Object.assign({},h,{key:E,onClick:e=>{e.stopPropagation(),m||(s&&p.track(s),u&&u()),f(!m)},tooltip:b,tooltipOptions:y}))}},14355:(e,t,i)=>{"use strict";i.d(t,{N:()=>d});var n,s=i(85893),r=i(67294),a=i(94184),o=i.n(a),l=i(38772),c=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};!function(e){e.OPEN="open",e.UNLOADING="unloading",e.CLOSED="closed"}(n||(n={}));let d=class extends r.Component{constructor(e){super(e),this.ref=(0,r.createRef)(),this.closeTimeout=0,this.onTransitionCancel=e=>{e.target===e.currentTarget&&this.state.phase===n.UNLOADING&&(window.clearTimeout(this.closeTimeout),this.setState({phase:n.CLOSED,activeChild:null}))},this.onTransitionEnd=e=>{e.target===e.currentTarget&&this.state.phase===n.UNLOADING&&(window.clearTimeout(this.closeTimeout),this.setState({phase:n.CLOSED,activeChild:null}))},this.onClick=e=>{this.props.onClick&&this.props.onClick(e)},this.onPointerDown=e=>{this.props.onPointerDown&&this.props.onPointerDown(e)},this.onPointerUp=e=>{this.props.onPointerUp&&this.props.onPointerUp(e)},this.state={phase:e.open?n.OPEN:n.CLOSED,activeChild:e.selectChild&&e.childKey||null}}componentDidMount(){this.ref.current&&this.ref.current.addEventListener("transitioncancel",this.onTransitionCancel)}componentWillUnmount(){window.clearTimeout(this.closeTimeout),this.ref.current&&this.ref.current.removeEventListener("transitioncancel",this.onTransitionCancel)}UNSAFE_componentWillReceiveProps(e){const{open:t,childKey:i}=this.props;t&&!e.open?(this.setState({phase:n.UNLOADING}),window.clearTimeout(this.closeTimeout),this.closeTimeout=window.setTimeout((()=>{this.state.phase===n.UNLOADING&&this.setState({phase:n.CLOSED,activeChild:null})}),1e3)):!t&&e.open?(window.clearTimeout(this.closeTimeout),this.setState({phase:n.OPEN,activeChild:e.selectChild&&e.childKey||null})):i!==e.childKey&&this.setState({activeChild:e.selectChild&&e.childKey||null})}renderChildren(){const{children:e,selectChild:t}=this.props,{phase:i,activeChild:s}=this.state;return i===n.CLOSED||t&&!s?null:t?e&&Array.isArray(e)&&e.length&&e.find((e=>e&&e.key===s))||null:e}render(){const{className:e,firstChild:t,style:i}=this.props,{phase:r}=this.state,a=o()({unloading:r===n.UNLOADING},e);return(0,s.jsxs)("div",Object.assign({ref:this.ref,className:a,style:i,onTransitionEnd:this.onTransitionEnd,onClick:this.onClick,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp},{children:[t||null,this.renderChildren()]}))}};d=c([l.Z],d)},25328:(e,t,i)=>{"use strict";i.d(t,{BN:()=>s,qE:()=>r,ZJ:()=>a,zx:()=>f});var n,s,r,a,o=i(85893),l=i(67294),c=i(94184),d=i.n(c),u=i(38772),h=i(31362),p=i(33558),m=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};!function(e){e.ENABLED="enabled",e.DISABLED="disabled",e.DECORATIVE="decorative",e.DIMMED="dimmed",e.ACTIVE="active",e.BUSY="busy"}(s||(s={})),function(e){e[e.STANDARD=0]="STANDARD",e[e.MINI=1]="MINI",e[e.SMALL=2]="SMALL",e[e.LARGE=3]="LARGE"}(r||(r={})),function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY",e[e.TERTIARY=2]="TERTIARY",e[e.OUTLINE=3]="OUTLINE",e[e.OVERLAY=4]="OVERLAY",e[e.LIGHT=5]="LIGHT",e[e.SECONDARY_LIGHT=6]="SECONDARY_LIGHT",e[e.CLEAR=7]="CLEAR",e[e.TOOLBAR=8]="TOOLBAR",e[e.PLAIN=9]="PLAIN"}(a||(a={}));let f=n=class extends l.Component{constructor(e){super(e),this.handlingClick=!1,this.mouseupTimeout=0,this.onMouseDown=e=>{if(this.handlingClick=!1,this.props.onMouseDown)this.props.onMouseDown(e);else if(n.iMobile&&this.props.onClick){const t=this.context.mainDiv.getRootNode().activeElement;t&&e.cancelable&&(this.handlingClick=!0,e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),t.blur(),window.addEventListener("mouseup",(t=>{this.handlingClick&&(this.handleClick(e),window.clearTimeout(this.mouseupTimeout))}),{once:!0}),this.mouseupTimeout=window.setTimeout((()=>{this.handlingClick=!1}),300))}},this.onClick=e=>{this.handlingClick||this.handleClick(e)}}handleClick(e){const{buttonState:t,onClickArgs:i=[]}=this.props,n=t===s.DISABLED,r=t===s.BUSY,a=t===s.DECORATIVE;!this.props.onClick||n||r||a?e.stopPropagation():this.props.onClick(e,...i)}render(){const{ariaLabel:e,buttonSize:t,buttonState:i,buttonStyle:n,children:l,className:c,dataValue:u,id:h,multiline:p,onMouseEnter:m,onMouseLeave:f,tooltipMsg:g,tooltipPosition:v,tooltipPreformatted:b}=this.props,y=i===s.DISABLED,E=i===s.BUSY,S=i===s.DECORATIVE,T=n===a.SECONDARY||n===a.SECONDARY_LIGHT,O=n===a.TERTIARY,_=n===a.LIGHT||n===a.SECONDARY_LIGHT,N={"button-small":t===r.SMALL,"button-large":t===r.LARGE,"button-mini":t===r.MINI,"button-secondary":T,"button-tertiary":O,"button-outline":n===a.OUTLINE,"button-light":_,"button-primary":n===a.PRIMARY,"button-overlay":n===a.OVERLAY,"button-clear":n===a.CLEAR,"button-plain":n===a.PLAIN,"button-toolbar":n===a.TOOLBAR,"button-active":i===s.ACTIVE,"button-dimmed":i===s.DIMMED,"button-busy":E,"button-disabled":y,"button-decorative":S,"button-multiline":p,"button-with-tooltip":!!g};return(0,o.jsx)("div",Object.assign({id:h,role:"button","aria-label":e||g,"aria-disabled":y,className:d()("button",N,c),"data-value":u,onClick:this.onClick,onMouseEnter:m,onMouseLeave:f,onMouseDown:this.onMouseDown,"data-balloon":g||null,"data-balloon-pre":!!b,"data-balloon-pos":v||null},{children:l}))}};f.contextType=p.I,f.iMobile=(0,h.Tt)()||(0,h._1)(),f=n=m([u.Z],f)},38490:(e,t,i)=>{"use strict";i.d(t,{A:()=>u,P:()=>p});var n=i(85893),s=i(94184),r=i.n(s),a=i(66102),o=i(16507),l=i(48534),c=i(38399);const{CLOSE_BUTTON_TOOLTIP_MESSAGE:d}=c.Z.REUSABLES;var u;function h(e){switch(e){case u.LIGHT:case u.SHADOW:return o.Dd.CLEAR;case u.OVERLAY:return o.Dd.OVERLAY;case u.TOOLBAR:return o.Dd.TOOLBAR;default:return o.Dd.PLAIN}}function p(e){const{buttonStyle:t,buttonState:i,onClose:s,closeOnMouseDown:c,hideTooltip:p}=e,m=(0,a.b)(),f=p?void 0:m.t(d),g=p?m.t(d):void 0,v=r()("close-button",{"close-button-shadow":t===u.SHADOW,"close-button-light":t===u.LIGHT});return(0,n.jsx)(o.hU,{className:v,ariaLabel:g,iconClass:"icon-close",buttonStyle:h(t),buttonState:i,tooltipMsg:f,tooltipPosition:l.lZ.DOWN,onClick:s,onMouseDown:e=>{c&&s&&s(e)}})}!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LIGHT=1]="LIGHT",e[e.SHADOW=2]="SHADOW",e[e.OVERLAY=3]="OVERLAY",e[e.TOOLBAR=4]="TOOLBAR"}(u||(u={}))},11311:(e,t,i)=>{"use strict";i.d(t,{R:()=>o});var n=i(85893),s=i(38399),r=i(66102);const{REUSABLES:a}=s.Z;function o({phraseKey:e,url:t}){const i=(0,r.b)(),s=e?i.t(e):i.t(a.FEEDBACK_LINK_LABEL);return(0,n.jsx)("div",Object.assign({className:"feedback-link"},{children:(0,n.jsxs)("a",Object.assign({className:"link",href:t,target:"_blank",rel:"noopener"},{children:[s,(0,n.jsx)("span",{className:"icon icon-comment-outline"})]}))}))}},93958:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(85893),s=i(67294),r=i(38772),a=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let o=class extends s.Component{constructor(e){super(e),this.active=!1,this.dropZone=null,this.onDragOver=e=>{e.dataTransfer&&e.dataTransfer.types&&e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),this.activate())},this.onDrop=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer&&e.dataTransfer.files&&this.props.onDropped(e.dataTransfer.files),this.deactivate()},this.onDragEnd=e=>{e.preventDefault(),e.stopPropagation(),this.deactivate()},this.onDragLeave=e=>{e.preventDefault(),e.stopPropagation(),this.deactivate()},this.setDropZoneRef=e=>{this.dropZone=e}}activate(){!this.active&&this.dropZone&&(this.props.onActivate&&this.props.onActivate(!0),this.active=!0,this.dropZone.classList.add("active"))}deactivate(){this.active&&this.dropZone&&(this.active=!1,this.dropZone.classList.remove("active"),this.props.onDone&&this.props.onDone())}render(){const{className:e,children:t,disabled:i}=this.props;return(0,n.jsxs)("div",Object.assign({className:e,onDragEnter:i?void 0:this.onDragOver,onDragLeave:i?void 0:this.onDragLeave,onDragOver:i?void 0:this.onDragOver,onDragEnd:i?void 0:this.onDragEnd,onDrop:i?void 0:this.onDrop},{children:[(0,n.jsxs)("div",Object.assign({className:"file-drop-zone",ref:this.setDropZoneRef},{children:[(0,n.jsx)("span",{className:"icon icon-attach"}),(0,n.jsx)("label",{children:"Upload file"})]})),t]}))}};o=a([r.Z],o)},39361:(e,t,i)=>{"use strict";i.d(t,{p:()=>c});var n=i(85893),s=i(67294),r=i(38772),a=i(94184),o=i.n(a),l=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let c=class extends s.Component{constructor(e){super(e),this.handleUpload=e=>{const t=e.target;if(!t)return;const i=t.files;i&&this.props.onUpload(i),t.value=""}}render(){const{accept:e,id:t,multi:i,enabled:s,children:r,className:a,tooltip:l}=this.props,c=`file-upload-${t}`;return(0,n.jsxs)("div",Object.assign({className:o()("file-upload-button",a,{disabled:!s})},{children:[(0,n.jsx)("label",Object.assign({className:"file-upload-trigger",htmlFor:c,"data-balloon":l,"data-balloon-pos":"down"},{children:r})),s&&(0,n.jsx)("input",{type:"file",className:"file-input",id:c,accept:e,multiple:!!i,onChange:this.handleUpload})]}))}};c=l([r.Z],c)},11686:(e,t,i)=>{"use strict";i.d(t,{I:()=>S});var n=i(85893),s=i(67294),r=i(38399),a=i(33558),o=i(15501),l=i(73536),c=i(94184),d=i.n(c),u=i(98813),h=i(47457);const{MATTERTAGS:p}=r.Z.WORKSHOP;function m(e){const{url:t,text:i,error:r,newLink:o}=e,{locale:l}=(0,s.useContext)(a.I),c=""===i&&""===t&&o?l.t(p.LINK_EDITOR_TIP_TEXT):null,u=r?l.t(p.LINK_EDITOR_INVALID_TIP):null,h=d()("modal-message",{"modal-message-error":!!r}),m=u||c||"";return(0,n.jsx)("div",Object.assign({className:h},{children:m}))}const{MATTERTAGS:f,MODAL:g}=r.Z.WORKSHOP;function v(e){return(0,u.j)(e)}function b(e){const{linkUrl:t,linkText:i,onSaveLink:r,onRemoveLink:o,onCancelLink:l}=e,{locale:c}=(0,s.useContext)(a.I),[u,p]=(0,s.useState)(!1),[b,y]=(0,s.useState)(i),[E,S]=(0,s.useState)(t),[T,O]=(0,s.useState)(v(t));(0,s.useEffect)((()=>(S(t),y(i),O(v(t)),p(!1),()=>{})),[i,t]);const _=(0,s.useCallback)((()=>{T&&window.open(E,"_blank","noreferrer")}),[E,T]),N=(0,s.useCallback)(((e,t)=>{const i=void 0!==t?t:E;r((void 0!==e?e:b)||i,i)}),[E,b,r]),A=(0,s.useCallback)((()=>{N(b,E)}),[b,E]),w=(0,s.useCallback)(((e,t)=>{const i=v(e);O(i),p(!i&&""!==e),t&&i&&N(b,e)}),[b,N]),I=(0,s.useCallback)((e=>{y(e)}),[]),k=(0,s.useCallback)((e=>{S(e);const t=v(e);O(t),u&&t&&p(!1)}),[w,u]),P=(0,s.useCallback)((()=>{w(E,!1)}),[E,w]),L=(0,s.useCallback)((()=>{w(E,!0)}),[E,w]),C=!t,R=c.t(f.LINK_EDITOR_TEXT_PLACEHOLDER),D=c.t(g.SAVE),M=c.t(g.CANCEL),x=c.t(f.LINK_EDITOR_PREVIEW_TIP),j=c.t(f.LINK_EDITOR_REMOVE_TIP),U=!C&&o;return(0,n.jsxs)("div",Object.assign({className:"modal-contents"},{children:[(0,n.jsxs)("div",Object.assign({className:"modal-body"},{children:[(0,n.jsx)("div",Object.assign({className:"link-editor-field link-text-field"},{children:(0,n.jsx)(h.oi,{text:b,placeholder:R,autofocus:!i,onInput:I,onCancel:l})})),(0,n.jsxs)("div",Object.assign({className:"link-editor-field link-url-field"},{children:[(0,n.jsx)(h.oi,{text:E,type:"url",placeholder:"https://",autofocus:!!i,onBlur:P,onReturn:L,onInput:k,onCancel:l}),T&&E&&(0,n.jsx)(h.zx,{className:"preview-link",icon:"ext-link",variant:h.Wu.TERTIARY,size:h.qE.SMALL,tooltip:x,onClick:_})]})),(0,n.jsx)(m,{newLink:C,text:i,url:E,error:u})]})),(0,n.jsx)("div",Object.assign({className:"modal-footer"},{children:(0,n.jsxs)(h.hE,Object.assign({className:d()("modal-footer",{stretch:U})},{children:[U&&(0,n.jsx)(h.zx,{icon:"delete",label:j,className:"remove-link",variant:h.Wu.TERTIARY,size:h.qE.SMALL,onClick:o}),(0,n.jsxs)(h.hE,Object.assign({spacing:"small"},{children:[(0,n.jsx)(h.zx,{label:M,variant:h.Wu.SECONDARY,size:h.qE.SMALL,onClick:l}),(0,n.jsx)(h.zx,{label:D,variant:h.Wu.PRIMARY,disabled:!T,size:h.qE.SMALL,onClick:A})]}))]}))}))]}))}var y=i(84151);const{MATTERTAGS:E}=r.Z.WORKSHOP;function S(e){const{linkUrl:t,linkText:i,onSaveLink:r,onRemoveLink:c,onCancelLink:d}=e,{locale:u}=(0,s.useContext)(a.I),h=(0,o.R)(),p=""===t?u.t(E.LINK_EDITOR_LINK_ADD_LABEL):u.t(E.LINK_EDITOR_LINK_EDIT_LABEL),m=h===l.P.LINK_EDITOR;return(0,n.jsx)(y.H,Object.assign({open:m,title:p,fullModal:!1,className:"link-editor-modal"},{children:(0,n.jsx)(b,{linkText:i,linkUrl:t,onCancelLink:d,onSaveLink:r,onRemoveLink:c})}))}},71657:(e,t,i)=>{"use strict";var n;i.d(t,{F:()=>n,W:()=>s}),function(e){e.HandsRaised="hands-raised",e.RotatePhone="rotate-phone"}(n||(n={}));const s=new Map;s.set(n.HandsRaised,{alt:"Hands Raised",json:i(22016),fallback:i(63064)}),s.set(n.RotatePhone,{alt:"Rotate your device to portrait orientation",json:i(10105),fallback:i(34458)})},58937:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>c});var n=i(85893),s=i(67294),r=i(38772),a=i(71657),o=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let l=class extends s.Component{constructor(e){super(e),this.lottieTargetRef=(0,s.createRef)(),this.isUnmounting=!1,this.loadLottie=async()=>this.lottieLib?this.lottieLib:await i.e(932).then(i.t.bind(i,11248,23)),this.updateAnimation=async()=>{const{animation:e,loop:t=!1}=this.props;let i;this.setState({fallbackActive:!1});try{i=await this.loadLottie()}catch(e){if(this.isUnmounting)return;return void this.setState({fallbackActive:!0})}const n=a.W.get(e);if(i&&n&&this.lottieTargetRef.current){const e=i.loadAnimation({loop:t,container:this.lottieTargetRef.current,renderer:"svg",autoplay:!1,animationData:n.json});e.addEventListener("data_failed",(()=>{this.isUnmounting||this.setState({fallbackActive:!0})})),setTimeout((()=>{this.isUnmounting||e.play()}),50)}},this.renderFallback=()=>{const{animation:e}=this.props,t=a.W.get(e);return t?(0,n.jsx)("img",{className:"lottie-fallback",src:t.fallback,alt:t.alt}):null},this.state={fallbackActive:!1}}componentDidMount(){this.updateAnimation()}componentDidUpdate(e){e.animation===this.props.animation&&e.loop===this.props.loop||this.updateAnimation()}componentWillUnmount(){this.isUnmounting=!0}render(){return(0,n.jsxs)("div",Object.assign({className:"lottie"},{children:[(0,n.jsx)("div",{className:"lottie-animation",ref:this.lottieTargetRef}),this.state.fallbackActive&&this.renderFallback()]}))}};l=o([r.Z],l);const c=l},84151:(e,t,i)=>{"use strict";i.d(t,{H:()=>m});var n=i(85893),s=i(67294),r=i(73935),a=i(94184),o=i.n(a),l=i(38399),c=i(33558),d=i(47457),u=i(92211),h=i(14355);const{REUSABLES:p}=l.Z;function m(e){const{children:t,className:i,title:a,open:l,onClose:m,fullModal:f}=e,{locale:g,commandBinder:v,mainDiv:b}=(0,s.useContext)(c.I);let y=!1;const E=(0,s.useCallback)((()=>{v.issueCommand(new u.rE),m&&m()}),[v,m]),S=(0,s.useCallback)((e=>{e.stopPropagation()}),[]),T=(0,s.useCallback)((()=>{y=!0,window.setTimeout((()=>{y=!1}),500)}),[]),O=(0,s.useCallback)((()=>{y&&(y=!1,E())}),[E]),_=g.t(p.CLOSE_BUTTON_TOOLTIP_MESSAGE),N=b.querySelector("#react-render-root")||document.body,A=o()("modal",i,{open:l,"full-modal":f});return(0,r.createPortal)((0,n.jsx)(h.N,Object.assign({open:l,className:o()("modal-background",{open:l}),onPointerUp:O,onPointerDown:T},{children:(0,n.jsxs)("dialog",Object.assign({className:A,onClick:S,onPointerUp:S,onPointerDown:S},{children:[(0,n.jsxs)("header",Object.assign({className:"modal-header"},{children:[(0,n.jsx)("div",Object.assign({className:"modal-title"},{children:a})),(0,n.jsx)(d.zx,{icon:"close",ariaLabel:_,variant:d.Wu.TERTIARY,onClick:E})]})),t]}))})),N)}},51110:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(85893),s=i(67294),r=i(8659),a=i(92915),o=i(16441),l=i(4510),c=i(57151),d=i(23885),u=i(94184),h=i.n(u),p=i(91033);class m extends s.Component{constructor(e){super(e),this.horizontal=(0,r.Sv)(),this.vertical=(0,r.Sv)(),this.prevSuppressDrag=!1,this.manuallyMoved=!1,this.isUnmounting=!1,this.scrollPosition={horizontal:r.Ij.Beginning,vertical:r.Ij.End},this.handleEvent=e=>{this.inputFilter.handleEvent(e)},this.getScrollableContainer=()=>this.innerWrapper,this.getScrolledOffset=e=>{const t=r.uG[e].scrollOffset;return this.innerWrapper[t]/this.state[e].childLength},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.state={horizontal:(0,r.cL)(),vertical:(0,r.cL)()},this.scrollTo=this.scrollTo.bind(this),this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this),this.handleDragStart=this.handleDragStart.bind(this),this.handleWheelEvent=this.handleWheelEvent.bind(this),this.handleClick=this.handleClick.bind(this),this.toggleVisibility=this.toggleVisibility.bind(this),this.hasManuallyMoved=this.hasManuallyMoved.bind(this),this.prevSuppressDrag=!!e.suppressDrag,this.inputFilter=new c.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd,handleClick:this.handleClick});const t=this.handleEvent;window.PointerEvent||(window.addEventListener("mousemove",t),window.addEventListener("mouseleave",t),window.addEventListener("mouseup",t)),window.addEventListener("pointermove",t),window.addEventListener("pointerup",t),window.addEventListener("touchmove",t),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t)}componentDidMount(){if(this.resizeObserver=new p.Z((()=>this.handleResize())),this.resizeObserver.observe(this.outerWrapper),this.innerWrapper.addEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly)this.innerWrapper.addEventListener("click",this.handleClick);else{const e=this.handleEvent;this.innerWrapper.addEventListener("mousedown",e),this.innerWrapper.addEventListener("pointerdown",e),this.innerWrapper.addEventListener("touchstart",e)}this.firstChild=this.innerWrapper.firstElementChild,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(),this.props.hasOwnProperty("suppressDrag")&&this.inputFilter.setEnabled(!!this.props.suppressDrag)}componentWillUnmount(){var e;this.isUnmounting=!0;const t=this.handleEvent;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),window.PointerEvent||(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t)),window.removeEventListener("pointermove",t),window.removeEventListener("touchmove",t),window.removeEventListener("pointerup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),this.innerWrapper.removeEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly?this.innerWrapper.removeEventListener("click",this.handleClick):(this.innerWrapper.removeEventListener("mousedown",t),this.innerWrapper.removeEventListener("pointerdown",t),this.innerWrapper.removeEventListener("touchstart",t))}componentDidUpdate(){if(this.props.waitToUpdate||this.handleExternalChange(),this.prevSuppressDrag!==this.props.suppressDrag&&(this.inputFilter.setEnabled(!!this.props.suppressDrag),this.props.suppressDrag&&(this.manuallyMoved=!1),this.prevSuppressDrag=!!this.props.suppressDrag),!this.horizontal.animation&&!this.vertical.animation)return;const e={};for(const t in this.state){const i=t;this[i].animation&&(this[i].animation.isAnimating?e[(0,r.O1)(i)]=this[i].animation.getUpdatedValue():this[i].animation=null)}Object.keys(e).length>0&&window.requestAnimationFrame((()=>{this.innerWrapper&&this.scrollTo(e)}))}scrollTo(e){if(!e.hasOwnProperty(r.RD.x)&&!e.hasOwnProperty(r.RD.y))return;const t={};for(const i of this.getVisibleAxes(e)){const n=(0,r.UC)(i),s=r.uG[n].scrollOffset,a=e[i];if(void 0!==a){if(isNaN(a))return;this.innerWrapper[s]=Math.max(Math.min(1,a)*this.state[n].childLength,0),t[n]=Object.assign(Object.assign({},this.state[n]),{scrollOffset:this.innerWrapper[s]})}}this.setState(t)}animatedScrollTo(e,t){if(e.hasOwnProperty(r.RD.x)||e.hasOwnProperty(r.RD.y))for(const i of this.getVisibleAxes(e)){const n=(0,r.UC)(i),s=r.uG[n].scrollOffset;this[n].animation=new l.Z({duration:t||r.UI,startValue:this.innerWrapper[s]/this.state[n].childLength,endValue:Math.max(0,Math.min(1,e[i]))})}}setScrollCenter(e){if(!(e&&e.compareDocumentPosition(this.innerWrapper)&Node.DOCUMENT_POSITION_CONTAINS))return;this.scrollCenter=e;const t={},i={};for(const n of this.getVisibleAxes(this.state)){const s=(0,r.O1)(n);t[s]=e[r.uG[n].positionOffset]+e[r.uG[n].offsetLength]/2;let a=e;for(;a.parentElement&&a!==this.innerWrapper;)a=a.parentElement,t[s]+=a[r.uG[n].positionOffset];const o=this.outerWrapper.parentElement[r.uG[n].offsetLength];i[s]=(t[s]-o/2)/this.state[n].childLength}Object.keys(i).length>0&&this.animatedScrollTo(i)}getVisibleAxes(e){const t=[];for(const i in e)(e[i]||"number"==typeof e[i])&&(i in r.RD&&this.state[(0,r.UC)(i)].isVisible||i in r.Nm&&this.state[i].isVisible)&&t.push(i);return t}handleDragStart(){delete this.scrollCenter,this.hasManuallyMoved()}handlePressStart(){this.horizontal.dragStartScroll=this.innerWrapper.scrollLeft,this.vertical.dragStartScroll=this.innerWrapper.scrollTop}handlePressMove(e){const t={};for(const i of this.getVisibleAxes(e)){const n=(0,r.UC)(i);t[i]=(e[i]+this[n].dragStartScroll)/this.state[n].childLength}this.scrollTo(t)}handleWheelEvent(e){this.props.singleScrollDirection===r.Nm.horizontal&&0===e.deltaX&&0!==e.deltaY?(this.handlePressStart(),this.handlePressMove({x:e.deltaY,y:0})):(this.hasManuallyMoved(),this.handleExternalChange())}handleClick(e){this.props.handleClick&&this.props.handleClick(e)}toggleVisibility(e){return t=>{const i=Object.assign(Object.assign({},this.state[e]),{isVisible:t});if((0,o.g)(this.state[e],i)){const t={};t[e]=i,this.setState(t),this.props.onScrollbarVisibilityChange&&this.props.onScrollbarVisibilityChange()}}}toggleScrollPosition(e){return t=>{this.scrollPosition[e]=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)}}handleDragEnd(e,t){for(const i of this.getVisibleAxes(e)){const n=(0,r.UC)(i),s=e[i]/t,a=Math.min(r.UI,Math.abs(r.UI*s)),o=this.innerWrapper[r.uG[n].scrollOffset],c=s*a/2;this[n].animation=new l.Z({duration:a,startValue:o/this.state[n].childLength,endValue:Math.max(0,Math.min((o+c)/this.state[n].childLength,1)),easingFunction:d.hl})}this.setState({})}handleResize(){this.isUnmounting||(this.scrollCenter&&this.setScrollCenter(this.scrollCenter),this.handleExternalChange())}handleExternalChange(){if(this.isUnmounting)return;const e={};for(const t in this.state){const i=t,n=r.uG[i].clientLength,s=Object.assign(Object.assign({},this.state[i]),{wrapperLength:Number(this.innerWrapper&&this.innerWrapper[n])||1,childLength:Number(this.firstChild&&this.firstChild[n])||1,scrollOffset:this.innerWrapper&&this.innerWrapper[r.uG[i].scrollOffset]});(0,o.g)(this.state[i],s)&&(e[i]=s)}Object.keys(e).length>0&&this.debouncedSetState(e)}hasManuallyMoved(){this.manuallyMoved=!0,this.props.onScrolled&&this.props.onScrolled()}resetManuallyMoved(){this.manuallyMoved=!1}renderScrollbar(e,t){const{forceHidden:i}=this.props,{wrapperLength:s,childLength:r,scrollOffset:o}=t;return(0,n.jsx)(a.L,{direction:e,ref:e=>{this.horizontal.scrollbar=e},wrapperLength:s,childLength:r,scrollOffset:o,scrollTo:this.scrollTo,onVisibilityChange:this.toggleVisibility(e),onScrollPositionChange:this.toggleScrollPosition(e),forceHidden:i,onThumbDrag:this.hasManuallyMoved})}render(){const{scrollbarHeight:e,singleScrollDirection:t,name:i,children:s}=this.props,a={maxHeight:e||""},o=t||`${r.Nm.vertical} ${r.Nm.horizontal}`;return(0,n.jsxs)("div",Object.assign({className:h()("outerScrollbarWrapper",o,`scrollbar-${i}`),ref:e=>{this.outerWrapper=e},style:a},{children:[(0,n.jsx)("div",Object.assign({className:"innerScrollbarWrapper",ref:e=>{this.innerWrapper=e}},{children:(0,n.jsx)("div",Object.assign({className:"paddingScrollbarWrapper"},{children:s}))})),t!==r.Nm.vertical&&this.renderScrollbar(r.Nm.horizontal,this.state.horizontal),t!==r.Nm.horizontal&&this.renderScrollbar(r.Nm.vertical,this.state.vertical)]}))}}},8659:(e,t,i)=>{"use strict";i.d(t,{UI:()=>n,cL:()=>s,Sv:()=>r,Nm:()=>a,RD:()=>o,O1:()=>l,UC:()=>c,uG:()=>d,Ij:()=>u,w5:()=>h});const n=250,s=()=>({wrapperLength:1,childLength:1,scrollOffset:1,isVisible:!1}),r=()=>({scrollbar:null,animation:null,dragStartScroll:0});var a,o;!function(e){e.horizontal="horizontal",e.vertical="vertical"}(a||(a={})),function(e){e.x="x",e.y="y"}(o||(o={}));const l=e=>{switch(e){case a.horizontal:return o.x;case a.vertical:return o.y}throw Error()},c=e=>{switch(e){case o.x:return a.horizontal;case o.y:return a.vertical}throw Error()},d={[a.horizontal]:{scrollOffset:"scrollLeft",offsetLength:"offsetWidth",clientLength:"clientWidth",positionOffset:"offsetLeft",lengthName:"width",offsetName:"left",eventPosition:"clientX",delta:o.x},[a.vertical]:{scrollOffset:"scrollTop",offsetLength:"offsetHeight",clientLength:"clientHeight",positionOffset:"offsetTop",lengthName:"height",offsetName:"top",eventPosition:"clientY",delta:o.y}};var u;!function(e){e.Beginning="Beginning",e.Middle="Middle",e.End="End",e.None="None"}(u||(u={}));const h=(e,t)=>t?e<.01?u.Beginning:1-e<.01?u.End:u.Middle:u.None},92915:(e,t,i)=>{"use strict";i.d(t,{L:()=>d});var n=i(85893),s=i(67294),r=i(16441),a=i(57151),o=i(8659),l=i(44523);class c extends s.Component{constructor(e){super(e),this.state={visible:!1,trackLength:1,thumbLength:1,thumbOffset:0},this.direction=o.uG[e.direction],this.handlePressStart=this.handlePressStart.bind(this),this.handlePressMove=this.handlePressMove.bind(this),this.handleTrackClick=this.handleTrackClick.bind(this),this.inputFilter=new a.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove}),window.PointerEvent||(window.addEventListener("mousemove",this.inputFilter.handleEvent),window.addEventListener("mouseleave",this.inputFilter.handleEvent),window.addEventListener("mouseup",this.inputFilter.handleEvent)),window.addEventListener("pointermove",this.inputFilter.handleEvent),window.addEventListener("pointerup",this.inputFilter.handleEvent)}componentWillUnmount(){window.PointerEvent||(window.removeEventListener("mousemove",this.inputFilter.handleEvent),window.removeEventListener("mouseleave",this.inputFilter.handleEvent),window.removeEventListener("mouseup",this.inputFilter.handleEvent)),window.removeEventListener("pointermove",this.inputFilter.handleEvent),window.removeEventListener("pointerup",this.inputFilter.handleEvent)}getTrackLength(){return Number(this.thumbTrack&&this.thumbTrack[this.direction.clientLength]||this.props.containerSize.width)}handleTrackClick(e){if(e.target!==this.thumbTrack)return;const t=this.direction.eventPosition,i=this.thumbTrack.getBoundingClientRect()[this.direction.offsetName],n=e[t]<i+this.state.thumbOffset,s=this.getTrackLength();let r=0;r=n?Math.max(0,(this.state.thumbOffset-this.state.thumbLength)/s):Math.min(s,(this.state.thumbOffset+this.state.thumbLength)/s),this.props.scrollTo({[(0,o.O1)(this.props.direction)]:r})}handlePressStart(e){this.dragStartThumbOffset=this.state.thumbOffset}handlePressMove(e){const t=this.getTrackLength(),i=(this.dragStartThumbOffset-e[this.direction.delta])/t;this.props.scrollTo({[(0,o.O1)(this.props.direction)]:i}),this.props.onThumbDrag&&this.props.onThumbDrag()}componentDidUpdate(){const{wrapperLength:e,childLength:t,scrollOffset:i}=this.props;if(e>0&&t>0){const n=this.getTrackLength(),s=e/t*n,a={thumbLength:s,visible:t>e,thumbOffset:Math.min(i/t*n,n-s)};if((0,r.g)(this.state,a)){const e=this.state.visible!==a.visible;e&&this.props.onVisibilityChange&&this.props.onVisibilityChange(a.visible);const t=(0,o.w5)(a.thumbOffset/(n-s),a.visible);(t!==this.scrollPosition||e)&&(this.scrollPosition=t,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(t)),this.setState(a)}}}render(){const e={[`${this.direction.lengthName}`]:this.state.thumbLength+"px",[`${this.direction.offsetName}`]:this.state.thumbOffset+"px"},t=this.inputFilter.handleEvent,i=window.PointerEvent,s=i?t:void 0,r=i?void 0:t,a=i?void 0:t;return(0,n.jsx)("div",{children:this.state.visible&&!this.props.forceHidden&&(0,n.jsx)("div",Object.assign({className:"scrollbarTrack "+this.props.direction,onClick:this.handleTrackClick,ref:e=>{this.thumbTrack=e}},{children:(0,n.jsx)("div",{className:"scrollbarThumb",style:e,onPointerDown:s,onMouseDown:a,onTouchStart:r})}))})}}const d=(0,l.P)(c)},58956:(e,t,i)=>{"use strict";i.d(t,{T:()=>p});var n=i(85893),s=i(67294),r=i(38772),a=i(94184),o=i.n(a),l=i(91033),c=i(88951),d=i(57151),u=i(23885),h=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let p=class extends s.Component{constructor(e){super(e),this.usePointerEvents=window.PointerEvent,this.scrollerRef=(0,s.createRef)(),this.trackRef=(0,s.createRef)(),this.thumbRef=(0,s.createRef)(),this.focusedSelector=null,this.listening=!1,this.startY=0,this.onThumb=!1,this.scrollTop=0,this.isUnmounting=!1,this.handleResize=()=>{this.isUnmounting||(this.computeStateValues(),this.focusedSelector&&this.scrollToSelector(this.focusedSelector))},this.handleWheelEvent=e=>{this.props.disabled||(this.onThumb=!1,this.focusedSelector=null,this.scrollBy(e.deltaY))},this.handleEvent=e=>{if(this.scrollerRef.current&&!this.props.disabled){this.scrollVelocityPixelsMS=0;if("mousedown"===e.type||"pointerdown"===e.type||"touchstart"===e.type){const t=e.target;this.onThumb=t&&t.classList.contains("scroller-thumb")}this.focusedSelector=null,this.inputFilter.handleEvent(e)}},this.handlePressStart=e=>{this.onThumb?this.startY=this.getThumbTop():this.startY=this.getScrollTop()},this.handlePressMove=e=>{const{trackHeight:t,contentsHeight:i}=this.state;let n;this.onThumb?(n=(this.startY-e.y)/t,this.scrollToPercent(n)):(n=(e.y+this.startY)/i,this.scrollToPercent(n))},this.handleDragStart=()=>{},this.handleDragEnd=(e,t)=>{this.scrollVelocityPixelsMS=e.y/t,this.lastScrollTimeMS=void 0,Math.abs(this.scrollVelocityPixelsMS)<1?this.scrollVelocityPixelsMS=0:this.animateScroll()},this.onTrackClick=e=>{const t=this.trackRef.current;if(e.target!==t||!t)return;const i=this.getThumbHeight(),n=this.getThumbTop(),s=t.getBoundingClientRect().top,r=this.state.trackHeight;let a;a=e.clientY<s+n?Math.max(0,(n-i)/r):Math.min(r,(n+i)/r),this.scrollToPercent(a)},this.scrollToPercent=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(Math.min(1,e)*this.state.contentsHeight,0))},this.scrollBy=e=>{this.isOverflowing()&&this.scrollerRef.current&&!isNaN(e)&&this.setScrollPosition(Math.max(this.scrollerRef.current.scrollTop+e,0))},this.computeStateValues=()=>{if(this.props.disabled)return;const e=this.scrollerRef.current,t=this.trackRef.current,i=Number(e&&e.clientHeight)||1,n=Number(t&&t.clientHeight)||i,s=Number(this.contents&&this.contents.clientHeight)||1,r=Number(this.contents&&this.contents.offsetTop)||0;this.debouncedSetState({scrollerHeight:i,contentsHeight:s,trackHeight:n,offsetTop:r})},this.debouncedSetState=e=>{new URL(`${document.location}`).searchParams.get("temp-disable-debounce-scroll")?this.setState(e):(cancelAnimationFrame(this.rAFHandle),this.rAFHandle=requestAnimationFrame((()=>{this.isUnmounting||this.setState(e)})))},this.setContentsRef=e=>{e?(this.contents=e,this.resizeObserver.observe(this.contents)):this.contents&&this.resizeObserver.unobserve(this.contents)},this.setContainerRef=e=>{e?(this.container=e,this.resizeObserver.observe(e)):this.container&&this.resizeObserver.unobserve(this.container)},this.state={scrollerHeight:1,contentsHeight:1,trackHeight:1,offsetTop:0},this.resizeObserver=new l.Z(this.handleResize),this.inputFilter=new d.Z({handlePressStart:this.handlePressStart,handlePressMove:this.handlePressMove,handleDragStart:this.handleDragStart,handleDragEnd:this.handleDragEnd})}componentDidMount(){this.toggleEventHandling(!0),this.computeStateValues()}componentWillUnmount(){this.isUnmounting=!0,this.toggleEventHandling(!1),this.resizeObserver&&this.resizeObserver.disconnect()}componentDidUpdate(e,t){this.scrollerRef.current&&e.disabled!==this.props.disabled&&(this.props.disabled?this.toggleEventHandling(!1):this.toggleEventHandling(!0))}resetScrollTop(){this.focusedSelector=null,this.setScrollPosition(0)}getScroller(){return this.scrollerRef.current}getScrollHeight(){return Number(this.contents&&this.contents.clientHeight)||0}scrollToElement(e,t="center",i){const n=this.scrollerRef.current;if(!e||!n)return;if(!(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINS))return;if(!this.isOverflowing())return;const{contentsHeight:s,scrollerHeight:r,offsetTop:a}=this.state;let o=e.offsetTop;if(!i){let t=e;for(;t.parentElement&&(t=t.parentElement,o+=t.offsetTop,t.offsetParent!==this.contents););}let l=a+o;"center"===t&&(l+=e.offsetHeight/2-r/2),l=Math.max(Math.min(s,l),0);const c=n.scrollTop,d=l-c;let h=0;const p=e=>{h||(h=e);const t=e-h,i=(0,u.hN)(t,c,d,500);n.scrollTo(0,i),t<500?window.requestAnimationFrame(p):this.setScrollPosition(l)};window.requestAnimationFrame(p)}scrollToSelector(e,t="center",i){const n=this.scrollerRef.current;if(!n)return;const s=n.querySelector(e);s?(this.focusedSelector=e,this.scrollToElement(s,t,i)):this.focusedSelector=null}setScrollPosition(e){const t=this.scrollerRef.current;if(t){const i=t.scrollTop;t.scrollTop=e,this.scrollTop=this.getScrollTop(),this.props.onScrolled&&i!==this.scrollTop&&this.props.onScrolled(this.scrollTop);const n=this.thumbRef.current;n&&(n.style.height=`${this.getThumbHeight()}px`,n.style.top=`${this.getThumbTop()}px`)}}toggleEventHandling(e){const t=this.scrollerRef.current,i=this.handleEvent,n=c.h?{passive:!0}:void 0;!this.listening&&e&&t?(t.addEventListener("wheel",this.handleWheelEvent,n),this.usePointerEvents?(t.addEventListener("pointerdown",i,n),window.addEventListener("pointermove",i,n),window.addEventListener("pointerup",i,n)):(t.addEventListener("touchstart",i,n),t.addEventListener("mousedown",i,n),window.addEventListener("mousemove",i,n),window.addEventListener("mouseleave",i,n),window.addEventListener("mouseup",i,n),window.addEventListener("touchmove",i,n),window.addEventListener("touchend",i,n),window.addEventListener("touchcancel",i,n))):this.listening&&!e&&t&&(t.removeEventListener("wheel",this.handleWheelEvent),this.usePointerEvents?(t.removeEventListener("pointerdown",i),window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",i)):(t.removeEventListener("touchstart",i),t.removeEventListener("mousedown",i),window.removeEventListener("mousemove",i),window.removeEventListener("mouseleave",i),window.removeEventListener("mouseup",i),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",i),window.removeEventListener("touchcancel",i)))}animateScroll(){window.requestAnimationFrame((e=>{void 0===this.lastScrollTimeMS&&(this.lastScrollTimeMS=e);let t=e-this.lastScrollTimeMS;if(t>0){this.scrollBy(this.scrollVelocityPixelsMS*t);const e=this.scrollVelocityPixelsMS>0?-1:1;for(;t>0;)this.scrollVelocityPixelsMS+=this.scrollVelocityPixelsMS*this.scrollVelocityPixelsMS*.01*e,t-=1}Math.abs(this.scrollVelocityPixelsMS)>.001&&this.animateScroll()}))}getThumbTop(){const{contentsHeight:e,trackHeight:t}=this.state;return Math.min(this.scrollTop/e*t,t-this.getThumbHeight())}getThumbHeight(){const{scrollerHeight:e,contentsHeight:t,trackHeight:i}=this.state;return e/t*i}getScrollTop(){return this.scrollerRef.current?this.scrollerRef.current.scrollTop:0}isOverflowing(){const{contentsHeight:e,scrollerHeight:t,offsetTop:i}=this.state;return e+i>t}renderTrack(){const e={height:`${this.getThumbHeight()}px`,top:`${this.getThumbTop()}px`};return(0,n.jsx)("div",Object.assign({ref:this.trackRef,className:"scroller-track",onClick:this.onTrackClick},{children:(0,n.jsx)("div",{ref:this.thumbRef,className:"scroller-thumb",style:e,onPointerDown:this.usePointerEvents?this.handleEvent:void 0,onMouseDown:this.usePointerEvents?void 0:this.handleEvent,onTouchStart:this.usePointerEvents?void 0:this.handleEvent})}))}render(){const{children:e,className:t,hideThumb:i,disabled:s}=this.props,r=!s&&this.isOverflowing();return(0,n.jsxs)("div",Object.assign({ref:this.setContainerRef,className:o()("scroller-container",t)},{children:[(0,n.jsx)("div",Object.assign({className:"scroller-scroller",ref:this.scrollerRef},{children:(0,n.jsx)("div",Object.assign({className:"scroller-contents",ref:this.setContentsRef},{children:e}))})),!i&&r&&this.renderTrack()]}))}};p=h([r.Z],p)},42619:(e,t,i)=>{"use strict";i.d(t,{V:()=>r});var n=i(7159);function s(e){return e.get("m")||e.get("model")}function r(e){const t=-1!==e.indexOf("matterport.com/show"),i=-1!==e.indexOf(window.location.host+"/show");if(t||i){const t=new URL(e),i=n.K.deserialize(e)||void 0,r=s(t.searchParams),a=s(new URLSearchParams(window.location.search));return{url:e,pose:i,modelId:r&&r!==a?r:void 0}}return{url:e}}},44472:(e,t,i)=>{"use strict";i.d(t,{S:()=>m});var n=i(85893),s=i(94184),r=i.n(s),a=i(95160),o=i(52528),l=i(67294);function c(e){const{text:t,keyPrefix:i,markers:s}=e,[r,a]=s,o=[];let c=t,d=c.search(`${r}|${a}`),u=c.search(r);for(;d>-1;){const e=d===u,s=c.slice(0,d),h=t.length-c.length,p=`${i},${h}-${h+d}`;e?o.push((0,n.jsx)(l.Fragment,{children:s},p)):o.push((0,n.jsx)("span",Object.assign({"data-blocktype":"marker"},{children:s}),p)),c=c.slice(d+(e?r.length:a.length),c.length),d=c.search(`${r}|${a}`),u=c.search(r)}if(c.length){const e=`${i},${t.length-c.length}-${t.length}`;o.push((0,n.jsx)(l.Fragment,{children:c},e))}return 0===o.length?(0,n.jsx)(n.Fragment,{children:t}):(0,n.jsx)(n.Fragment,{children:o})}function d(e){const{block:t,children:i,onClick:s}=e;return s?(0,n.jsx)("a",Object.assign({className:`link-annotation ${o.o.USER}`,onClick:s,"data-id":t.id||void 0,"data-value":t.value||void 0,"data-blocktype":t.blockType},{children:i})):(0,n.jsx)("span",Object.assign({"data-blocktype":t.blockType},{children:i}))}function u(e){const{block:t,children:i,onClick:s}=e;return s?(0,n.jsx)("a",Object.assign({className:`link-annotation ${o.o.USER}`,onClick:s,"data-blocktype":t.blockType},{children:i})):(0,n.jsx)("span",Object.assign({"data-blocktype":t.blockType},{children:i}))}function h(e){const{block:t,children:i,linksActive:s,onClick:r}=e;return r||s?(0,n.jsx)("a",Object.assign({href:`${t.value}`,target:"_blank",className:`link-annotation ${o.o.LINK}`,onClick:r,"data-blocktype":t.blockType,"data-value":t.value},{children:i})):(0,n.jsx)("span",Object.assign({"data-blocktype":t.blockType,"data-value":t.value},{children:i}))}function p(e){const{block:t,keyPrefix:i,markers:s}=e,{blockType:r,text:o}=t,l=s?(0,n.jsx)(c,{keyPrefix:i,text:o,markers:s}):(0,n.jsx)(n.Fragment,{children:o});return r===a.C.USER?(0,n.jsx)(d,Object.assign({},e,{children:l})):r===a.C.HASH?(0,n.jsx)(u,Object.assign({},e,{children:l})):r===a.C.LINK&&t.value?(0,n.jsx)(h,Object.assign({},e,{children:l})):l}function m(e){const t=e.textParser.parse(e.text),i=r()("text-box-text",e.className);return(0,n.jsx)("div",Object.assign({className:i},{children:t.map(((t,i)=>(0,n.jsx)(p,{keyPrefix:`${t.blockType}${i}`,block:t,linksActive:!!e.linksActive,onClick:e.onClick,markers:e.markers},`${t.blockType}${i}`)))}))}},71570:(e,t,i)=>{"use strict";i.d(t,{b:()=>y});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(33558),l=i(38772),c=i(80361),d=i(32597),u=i(98813),h=i(5686),p=i(95160),m=i(52528),f=i(70391),g=i(6608),v=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};const b="​";let y=class extends s.Component{constructor(e){super(e),this.emailMention=!1,this.wordToken=null,this.endTokens={"@":[","," ","!","?","/",";",":","(",")"],"#":[","," ",".","!","?","/",";",":"]},this.wordElement=null,this.linkElement=null,this.onClickAnchor=e=>{const t=e.target,i=t.dataset.blocktype;this.props.active?(e.preventDefault(),i===p.C.LINK&&this.prepareLinkForEdit(t)):i&&this.props.onClickBlock({blockType:i,text:t.innerText,value:t.dataset.value,id:t.dataset.id},e)},this.onSelectionChange=()=>{const e=this.getCurrentRange();if(e){this.range=e.cloneRange();const t=this.wordElement&&null===this.wordElement.parentElement,i=!!this.wordElement&&this.wordElement!==this.getAnchorFromSelection();(t||i)&&this.wordElement&&(this.wordElement.classList.add("link-annotation-active"),this.endWordMatching()),this.insertFocusNodeIfNeeded()}},this.addFauxHighlight=()=>{this.execCommand("backColor","#ff315840")},this.removeFauxHighlight=()=>{this.execCommand("backColor","transparent")},this.isEmailMention=(e="")=>e.lastIndexOf("@")>0,this.onInput=e=>{var t;const i=e.nativeEvent,n=i.inputType,s=n.startsWith("insert"),r="insertLineBreak"===n,a=i.data,o=this.startTokens;e.stopPropagation();const{isLinkNode:l,isSpecialNode:c,anchorNode:d}=this.tryGetAnchorNode();if(o.length&&!l&&!r){let r=a&&a.length>0?a.charAt(a.length-1):"";const l=this.getTextElement(),u=((null==l?void 0:l.innerText)||"").trim().length;if(l&&n.startsWith("delete")&&0===u&&(l.innerHTML=""),this.updateWordElement(i,c,d),!this.wordToken&&o.includes(r)?(e.preventDefault(),this.wordToken=r,this.emailMention=!1,this.createWordElement(r),this.updateSuggestions()):!this.wordToken&&a&&a.length>1&&o.includes(a[0])&&(e.preventDefault(),this.wordToken=a[0],r=a[a.length-1],this.emailMention=this.isEmailMention(a),this.createWordElement(a),this.updateSuggestions()),this.wordToken&&this.wordElement){const i=this.wordElement.textContent||"",n=this.getMatches(i),a=n.length,o=null===(t=this.endTokens[this.wordToken])||void 0===t?void 0:t.includes(r);1===a&&this.sanitizeForSearch(i)===this.sanitizeForSearch(n[0].text)&&s?(e.preventDefault(),this.chooseMatch(n[0].text,n[0].value,n[0].id)):o&&"#"===this.wordToken?(e.preventDefault(),this.finishWordElement(!0)):o&&"@"===this.wordToken?(e.preventDefault(),this.emailMention?this.finishWordElement(!0):0===a&&this.clearWordElement()):"@"===this.wordToken?(this.updateUserMatches(),this.isEmailMention(i)&&(this.wordElement.classList.add("link-annotation-active"),this.emailMention=!0)):this.filterSuggestions()}}this.props.onInput(this.getMarkdown())},this.updateUserMatches=(0,c.D)((()=>this.fetchUserMatches()),350),this.onClickMatch=e=>{const t=e.currentTarget;if(t){const i=t.dataset.value,n=t.dataset.id,s=t.dataset.text||t.innerText;e.stopPropagation(),e.preventDefault(),this.chooseMatch(s,i,n)}},this.onHoverMatch=e=>{const t=e.currentTarget;if(t){const e=parseInt(t.dataset.index||"0",10);this.setState({activeMatch:e})}},this.onClick=e=>{const{active:t,clickToEdit:i,onStartEditing:n}=this.props;t?(this.removeFauxHighlight(),this.range=null):i&&n&&n(e)},this.handleFocus=()=>{const{onFocusChange:e}=this.props;e&&e(!0)},this.onBlur=()=>{this.endWordMatching(),this.setState({sortedSuggestions:[]});const{onFocusChange:e}=this.props;e&&e(!1)},this.onDone=()=>{const{onDoneEditing:e}=this.props;e?e():this.toggleEditing(!1)},this.onKeyDown=e=>{const{onCancelEditing:t,allowTabbing:i,allowReturnKey:n}=this.props,{matches:s,activeMatch:r}=this.state;e.stopPropagation(),this.range||(this.range=this.getCurrentRange());const a=e.which||e.keyCode;switch(a){case d.R.ESCAPE:return void(t&&t());case d.R.TAB:case d.R.RETURN:if(s.length&&r>-1)e.preventDefault(),this.chooseMatch(s[r].text,s[r].value,s[r].id);else{const{isSpecialNode:t,anchorNode:s}=this.tryGetAnchorNode();if(t&&s&&this.range&&(e.preventDefault(),this.insertAndFocusCharacter(s,!1,"\n​")),this.wordToken&&(e.preventDefault(),this.finishWordElement(!1,!0)),!e.shiftKey){const t=a===d.R.TAB&&i,s=a===d.R.RETURN&&n;t||s||(e.preventDefault(),this.onDone())}}return;case d.R.DOWNARROW:return void(s.length&&(e.preventDefault(),this.setState((e=>{const t=(e.activeMatch+1)%s.length;return this.ensureActiveMatchIsVisible(t),{activeMatch:t}}))));case d.R.UPARROW:return void(s.length&&(e.preventDefault(),this.setState((e=>{const t=0===e.activeMatch?s.length-1:e.activeMatch-1;return this.ensureActiveMatchIsVisible(t),{activeMatch:t}}))));case d.R.B:case d.R.I:case d.R.U:if(e.ctrlKey||e.metaKey)return void e.preventDefault();break;case d.R.BACKSPACE:case d.R.SHIFT:case d.R.CONTROL:case d.R.ALT:case d.R.LEFTARROW:case d.R.RIGHTARROW:case d.R.DELETE:return}},this.saveRef=e=>{this.textBox=e},this.bindSuggestionMenuRef=e=>{this.suggestionMenuRef=e},this.state={activeMatch:-1,matches:[],sortedSuggestions:[]}}componentDidMount(){this.props.active&&this.toggleEditing(!0,this.props.focusOnMount)}componentWillUnmount(){this.toggleEditing(!1),this.wordElement=null}componentDidUpdate(e,t){const{active:i}=this.props;i!==e.active&&this.toggleEditing(i)}toggleEditing(e,t){this.textBox&&this.textBox.toggleEditing(e,t),this.endWordMatching(),this.setState({sortedSuggestions:[]}),e?document.addEventListener("selectionchange",this.onSelectionChange):document.removeEventListener("selectionchange",this.onSelectionChange)}ensureActiveMatchIsVisible(e){if(!this.suggestionMenuRef)return;const{scrollTop:t,offsetHeight:i}=this.suggestionMenuRef,n=this.suggestionMenuRef.querySelector(`[data-index="${e}"]`);if(!n)return;const{offsetTop:s,offsetHeight:r}=n,a=t>s;if(t+i<s+r||a){const e=a;n.scrollIntoView(e)}}getTextElement(){var e;return null===(e=this.textBox)||void 0===e?void 0:e.getTextElement()}focus(){this.textBox&&this.textBox.focus()}getMarkdown(){const e=this.getTextElement();return e?this.props.textParser.serialize(e):""}hasTextSelected(){return!(!this.range||this.range.startOffset===this.range.endOffset)}createAnchor(e,t){const i=document.createElement("a");return i.href=t,i.text=this.props.textParser.sanitizeText(e),i.classList.add(m.o.LINK),i.setAttribute("data-value",t),i}prepareLinkForEdit(e){const t=e||this.getAnchorFromSelection();let i="";const n=window.getSelection();if(n){const e=this.getTextElement();t||this.range||!e?(this.addFauxHighlight(),t||(i=this.range?this.range.toString():n.toString())):(this.focus(),n.selectAllChildren(e),n.collapseToEnd(),this.range=n.getRangeAt(0),i=this.range.toString())}i===b&&(i=""),this.linkElement=t;const s=t?t.innerText:i,r=t?t.dataset.value||t.href:"";this.props.onClickBlock({blockType:p.C.LINK,text:s,value:r})}saveLink(e,t){this.linkElement?""!==t?this.updateLink(this.linkElement,e,t):this.unlink(this.linkElement):this.linkify(e,t)}updateLink(e,t,i){const{maxLength:n,textParser:s}=this.props,r=this.getMarkdown(),a=this.createAnchor(t,i);if(n){const t=s.serializeHTMLToMarkdown(a.outerHTML),i=s.serializeHTMLToMarkdown(e.outerHTML),o=t.length-i.length;if(r.length+o>n)return!1}return e.href=a.href,e.text=a.text,e.setAttribute("data-value",i),!0}cancelLink(){this.focus(),this.removeFauxHighlight()}linkify(e,t){this.removeFauxHighlight(),this.execCommand("createLink",t);let i=this.getAnchorFromSelection();!i&&this.range&&(i=document.createElement("a"),i.href=t,this.range.insertNode(i)),i&&(i.text=e,i.className=`link-annotation ${m.o.LINK}`,i.setAttribute("data-blocktype",p.C.LINK),i.setAttribute("data-value",t),i.onclick=this.onClickAnchor,this.insertAndFocusCharacter(i))}insertAndFocusCharacter(e,t=!1,i="​"){if(this.range=this.getCurrentRange(),this.range){const n=document.createTextNode(i),s=t?"setStartBefore":"setStartAfter",r=t?"setEndBefore":"setEndAfter";this.range[s](e),this.range[r](e),this.range.insertNode(n),this.range.selectNodeContents(n),i!==b&&this.range.collapse(!1),this.applyRange()}}unlink(e){const t=e.parentNode,i=e.textContent;t&&(t.removeChild(e),i&&!(0,u.j)(i)&&this.execCommand("insertText",i))}execCommand(e,t){this.range&&(this.applyRange(),document.execCommand(e,!1,t),this.onSelectionChange())}applyRange(){if(this.range){const e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(this.range))}}getAnchorFromSelection(){const e=this.getCurrentRange();if(!e)return null;let t=e.commonAncestorContainer;for(;t&&"A"!==t.nodeName;){if(t===this.getTextElement())return null;t=t.parentNode}return t||null}insertFocusNodeIfNeeded(){var e,t;const i=window.getSelection();if(!i||!this.range)return;const{anchorNode:n,isLinkNode:s}=this.tryGetAnchorNode();if(n){const r=null!==(t=null===(e=n.textContent)||void 0===e?void 0:e.length)&&void 0!==t?t:0,a=0===i.focusOffset&&r>0,o=null===n.nextSibling&&r===i.focusOffset&&s;(a||o)&&this.insertAndFocusCharacter(n,a)}}getCurrentRange(){const e=window.getSelection();if(e&&e.rangeCount>0){const t=e.getRangeAt(0),i=this.getTextElement();if(i&&(i===t.commonAncestorContainer||i.compareDocumentPosition(t.commonAncestorContainer)&Node.DOCUMENT_POSITION_CONTAINED_BY))return t}return null}sortWords(e){return e.sort(((e,t)=>e.text.toLowerCase()<t.text.toLowerCase()?-1:1))}tryGetAnchorNode(){var e;const t=this.getAnchorFromSelection();if(t&&t instanceof HTMLAnchorElement){const i=null===(e=t.dataset)||void 0===e?void 0:e.blocktype,n=i===p.C.USER||i===p.C.HASH,s=i===p.C.LINK;return{isSpecialNode:n,isLinkNode:s,anchorNode:n||s?t:null}}return{isSpecialNode:!1,isLinkNode:!1,anchorNode:null}}updateWordElement(e,t,i){const n=e.inputType.startsWith("delete"),s=window.getSelection(),r=this.startTokens;if(!this.wordElement||this.wordElement.parentElement){if(t&&i&&i.parentElement&&s){const e=i.textContent||"";if(!r.includes(e[0]||""))return void this.clearWordElement();const t=e.substr(0,s.focusOffset),a=s&&s.focusOffset<e.length,o=n||a;if(this.wordElement=i,this.wordToken=t[0],this.emailMention=this.isEmailMention(t),this.updateSuggestions(),this.range=this.getCurrentRange(),o&&this.range){this.range.selectNode(i);const n=this.range.extractContents();if(n&&n.firstElementChild&&n.firstElementChild instanceof HTMLElement){const i=e.substring(t.length),s=document.createTextNode(i);n.firstElementChild.innerText=t,n.firstElementChild.classList.remove("link-annotation-active"),n.firstElementChild.removeAttribute("data-value"),n.firstElementChild.removeAttribute("data-id"),n.appendChild(s),this.range.insertNode(n),this.range.setStartBefore(s),this.range.setEndBefore(s),this.range.collapse(!1),this.range.selectNodeContents(this.wordElement),this.range.collapse(!1),this.applyRange()}}}}else this.endWordMatching()}get startTokens(){const{hashtags:e,userMentions:t}=this.props,i=[];return t&&i.push("@"),e&&i.push("#"),i}fetchUserMatches(){const e=this.wordElement?this.wordElement.textContent:null;if(this.props.active&&this.wordToken&&e){const t=this.sanitizeForSearch(e,!0);this.context.commandBinder.issueCommand(new h.V1(t)).then((()=>{this.updateSuggestions()}))}}filterSuggestions(){const{wordToken:e,wordElement:t}=this;if(e&&t&&t.textContent){const e=this.sanitizeForSearch(t.textContent),i=this.getMatches(e),n=i.length>0?0:-1;this.setState({matches:i,activeMatch:n})}}sanitizeForSearch(e="",t){if(!this.wordToken)return e;let i=(e.startsWith(this.wordToken)?e.substr(1):e).toLowerCase().trim().replace(/\s\s+/g," ");if(t){const e=/([^\s]+)/.exec(i);i=e&&e[0]||""}return i}getMatches(e){const{sortedSuggestions:t=[]}=this.state,i=this.sanitizeForSearch(e)||"";return 0===i.length?t:t.filter((e=>{let t=0===this.sanitizeForSearch(e.text).indexOf(i);return!t&&"@"===this.wordToken&&e.value&&(t=0===this.sanitizeForSearch(e.value).indexOf(i)),t}))}chooseMatch(e,t,i){const n=this.wordElement;if(n){const s=this.wordToken&&!e.startsWith(this.wordToken)?this.wordToken:"";n.innerText=`${s}${e}`,n.classList.add("link-annotation-active"),t&&n.setAttribute("data-value",t),i&&n.setAttribute("data-id",i),this.finishWordElement(!1,!0),this.props.onInput(this.getMarkdown())}}updateSuggestions(){const{wordToken:e}=this,{hashtags:t,userMentions:i}=this.props;let n=[];if("#"===e&&t)n=this.sortWords(t.map((e=>({text:e,blockType:p.C.HASH}))));else if("@"===e&&i){const e=this.context.userData.getKnownUsers();n=this.sortWords(e.map((e=>({text:e.name,id:e.id,value:e.email,blockType:p.C.USER}))))}this.setState({sortedSuggestions:n},this.filterSuggestions)}endWordMatching(){this.setState({matches:[],activeMatch:-1}),this.wordToken=null,this.wordElement=null,this.emailMention=!1}createWordElement(e){const t=window.getSelection(),i=this.range;if(!i||!t||!this.wordToken)return;const n=document.createElement("a");n.removeAttribute("href"),n.innerText=e,"#"===this.wordToken?(n.className=`link-annotation ${m.o.HASH}`,n.setAttribute("data-blocktype",p.C.HASH)):"@"===this.wordToken&&(n.className=`link-annotation ${m.o.USER}`,n.setAttribute("data-blocktype",p.C.USER));const s=i.startContainer,r=i.startOffset,a=i.endOffset+e.length,o=Math.max(0,(s.textContent||"").length);try{i.setStart(s,Math.min(r,o)),i.setEnd(s,Math.min(a,o))}catch(e){i.selectNodeContents(s)}i.deleteContents(),i.insertNode(n),i.selectNodeContents(n),i.collapse(!1),this.applyRange(),this.wordElement=n}clearWordElement(){const e=this.range,t=window.getSelection();e&&t&&this.wordElement&&this.wordToken&&(this.stripAnchorFromNode(this.wordElement),this.endWordMatching())}stripAnchorFromNode(e){const t=this.range;if(!t)return;const i=e.textContent;if(this.focus(),t.selectNode(e),t.deleteContents(),t.collapse(!1),i){const e=document.createTextNode(i);t.insertNode(e),t.selectNodeContents(e),t.collapse(!1)}this.applyRange()}isValidSpecialWord(e,t){return 0!==this.sanitizeForSearch(t).length||(this.clearWordElement(),!1)}finishWordElement(e,t){const{range:i,wordElement:n,wordToken:s}=this,r=window.getSelection();if(!(i&&r&&n&&s))return;n.contentEditable="true",n.classList.add("link-annotation-active");let a="";const o=n.textContent;if(this.isValidSpecialWord(s,o||"")){if(e&&o&&o.length>1?(a=o.charAt(o.length-1),n.textContent=o.slice(0,-1)):t&&(a=" "),this.focus(),i.setStartAfter(n),a){const e=document.createTextNode(a);i.insertNode(e),i.selectNodeContents(e),i.collapse(!1)}this.applyRange(),this.endWordMatching()}else this.clearWordElement()}renderMatch(e,t){const{activeMatch:i}=this.state,s=t===i,r=e.blockType===p.C.USER,o=r&&e.value?this.context.userData.getUserDisplay(e.value):null,l=r?e.value:void 0,c=`${e.text}-${t}`;return(0,n.jsxs)("div",Object.assign({className:a()("suggestion",{selected:s}),onMouseDown:this.onClickMatch,onMouseEnter:this.onHoverMatch,"data-value":e.value,"data-id":e.id,"data-text":e.text,"data-index":t},{children:[r&&o&&(0,n.jsx)(g.C,{badgeStyle:{color:o.color,borderColor:o.color,backgroundColor:"transparent"},label:o.initials}),(0,n.jsx)("span",Object.assign({className:"suggestion-text"},{children:e.text})),l&&(0,n.jsxs)("p",Object.assign({className:"suggestion-hint"},{children:["(",l,")"]}))]}),c)}renderMatches(){if(!this.props.active)return null;const{matches:e}=this.state,t=e.length>0;return(0,n.jsx)("div",Object.assign({className:a()("suggestion-menu",{open:t}),ref:this.bindSuggestionMenuRef},{children:t&&e.map(((e,t)=>this.renderMatch(e,t)))}))}render(){const{text:e,textParser:t,clickToEdit:i,placeholder:s,tabIndex:r,maxLength:o,className:l,active:c}=this.props;return(0,n.jsxs)("div",Object.assign({className:a()("smart-text-box",l)},{children:[(0,n.jsx)(f.Z,{ref:this.saveRef,text:e,textParser:t,active:c,placeholder:s,tabIndex:r,clickToEdit:i&&!c,maxLength:o,onClick:this.onClick,onInput:this.onInput,onKeyDown:this.onKeyDown,onBlur:this.onBlur,onFocus:this.handleFocus,onClickAnchor:this.onClickAnchor}),this.renderMatches()]}))}};y.contextType=o.I,y=v([l.A],y)},70391:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r),o=i(38772),l=i(33558),c=i(32597),d=i(40505),u=i(25307),h=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let p=class extends s.Component{constructor(e){super(e),this.textElement=(0,s.createRef)(),this.editing=!1,this.isUnmounting=!1,this.stopPropagation=e=>e.stopPropagation(),this.onPaste=e=>{if(!e.clipboardData||!this.textElement.current)return;const{maxLength:t,textParser:i}=this.props,n=e.clipboardData.getData("text/plain");if(e.preventDefault(),t){const e=this.getSelectionRange();if(!e)return;const[s,r]=i.getHTMLWithoutSelection(this.textElement.current,e),a=e=>i.serializeHTMLToMarkdown(`${s}${n.slice(0,e)}${r}`).length<=t,o=(0,u.$)(n.length,a);if(o>=0){const e=n.slice(0,o);document.execCommand("insertHTML",!1,e)}}else document.execCommand("insertHTML",!1,n)},this.onKeyDown=e=>{if(!this.textElement.current)return;const{maxLength:t,onKeyDown:i,textParser:n}=this.props,s=this.getSelectionRange();if(t&&s){const[i,r]=n.getHTMLWithoutSelection(this.textElement.current,s),a=this.getTextInsertion(e,i,r);if(n.serializeHTMLToMarkdown(`${i}${a}${r}`).length>t)return e.preventDefault(),void e.stopPropagation()}(e.which||e.keyCode)===c.R.RETURN&&(e.shiftKey||e.altKey)?document.execCommand("insertText",!1,"\n"):i&&i(e)},this.onMouseDown=e=>{const{onClick:t,clickToEdit:i,readonly:n}=this.props;t&&(e.stopPropagation(),t(e)),n||!this.editing&&i&&this.toggleEditing(!0)},this.onFocus=e=>{this.textElement.current&&(this.context.messageBus.broadcast(new d.SN(this.textElement.current,!0)),this.props.onFocus&&this.props.onFocus(e))},this.onBlur=e=>{this.textElement.current&&(this.context.messageBus.broadcast(new d.SN(this.textElement.current,!1)),this.props.onBlur&&this.props.onBlur(e))}}componentDidMount(){this.replaceTextContent(this.props.text)}componentWillUnmount(){this.isUnmounting=!0,this.textElement.current&&this.textElement.current.blur()}componentDidUpdate(e){const{text:t,active:i}=this.props;t===e.text&&i===e.active||this.replaceTextContent(t)}shouldComponentUpdate(){return!1}getTextElement(){return this.textElement.current}getPlainText(){var e;return(null===(e=this.textElement.current)||void 0===e?void 0:e.innerText)||""}focus(){this.editing&&this.textElement.current&&this.textElement.current.focus()}toggleEditing(e,t=!0){clearTimeout(this.toggleEditingTimeout),this.toggleEditingTimeout=window.setTimeout((()=>{this.textElement.current&&!this.isUnmounting&&(this.editing!==e&&(this.editing=e,this.textElement.current.contentEditable=e?"true":"false",e?this.textElement.current.classList.add("editing"):this.textElement.current.classList.remove("editing")),e&&t?this.textElement.current.focus():this.textElement.current.blur())}),0)}replaceTextContent(e){clearTimeout(this.replaceTextContentTimeout),this.replaceTextContentTimeout=window.setTimeout((()=>{if(!this.textElement.current||this.isUnmounting)return;for(;this.textElement.current.firstChild;)this.textElement.current.removeChild(this.textElement.current.firstChild);const t=document.createDocumentFragment(),{textParser:i,markers:n,onClickAnchor:s,active:r,readonly:a,maxLength:o,clickableLinks:l}=this.props,c=void 0!==l?l:!r,d=i.deserialize(e,c,s,n);let u=0,h=!d.every((e=>{var i;const n=(null===(i=e.textContent)||void 0===i?void 0:i.length)||0;if(a&&o&&u+n>o){if("#text"===e.nodeName){const i=e.textContent||"";e.textContent=i.substring(0,o-u),t.appendChild(e)}return!1}return!a&&r&&"A"===e.nodeName&&(e.contentEditable="true"),u+=n,t.appendChild(e),!0}));h&&t.appendChild(document.createTextNode("...")),this.textElement.current.appendChild(t),this.focus(),a&&!h&&this.props.maxLines&&this.textElement.current.scrollHeight>this.textElement.current.offsetHeight&&(h=!0,this.textElement.current.appendChild(document.createTextNode("..."))),this.props.onTextReplaced&&this.props.onTextReplaced(h)}),0)}getSelectionRange(){const e=window.getSelection();if(e&&e.rangeCount>0){const t=e.getRangeAt(0);if(this.textElement.current&&(this.textElement.current===t.commonAncestorContainer||this.textElement.current.compareDocumentPosition(t.commonAncestorContainer)&Node.DOCUMENT_POSITION_CONTAINED_BY))return t}return null}getTextInsertion(e,t,i){switch(e.which||e.keyCode){case c.R.LEFTARROW:case c.R.UPARROW:case c.R.RIGHTARROW:case c.R.DOWNARROW:case c.R.BACKSPACE:return"";case c.R.RETURN:const n=t.slice(-1),s=i.slice(0,1);return"\n"===n||"\n"===s?"\n":"\n\n";default:return e.key}}render(){const{placeholder:e,tabIndex:t,onInput:i,readonly:s,maxLines:r,text:o}=this.props,l=s&&r,c=l?{WebkitLineClamp:r}:{},d=a()("text-box-text",{clamped:l,placeholder:!!e&&!o});return(0,n.jsx)("div",{ref:this.textElement,className:d,style:c,role:"textbox",draggable:!1,spellCheck:!0,contentEditable:!1,placeholder:e,onMouseDown:this.onMouseDown,onKeyDown:s?void 0:this.onKeyDown,onKeyUp:s?void 0:this.stopPropagation,onFocus:s?void 0:this.onFocus,onBlur:s?void 0:this.onBlur,onInput:s?void 0:i,onPaste:s?void 0:this.onPaste,tabIndex:t})}};p.contextType=l.I,p=h([o.A],p);const m=p},52528:(e,t,i)=>{"use strict";i.d(t,{o:()=>n,v:()=>a});var n,s=i(95160),r=i(31362);!function(e){e.TEXT="",e.LINK="link-url",e.HASH="link-hashtag",e.USER="link-user"}(n||(n={}));class a{constructor(e){this.serialize=e=>{const t=[],i=[].slice.call(e.childNodes);for(const e of i)switch(e.nodeName){case"#text":t.push(this.serializeText(e));break;case"A":t.push(this.serializeAnchor(e));break;case"P":case"DIV":t.push(this.serializeElement(e,!0));break;case"SPAN":t.push(this.serializeElement(e,!1));break;case"BR":t.push(this.serializeBreak(e));break;default:t.push(this.serialize(e))}return t.join("")},this.deserialize=(e,t,i,n=this.markers)=>{const s=this.parse(e).map((e=>this.createNode(e,t,i)));return n?this.parseMarkers(s,n):s},this.serializeHTMLToMarkdown=e=>{const t=document.createElement("div");t.innerHTML=e;const i=this.serialize(t);return t.remove(),i},this.serializeText=e=>{let t=this.sanitizeText(e.textContent||"");if(this.links){const e=new RegExp(/https?:\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?/gi),i=document.createElement("a");t=t.replace(e,(e=>(i.href=e,`[${e}](${i.href})`))),i.remove()}return this.hashtags&&(t=t.replace(/(#\w*)/,(e=>`[${e}]`))),t.replace(/\<\s*br\s*\/?>/gi,"\n")},this.serializeAnchor=e=>{const t=e.dataset.blocktype,i=this.sanitizeText(e.innerText||"");let n=i;switch(t){case s.C.HASH:n=`[${i}]`;break;case s.C.USER:if(this.users){let t=e.dataset.id||"",i=e.dataset.value||"";if(!t&&!i&&(i="@"===n[0]?n.substr(1):n,i)){const e=this.users.getUserInfoByEmail(i);e&&(t=e.id)}(t||this.validateEmail(i))&&(n=`[@${t}](${i})`)}break;case s.C.LINK:const t=e.dataset.value||e.href;t&&(n=`[${i}](${t})`);break;default:e.href&&(n=`[${i}](${e.href})`)}return n},this.serializeElement=(e,t)=>{let i=t?"\n":" ";return e.childNodes.length>0&&(i+=this.serialize(e)),i},this.serializeBreak=e=>"\n",this.validateEmail=(()=>{const e=/\S+@\S+\.\S+/,t=document.createElement("input");return t.type="email",t.required=!0,i=>(t.value=i,"function"==typeof t.checkValidity?t.checkValidity():e.test(i))})();const{links:t,hashtags:i,users:n,markers:r}=e;this.links=t||!1,this.hashtags=i||!1,this.users=n,this.markers=r}parseMarkers(e,t){const[i,n]=t;let s=!1;const r=new RegExp(i+"|"+n);for(let t=0;t<e.length;t++){const i=e[t],{nodeType:n,textContent:a}=i,o=3===n;if(!a)continue;o?e.splice(t,1):i.textContent=null;const l=a.split(r);l.forEach(((n,r)=>{if(""!==n){let r;if(s){const e=document.createElement("span");e.setAttribute("data-blocktype","marker"),r=e,r.textContent=n}else r=document.createTextNode(n);o?e.splice(t++,0,r):i.appendChild(r)}r<l.length-1&&(s=!s)})),o&&t--}return e}createNode(e,t,i){switch(e.blockType){case s.C.USER:const r=document.createElement(i?"a":"span");if(r.setAttribute("data-blocktype",e.blockType),i){const t=r;t.className=`link-annotation ${n.USER}`,t.removeAttribute("href"),i&&(t.onclick=i);const s=e.id||"",a=e.value||"";s&&t.setAttribute("data-id",s),a&&t.setAttribute("data-value",a)}return r.textContent=`${e.text}`,r;case s.C.HASH:const a=document.createElement(i?"a":"span");if(a.setAttribute("data-blocktype",e.blockType),i){const e=a;e.className=`link-annotation ${n.HASH}`,e.removeAttribute("href"),i&&(e.onclick=i)}return a.textContent=`${e.text}`,a;case s.C.LINK:if(e.value){const s=document.createElement(i||t?"a":"span");if(s.setAttribute("data-blocktype",e.blockType),s.setAttribute("data-value",e.value),i||t){const r=s;t&&(r.href=`${e.value}`),r.target="_blank",r.className=`link-annotation ${n.LINK}`,i&&(r.onclick=i)}return s.textContent=`${e.text}`,s}}return document.createTextNode(""+e.text)}parse(e){const t=[];if(!e)return[];const i=e.split("[").map(((e,t)=>0===t?e:"["+e));let n=0;for(;n<i.length;){const e=this.parseIntoBlocks(i[n],t);e&&i.splice(n+1,0,e),n++}return t}getPlainText(e){return this.parse(e).map((e=>e.text)).join("")}searchMarkdown(e,t){let i=-1,n=0,s=0;const r=this.parse(e).map((e=>{let r;return this.matchTextBlock(e,t)?(s++,-1===i&&(i=n),r=e.markdown):r=e.text,n+=e.text.length,r}));return-1===i?null:{markdown:r.join(""),matchIndex:i,textLength:n,numMatches:s}}getUserMentions(e){return this.parse(e).filter((e=>e.blockType===s.C.USER&&e.value)).map((e=>e.value||""))}matchTextBlock(e,t){if(e.blockType===t.blockType)if(e.blockType===s.C.USER){if(e.id===t.id)return!0;if(e.value===t.value)return!0}else if(e.blockType===s.C.HASH)return e.text===t.text;return!1}getHTMLWithoutSelection(e,t){let i=!1,n="",s=!1,r="";return e.childNodes.forEach((e=>{const a=e instanceof HTMLElement?e.outerHTML:e.nodeValue;a&&(i&&s&&(r+=a),e===t.startContainer&&(n+=a.slice(0,t.startOffset),i=!0),e===t.endContainer&&(r+=a.slice(t.endOffset,a.length),s=!0),i||s||(n+=a))})),[n,r]}parseIntoBlocks(e,t){if(this.users){const i=this.getUserBlock(e);if(i)return t.push(i),e.slice(i.markdown.length)}if(this.links){const i=this.getLinkBlock(e);if(i&&i.value&&-1===i.value.indexOf("javascript:"))return t.push(i),e.slice(i.markdown.length)}if(this.hashtags){const i=this.getHashBlock(e);if(i)return t.push(i),e.slice(i.markdown.length)}const i=this.getTextBlock(e);return i&&t.push(i),null}getTextBlock(e){return 0===e.length?null:{blockType:s.C.TEXT,text:e,markdown:e}}getHashBlock(e){const t=e.match(a.hashRegex);return!t||t.length<2?null:{blockType:s.C.HASH,markdown:t[0],text:t[1]}}getUserBlock(e){if(!this.users)return null;const t=e.match(a.userRegex);if(!t||t.length<3)return null;let i=t[1].substr(1),n=t[2];const r=n?this.users.getUserInfoByEmail(n):this.users.getUserInfoById(i),o=r?r.name:"";return i=r?r.id:i,n=r?r.email:n,{blockType:s.C.USER,markdown:t[0],id:i,value:n,text:`@${o||n}`}}getLinkBlock(e){const t=e.match(a.linkRegEx);if(!t)return null;const i=t[2];let n=1,r=0;for(;r<i.length&&("("===i[r]?n++:")"===i[r]&&n--,0!==n);)r++;const o=i.length-r;let l=this.conditionallyEncode(t[2].substring(0,r));return-1===l.indexOf("://")&&(l="http://"+l),{blockType:s.C.LINK,markdown:t[0].substring(0,t[0].length-o),text:t[1],value:l}}conditionallyEncode(e){return this.needsEncoding(e)?encodeURI(e):e}needsEncoding(e){if(e.match(r.jx))return!0;let t=e;try{t=decodeURI(e)}catch(e){}return!1}sanitizeText(e){return e.replace(/\]\(/g,"]&zwnj;(").replace(/[\u200B]/g,"").replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"')}}a.hashRegex=/\[(#(\w|-)*)\]/,a.userRegex=/\[(@\w*)\]\(([^\)\(\[\]]*)\)/,a.linkRegEx=/\[([^\]]*)\]\((.*)\)/},3773:(e,t,i)=>{"use strict";i.d(t,{x:()=>s,u:()=>h});var n,s,r=i(85893),a=i(67294),o=i(94184),l=i.n(o),c=i(38772),d=i(38490),u=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};!function(e){e.NONE="no-arrow",e.TOP_LEFT="position-top-left",e.TOP_RIGHT="position-top-right",e.TOP_CENTER="position-top-center",e.BOTTOM_RIGHT="position-bottom-right",e.BOTTOM_LEFT="position-bottom-left",e.BOTTOM_CENTER="position-bottom-center",e.RIGHT_BOTTOM="position-right-bottom"}(s||(s={}));let h=n=class extends a.Component{constructor(e){super(e),this.tooltipWrapperRef=(0,a.createRef)(),this.tooltipContentRef=(0,a.createRef)(),this.maxDurationTimeout=0,this.addClickListenerTimeout=0,this.closeTooltip=()=>{this.setState({showing:!1}),window.removeEventListener("click",this.handleOutsideClick),window.removeEventListener("touchstart",this.handleOutsideClick)},this.timeoutTooltip=()=>{this.closeTooltip(),this.props.onTimeout&&this.props.onTimeout()},this.openTooltip=e=>{this.setState({showing:!0}),this.addClickListenerTimeout=window.setTimeout((()=>{window.addEventListener("click",this.handleOutsideClick),window.addEventListener("touchstart",this.handleOutsideClick),void 0!==e&&(this.maxDurationTimeout=window.setTimeout(this.timeoutTooltip,e))}),0)},this.getContentPosition=()=>{if(!this.tooltipWrapperRef.current||!this.tooltipContentRef.current)return{};const e=this.tooltipWrapperRef.current.parentElement,t=this.tooltipContentRef.current;switch(this.props.arrowPos){case s.BOTTOM_RIGHT:return{transform:`translate(${15-t.offsetWidth}px, ${-t.offsetHeight-e.getBoundingClientRect().height-22}px)`};case s.BOTTOM_LEFT:return{transform:`translate(${-15}px, ${-t.offsetHeight-e.getBoundingClientRect().height-33}px)`};case s.RIGHT_BOTTOM:return{transform:`translate(${-t.offsetWidth-7}px, ${9-t.offsetHeight}px)`};default:return{}}},this.handleOutsideClick=e=>{this.props.onClose&&this.props.onClose(e)},this.state={showing:e.open};const t=n.count++;this.wrapperId=`tooltip-wrapper-${e.name||t}`,this.id=`${e.tooltipId||`tooltip-${t}`}`}static clearCount(){this.count=0}componentDidMount(){this.props.open&&this.openTooltip(this.props.maxMsOpen)}componentWillUnmount(){window.clearTimeout(this.maxDurationTimeout),window.clearTimeout(this.addClickListenerTimeout),window.removeEventListener("click",this.handleOutsideClick),window.removeEventListener("touchstart",this.handleOutsideClick)}UNSAFE_componentWillReceiveProps(e){e.open&&!this.props.open?this.openTooltip(e.maxMsOpen):!e.open&&this.props.open&&this.closeTooltip()}render(){const{arrowPos:e,title:t,message:i,onClose:n,closeButton:a,darkTheme:o,appendHTML:c,bodyClassName:u,className:h}=this.props,{showing:p}=this.state,m={emulatedDialog:!0,open:p,dark:o,[void 0===e?s.TOP_CENTER:e]:!0};return(0,r.jsx)("div",Object.assign({id:this.wrapperId,className:l()(m,h),ref:this.tooltipWrapperRef},{children:(0,r.jsxs)("div",Object.assign({id:this.id,className:l()("tooltip",u),style:this.getContentPosition(),ref:this.tooltipContentRef},{children:[t&&(0,r.jsx)("div",Object.assign({className:"title"},{children:t})),a&&n&&(0,r.jsx)(d.P,{onClose:n}),i,c]}))}))}};h.POPUP_OFFSET=28,h.count=0,h=n=u([c.Z],h)},25071:(e,t,i)=>{"use strict";i.d(t,{MN:()=>n,Eb:()=>s,LH:()=>r,oO:()=>a,_U:()=>o,g:()=>l,El:()=>c});const n=767,s=576,r=375,a=55,o=70,l=500,c=750},4510:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(23885);class s{constructor(e){this.isAnimating=!0,this.duration=e.duration,this.startValue=e.startValue,this.changeValue=e.endValue-this.startValue,this.easingFunction=e.easingFunction||n.to}getUpdatedValue(){this.startTime||(this.startTime=Date.now());const e=Date.now()-this.startTime;return e>this.duration&&(this.isAnimating=!1),this.easingFunction(Math.min(e,this.duration),this.startValue,this.changeValue,this.duration)}}},16441:(e,t,i)=>{"use strict";i.d(t,{g:()=>n});const n=(e,t)=>{for(const i in t)if(e[i]!==t[i])return!0;return!1}},86667:(e,t,i)=>{"use strict";i.d(t,{O:()=>s});var n=i(2367);function s(e){var t,i;return(null===(t=e.market.tryGetData(n.V))||void 0===t?void 0:t.size)||(null===(i=e.mainDiv)||void 0===i?void 0:i.getBoundingClientRect())||{width:window.innerWidth,height:window.innerHeight}}},92703:(e,t,i)=>{"use strict";i.d(t,{u:()=>b,a:()=>y});var n=i(64918),s=i(76631),r=i(89549),a=i(66291),o=i(24696),l=i(61774),c=i(43037),d=i(90099),u=i(59279),h=i(38399),p=i(7159),m=i(84428);const{TAGS:f,NOTES:g}=h.Z.SHOWCASE;let v=!1;const b=function(e,t,i){const n=e.getOverrideParam("tool","").toUpperCase();return t&&e.getOverrideParam("tag","")?s.w1.TAGS:i&&e.getOverrideParam("note","")?s.w1.NOTES:n||null},y=function(e,t){if(v)return;const{commandBinder:i,market:h,settings:b}=t,y=(t,s,r,a,o,l)=>{if(e===t){const e=b.getOverrideParam(s,"");if(e)return h.waitForData(r).then((t=>{const s=a(t,e);if(s){const t=(new m.Vector3).copy(s.stemNormal).setLength(s.stemLength).add(s.anchorPosition),i=p.K.decodeVector3(b.getOverrideParam("pin-pos",p.K.encodeVector3(t))),r=i&&i.distanceTo(t)>.1||null===p.K.deserialize()?n.n.FadeToBlack:null;o(e,r)}else{const e={messagePhraseKey:l,timeout:4e3,dismissesOnAction:!0};i.issueCommand(new d.L(e))}})),!0}return!1};y(s.w1.NOTES,"note",a.X,((e,t)=>e.getNoteView(t)),((e,t)=>{i.issueCommand(new o.yP(e,!0,!1,(0,u.FU)().comment,t))}),g.MISSING_MESSAGE)||y(s.w1.TAGS,"tag",l.n,((e,t)=>e.getTagView(t)),((e,t)=>{i.issueCommand(new c.lt(e,{transition:t,dock:!0}))}),f.MISSING_MESSAGE)?v=!0:e&&(v=!0,i.issueCommandWhenBound(new r.tT(e,!0)))}},57151:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(54106),s=i(41602);class r{constructor(e){this.couldBeDrag=!1,this.isDragging=!1,this.shouldHandleEvents=!0,this.handleEvent=e=>{if(this.shouldHandleEvents)switch(e.stopPropagation(),e.type){case"mousedown":case"touchstart":case"pointerdown":this.onPressStart(e);break;case"mousemove":case"pointermove":case"touchmove":this.onPressMove(e);break;case"mouseup":case"pointerup":case"mouseleave":case"touchend":case"touchcancel":case"pointercancel":case"pointerleave":this.onPressEnd(e)}},this.callbacks=e}setEnabled(e){this.shouldHandleEvents=e,this.couldBeDrag=this.couldBeDrag&&e}getPosition(e){return(0,n.z6)(e)?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}onPressStart(e){this.couldBeDrag=!0,this.dragEvents=[],this.dragStart=this.getPosition(e),this.callbacks.handlePressStart&&this.callbacks.handlePressStart(this.getPosition(e))}onPressMove(e){if(!this.couldBeDrag)return;const t=this.getPosition(e);this.addDragEvent(t),this.isDragging||Math.sqrt(Math.pow(t.x-this.dragStart.x,2)+Math.pow(t.y-this.dragStart.y,2))>s.JU&&(this.isDragging=!0,this.callbacks.handleDragStart&&this.callbacks.handleDragStart()),this.callbacks.handlePressMove&&this.callbacks.handlePressMove({x:this.dragStart.x-t.x,y:this.dragStart.y-t.y})}onPressEnd(e){if(this.couldBeDrag){if(this.couldBeDrag=!1,this.isDragging){if(!this.dragEvents||!this.dragEvents[0])return;const e=this.dragEvents[0],t=this.dragEvents[this.dragEvents.length-1];if(this.callbacks.handleDragEnd){const i={x:0,y:0};Date.now()-t.timestamp<r.dragMoveTimeout&&(i.x=e.position.x-t.position.x,i.y=e.position.y-t.position.y),this.callbacks.handleDragEnd(i,t.timestamp-e.timestamp)}}else this.callbacks.handleClick&&this.callbacks.handleClick(e);this.isDragging=!1}}addDragEvent(e){this.dragEvents.push({position:e,timestamp:Date.now()}),this.dragEvents.length>10&&this.dragEvents.shift()}}r.dragMoveTimeout=100},61687:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});const n=({width:e,height:t})=>e<487||t<487},19280:(e,t,i)=>{"use strict";i.d(t,{p:()=>s});var n=i(25071);function s(e){return e.width<=n.MN}},98813:(e,t,i)=>{"use strict";i.d(t,{j:()=>s});var n=new RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");const s=e=>(e=>n.test(e))(e)&&/^https?:\/\//.test(e)},23612:(e,t,i)=>{"use strict";i.d(t,{z:()=>s,A:()=>r});var n=i(84429);class s extends n.G{constructor(e){super(),this.nativeEvent=e,this.type="hover"}}class r extends n.G{constructor(e){super(),this.nativeEvent=e,this.type="unhover"}}},84429:(e,t,i)=>{"use strict";i.d(t,{G:()=>n});class n{constructor(){this.eventType="input"}}},86819:(e,t,i)=>{"use strict";i.d(t,{T:()=>s,R:()=>r});var n=i(22453);class s extends n.C{constructor(e,t){super(),this.position=e,this.buttons=t}}class r extends n.C{constructor(e,t){super(),this.position=e,this.button=t}}},80592:(e,t,i)=>{"use strict";i.d(t,{E0:()=>s,_t:()=>r,_R:()=>a,u4:()=>o,Zv:()=>l});var n=i(22453);class s extends n.C{constructor(e,t){super(),this.position=e,this.buttons=t}}class r extends n.C{constructor(e,t,i,n){super(),this.position=e,this.clientPosition=n,this.delta=t,this.buttons=i}}class a extends n.C{constructor(e,t,i,n,s){super(),this.position=e,this.delta=t,this.buttons=i,this.timeSinceLastMove=n,this.fullDelta=s}}class o extends n.C{constructor(e,t){super(),this.position=e,this.pointer=t}}class l extends n.C{constructor(e,t){super(),this.position=e,this.fullDelta=t}}},22453:(e,t,i)=>{"use strict";i.d(t,{C:()=>s});var n=i(84429);class s extends n.G{}},62017:(e,t,i)=>{"use strict";i.d(t,{DG:()=>s,PC:()=>r,Vh:()=>a,$b:()=>o,pt:()=>l});var n=i(22453);class s extends n.C{constructor(e,t,i,n){super(),this.position=e,this.clientPosition=t,this.delta=i,this.buttons=n}}class r extends n.C{constructor(e,t,i,n,s){super(),this.position=e,this.clientPosition=t,this.delta=i,this.buttons=n,this.progress=s}}class a extends n.C{constructor(e,t,i){super(),this.position=e,this.clientPosition=t,this.buttons=i}}class o extends n.C{constructor(e,t){super(),this.position=e,this.clientPosition=t}}class l extends n.C{constructor(e,t,i){super(),this.position=e,this.clientPosition=t,this.cancelled=i}}},80160:(e,t,i)=>{"use strict";i.d(t,{d:()=>s,h:()=>r});var n=i(22453);class s extends n.C{constructor(e,t,i){super(),this.pointerCount=e,this.position=Object.assign({},t),this.delta=Object.assign({},i)}}class r extends n.C{constructor(e,t,i,n){super(),this.pointerCount=e,this.position=Object.assign({},t),this.delta=Object.assign({},i),this.timeSinceLastMove=n}}},11442:(e,t,i)=>{"use strict";i.d(t,{G:()=>s,i:()=>r});var n=i(22453);class s extends n.C{constructor(e){super(),this.pinchDelta=e}}class r extends n.C{constructor(e,t){super(),this.pinchDelta=e,this.timeSinceLastMove=t}}},96955:(e,t,i)=>{"use strict";i.d(t,{h:()=>s});var n=i(22453);class s extends n.C{constructor(e){super(),this.pointers=e}}},10082:(e,t,i)=>{"use strict";i.d(t,{D:()=>s,u:()=>r});var n=i(22453);class s extends n.C{constructor(e){super(),this.rotateDelta=e}}class r extends n.C{constructor(e,t){super(),this.rotateDelta=e,this.timeSinceLastMove=t}}},12250:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});var n=i(22453);class s extends n.C{constructor(e,t){super(),this.position=e,this.delta=t}}},12053:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>q});var n=i(97542),s=i(30935),r=i(54106),a=i(16782);const o=e=>{const t=a.r[a.M[e]];return"number"==typeof t?t:void 0};var l=i(67678),c=i(41927),d=i(88951),u=i(39880),h=i(31362);class p{constructor(e,t,i,n){if(this.config=e,this.canvasData=i,this.handledTouchesAsPointer=0,this.lastTouchEnd=0,this.activeButtons=a.r.NONE,this.preventDoubleTap=e=>{e.cancelable&&e.timeStamp-this.lastTouchEnd<=p.doubleTapThreshold&&e.preventDefault(),this.lastTouchEnd=e.timeStamp},this.preventMultiTouchGesture=e=>{const t=e.touches&&e.touches.length>1,i="scale"in e&&1!==e.scale;(t||i)&&e.cancelable&&e.preventDefault()},this.onEventCallback=n,window.PointerEvent||(t.addEventListener("mousedown",(e=>this.onMouseDown(e))),t.addEventListener("mouseup",(e=>this.onMouseUp(e))),t.addEventListener("mousemove",(e=>this.onMouseMove(e))),t.addEventListener("mouseenter",(e=>this.onMouseEnter(e)))),t.addEventListener("contextmenu",(e=>e.preventDefault())),t.addEventListener("touchstart",(e=>this.onTouchStart(e))),t.addEventListener("touchend",(e=>this.onTouchEnd(e))),t.addEventListener("touchmove",(e=>this.onTouchMove(e))),t.addEventListener("touchcancel",(e=>this.onTouchEnd(e))),t.addEventListener("pointerdown",(e=>this.onPointerDown(e))),t.addEventListener("pointerup",(e=>this.onPointerUp(e))),t.addEventListener("pointermove",(e=>this.onPointerMove(e))),t.addEventListener("pointercancel",(e=>this.onPointerUp(e))),t.addEventListener("pointerenter",(e=>this.onMouseEnter(e))),(0,h.Tt)()||(0,h._1)()){const e=!!d.h&&{passive:!1};t.addEventListener("touchmove",this.preventMultiTouchGesture,e),t.addEventListener("touchend",this.preventDoubleTap,e)}}onMouseDown(e){e.currentTarget.focus(),this.tryPreventDefault(e),this.activeButtons|=1<<e.button;const{ndc:t,client:i}=this.getPointerPosition(e);this.onEventCallback(new l.er(this.getPointerId(e),t,i,e.button,!0,c._.MOUSE,e))}onMouseUp(e){this.tryPreventDefault(e),this.activeButtons&=~(1<<e.button);const{ndc:t,client:i}=this.getPointerPosition(e);this.onEventCallback(new l.er(this.getPointerId(e),t,i,e.button,!1,c._.MOUSE,e))}onMouseMove(e){this.tryPreventDefault(e);const{ndc:t,client:i}=this.getPointerPosition(e);this.onEventCallback(new l.mE(this.getPointerId(e),t,i,this.activeButtons,c._.MOUSE,e))}onMouseEnter(e){this.checkMissingButtons(e)}checkMissingButtons(e){const t=(0,u.lY)(e.buttons,a.M.MIDDLE,a.M.SECONDARY),i=(this.activeButtons^t)&~t;for(let t=a.M.PRIMARY;t<a.M.COUNT;++t){const n=o(t);if(n&&(i&n)>0){const{ndc:i,client:n}=this.getPointerPosition(e);this.onEventCallback(new l.er(this.getPointerId(e),i,n,t,!1,c._.MOUSE,e))}}this.activeButtons=t}onTouchStart(e){if(e.currentTarget.focus(),e.cancelable&&e.preventDefault(),this.handledTouchesAsPointer)--this.handledTouchesAsPointer;else for(let t=0;t<e.changedTouches.length;t++){const i=e.changedTouches.item(t),{ndc:n,client:s}=this.getTouchPosition(i);this.onEventCallback(new l.er(i.identifier,n,s,a.M.PRIMARY,!0,c._.TOUCH,e))}}onTouchEnd(e){if(e.cancelable&&e.preventDefault(),this.handledTouchesAsPointer)--this.handledTouchesAsPointer;else for(let t=0;t<e.changedTouches.length;t++){const i=e.changedTouches.item(t),{ndc:n,client:s}=this.getTouchPosition(i);this.onEventCallback(new l.er(i.identifier,n,s,a.M.PRIMARY,!1,c._.TOUCH,e))}}onTouchMove(e){if(e.cancelable&&e.preventDefault(),this.handledTouchesAsPointer)--this.handledTouchesAsPointer;else for(let t=0;t<e.changedTouches.length;t++){const i=e.changedTouches.item(t),{ndc:n,client:s}=this.getTouchPosition(i),r=new l.mE(i.identifier,n,s,a.r.PRIMARY,c._.TOUCH,e);this.onEventCallback(r)}}onPointerDown(e){switch(this.tryPreventDefault(e),e.pointerType){case c._.MOUSE:this.onMouseDown(e);break;case c._.GAMEPAD:case c._.TOUCH:++this.handledTouchesAsPointer;const{ndc:t,client:i}=this.getPointerPosition(e);this.onEventCallback(new l.er(e.pointerId,t,i,a.M.PRIMARY,!0,e.pointerType,e))}}onPointerUp(e){switch(this.tryPreventDefault(e),e.pointerType){case c._.MOUSE:this.onMouseUp(e);break;case c._.GAMEPAD:case c._.TOUCH:++this.handledTouchesAsPointer;const{ndc:t,client:i}=this.getPointerPosition(e);this.onEventCallback(new l.er(e.pointerId,t,i,a.M.PRIMARY,!1,e.pointerType,e))}}onPointerMove(e){switch(this.tryPreventDefault(e),e.pointerType){case c._.MOUSE:-1!==e.button?this.activeButtons<e.buttons?this.onMouseDown(e):this.activeButtons>e.buttons&&this.onMouseUp(e):this.onMouseMove(e);break;case c._.GAMEPAD:case c._.TOUCH:++this.handledTouchesAsPointer;const{ndc:t,client:i}=this.getPointerPosition(e);this.onEventCallback(new l.mE(e.pointerId,t,i,a.r.PRIMARY,e.pointerType,e))}}getPointerId(e){return(0,r.bX)(e)?e.pointerId:0}getPointerPosition(e){return{ndc:this.normalizePosition(e.clientX,e.clientY),client:{x:e.clientX-this.canvasData.x,y:e.clientY-this.canvasData.y}}}getTouchPosition(e){return{ndc:this.normalizePosition(e.clientX,e.clientY),client:{x:e.clientX-this.canvasData.x,y:e.clientY-this.canvasData.y}}}normalizePosition(e,t){return{x:2*(e-this.canvasData.x)/this.canvasData.width-1,y:-2*(t-this.canvasData.y)/this.canvasData.height+1}}tryPreventDefault(e){this.config.pointerPreventDefault&&e.cancelable&&e.preventDefault()}}p.doubleTapThreshold=300;var m,f=i(32597),g=i(6667),v=i(89553);!function(e){e[e.SEMICOLON=59]="SEMICOLON",e[e.PLUSEQUALS=61]="PLUSEQUALS",e[e.DASHUNDERSCORE=173]="DASHUNDERSCORE"}(m||(m={}));class b{constructor(e,t){this.rootNode=e,this.keysDown={},this.onEventCallback=t,this.bindHandlers()}bindHandlers(){this.rootNode&&(this.rootNode.addEventListener("focusout",(({relatedTarget:e})=>{e&&e instanceof Node&&this.rootNode.contains(e)||Object.keys(this.keysDown).forEach((e=>this.keysDown[e]=!1))})),this.rootNode.addEventListener("keydown",(e=>{if(!e.ctrlKey&&!e.metaKey){e.preventDefault(),e.stopPropagation();const t=this.translateFirefoxKeys(e.which||e.keyCode);this.keysDown[t]=!0,this.onEventCallback(new v.e(t,g.M.DOWN,e))}})),this.rootNode.addEventListener("keyup",(e=>{if(!e.ctrlKey&&!e.metaKey){e.preventDefault(),e.stopPropagation();const t=this.translateFirefoxKeys(e.which||e.keyCode);this.keysDown[t]&&this.onEventCallback(new v.e(t,g.M.PRESSED,e)),this.keysDown[t]=!1,this.onEventCallback(new v.e(t,g.M.UP,e))}})))}translateFirefoxKeys(e){switch(e){case m.SEMICOLON:return f.R.SEMICOLON;case m.PLUSEQUALS:return f.R.PLUSEQUALS;case m.DASHUNDERSCORE:return f.R.DASHUNDERSCORE}return e}}var y,E=i(84428);!function(e){e[e.WAITING=0]="WAITING",e[e.WAITINGTOEXCEEDTHRESHOLD=1]="WAITINGTOEXCEEDTHRESHOLD",e[e.GESTURING=2]="GESTURING"}(y||(y={}));var S=i(86819);class T{constructor(e=.04,t=300){this.startPosition=new E.Vector2,this.pointerDelta=new E.Vector2,this.activeButtons=a.r.NONE,this.state=y.WAITING,this.dragLimit=e,this.holdLimit=t}start(e){if(this.state===y.WAITING&&this.startPosition.copy(e.position),0==(e.buttons&e.buttons-1))this.startTime=Date.now(),this.activeButtons=e.buttons,this.state=y.WAITINGTOEXCEEDTHRESHOLD;else if(this.activeButtons)return this.state=y.GESTURING,new S.T(e.position,this.activeButtons)}stop(){let e;return this.state===y.WAITINGTOEXCEEDTHRESHOLD&&Date.now()-this.startTime<this.holdLimit&&(e=new S.R(this.startPosition.add(this.pointerDelta),(e=>{const t=a.M[a.r[e]];return"number"==typeof t?t:void 0})(this.activeButtons)),this.pointerDelta.set(0,0)),this.state=y.WAITING,e}onMove(e){if(this.state===y.WAITINGTOEXCEEDTHRESHOLD&&(this.pointerDelta.copy(e.position).sub(this.startPosition),this.pointerDelta.length()>this.dragLimit))return this.state=y.GESTURING,new S.T(e.position,e.buttons)}compareState(e){return e===this.state}}var O=i(80592);class _{constructor(e,t=.04){this.onEventCallback=e,this.startPosition=new E.Vector2,this.previousPosition=new E.Vector2,this.pointerDelta=new E.Vector2,this.lastPointerMove=Date.now(),this.state=y.WAITING,this.threshold=t}start(e){return this.state===y.WAITING&&(this.startPosition.copy(e.position),this.previousPosition.copy(this.startPosition),this.state=y.WAITINGTOEXCEEDTHRESHOLD),new O.E0(e.position,e.buttons)}stop(){const e=(new E.Vector2).copy(this.previousPosition).sub(this.startPosition);this.state===y.GESTURING&&this.onEventCallback(new O.Zv(this.startPosition,e)),this.state===y.WAITING&&this.pointerDelta.set(0,0),this.state=y.WAITING;const t=Date.now()-this.lastPointerMove;return new O._R(this.previousPosition,this.pointerDelta,a.r.NONE,t,e)}onMove(e){let t;return this.state===y.WAITINGTOEXCEEDTHRESHOLD&&(this.pointerDelta.copy(e.position).sub(this.startPosition),this.pointerDelta.length()>this.threshold&&(this.state=y.GESTURING,this.onEventCallback(new O.u4(this.startPosition,e)))),this.state===y.GESTURING&&(this.pointerDelta.copy(e.position).sub(this.previousPosition),this.pointerDelta.length()>0&&(t=new O._t(this.previousPosition,this.pointerDelta,e.buttons,e.clientPosition))),this.previousPosition.copy(e.position),this.lastPointerMove=Date.now(),t}compareState(e){return e===this.state}compareStartPoint(e){return e.equals(this.startPosition)}compareDelta(e){return e.equals(this.pointerDelta)}}var N=i(11442);class A{constructor(e=new E.Vector2,t=new E.Vector2,i=0){this.lastPosition=e,this.velocity=t,this.samePositionTicks=i}start(e){this.lastPosition.copy(e),this.velocity.set(0,0),this.samePositionTicks=0}update(e){if(this.lastPosition.distanceTo(e)<=.01){if(this.samePositionTicks++,this.samePositionTicks<2)return}else this.samePositionTicks=0;this.velocity.copy(this.lastPosition).sub(e),this.lastPosition.copy(e)}stationary(){return this.samePositionTicks>=2||this.velocity.length()<.01}}const w=2*Math.SQRT2;class I{constructor(e=.04){this.threshold=e,this.startDistance=0,this.previousDistance=0,this.pointerDelta=new E.Vector2,this.lastPointerMove=Date.now(),this.pinchDelta=0,this.state=y.WAITING,this.pointerMovement1=new A,this.pointerMovement2=new A}start(e,t){this.state===y.WAITING&&(this.restart(e,t),this.pointerMovement1.start(e.position),this.pointerMovement2.start(t.position))}stop(){this.state=y.WAITING;const e=Date.now()-this.lastPointerMove;return new N.i(this.pinchDelta,e)}onMove(e,t){this.pointerMovement1.update(e.position),this.pointerMovement2.update(t.position);if(!(this.pointerMovement1.stationary()||this.pointerMovement2.stationary()||this.pointerMovement1.velocity.dot(this.pointerMovement2.velocity)<0))return void this.restart(e,t);this.pointerDelta.copy(e.position).sub(t.position);const i=this.pointerDelta.length()/w;if(this.state===y.WAITINGTOEXCEEDTHRESHOLD){const e=i-this.startDistance;Math.abs(e)>this.threshold&&(this.state=y.GESTURING)}let n;if(this.state===y.GESTURING){const e=i-this.previousDistance;Math.abs(e)>0&&(this.pinchDelta=e,n=new N.G(e))}return this.previousDistance=i,this.lastPointerMove=Date.now(),n}restart(e,t){this.state=y.WAITINGTOEXCEEDTHRESHOLD,this.startDistance=e.position.distanceTo(t.position)/w,this.previousDistance=this.startDistance}}var k=i(49827),P=i(10082);class L{constructor(e=.1){this.startPointerDelta=new E.Vector2,this.previousPointerDelta=new E.Vector2,this.pointerDelta=new E.Vector2,this.lastPointerMove=Date.now(),this.angleWithDirection=0,this.state=y.WAITING,this.threshold=e}start(e,t){this.state===y.WAITING&&(this.state=y.WAITINGTOEXCEEDTHRESHOLD,this.startPointerDelta.copy(e.position).sub(t.position).normalize(),this.pointerDelta.copy(this.startPointerDelta),this.previousPointerDelta.copy(this.pointerDelta))}stop(){this.state=y.WAITING;const e=Date.now()-this.lastPointerMove;return new P.u(this.angleWithDirection,e)}onMove(e,t){if(this.pointerDelta.copy(e.position).sub(t.position).normalize(),this.state===y.WAITINGTOEXCEEDTHRESHOLD){Math.acos((0,k.uZ)(this.pointerDelta.dot(this.startPointerDelta),-1,1))>this.threshold&&(this.state=y.GESTURING)}let i;if(this.state===y.GESTURING){const e=Math.acos((0,k.uZ)(this.pointerDelta.dot(this.previousPointerDelta),-1,1));if(e>0){const t=this.previousPointerDelta.x*this.pointerDelta.y-this.previousPointerDelta.y*this.pointerDelta.x;this.angleWithDirection=t>=0?e:-e,i=new P.D(this.angleWithDirection)}}return this.previousPointerDelta.copy(this.pointerDelta),this.lastPointerMove=Date.now(),i}compareState(e){return e===this.state}}const C=function(e,t){if(t.setLength(0),0===e.length)return t;let i=0;for(const n of e)t.add(n),i++;return t.divideScalar(i),t};var R=i(80160);class D{constructor(e=.04){this.startEpicenter=new E.Vector2,this.previousEpicenter=new E.Vector2,this.deltaEpicenter=new E.Vector2,this.currentEpicenter=new E.Vector2,this.pointerCount=0,this.lastPointerMove=Date.now(),this.state=y.WAITING,this.pointerMovements=[],this.threshold=e}start(e){this.state===y.WAITING&&(this.restart(e),this.pointerMovements=e.map((e=>new A)),e.forEach(((e,t)=>{this.pointerMovements[t].start(e.position)})))}stop(){this.state=y.WAITING;const e=this.pointerCount;this.pointerCount=0;const t=Date.now()-this.lastPointerMove;return new R.h(e,this.currentEpicenter,this.deltaEpicenter,t)}onMove(e){C(this.getPointerPositions(e),this.currentEpicenter),e.forEach(((e,t)=>{this.pointerMovements[t].update(e.position)}));if(this.pointerMovements.find((e=>e.stationary())))return void this.restart(e);const t=this.pointerMovements[0].velocity;if(this.pointerMovements.find((e=>t.dot(e.velocity)<0)))return void this.restart(e);if(this.state===y.WAITINGTOEXCEEDTHRESHOLD){this.currentEpicenter.distanceTo(this.startEpicenter)>this.threshold&&(this.state=y.GESTURING)}let i;return this.state===y.GESTURING&&(this.deltaEpicenter.copy(this.currentEpicenter).sub(this.previousEpicenter),i=new R.d(e.length,this.currentEpicenter,this.deltaEpicenter)),this.previousEpicenter.copy(this.currentEpicenter),this.lastPointerMove=Date.now(),i}getPointerPositions(e){return e.map((e=>e.position))}restart(e){C(this.getPointerPositions(e),this.startEpicenter),this.previousEpicenter.copy(this.startEpicenter),this.currentEpicenter.copy(this.previousEpicenter),this.state=y.WAITINGTOEXCEEDTHRESHOLD,this.pointerCount=e.length}}var M=i(12250),x=i(62017);const j=new(i(97998).Z)("longpress");var U;!function(e){e[e.IDLE=0]="IDLE",e[e.WAITING=1]="WAITING",e[e.STARTED=2]="STARTED",e[e.SUCCESSFUL=3]="SUCCESSFUL"}(U||(U={}));class H{constructor(e,t=500){this.onEventCallback=e,this.state=U.IDLE,this.ndcStartPosition=new E.Vector2,this.pointerDelta=new E.Vector2,this.ndcPosition=new E.Vector2,this.clientPosition=new E.Vector2,this.pressConfirmThreshold=this.pressStartThreshold=Math.max(t,1e-4)}start(e){this.state!==U.IDLE&&this.stop(),this.state===U.IDLE&&0==(e.buttons&e.buttons-1)&&(this.ndcStartPosition.copy(e.position),this.state=U.WAITING,this.buttons=e.buttons,this.pointerDelta.set(0,0),this.ndcPosition.copy(e.position),this.clientPosition.copy(e.clientPosition),this.holdTimeout=window.setTimeout((()=>{this.state=U.STARTED,j.debug("STARTED"),this.startTime=Date.now(),this.progress(0),this.onEventCallback(new x.Vh(e.position,e.clientPosition,e.buttons)),this.successTimeout=window.setTimeout((()=>{j.debug("SUCCESSFUL"),this.state=U.SUCCESSFUL,this.progress(1),this.onEventCallback(new x.$b(this.ndcPosition,this.clientPosition))}),this.pressConfirmThreshold)}),this.pressStartThreshold))}stop(){const e=this.state;if(this.state=U.IDLE,window.clearTimeout(this.holdTimeout),window.clearTimeout(this.successTimeout),e>U.WAITING){j.debug("DONE, cancelled:",e<U.SUCCESSFUL);const t=e<U.SUCCESSFUL;this.onEventCallback(new x.pt(this.ndcPosition,this.clientPosition,t))}}onMove(e){const t=this.state===U.STARTED||this.state===U.WAITING,i=this.state===U.STARTED||this.state===U.SUCCESSFUL;(t||i)&&(this.ndcPosition.copy(e.position),this.clientPosition.copy(e.clientPosition),this.pointerDelta.copy(this.ndcPosition).sub(this.ndcStartPosition)),t&&this.pointerDelta.length()>.1?this.stop():i&&this.onEventCallback(new x.DG(this.ndcPosition,this.clientPosition,this.pointerDelta,this.buttons))}tick(){if(this.state===U.STARTED){const e=1-(this.pressStartThreshold-(Date.now()-this.startTime))/this.pressStartThreshold;this.progress(Math.min(1,e))}}progress(e){this.onEventCallback(new x.PC(this.ndcPosition,this.clientPosition,this.pointerDelta,this.buttons,e))}}var F=i(96955),B=i(57956);class V{constructor(){this.displayTouches=!1,this.touches=new Map}async init(e){const[t]=await Promise.all([e.getModuleBySymbol(B.y.SETTINGS)]);t.registerMenuButton({header:"Input",buttonName:"Toggle pointer visualization",callback:()=>{this.displayTouches=!this.displayTouches}})}addPointer(e,t){this.displayTouches&&(this.touches.set(e,this.createPointer(t)),this.movePointer(e,t))}removePointer(e){const t=this.touches.get(e);t&&(document.body.removeChild(t),this.touches.delete(e))}movePointer(e,t){const i=this.touches.get(e);i&&(i.style.left=t.x-25+"px",i.style.top=t.y-25+"px")}createPointer(e){const t=document.createElement("div");return t.style.position="fixed",t.style.backgroundColor="#aa11aa",t.style.width="50px",t.style.height="50px",t.style.zIndex="99999",t.style.pointerEvents="none",t.style.touchAction="none",t.style.borderRadius="50px",document.body.appendChild(t),t}}var G;!function(e){e[e.NONE=0]="NONE",e[e.CLICK_DRAG_LONGPRESS=1]="CLICK_DRAG_LONGPRESS",e[e.PINCH_ROTATE=2]="PINCH_ROTATE",e[e.MULTI_SWIPE_ONLY=3]="MULTI_SWIPE_ONLY"}(G||(G={}));class W{constructor(){this.activeGesture=G.NONE,this.pointers=[],this.couldBeClick=!1}async init(e,t,i){this.onEventCallback=t,this.clicker=new T(e.dragThreshold),this.longPress=new H(t,e.holdThreshold),this.dragger=new _(t,e.dragThreshold),this.pincher=new I(e.pinchThreshold),this.rotater=new L(e.rotateThreshold),this.multiswiper=new D(e.dragThreshold);const n=await i.getModuleBySymbol(B.y.CANVAS);e.disableWheel||this.bindWheelHandlers(n.element),this.inputDebug=new V,this.inputDebug.init(i)}get activePointers(){return this.pointers.length}onPointerChange(e){this.isMoveEvent(e)?this.onPointerMove(e):this.onPointerButton(e)}isMoveEvent(e){return!e.hasOwnProperty("down")}onPointerMove(e){this.movePointer(e.id,e.position,e.clientPosition,e.buttons),this.inputDebug.movePointer(e.id,e.clientPosition)}onPointerButton(e){e.down?(this.addPointer(e.id,e.position,e.clientPosition,e.button),this.inputDebug.addPointer(e.id,e.clientPosition)):(this.removePointer(e.id,e.button),this.inputDebug.removePointer(e.id))}bindWheelHandlers(e){e.addEventListener("wheel",(e=>{e.preventDefault(),this.onEventCallback(new M.a({x:e.clientX,y:e.clientY},{x:this.normalizeWheelDelta(e.deltaMode,e.deltaX),y:this.normalizeWheelDelta(e.deltaMode,e.deltaY)}))}))}normalizeWheelDelta(e,t){if(e===WheelEvent.DOM_DELTA_LINE){return.7*t*t*t+13*t}return t}addPointer(e,t,i,n){const s=o(n);if(!s)return;const r=this.getPointer(e);r&&0==(r.buttons&s)?(r.buttons|=s,r.activeButtons++):this.pointers.push({id:e,position:new E.Vector2(t.x,t.y),clientPosition:new E.Vector2(i.x,i.y),buttons:s,activeButtons:1}),this.toggleGestures()}removePointer(e,t){const i=o(t);if(!i)return;const n=this.getPointerIndex(e);if(-1!==n){const e=this.pointers[n];0!=(e.buttons&i)&&(e.buttons&=~i,e.activeButtons--),e.activeButtons||this.pointers.splice(n,1),this.toggleGestures()}}movePointer(e,t,i,n){const s=this.getPointer(e);if(s)switch(s.position.copy(t),s.clientPosition.copy(i),s.buttons!==n?this.updateOffscreenPointer(s,n):this.onEventCallback(new F.h(this.pointers)),this.activeGesture){case G.CLICK_DRAG_LONGPRESS:const e=this.clicker.onMove(s);e&&this.onEventCallback(e);const t=this.dragger.onMove(s);t&&this.onEventCallback(t),this.longPress.onMove(s);break;case G.PINCH_ROTATE:const i=this.pincher.onMove(this.pointers[0],this.pointers[1]),n=this.rotater.onMove(this.pointers[0],this.pointers[1]);i&&this.onEventCallback(i),n&&this.onEventCallback(n);case G.MULTI_SWIPE_ONLY:const r=this.multiswiper.onMove(this.pointers);r&&this.onEventCallback(r)}}getPointer(e){const t=this.getPointerIndex(e);if(-1!==t)return this.pointers[t]}toggleGestures(){this.onEventCallback(new F.h(this.pointers));const e=this.activeGesture;if(this.activeGesture=this.pointers.length,e===G.CLICK_DRAG_LONGPRESS&&this.activeGesture===G.NONE&&this.couldBeClick){const e=this.clicker.stop();e&&this.onEventCallback(e)}if(this.couldBeClick=e===G.NONE&&this.activeGesture===G.CLICK_DRAG_LONGPRESS,this.activeGesture===G.CLICK_DRAG_LONGPRESS){const e=this.clicker.start(this.pointers[0]);e&&this.onEventCallback(e);const t=this.dragger.start(this.pointers[0]);t&&this.onEventCallback(t),this.longPress.start(this.pointers[0])}else if(e===G.CLICK_DRAG_LONGPRESS){const e=this.dragger.stop();this.longPress.stop(),this.onEventCallback(e)}this.activeGesture===G.PINCH_ROTATE?(this.pincher.start(this.pointers[0],this.pointers[1]),this.rotater.start(this.pointers[0],this.pointers[1]),this.multiswiper.start(this.pointers)):e===G.PINCH_ROTATE&&(this.onEventCallback(this.pincher.stop()),this.onEventCallback(this.rotater.stop()),this.onEventCallback(this.multiswiper.stop())),this.activeGesture===G.MULTI_SWIPE_ONLY?this.multiswiper.start(this.pointers):e===G.MULTI_SWIPE_ONLY&&this.onEventCallback(this.multiswiper.stop())}getPointerIndex(e){for(let t=0;t<this.pointers.length;t++){if(this.pointers[t].id===e)return t}return-1}updateOffscreenPointer(e,t){if(e.buttons=t,0===t){const t=this.getPointerIndex(e.id);this.pointers.splice(t,1),this.toggleGestures()}}tick(){this.longPress.tick()}}var z=i(48917),K=i(23612),Y=i(5332);class ${constructor(e,t,i){this._renew=e,this._cancel=t,this.active=i}renew(){this.active()||this._renew()}cancel(){this.active()&&this._cancel()}}class q extends n.Y{constructor(){super(...arguments),this.name="input-ini",this.fallbackHandlerMap={},this.meshHandlerMap={},this.priorityHandlerMap={},this.unfilteredHandlerMap={},this.captureHandlerMap={},this.gesturing=!1,this.gestureCapture=new z.Z((e=>e.object.id)),this.activeIntersections=new z.Z((e=>e.object.id)),this.eventTypeLookup=new s.cj,this.meshTypeLookup=new s.cj,this.hoveredMesh={object:null,instanceId:void 0,index:void 0},this.registerUnfilteredHandler=(e,t)=>{this.insertHandler(e,this.unfilteredHandlerMap,t);const i=this.eventTypeLookup.getKeyByType(e);return new $((()=>this.registerUnfilteredHandler(e,t)),(()=>this.unregisterUnfilteredHandler(e,t)),(()=>-1!==this.unfilteredHandlerMap[i].indexOf(t)))},this.registerMesh=(e,t,i)=>{this.raycaster.targets.addTarget(e,t,i)},this.unregisterMesh=e=>{this.raycaster.targets.removeTarget(e)},this.onPointerEvent=e=>{const t=!e.hasOwnProperty("down"),i=!t&&e.down,n=!i&&!t;this.raycaster.pointer.updatePointer(e.position),this.activeIntersections.clear();for(const e of this.raycaster.pointer.cast())this.activeIntersections.add(e);if(t||i){if(!this.gesturing){this.gestureCapture.clear();for(const e of this.activeIntersections)this.gestureCapture.add(e);this.updateHoveredMesh(e)}i&&(this.gesturing=!0),this.onEvent(e)}n&&this.onEvent(e),this.inputGesture.onPointerChange(e),0===this.inputGesture.activePointers&&(this.activeIntersections.clear(),this.gestureCapture.clear(),this.gesturing&&this.updateHoveredMesh(e),this.gesturing=!1)},this.onEvent=e=>{const t=this.eventTypeLookup.getKeyByInstance(e),i=this.captureHandlerMap[t];if(i&&i.length>0){for(const t of i)t(e);return void(i.length=0)}const n=this.unfilteredHandlerMap[t];if(n)for(const t of n)t(e);const s=this.iterateMeshCallbacks(e,this.gesturing?this.gestureCapture:this.activeIntersections),r=this.fallbackHandlerMap[t];if(!s&&r)for(const t of r)t(e)}}async init(e,t){const i={disableWheel:!!e.disableWheel},n=await t.getModuleBySymbol(B.y.CANVAS),s=await t.market.waitForData(Y.W);this.raycaster=await t.getModuleBySymbol(B.y.RAYCASTER),new p({pointerPreventDefault:e.pointerPreventDefault},n.element,s,this.onPointerEvent),new b(e.rootNode,this.onEvent),this.inputGesture=new W,this.inputGesture.init(i,this.onEvent,t)}registerHandler(e,t){this.insertHandler(e,this.fallbackHandlerMap,t);const i=this.eventTypeLookup.getKeyByType(e,!0);return new $((()=>this.registerHandler(e,t)),(()=>this.unregisterHandler(e,t)),(()=>-1!==this.fallbackHandlerMap[i].indexOf(t)))}unregisterHandler(e,t){this.removeHandler(e,this.fallbackHandlerMap,t)}registerMeshHandler(e,t,i){return this._registerMeshHandler(e,{comparator:t,callback:i})}_registerMeshHandler(e,t){const i=this.eventTypeLookup.getKeyByType(e,!0);this.meshHandlerMap[i]||(this.meshHandlerMap[i]=[]);const n=this.meshHandlerMap[i];return n.push(t),new $((()=>this._registerMeshHandler(e,t)),(()=>this.unregisterMeshHandler(e,t)),(()=>-1!==n.indexOf(t)))}unregisterMeshHandler(e,t){const i=this.eventTypeLookup.getKeyByType(e,!0);if(this.meshHandlerMap[i]){const e=this.meshHandlerMap[i],n=e.indexOf(t);n>-1&&e.splice(n,1)}}registerPriorityHandler(e,t,i){const n=this.eventTypeLookup.getKeyByType(e,!0),r=this.meshTypeLookup.getKeyByType(t,!0);this.priorityHandlerMap[n]||(this.priorityHandlerMap[n]={});const a=this.priorityHandlerMap[n];if(a[r]){const i=(0,s.z$)(e),n=(0,s.z$)(t);throw Error(`${i} already has a priority handler registered for mesh type: ${n}`)}return a[r]=i,new $((()=>this.registerPriorityHandler(e,t,i)),(()=>this.unregisterPriorityHandler(e,t,i)),(()=>void 0!==a[r]))}unregisterPriorityHandler(e,t,i){const n=this.eventTypeLookup.getKeyByType(e),s=this.priorityHandlerMap[n];if(s){const e=this.meshTypeLookup.getKeyByType(t),n=s[e];n&&i===n&&delete s[e]}}unregisterUnfilteredHandler(e,t){this.removeHandler(e,this.unfilteredHandlerMap,t)}captureNext(e,t){return this.insertHandler(e,this.captureHandlerMap,t),t}removeCaptureHandler(e,t){this.removeHandler(e,this.captureHandlerMap,t)}registerSnappingMeshGeometry(e,t,i,n){this.raycaster.snapping.addMeshGeometry(e,t,i,n)}unregisterSnappingMeshGeometry(e){this.raycaster.snapping.removeMeshGeometry(e)}getCurrentPointerRay(){return this.raycaster.pointer.pointerRay.clone()}getCurrentRayHits(){return this.activeIntersections.copyToList([])}updateHoveredMesh(e){const t=this.activeIntersections.getByIndex(0),i=t&&t.object===this.hoveredMesh.object&&t.instanceId===this.hoveredMesh.instanceId&&t.index===this.hoveredMesh.index;let n=!1;if(this.hoveredMesh.object&&(void 0===t||!i)){const i=this.getMeshHandler(K.A,(0,s.oL)(this.hoveredMesh.object),this.priorityHandlerMap);if(i&&(n=i(new K.A(e.nativeEvent),this.hoveredMesh.object,t)||!1),!n){const i=this.meshHandlerMap[this.eventTypeLookup.getKeyByType(K.A)];if(i)for(const n of i)n.comparator.compare(this.hoveredMesh.object)&&n.callback(new K.A(e.nativeEvent),this.hoveredMesh.object,t)}}let r=!1;if(t&&!i){const i=this.getMeshHandler(K.z,(0,s.oL)(t.object),this.priorityHandlerMap);if(i&&(r=i(new K.z(e.nativeEvent),t.object,t)||!1),!r){const i=this.meshHandlerMap[this.eventTypeLookup.getKeyByType(K.z)];if(i)for(const n of i)n.comparator.compare(t.object)&&n.callback(new K.z(e.nativeEvent),t.object,t)}}this.hoveredMesh.object=t&&t.object||null,this.hoveredMesh.instanceId=null==t?void 0:t.instanceId,this.hoveredMesh.index=null==t?void 0:t.index}iterateMeshCallbacks(e,t){let i=!1;const n=this.eventTypeLookup.getKeyByInstance(e);for(let s=0;s<t.count();s++){const r=t.getByIndex(s);if(!r)continue;if(i)break;const a=r.object,o=this.activeIntersections.get(a.id)||r;for(const t in this.priorityHandlerMap[n])if(r.object instanceof this.meshTypeLookup.getTypeByKey(t)){const s=this.priorityHandlerMap[n]&&this.priorityHandlerMap[n][t];if(s&&(i=!0,s(e,a,o)))return!0}const l=this.meshHandlerMap[n];if(l)for(const t of l)if(t.comparator.compare(a)){const n=t.callback(e,a,o);(n||void 0===n)&&(i=!0)}}return i}insertHandler(e,t,i){const n=this.eventTypeLookup.getKeyByType(e,!0);t[n]||(t[n]=[]),t[n].push(i)}removeHandler(e,t,i){const n=t[this.eventTypeLookup.getKeyByType(e)];if(n)for(let e=0;e<n.length;e++)if(n[e]===i){n.splice(e,1);break}}getMeshHandler(e,t,i){const n=i[this.eventTypeLookup.getKeyByType(e)];if(n){return n[this.meshTypeLookup.getKeyByType(t)]}return null}onUpdate(){this.inputGesture.tick()}}},89553:(e,t,i)=>{"use strict";i.d(t,{e:()=>s});var n=i(84429);class s extends n.G{constructor(e,t,i){super(),this.key=e,this.state=t,this.modifiers=i}}},67678:(e,t,i)=>{"use strict";i.d(t,{er:()=>r,mE:()=>a});var n=i(84429);class s extends n.G{}class r extends s{constructor(e,t,i,n,s,r,a){super(),this.id=e,this.position=t,this.clientPosition=i,this.button=n,this.down=s,this.device=r,this.nativeEvent=a}}class a extends s{constructor(e,t,i,n,s,r){super(),this.id=e,this.position=t,this.clientPosition=i,this.buttons=n,this.device=s,this.nativeEvent=r}}},57053:(e,t,i)=>{"use strict";var n,s;i.d(t,{s:()=>n,f:()=>s}),function(e){e.Desktop="desktop",e.Mobile="mobile",e.VrOrientOnly="xr.orientonly",e.VrWithController="xr.controller",e.VrWithTrackedController="xr.trackedcontroller"}(n||(n={})),function(e){e.None="interaction.none",e.Direct="interaction.direct",e.Key="interaction.key",e.Gui="interaction.gui",e.Mouse="interaction.mouse",e.Touch="interaction.touch",e.Pen="interaction.pen",e.XRController="interaction.xr.controller",e.XRGaze="interaction.xr.gaze",e.XRScreen="interaction.xr.screen"}(s||(s={}))},5135:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(67992),s=i(57053);class r extends n.V{constructor(){super(...arguments),this.name="interaction",this._source=r.defaultSource,this._mode=r.defaultMode}static get defaultMode(){return s.s.Desktop}static get defaultSource(){return s.f.None}get mode(){return this._mode}get source(){return this._source}updateSource(e){this._source=e}updateMode(e){this._mode=e}hasController(e=this.mode){return e===s.s.VrWithController||e===s.s.VrWithTrackedController}isVR(e=this.mode){return e===s.s.VrOrientOnly||e===s.s.VrWithController||e===s.s.VrWithTrackedController}isMobile(e=this.mode){return e===s.s.Mobile}}},64773:(e,t,i)=>{"use strict";i.d(t,{m:()=>s,a:()=>r});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.mode=e,this.fromMode=t}}class r extends n.v{constructor(e){super(),this.source=e}}},34361:(e,t,i)=>{"use strict";i.d(t,{D:()=>o});var n=i(67992),s=i(15637),r=i(39880);const a=new(i(97998).Z)("label-data");class o extends n.V{constructor(e){super(),this.name="label",this.has=e=>this.map.has(e),this.getLabel=e=>this.map.get(e),this.map=(0,s.q)(e||{})}getCount(){return this.map.length}add(e){let t=e.sid;return this.map.has(t)&&a.warn("Label already tracked:",{sid:t,label:e,existing:this.getLabel(t)}),t=t||this.generateSid(),e.sid=t,e.commit(),this.map.set(e.sid,e),t}generateSid(){let e="";for(;!e||this.map.has(e);)e=(0,r.O1)(11);return e}remove(e){return!!this.map.has(e)&&(this.map.delete(e),!0)}clear(){this.map.clear()}replace(e){this.map.replace(e)}getCollection(){return this.map}iterate(e){for(const t of this.map.keys)e(this.map.get(t),t)}isEqual(e){if(this.map.length!==e.map.length)return!1;for(const t of this.map){const i=e.map.get(t.sid);if(!i||!o.labelsAreEqual(t,i))return!1}return!0}static labelsAreEqual(e,t){return e.floorId===t.floorId&&e.roomId===t.roomId&&e.position.x===t.position.x&&e.position.y===t.position.y&&e.position.z===t.position.z&&e.sid===t.sid&&e.text===t.text&&e.floorId===t.floorId&&e.roomId===t.roomId&&e.visible===t.visible}getLabelsForRoom(e){const t=[];return this.iterate((i=>{i.roomId===e&&t.push(i)})),t}}},23037:(e,t,i)=>{"use strict";i.d(t,{Nj:()=>n,Cu:()=>s});const n="features/labels",s="features/3d_labels_enabled"},5586:(e,t,i)=>{"use strict";i.d(t,{V:()=>s});var n=i(98010);class s extends n.v{}},14784:(e,t,i)=>{"use strict";i.d(t,{W:()=>s});var n=i(75287);class s extends n.T{constructor(e={}){super(),Object.assign(this,e)}}},80742:(e,t,i)=>{"use strict";i.d(t,{g:()=>g,R:()=>v});var n=i(67992),s=i(97998),r=i(10385),a=i(95548),o=i(63319),l=i(76087),c=i(23829),d=i(14784),u=i(9373),h=i(89570),p=i(35895),m=i(39880);const f=new s.Z("layers-data"),g="aaaaaaaaaaaaaaaaaaaaaaaaa";class v extends n.V{constructor(e,t,i){super(),this.inMemoryLayers=new r.d,this.layerObservers=new Set,this.layerVisibilityCache=new Map,this.layerToggledCache=new Map,this.currentViewId="",this.initialViewId="",this.initialViewId=e.id,this.policy=t||l.Od.DISABLED,this.viewsObservable=(0,r.C)(i||[e])}isViewsPolicyEnabled(){return[l.Od.VIEWS_OPT_IN,l.Od.VIEWS_ENABLED,l.Od.VIEWS_AND_LAYERS].includes(this.policy)}isViewsOptIn(){return this.policy===l.Od.VIEWS_OPT_IN}isDataLayersPolicyEnabled(){return[l.Od.LAYERS_ONLY,l.Od.VIEWS_AND_LAYERS].includes(this.policy)}setCurrentView(e){if(e===this.currentViewId)return;const t=this.getView(e);if(!t)throw new a.SN("Model View not found");this.aggregateLayerObserver&&this.aggregateLayerObserver.cancel(),f.debug(`Active view set to ${e} (${t.viewType})`),this.currentViewId=e,this.commit();const i=()=>{this.refreshLayerCaches(),this.layerObservers.forEach((e=>e()))};this.aggregateLayerObserver=new h.V(this.getCurrentView().layers.onChanged(i),this.inMemoryLayers.onChanged(i)),i()}getCurrentView(){const e=this.getView(this.currentViewId);if(!e)throw new a.SN("Missing current model view");return e}getCurrentViewId(){return this.currentViewId}getInitialView(){const e=this.getView(this.initialViewId);if(!e)throw new a.SN("Missing initial model view");return e}addView(e){this.viewsObservable.push(e)}canDeleteView(e){const t=this.getView(e);return!!t&&(0,u.ys)(t)}canDeleteActiveView(){return this.canDeleteView(this.getCurrentViewId())}canDisableView(e){const t=this.getView(e);return!!t&&(0,u.ys)(t)}canDisableActiveView(){return this.canDisableView(this.getCurrentViewId())}validateViewName(e){return e.length>0&&e.length<=c.ty}setViews(e){this.viewsObservable.replace(e)}getView(e){const t=this.viewsObservable.find((t=>t.id===e));if(!t)throw new a.SN(`Model View not found: ${e}`);return t}deleteView(e){const t=this.viewsObservable.findIndex((t=>t.id===e));-1!==t&&this.viewsObservable.remove(t)}getOrderedModelViews(){const e=this.viewsObservable.filter((e=>(0,u.ys)(e))).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0}))),t=this.getBaseModelView();return t&&e.unshift(t),e}getEnabledOrderedModelViews(){return this.viewsObservable.filter((e=>e.enabled&&((0,u.ys)(e)||(0,u.AI)(e)))).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{numeric:!0})))}onModelViewsChanged(e){return this.viewsObservable.onChanged(e)}onCurrentLayersChanged(e){return(0,p.k1)((()=>this.layerObservers.add(e)),(()=>this.layerObservers.delete(e)))}currentLayers(){return this.getCurrentView().layers.values().concat(this.inMemoryLayers.values())}viewLayers(){const e=this.currentLayers();return e.find((e=>e.layerType===o.s0.VIEW_DATA_LAYER))?e.filter((e=>e.layerType!==o.s0.BASE_LAYER)):e}getLayer(e){return this.currentLayers().find((t=>t.id===e))}getActiveLayer(){return this.getLayer(this.activeLayerId)}getBaseLayerId(){const e=this.currentLayers().find((e=>e.layerType===o.s0.BASE_LAYER));return(null==e?void 0:e.id)||g}getViewLayerId(){const e=this.currentLayers().find((e=>e.layerType===o.s0.VIEW_DATA_LAYER));return null==e?void 0:e.id}getCurrentUserLayers(){return this.currentLayers().filter((e=>e.visible&&[o.s0.USER_LAYER,o.s0.SHARED_USER_LAYER].includes(e.layerType)))}setActiveCurrentLayer(e){if(e===this.activeLayerId)return;if(!this.currentLayers().find((t=>t.id===e)))throw new Error("Invalid layer id!");this.activeLayerId=e,this.commit()}layerVisible(e){return!e||!this.isDataLayersPolicyEnabled()||!!this.layerVisibilityCache.get(e)}layerToggled(e){return!e||!this.isDataLayersPolicyEnabled()||!!this.layerVisible(e)&&!!this.layerToggledCache.get(e)}toggleLayer(e,t){const i=this.getLayer(e);if(!i)throw new Error("Attempt to toggle unknown layer!");this.layerToggledCache.set(e,t),i.toggled=t,i.commit()}isInMemoryLayer(e){return this.isDataLayersPolicyEnabled()&&(!e||!!this.inMemoryLayers.find((t=>t.id===e)))}addInMemoryLayer(e){let t=(0,m.O1)(11);for(;this.inMemoryLayers.find((e=>e.id===t));)t=(0,m.O1)(11);return this.inMemoryLayers.push(new d.W(Object.assign(e,{id:t,layerType:o.s0.IN_MEMORY}))),this.inMemoryLayers.get(this.inMemoryLayers.length-1)}removeInMemoryLayer(e){const t=this.inMemoryLayers.findIndex((t=>t.id===e));if(-1===t)throw new Error("In memory layer not found!");this.inMemoryLayers.splice(t,1)}replaceBackendLayers(e,t){for(const t of e.keys)this.isInMemoryLayer(e.get(t).layerId)||e.delete(t);for(const i of Object.keys(t))e.set(i,t[i])}setBaseLayerOnly(){this.inMemoryLayers.push(new d.W({id:g,layerType:o.s0.BASE_LAYER}))}getWorkshopSessionView(){return this.viewsObservable.find((e=>e.viewType===o.XZ.SESSION))}isWorkshopSessionView(){var e;return(null===(e=this.getWorkshopSessionView())||void 0===e?void 0:e.id)===this.getCurrentViewId()}getBaseModelView(){return this.viewsObservable.find((e=>(0,u.AI)(e)))}getBaseModelId(){var e;return(null===(e=this.getBaseModelView())||void 0===e?void 0:e.id)||this.initialViewId}getNonworkshopViewId(){const e=this.getCurrentView();return e.viewType!==o.XZ.SESSION?e.id:this.getBaseModelId()}getWorkshopOrBaseId(){const e=this.getCurrentView();return e.viewType===o.XZ.SESSION?e.id:this.getBaseModelId()}getNotesLayerId(e){const t=this.isDataLayersPolicyEnabled();if(e&&t)return this.activeLayerId;const i=this.getViewLayerId();if(i)return i;const n=this.getCurrentView();if((0,u.AI)(n))return this.getBaseLayerId();if(t)throw new Error("No View Layer in User View");return this.activeLayerId}refreshLayerCaches(){this.layerToggledCache.clear(),this.layerVisibilityCache.clear();const e=this.currentLayers();for(const t of e)this.layerToggledCache.set(t.id,t.toggled),this.layerVisibilityCache.set(t.id,t.visible)}}},80008:(e,t,i)=>{"use strict";i.d(t,{zD:()=>a,wG:()=>o,Bv:()=>l,qP:()=>c,xi:()=>d,Xg:()=>u,Ru:()=>h,vM:()=>p,Ch:()=>m,EO:()=>f,Wb:()=>g,GD:()=>v,Qz:()=>b,Ib:()=>y,BK:()=>E,Tj:()=>S,Go:()=>T,wQ:()=>O,cq:()=>_,MV:()=>N});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={viewId:e}}}class r extends n.m{constructor(e,t){super(),this.payload={viewId:e,name:t}}}class a extends n.m{constructor(){super(...arguments),this.id="VIEWS_OPT_IN_COMMAND"}}class o extends s{constructor(){super(...arguments),this.id="MODEL_VIEW_SET_COMMAND"}}class l extends n.m{constructor(e){super(),this.id="USER_VIEW_ADD_COMMAND",this.payload={name:e}}}class c extends s{constructor(){super(...arguments),this.id="USER_VIEW_DELETE_COMMAND"}}class d extends r{constructor(){super(...arguments),this.id="USER_VIEW_RENAME_COMMAND"}}class u extends n.m{constructor(e,t){super(),this.id="USER_VIEW_TOGGLE_ENABLE_COMMAND",this.payload={viewId:e,enabled:t}}}class h extends r{constructor(){super(...arguments),this.id="USER_VIEW_DUPLICATE_COMMAND"}}class p extends n.m{constructor(e){super(),this.id="REGISTER_CONFIRM_VIEW_CHANGE",this.payload={confirmViewChange:e}}}class m extends n.m{constructor(e){super(),this.id="REGISTER_DUPLICATE_VIEW_HELPER_COMMAND",this.payload=e}}class f extends n.m{constructor(e){super(),this.id="UNREGISTER_DUPLICATE_VIEW_HELPER_COMMAND",this.payload=e}}class g extends n.m{constructor(e,t){super(),this.id="LAYER_ITEMS_COPY_COMMAND",this.payload={layerId:e,items:t}}}class v extends n.m{constructor(e,t){super(),this.id="LAYER_ITEMS_COPY_NEW_COMMAND",this.payload={name:e,items:t}}}class b extends n.m{constructor(e){super(),this.id="ADD_LAYER_COMMAND",this.payload={label:e}}}class y extends n.m{constructor(e,t){super(),this.id="DATA_LAYER_DUPLICATE_COMMAND",this.payload={layerId:e,label:t}}}class E extends n.m{constructor(e){super(),this.id="REMOVE_LAYER_COMMAND",this.payload={layerId:e}}}class S extends n.m{constructor(e,t){super(),this.id="RENAME_LAYER_COMMAND",this.payload={layerId:e,label:t}}}class T extends n.m{constructor(e,t){super(),this.id="LAYER_TOGGLE_VISIBLE_COMMAND",this.payload={layerId:e,visible:t}}}class O extends n.m{constructor(e,t){super(),this.id="SET_LAYER_POSITION_COMMAND",this.payload={layerId:e,position:t}}}class _ extends n.m{constructor(e,t){super(),this.id="LAYER_SELECT_COMMAND",this.payload={layerId:e,selected:t}}}class N extends n.m{constructor(e,t){super(),this.id="LAYER_TOGGLE_COMMAND",this.payload={layerId:e,on:t}}}},63319:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{XZ:()=>n,s0:()=>s,HH:()=>r}),function(e){e.BASE="base",e.LAYERED_BASE="layered-base",e.TRUEPLAN="trueplan",e.SESSION="session",e.USER="user",e.SYNDICATION="syndication"}(n||(n={})),function(e){e.BASE_LAYER="matterport.base",e.VIEW_DATA_LAYER="matterport.user.data",e.USER_LAYER="matterport.user.data.ext",e.IN_MEMORY="matterport.in-memory",e.WORKSHOP="matterport.workshop.jsonstore",e.SHARED_USER_LAYER="matterport.user.data.shared"}(s||(s={})),function(e){e.TYPE="type",e.FLOOR="floor",e.LAYER="layer",e.DATE="date"}(r||(r={}))},76087:(e,t,i)=>{"use strict";i.d(t,{Pe:()=>s,Uo:()=>r,Wp:()=>a,N$:()=>o,fc:()=>l,Eo:()=>c,Od:()=>d,lr:()=>u,vK:()=>h,uB:()=>p});var n=i(59279);const s="model-views-feature",r="views",a="data-layers-feature",o="layers",l="searchUpdates",c="spaces.webgl.layers.mode";var d;!function(e){e.DISABLED="disabled",e.VIEWS_OPT_IN="user_views",e.VIEWS_ENABLED="views_enabled",e.VIEWS_AND_LAYERS="views_layers",e.LAYERS_ONLY="layers"}(d||(d={}));const u="layers";var h;function p(e){const t=function(){switch((0,n.FU)()[u]){case h.DISABLED:return d.DISABLED;case h.VIEWS_OPT_IN:return d.VIEWS_OPT_IN;case h.VIEWS_ENABLED:return d.VIEWS_ENABLED;case h.VIEWS_AND_LAYERS:return d.VIEWS_AND_LAYERS;case h.LAYERS_ONLY:return d.LAYERS_ONLY}}();if(void 0!==t)return t;const i=e.getPolicy(c);return i&&i.value?i.value:d.DISABLED}!function(e){e.DISABLED="0",e.VIEWS_OPT_IN="1",e.VIEWS_ENABLED="2",e.VIEWS_AND_LAYERS="3",e.LAYERS_ONLY="4"}(h||(h={}))},1644:(e,t,i)=>{"use strict";i.d(t,{n:()=>u});var n=i(85893),s=i(67294),r=i(33558),a=i(51978),o=i(76087),l=i(90055),c=i(86191),d=i(75043);function u(){const e=(0,a.y)(o.Wp,!1),{editMode:t}=(0,s.useContext)(r.I),i=(0,l.LP)(),u=(0,c.W)(null==i?void 0:i.id);if(!e||!t)return null;const h=`Adding to: ${i?u:"Unlayered"}`;return(0,n.jsx)(d.u,{children:h})}},21209:(e,t,i)=>{"use strict";i.d(t,{Y:()=>f});var n=i(85893),s=i(67294),r=i(33558),a=i(38399),o=i(73536),l=i(92211),c=i(27839);var d=i(51978),u=i(76087),h=i(66102),p=i(47457);i(5819);const{LAYERS:m}=a.Z.WORKSHOP;function f(){const e=function(){const e=(0,c._)();return!!e&&e.isViewsPolicyEnabled()}(),t=(0,d.y)(u.Pe,!1),i=(0,h.b)(),{analytics:a,commandBinder:f}=(0,s.useContext)(r.I),g=(0,s.useCallback)((e=>{const{tagName:t}=e.target||{};"A"===t&&(a.trackToolGuiEvent("layers","views_interest_click"),f.issueCommand(new l.Bz(o.P.VIEWS_OPT_IN,!0)))}),[f,a]);if(!e||t)return null;const v=i.t(m.VIEWS_INTEREST_BANNER_MESSAGE);return(0,n.jsx)("div",Object.assign({className:"views-banner views-interest-banner",onClick:g},{children:(0,n.jsx)(p.jL,Object.assign({layout:"horizontal"},{children:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:v}})}))}))}},90055:(e,t,i)=>{"use strict";i.d(t,{LP:()=>o});var n=i(73085),s=i(67294),r=i(27839),a=i(80742);(0,n.M)(a.R,"activeLayerId","");function o(){const e=(0,r._)(),[t,i]=(0,s.useState)(null==e?void 0:e.getActiveLayer());return(0,s.useEffect)((()=>{if(!e)return()=>{};function t(){i(null==e?void 0:e.getActiveLayer())}const n=e.onPropertyChanged("activeLayerId",t);return t(),()=>n.cancel()}),[e]),t}},15258:(e,t,i)=>{"use strict";i.d(t,{K:()=>r});var n=i(67294),s=i(27839);function r(){const e=(0,s._)(),[t,i]=(0,n.useState)((null==e?void 0:e.getCurrentView())||void 0);return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){i((null==e?void 0:e.getCurrentView())||void 0)}const n=e.onPropertyChanged("currentViewId",t);return t(),()=>n.cancel()}),[e]),t}(0,i(74554).M)("activeModelView",r)},86191:(e,t,i)=>{"use strict";i.d(t,{W:()=>c});var n=i(67294),s=i(39880),r=i(63319),a=i(27839),o=i(23829);function l(e,t,i){const n=i?null==t?void 0:t.getLayer(i):null;if(!n)return e;const a=n.layerType===r.s0.BASE_LAYER,l=n.layerType===r.s0.VIEW_DATA_LAYER,c=a||l?"Unlayered":"Untitled",d=n.name||c;return(0,s.aS)(d||e,o.Pd)}function c(e){const t=(0,a._)(),i="Untitled",[s,r]=(0,n.useState)(l(i,t,e));return(0,n.useEffect)((()=>{if(!t)return()=>{};function n(){r(l(i,t,e))}const s=t.onCurrentLayersChanged(n);return n(),()=>s.cancel()}),[t,e]),s}},27839:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var n=i(45755),s=i(80742);const r=(0,n.u)(s.R)},16326:(e,t,i)=>{"use strict";i.d(t,{Y:()=>a});var n=i(67294),s=i(27839);function r(e){if(!e)return[];const t=e.viewLayers();return t.length>1&&t.unshift(t.splice(t.length-1,1)[0]),t}function a(){const e=(0,s._)(),[t,i]=(0,n.useState)(r(e));return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){i(r(e))}const n=e.onCurrentLayersChanged(t);return t(),()=>n.cancel()}),[e]),t}},95674:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AddUserLayerCommand:()=>n.Qz,AddUserViewCommand:()=>n.Bv,AnnotationGrouping:()=>s.HH,CopyItemsToLayerCommand:()=>n.Wb,CopyItemsToNewLayerCommand:()=>n.GD,DataLayer:()=>u.W,DataLayerType:()=>s.s0,DeleteUserViewCommand:()=>n.qP,DuplicateLayerCommand:()=>n.Ib,DuplicateUserViewCommand:()=>n.Ru,LAYERS_FEEDBACK_LINK:()=>l.W0,LAYERS_POLICY:()=>o.Eo,LAYERS_URL_PARAM:()=>o.lr,LAYER_ITEM_TYPES_COPY_MOVE_SAFE:()=>l.mT,LayersBatchItemsCompleteMessage:()=>c.W,LayersData:()=>h.R,LayersModule:()=>q,LayersPolicy:()=>o.Od,LayersUrlParam:()=>o.vK,LayersViewError:()=>a,MAX_LAYER_NAME_LENGTH:()=>l.Pd,MAX_VIEW_NAME_LENGTH:()=>l.ty,ModelView:()=>I,ModelViewChangeCompleteMessage:()=>c.Y,ModelViewType:()=>s.XZ,OptIntoViewsCommand:()=>n.zD,RegisterConfirmViewChangeCommand:()=>n.vM,RegisterDuplicateViewHelperCommand:()=>n.Ch,RemoveLayerCommand:()=>n.BK,RenameLayerCommand:()=>n.Tj,RenameUserViewCommand:()=>n.xi,SETTING_DATA_LAYERS_ANALYTIC:()=>o.N$,SETTING_DATA_LAYERS_FEATURE:()=>o.Wp,SETTING_MODEL_VIEWS_FEATURE:()=>o.Pe,SETTING_SEARCH_UPDATED_UI:()=>o.fc,SETTING_USER_VIEWS_ANALYTIC:()=>o.Uo,SUPPORT_PAGE_URL:()=>l.U2,SelectLayerCommand:()=>n.cq,SetActiveModelViewCommand:()=>n.wG,SetLayerPositionCommand:()=>n.wQ,SetUserViewEnabledCommand:()=>n.Xg,ToggleLayerCommand:()=>n.MV,ToggleLayerVisibleCommand:()=>n.Go,UnregisterDuplicateViewHelperCommand:()=>n.EO,VIEW_SELECTOR_PARAM:()=>l.Sw,VIEW_SELECTOR_STANDALONE:()=>l.RF,default:()=>q,getViewsPolicy:()=>o.uB,isBaseView:()=>d.AI,isLayeredBaseView:()=>d.dW,isUserView:()=>d.ys});var n=i(80008),s=i(63319),r=i(2224);class a extends r.y{constructor(e,t="80001"){super(e),this.name="LayersViewError",this.code=t}}var o=i(76087),l=i(23829),c=i(28022),d=i(9373),u=i(14784),h=i(80742),p=i(97542),m=i(57956),f=i(89570),g=i(26209),v=i(34029),b=i(17788),y=i(77827),E=i(11221),S=i(5823),T=i(54244),O=i(71102),_=i(45611),N=i(39693),A=i(10385),w=i(75287);class I extends w.T{constructor(e={}){super(),this.viewType=null,this.rawViewType="",this.enabled=!0,this.layers=new A.d,this._name="",Object.assign(this,e)}get name(){return(0,d.AI)(this)&&""===this._name?I.defaultName:this._name}set name(e){this._name=e}static setDefaultName(e){I.defaultName=e}}I.defaultName="Untitled View";var k=i(95548),P=i(97998),L=i(9133);const C=new P.Z("mds-modelview-deserializer");class R{deserialize(e){return e&&e.id&&e.type?new I({id:e.id,viewType:this.getModelViewType(e),rawViewType:e.type,name:e.name||"",enabled:!!e.enabled,created:(0,L.p)(e.created),modified:(0,L.p)(e.modified)}):(C.debug("Deserialized invalid ModelView data from MDS",e),null)}getModelViewType(e){const t={"matterport.workshop.session":s.XZ.SESSION,"matterport.model.default":s.XZ.BASE,"matterport.model.layered":s.XZ.LAYERED_BASE,"trueplan.session":s.XZ.TRUEPLAN,"matterport.user.view":s.XZ.USER,"matterport.syndication":s.XZ.SYNDICATION};return e.type in t?t[e.type]:null}}var D=i(54232),M=i(63422);const x=new P.Z("MdsModelViewStore");class j extends b.u{constructor(e){super(e),this.prefetchKey=M.SJ,this.deserializer=new R}async read(){var e,t;if(!this.viewId)throw new k.SN("Cannot read Views, no initial view configured");const i=null===(t=null===(e=(await this.query(D.GetViews,{modelId:this.viewId}).catch((e=>{throw new k.Zb(e)}))).data)||void 0===e?void 0:e.model)||void 0===t?void 0:t.views,n=[];if(i)for(const e of i){const t=this.deserializer.deserialize(e);t&&n.push(t)}return n.sort(((e,t)=>e.created.getTime()-t.created.getTime())),n}async create(e){const t=b.u.getBaseViewId();return this.mutate(D.AddUserView,{modelId:t,name:e}).then((e=>{var t;return this.deserializer.deserialize(null===(t=e.data)||void 0===t?void 0:t.addView)}))}async delete(e){var t;const i=b.u.getBaseViewId();if(e===i)throw new k.SN("Cannot delete the base view");const n=!!(null===(t=(await this.mutate(D.DeleteUserView,{modelId:i,viewId:e})).data)||void 0===t?void 0:t.deleteView);return n||x.error("View deletion failed!"),n}async copyItemsToLayer(e,t,i){var n;const s=!!(null===(n=(await this.mutate(D.CopyViewDataToLayer,{viewId:e,layerId:t,copyDataFrom:i})).data)||void 0===n?void 0:n.copyViewData);return s||x.error("CopyViewData failed!"),s}async rename(e,t){var i,n;const s=null===(n=null===(i=(await this.mutate(D.RenameUserView,{viewId:e,name:t})).data)||void 0===i?void 0:i.patchView)||void 0===n?void 0:n.name;if(null==s)throw new k.w0("Unable to rename view!");return s}async setEnabled(e,t){var i,n;const s=null===(n=null===(i=(await this.mutate(D.SetUserViewEnabled,{viewId:e,enabled:t})).data)||void 0===i?void 0:i.patchView)||void 0===n?void 0:n.enabled;if(null==s)throw new k.w0("Unable to enable/disable view!");return s}async duplicate(e,t,i,n){var s;const r=await this.mutate(D.DuplicateUserView,{modelId:e,viewId:t,name:i,enabled:n});return this.deserializer.deserialize(null===(s=r.data)||void 0===s?void 0:s.addView)}async hasWorkshopChanges(e){var t,i,n;const s=null===(n=null===(i=null===(t=(await this.client.query(D.GetMergeDiff,{viewId:e}).catch((e=>{throw new k.Zb(e)}))).data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.mergeDiff)||void 0===n?void 0:n.typesModified;return!!s&&s.length>0}}var U=i(54559),H=i(82591),F=i(635),B=i(79728),V=i(31362),G=i(59279),W=i(38399),z=i(69430);const K=new P.Z("mds-modelview-deserializer");class Y{deserialize(e){return e&&e.layer.id&&e.layer.type?new u.W({id:e.layer.id,name:e.layer.label||"",visible:e.visible,toggled:!0,layerType:e.layer.type,created:(0,L.p)(e.layer.created),modified:(0,L.p)(e.layer.modified)}):(K.debug("Invalid layer data from MDS"),null)}}class $ extends b.u{constructor(){super(...arguments),this.deserializer=new Y,this.prefetchKey="view.layers"}async read(){var e,t;const i=this.getViewId(),n=null===(t=null===(e=(await this.query(z.GetLayers,{viewId:i}).catch((e=>{throw new k.Zb(e)}))).data)||void 0===e?void 0:e.view)||void 0===t?void 0:t.layers;if(!n)throw new Error("No layers to read for view!");const s=[];for(const e of n){const t=this.deserializer.deserialize(e);t&&s.push(t)}return s}async addLayer(e,t,i,n,s=!0){var r,a;const o={viewId:this.getViewId(),label:e,writable:t,position:i,copyDataFrom:n,generateIds:s},l=null===(a=null===(r=(await this.mutate(z.AddLayer,o).catch((e=>{throw new k.w0(e)}))).data)||void 0===r?void 0:r.layer)||void 0===a?void 0:a.id;if(!l)throw new Error("Unable to get id for new layer");return await this.refresh(),l}async duplicateLayer(e,t,i){var n,s;const r={viewId:this.getViewId(),label:e,visible:t,copyDataFrom:i},a=null===(s=null===(n=(await this.mutate(z.DuplicateLayer,r).catch((e=>{throw new k.w0(e)}))).data)||void 0===n?void 0:n.layer)||void 0===s?void 0:s.id;if(!a)throw new Error("Unable to duplicate layer");return await this.refresh(),a}async patchLayer(e,t,i,n,s){var r,a;const o={viewId:this.getViewId(),layerId:e,layerLabel:t,writable:i,position:n,visible:s};if(!(null===(a=null===(r=(await this.mutate(z.PatchLayer,o).catch((e=>{throw new k.Zb(e)}))).data)||void 0===r?void 0:r.patchLayer)||void 0===a?void 0:a.id))throw new Error("No data returned by patch");null===i&&null===n&&null===s||await this.refresh()}async removeLayer(e){const t={viewId:this.getViewId(),layerId:e};await this.mutate(z.RemoveLayer,t).catch((e=>{throw new k.Zb(e)})),await this.refresh(),await b.u.setCurrentViewId(b.u.currentViewId)}}class q extends p.Y{constructor(){super(...arguments),this.name="layers",this.viewChangeConfirmers=[],this.duplicateHelpers=new Set,this.onHistoryPop=()=>{if(this.data.getCurrentView().viewType===s.XZ.SESSION)return;const e=(0,G.kD)(),t=e.get("m")||e.get("model");t&&t!==this.data.currentViewId&&this.setActiveModelView(t)}}async init(e,t){const{baseUrl:i,readonly:r,viewId:a}=e,{commandBinder:l,market:c}=t,[d,u]=await Promise.all([t.market.waitForData(v.e),t.market.waitForData(g.n)]);t.getModuleBySymbol(m.y.LOCALE).then((e=>{I.setDefaultName(e.t(W.Z.WORKSHOP.LAYERS.DEFAULT_VIEW_NAME))})),this.settingsData=d,this.config=e,this.viewStore=new j({readonly:r,baseUrl:i,viewId:a}),this.engine=t,this.data=new h.R(new I({id:a}),(0,o.uB)(u)),await this.loadViews(),await this.setInitialView();const p=this.data.getBaseModelId();if(b.u.setBaseViewId(p),y.U.setBaseViewId(p),this.data.isDataLayersPolicyEnabled()?(this.layerStore=new $({readonly:r,baseUrl:i}),this.bindings.push(this.data.onPropertyChanged("activeLayerId",(()=>this.updateMdsStoreLayerId()))),this.layerStore.onNewData((async e=>{this.data.getCurrentView().layers.replace(e);const t=[s.s0.USER_LAYER,s.s0.SHARED_USER_LAYER,s.s0.VIEW_DATA_LAYER,s.s0.BASE_LAYER],i=e.filter((e=>-1!==t.indexOf(e.layerType))).sort(((e,i)=>t.indexOf(e.layerType)-t.indexOf(i.layerType)));if(!i.length)throw new Error("No layers available!!");this.data.setActiveCurrentLayer(i[0].id)})),await this.layerStore.refresh()):(this.data.setBaseLayerOnly(),this.data.setActiveCurrentLayer(h.g)),this.updateMdsStoreLayerId(),window.addEventListener("popstate",this.onHistoryPop),!this.config.readonly){if(this.data.isViewsPolicyEnabled()){this.bindings.push(l.addBinding(n.zD,this.modifyInsideSaveCommand((()=>this.optIntoViews())))),this.editViewHandlers=new f.V(l.addBinding(n.Bv,this.modifyInsideSaveCommand((e=>this.addUserView(e.name)))),l.addBinding(n.qP,this.modifyInsideSaveCommand((e=>this.deleteUserView(e.viewId)))),l.addBinding(n.xi,this.modifyInsideSaveCommand((e=>this.renameUserView(e.viewId,e.name)))),l.addBinding(n.Xg,this.modifyInsideSaveCommand((e=>this.setUserViewEnabled(e.viewId,e.enabled)))),l.addBinding(n.Ru,this.modifyInsideSaveCommand((e=>this.duplicateUserView(e.viewId,e.name)))));this.settingsData.tryGetProperty(o.Pe,!1)||this.editViewHandlers.cancel()}if(this.data.isDataLayersPolicyEnabled()){this.editLayerHandlers=new f.V(l.addBinding(n.Qz,this.modifyInsideSaveCommand((e=>this.addLayer(e.label)))),l.addBinding(n.Ib,this.modifyInsideSaveCommand((e=>this.duplicateLayer(e.layerId,e.label)))),l.addBinding(n.BK,this.modifyInsideSaveCommand((e=>this.removeLayer(e.layerId)))),l.addBinding(n.Go,this.modifyInsideSaveCommand((e=>this.toggleLayerVisible(e.layerId,e.visible)))),l.addBinding(n.Tj,this.modifyInsideSaveCommand((e=>this.renameLayer(e.layerId,e.label)))),l.addBinding(n.wQ,this.modifyInsideSaveCommand((e=>this.setLayerPosition(e.layerId,e.position)))),l.addBinding(n.Wb,this.modifyInsideSaveCommand((e=>this.copyItemsToLayer(e.items,e.layerId)))),l.addBinding(n.GD,this.modifyInsideSaveCommand((e=>this.copyItemsToLayer(e.items,null,e.name))))),this.bindings.push(l.addBinding(n.MV,(e=>this.toggleLayer(e.layerId,e.on))));this.settingsData.tryGetProperty(o.Wp,!1)||this.editLayerHandlers.cancel()}}this.bindings.push(l.addBinding(n.wG,(e=>this.setActiveModelView(e.viewId))),l.addBinding(n.vM,(async e=>this.registerConfirmViewChange(e.confirmViewChange))),l.addBinding(n.Ch,(async e=>this.duplicateHelpers.add(e))),l.addBinding(n.EO,(async e=>this.duplicateHelpers.delete(e))),l.addBinding(n.cq,(e=>this.selectLayer(e.layerId,e.selected)))),c.register(this,h.R,this.data),this.setupDebugMenu(t)}dispose(e){var t,i;super.dispose(e),null===(t=this.editViewHandlers)||void 0===t||t.cancel(),null===(i=this.editLayerHandlers)||void 0===i||i.cancel(),window.removeEventListener("popstate",this.onHistoryPop)}async setInitialView(){const{viewId:e,inWorkshop:t}=this.config,i=this.data.getBaseModelView(),n=this.data.isViewsPolicyEnabled(),s=this.data.isDataLayersPolicyEnabled();let r=n,a=s,o=e;if(t&&i&&i.id===e&&!(0,d.dW)(i)){const e=this.data.getWorkshopSessionView();if(e&&e.enabled){const t=await this.viewStore.hasWorkshopChanges(e.id);(!n&&!s||t)&&(o=e.id,r=!1,a=!1)}}this.setViewsFeatureSetting(r),this.setLayersFeatureSetting(a),await this.setActiveModelView(o)}exposeNonPublishingFlow(){this.exposeLayers(),this.exposeViews()}exposeLayers(){if(this.data.isDataLayersPolicyEnabled()&&!this.settingsData.tryGetProperty(o.Wp,!1)){if(this.setLayersFeatureSetting(!0),!this.editLayerHandlers)throw new Error("Layer edit handlers not enabled!!");this.editLayerHandlers.renew(),this.updateMdsStoreLayerId()}}async exposeViews(){var e;if(!this.data.isViewsPolicyEnabled())return;if(this.settingsData.tryGetProperty(o.Pe,!1))return;const t=!!(null===(e=this.data.getWorkshopSessionView())||void 0===e?void 0:e.enabled),i=this.data.isViewsOptIn();if(!t||!i){const e=await this.engine.market.waitForData(T.pu);await e.waitForPlaying,this.setViewsFeatureSetting(!0),this.editViewHandlers&&this.editViewHandlers.renew(),await this.engine.commandBinder.issueCommand(new O.D(!1)),await this.setActiveModelView(this.data.getBaseModelId()),this.engine.commandBinder.issueCommand(new O.D(!0))}}setViewsFeatureSetting(e){this.settingsData.setProperty(o.Pe,e),this.engine.getModuleBySymbol(m.y.ANALYTICS).then((t=>{t.trackFeatures(`${o.Uo}:${e}`)}))}setLayersFeatureSetting(e){this.settingsData.setProperty(o.Wp,e),e&&this.settingsData.setProperty(o.fc,!0),this.engine.getModuleBySymbol(m.y.ANALYTICS).then((t=>{t.trackFeatures(`${o.N$}:${e}`)})),this.data.activeLayerId&&this.updateMdsStoreLayerId()}async loadViews(){const e=await this.viewStore.read();e.length>0&&(this.data.setViews(e),this.log.debug("Loaded views",e))}async setActiveModelView(e){const t=this.data.getCurrentViewId();if(e===t||!await this.canChangeView())return;const i=this.data.getView(e);if(i){const n=t;this.log.debug(`Switching to view: ${i.id} (${i.viewType}), from: ${n}`),this.data.setCurrentView(i.id);const s=new U.R({baseUrl:this.config.baseUrl,prefetchPolicy:E.h.PRELOAD,query:H.GetModelViewPrefetch,variables:{modelId:i.id,includeDisabled:!this.config.readonly,includeLayers:this.shouldQueryLayers()},initialData:void 0});b.u.addSharedCache(s),await s.preload()?(this.layerStore&&(this.layerStore.setStoreViewId(e),await this.layerStore.refresh()),await b.u.setCurrentViewId(e),this.updateBrowserOnViewChange(i),n?(b.u.removeSharedCache(s),this.engine.broadcast(new c.Y)):this.config.modulesLoadedPromise.then((()=>{b.u.removeSharedCache(s)}))):n&&this.data.setCurrentView(n)}else this.log.warn(`Missing model view '${e}'`)}async canChangeView(){for(const e of this.viewChangeConfirmers)if(!await e())return!1;return!0}registerConfirmViewChange(e){this.viewChangeConfirmers.push(e)}updateBrowserOnViewChange(e){if(e.viewType===s.XZ.SESSION)return;const t=(0,G.kD)(),i=t.get("m")||t.get("model");e.id!==i&&(t.has("model")?t.set("model",e.id):t.has("m")&&t.set("m",e.id),(0,V.Vf)(t.toString(),!0))}async optIntoViews(){const e=this.data.getWorkshopSessionView();if(!e)throw new a("No Workshop Session View!");const t=await this.viewStore.setEnabled(e.id,!1);if(!t)throw new a("Unable to disable Workshop Session View!");Object.assign(e,t),e.commit(),this.exposeNonPublishingFlow()}async addUserView(e){if(!this.data.validateViewName(e))throw new a("Invalid view name!");const t=await this.viewStore.create(e);t&&(this.data.addView(t),this.log.debug("Added new view"),await this.setActiveModelView(t.id))}async deleteUserView(e){if(!this.data.canDeleteView(e))throw new a("Cannot delete model view");const t=e===this.data.currentViewId;await this.viewStore.delete(e)&&this.data.atomic((()=>{if(this.data.deleteView(e),this.log.debug("Deleted user view"),t){const e=this.data.getBaseModelId();if(!e)throw new a("No base view");this.setActiveModelView(e)}}))}async copyItemsToLayer(e,t,i){const n=this.data.getCurrentViewId(),s={},r=[];e.forEach((e=>{if(l.mT.includes(e.typeId)){s[e.typeId]||(s[e.typeId]=[]);const t=e.parentId||e.id;s[e.typeId].push(t),r.push(e)}}));const o=[];for(const e in s)o.push({viewId:n,type:e,ids:s[e]});let d;if(t)d=await this.viewStore.copyItemsToLayer(n,t,o);else{if(!i)throw new a("No layer id or name for copy");d=await this.layerStore.addLayer(i,!0,0,o,!0)}d&&(b.u.refreshLayeredStores(o.map((e=>e.type))),this.engine.broadcast(new c.W(r)))}getLayerTypesToDuplicate(){const e=[S.SF.LABEL,S.SF.MEASUREMENTPATH,S.SF.MATTERTAG];this.settingsData.tryGetProperty(N.IA,!1)&&e.push(S.SF.NOTE);return this.settingsData.tryGetProperty(_.QA,!1)&&e.push(S.SF.OBJECTANNOTATION),e}async duplicateLayer(e,t){const i=this.data.getLayer(e);if(!i)throw new a("Unable to find layer to duplicate");const n=i.layerType===s.s0.BASE_LAYER,r=i.layerType===s.s0.VIEW_DATA_LAYER;if(n||r)return void this.log.debug("Duplicate not supported on base or view layer");const o=this.getLayerTypesToDuplicate(),l=this.data.getCurrentView().id,c=o.map((t=>({viewId:l,layerId:e,type:t})));await this.layerStore.duplicateLayer(t,i.visible,c)&&b.u.refreshLayeredStores(o)}async renameUserView(e,t){const i=this.data.getView(e);if(!i)throw new a("View does not exist");if(!this.data.validateViewName(t))throw new a("Invalid view name!");const n=await this.viewStore.rename(e,t);i.name=n,i.commit()}async setUserViewEnabled(e,t){const i=this.data.getView(e);if(!i)throw new a("View does not exist");if(!this.data.canDisableView(e))throw new a("Unable to enable/disable view");const n=await this.viewStore.setEnabled(e,t);i.enabled=n,i.commit()}async duplicateUserView(e,t){const i=this.data.getView(e);if(!i)throw new a("Cannot duplicate, view does not exist");const n=Array.from(this.duplicateHelpers.keys());await Promise.all(n.map((e=>e.beforeDuplicate())));const s=await this.viewStore.duplicate(this.data.getBaseModelId(),e,t,i.enabled);if(!s)throw new a("Unable to duplicate view!");this.data.addView(s),await this.setActiveModelView(s.id),await Promise.all(n.map((e=>e.afterDuplicate())))}shouldQueryLayers(){return this.settingsData.tryGetProperty(o.Wp,!1)&&this.data.getCurrentView().viewType!==s.XZ.SESSION}updateMdsStoreLayerId(){b.u.currentLayerId=this.shouldQueryLayers()?this.data.activeLayerId:null}async addLayer(e){return this.layerStore.addLayer(e,!0,0,[])}async toggleLayerVisible(e,t){if(!this.data.getLayer(e))throw new a("Unable to find layer to toggle visibility");await this.layerStore.patchLayer(e,null,null,null,t)}async renameLayer(e,t){const i=this.data.getLayer(e);if(!i)throw new a("Unable to find layer to rename");await this.layerStore.patchLayer(e,t,null,null,null),i.name=t,i.commit()}async setLayerPosition(e,t){await this.layerStore.patchLayer(e,null,null,t,null)}async removeLayer(e){await this.layerStore.removeLayer(e)}async selectLayer(e,t){const i=this.data.getViewLayerId(),n=this.data.getBaseLayerId(),s=e===i||e===n,r=i||n;let o;if(t)o=s?r:e;else{if(s)throw new a("Cannot deselect a system layer!");o=r}if(!o)throw new a("No Active layer to set");o!==this.data.activeLayerId&&this.data.setActiveCurrentLayer(o)}async toggleLayer(e,t){this.data.toggleLayer(e,t)}modifyInsideSaveCommand(e){return async(...t)=>{await this.engine.commandBinder.issueCommand(new F.VQ({dataTypes:[B.g.LAYERS],onCallback:()=>e(...t),skipDirtyUpdate:!0}))}}setupDebugMenu(e){e.getModuleBySymbol(m.y.SETTINGS).then((e=>{const t=this.data.getWorkshopSessionView();if(!t)return;const i=t.enabled?"Not Opt-In":"Opt-In";e.registerButton("Layers",`Reset Opt-in (Currently ${i})`,(async()=>{await this.viewStore.setEnabled(t.id,!0),window.location.reload()}))}))}}},28022:(e,t,i)=>{"use strict";i.d(t,{Y:()=>s,W:()=>r});var n=i(98010);class s extends n.v{}class r extends n.v{constructor(e){super(),this.items=e}}},23829:(e,t,i)=>{"use strict";i.d(t,{ty:()=>s,Pd:()=>r,Sw:()=>a,RF:()=>o,U2:()=>l,mT:()=>c,W0:()=>d});var n=i(5823);const s=50,r=50,a="views",o="0",l="https://support.matterport.com/s/article/Create-and-Share-Views",c=[n.SF.LABEL,n.SF.MEASUREMENTPATH,n.SF.NOTE,n.SF.MATTERTAG,n.SF.OBJECTANNOTATION],d="https://forms.gle/DvWNVaQPRABVueir6"},9373:(e,t,i)=>{"use strict";i.d(t,{dW:()=>s,AI:()=>r,ys:()=>a});var n=i(63319);function s(e){return e.viewType===n.XZ.LAYERED_BASE}function r(e){return s(e)||e.viewType===n.XZ.BASE}function a(e){return e.viewType===n.XZ.USER}},38399:(e,t,i)=>{"use strict";var n;i.d(t,{Z:()=>s}),function(e){e.LOADING="LOADING",e.PRESENTED_BY_CAPS="PRESENTED_BY_CAPS",e.EXPLORE_3D_SPACE="EXPLORE_3D_SPACE",e.POWERED_BY="POWERED_BY",e.SC_LOCKOUT_MESSAGE="SC_LOCKOUT_MESSAGE",e.SC_LOCKOUT_TITLE="SC_LOCKOUT_TITLE",e.SC_PASSWORD_TITLE="SC_PASSWORD_TITLE",e.SC_PASSWORD_INVALID="SC_PASSWORD_INVALID",e.SC_PASSWORD_PLACEHOLDER="SC_PASSWORD_PLACEHOLDER",e.SC_PASSWORD_SUBMIT="SC_PASSWORD_SUBMIT",e.VIEW_INSIDE="VIEW_INSIDE",e.VIEW_INSIDE_MESH="VIEW_INSIDE_MESH",e.VIEW_DOLLHOUSE="VIEW_DOLLHOUSE",e.VIEW_FLOORPLAN="VIEW_FLOORPLAN",e.VIEW_FULLSCREEN="VIEW_FULLSCREEN",e.EXIT_FULLSCREEN="EXIT_FULLSCREEN",e.OPEN_HIGHLIGHTS="OPEN_HIGHLIGHTS",e.CLOSE_HIGHLIGHTS="CLOSE_HIGHLIGHTS",e.PAUSE="PAUSE",e.SOCIAL_SHARING="SOCIAL_SHARING",e.VIEW_IN_VR="VIEW_IN_VR",e.FLOOR_NAME="FLOOR_NAME",e.FLOOR_ALL="FLOOR_ALL",e.PRESENTED_BY="PRESENTED_BY",e.MORE="MORE",e.LESS="LESS",e.LEARN_MORE="LEARN_MORE",e.FEEDBACK="FEEDBACK",e.TERMS="TERMS",e.HELP="HELP",e.ALT_MATTERPORT_LOGO="ALT_MATTERPORT_LOGO",e.TERMS_FAIL="TERMS_FAIL",e.HELP_NAVIGATION_TAB="HELP_NAVIGATION_TAB",e.HELP_MORE_HELP_TAB="HELP_MORE_HELP_TAB",e.HELP_DESKTOP_360_2A="HELP_DESKTOP_360_2A",e.HELP_DESKTOP_360_2B="HELP_DESKTOP_360_2B",e.HELP_DESKTOP_DOLLHOUSE_1A="HELP_DESKTOP_DOLLHOUSE_1A",e.HELP_DESKTOP_DOLLHOUSE_1B="HELP_DESKTOP_DOLLHOUSE_1B",e.HELP_DESKTOP_DOLLHOUSE_2A="HELP_DESKTOP_DOLLHOUSE_2A",e.HELP_DESKTOP_DOLLHOUSE_3A="HELP_DESKTOP_DOLLHOUSE_3A",e.HELP_DESKTOP_FLOORPLAN_1A="HELP_DESKTOP_FLOORPLAN_1A",e.HELP_DESKTOP_FLOORPLAN_2A="HELP_DESKTOP_FLOORPLAN_2A",e.HELP_DESKTOP_FLOORPLAN_2B="HELP_DESKTOP_FLOORPLAN_2B",e.HELP_DESKTOP_FLOORPLAN_3A="HELP_DESKTOP_FLOORPLAN_3A",e.HELP_DESKTOP_FLOORPLAN_3B="HELP_DESKTOP_FLOORPLAN_3B",e.HELP_DESKTOP_MORE_360_B="HELP_DESKTOP_MORE_360_B",e.HELP_DESKTOP_MORE_DOLLHOUSE_B="HELP_DESKTOP_MORE_DOLLHOUSE_B",e.HELP_DESKTOP_MORE_FLOORS_B="HELP_DESKTOP_MORE_FLOORS_B",e.HELP_DESKTOP_MORE_FULLSCREEN_B="HELP_DESKTOP_MORE_FULLSCREEN_B",e.HELP_DESKTOP_MORE_HLR_B="HELP_DESKTOP_MORE_HLR_B",e.HELP_DESKTOP_MORE_INSIDE_B="HELP_DESKTOP_MORE_INSIDE_B",e.HELP_DESKTOP_MORE_MATTERTAG_B="HELP_DESKTOP_MORE_MATTERTAG_B",e.HELP_DESKTOP_MORE_TOUR_B="HELP_DESKTOP_MORE_TOUR_B",e.HELP_DESKTOP_MORE_VR_B="HELP_DESKTOP_MORE_VR_B",e.HELP_DESKTOP_MORE_ZOOM_B="HELP_DESKTOP_MORE_ZOOM_B",e.HELP_DESKTOP_PANORAMA_1A="HELP_DESKTOP_PANORAMA_1A",e.HELP_DESKTOP_PANORAMA_1B="HELP_DESKTOP_PANORAMA_1B",e.HELP_DESKTOP_PANORAMA_2A="HELP_DESKTOP_PANORAMA_2A",e.HELP_DESKTOP_PANORAMA_2B="HELP_DESKTOP_PANORAMA_2B",e.HELP_DESKTOP_PANORAMA_3A="HELP_DESKTOP_PANORAMA_3A",e.HELP_DESKTOP_PANORAMA_3B="HELP_DESKTOP_PANORAMA_3B",e.HELP_MOBILE_3="HELP_MOBILE_3",e.HELP_MOBILE_360_2="HELP_MOBILE_360_2",e.HELP_MOBILE_DOLLHOUSE_1="HELP_MOBILE_DOLLHOUSE_1",e.HELP_MOBILE_DOLLHOUSE_2="HELP_MOBILE_DOLLHOUSE_2",e.HELP_MOBILE_FLOORPLAN_1="HELP_MOBILE_FLOORPLAN_1",e.HELP_MOBILE_FLOORPLAN_2="HELP_MOBILE_FLOORPLAN_2",e.HELP_MOBILE_MORE_360_B="HELP_MOBILE_MORE_360_B",e.HELP_MOBILE_MORE_DOLLHOUSE_B="HELP_MOBILE_MORE_DOLLHOUSE_B",e.HELP_MOBILE_MORE_INSIDE_B="HELP_MOBILE_MORE_INSIDE_B",e.HELP_MOBILE_MORE_MATTERTAG_B="HELP_MOBILE_MORE_MATTERTAG_B",e.HELP_MOBILE_MORE_VR_B="HELP_MOBILE_MORE_VR_B",e.HELP_MOBILE_PANORAMA_1="HELP_MOBILE_PANORAMA_1",e.HELP_MOBILE_PANORAMA_2="HELP_MOBILE_PANORAMA_2",e.HELP_MORE_360_A="HELP_MORE_360_A",e.HELP_MORE_DOLLHOUSE_A="HELP_MORE_DOLLHOUSE_A",e.HELP_MORE_FLOORS_A="HELP_MORE_FLOORS_A",e.HELP_MORE_FLOORPLAN_A="HELP_MORE_FLOORPLAN_A",e.HELP_MORE_FULLSCREEN_A="HELP_MORE_FULLSCREEN_A",e.HELP_MORE_HLR_A="HELP_MORE_HLR_A",e.HELP_MORE_INSIDE_A="HELP_MORE_INSIDE_A",e.HELP_MORE_MATTERTAG_A="HELP_MORE_MATTERTAG_A",e.HELP_MORE_TOUR_A="HELP_MORE_TOUR_A",e.HELP_MORE_VR_A="HELP_MORE_VR_A",e.HELP_MORE_ZOOM_A="HELP_MORE_ZOOM_A",e.VR_ENTER="VR_ENTER",e.VR_LEARN_MORE_CAPS="VR_LEARN_MORE_CAPS",e.VR_QUEST="VR_QUEST",e.VR_META_LINK="VR_META_LINK",e.VR_RECOMMENDED="VR_RECOMMENDED",e.VR_SUPPORTS="VR_SUPPORTS",e.VR_VIEW_SPACE="VR_VIEW_SPACE",e.ERROR_WEBGL_UNSUPPORTED_PROBLEM="ERROR_WEBGL_UNSUPPORTED_PROBLEM",e.ERROR_BROWSER_SOLUTION="ERROR_BROWSER_SOLUTION",e.ERROR_BROWSER_EXPLANATION="ERROR_BROWSER_EXPLANATION",e.ERROR_CONTEXT_LOST_PROBLEM="ERROR_CONTEXT_LOST_PROBLEM",e.ERROR_CONTEXT_LOST_ACTIONS="ERROR_CONTEXT_LOST_ACTIONS",e.ERROR_LOADING_FAILED_PROBLEM="ERROR_LOADING_FAILED_PROBLEM",e.ERROR_LOADING_FAILED_ACTIONS="ERROR_LOADING_FAILED_ACTIONS",e.ERROR_GENERIC_PROBLEM="ERROR_GENERIC_PROBLEM",e.ERROR_GENERIC_SOLUTION="ERROR_GENERIC_SOLUTION",e.ERROR_GENERIC_ACTIONS="ERROR_GENERIC_ACTIONS",e.ERROR_GENERIC_ACTIONS_MOBILE="ERROR_GENERIC_ACTIONS_MOBILE",e.CTA_TOUR_COMPLETE="CTA_TOUR_COMPLETE",e.CTA_EXPLORE_SPACE="CTA_EXPLORE_SPACE",e.CTA_RESTART_TOUR="CTA_RESTART_TOUR",e.CTA_SHARE="CTA_SHARE",e.DESKTOP_SHORT_CTA="DESKTOP_SHORT_CTA",e.MOBILE_SHORT_CTA="MOBILE_SHORT_CTA",e.ROTATE="ROTATE",e.MOVE="MOVE",e.PLAY="PLAY",e.NEXT="NEXT",e.PREVIOUS="PREVIOUS",e.INSIDE="INSIDE",e.ZOOM="ZOOM",e.MEASUREMENT="MEASUREMENT",e.MEASUREMENT_START_ADDING="MEASUREMENT_START_ADDING",e.MEASUREMENT_CONTINUOUS_LINES="MEASUREMENT_CONTINUOUS_LINES",e.MEASUREMENT_SNAPPING="MEASUREMENT_SNAPPING",e.MEASUREMENT_UNITS="MEASUREMENT_UNITS",e.MEASUREMENT_IMPERIAL="MEASUREMENT_IMPERIAL",e.MEASUREMENT_METRIC="MEASUREMENT_METRIC",e.MEASUREMENT_SETTINGS="MEASUREMENT_SETTINGS",e.MEASUREMENT_HELP_CLICK_ANYWHERE="MEASUREMENT_HELP_CLICK_ANYWHERE",e.MEASUREMENT_HELP_ESCAPE="MEASUREMENT_HELP_ESCAPE",e.MEASUREMENT_HELP_PRESS_START="MEASUREMENT_HELP_PRESS_START",e.MEASUREMENT_HELP_DRAG_EDIT="MEASUREMENT_HELP_DRAG_EDIT",e.MEASUREMENT_HELP_PRESS_END="MEASUREMENT_HELP_PRESS_END",e.MEASUREMENT_MODE="MEASUREMENT_MODE",e.MEASUREMENT_HELP_MODAL_SUB_HEADER="MEASUREMENT_HELP_MODAL_SUB_HEADER",e.MEASUREMENT_HELP_MODAL_BODY_1="MEASUREMENT_HELP_MODAL_BODY_1",e.MEASUREMENT_HELP_MODAL_BODY_2="MEASUREMENT_HELP_MODAL_BODY_2",e.MEASUREMENT_NUDGE_TITLE="MEASUREMENT_NUDGE_TITLE",e.MEASUREMENT_NUDGE_MESSAGE="MEASUREMENT_NUDGE_MESSAGE",e.NOTES_MODE="NOTES_MODE",e.NOTES_NUDGE_TITLE="NOTES_NUDGE_TITLE",e.NOTES_NUDGE_MESSAGE="NOTES_NUDGE_MESSAGE",e.ON="ON",e.OFF="OFF",e.CLOSE="CLOSE",e.COPY="COPY",e.COPY_URL="COPY_URL",e.COPY_LINK="COPY_LINK",e.SHARE="SHARE",e.SHARE_COPIED="SHARE_COPIED",e.SHARE_CURRENT_LOCATION="SHARE_CURRENT_LOCATION",e.SHARE_DEFAULT_LOCATION="SHARE_DEFAULT_LOCATION",e.SHARE_ERROR_SWEEP_DISABLED="SHARE_ERROR_SWEEP_DISABLED",e.SHARE_EXPLORE="SHARE_EXPLORE",e.SHARE_LINK_TO_LOCATION="SHARE_LINK_TO_LOCATION",e.SHARE_AT="SHARE_AT",e.SHARE_WITH="SHARE_WITH",e.SHARE_3D="SHARE_3D",e.SHARE_MODAL_TITLE="SHARE_MODAL_TITLE",e.SHARED_TITLE="SHARED_TITLE",e.SHARED_MESSAGE="SHARED_MESSAGE",e.SHARED_MESSAGE_HASHTAG="SHARED_MESSAGE_HASHTAG",e.DOLLHOUSE_NUDGE_TITLE="DOLLHOUSE_NUDGE_TITLE",e.DOLLHOUSE_NUDGE_MESSAGE="DOLLHOUSE_NUDGE_MESSAGE"}(n||(n={})),function(e){let t,i,n,s,r,a,o,l,c;!function(e){e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.UNAUTHORIZED_ERROR_MESSAGE="ERRORS.UNAUTHORIZED_ERROR_MESSAGE"}(t=e.ERRORS||(e.ERRORS={})),function(e){e.COLLAPSE_PANEL="PANELS.COLLAPSE_PANEL",e.EXPAND_PANEL="PANELS.EXPAND_PANEL"}(i=e.PANELS||(e.PANELS={})),function(e){e.CLOSE_BUTTON_TOOLTIP_MESSAGE="REUSABLES.CLOSE_BUTTON_TOOLTIP_MESSAGE",e.HELP_BUTTON_TOOLTIP_MESSAGE="REUSABLES.HELP_BUTTON_TOOLTIP_MESSAGE",e.EMOJI_ALT_DISAPPOINTED="REUSABLES.EMOJI_ALT_DISAPPOINTED",e.EMOJI_ALT_UNSATISFIED="REUSABLES.EMOJI_ALT_UNSATISFIED",e.EMOJI_ALT_NEUTRAL="REUSABLES.EMOJI_ALT_NEUTRAL",e.EMOJI_ALT_SATISFIED="REUSABLES.EMOJI_ALT_SATISFIED",e.EMOJI_ALT_HAPPY="REUSABLES.EMOJI_ALT_HAPPY",e.FEEDBACK_LINK_LABEL="REUSABLES.FEEDBACK_LINK_LABEL",e.BETA_FEEDBACK_LINK_LABEL="REUSABLES.BETA_FEEDBACK_LINK_LABEL"}(n=e.REUSABLES||(e.REUSABLES={})),function(e){e.PINK="COLORS.PINK",e.PLUM="COLORS.PLUM",e.PURPLE="COLORS.PURPLE",e.COBALT="COLORS.COBALT",e.CERULEAN="COLORS.CERULEAN",e.TEAL="COLORS.TEAL",e.FOG="COLORS.FOG",e.IRON="COLORS.IRON",e.FOREST="COLORS.FOREST",e.EMERALD="COLORS.EMERALD",e.MINT="COLORS.MINT",e.LIME="COLORS.LIME",e.CANARY="COLORS.CANARY",e.SUNFLOWER="COLORS.SUNFLOWER",e.TANGERINE="COLORS.TANGERINE",e.SUNSET="COLORS.SUNSET",e.SIERRA="COLORS.SIERRA",e.MAGENTA="COLORS.MAGENTA"}(s=e.COLORS||(e.COLORS={})),function(e){e.AWAITING="SDK.AWAITING"}(r=e.SDK||(e.SDK={})),function(e){let t,i,n,s,r,a,o,l,c,d,u,h,p,m;!function(e){e.UPLOAD_TOOLTIP="SHOWCASE.ANNOTATIONS.UPLOAD_TOOLTIP",e.EMBED_TOOLTIP="SHOWCASE.ANNOTATIONS.EMBED_TOOLTIP",e.MAX_ATTACHMENTS_TOOLTIP="SHOWCASE.ANNOTATIONS.MAX_ATTACHMENTS_TOOLTIP",e.LINK_TOOLTIP="SHOWCASE.ANNOTATIONS.LINK_TOOLTIP",e.ADD_CTA="SHOWCASE.ANNOTATIONS.ADD_CTA",e.SAVE_CTA="SHOWCASE.ANNOTATIONS.SAVE_CTA",e.CANCEL_CTA="SHOWCASE.ANNOTATIONS.CANCEL_CTA",e.CONTENT_DELETED="SHOWCASE.ANNOTATIONS.CONTENT_DELETED",e.READ_MORE_MESSAGE="SHOWCASE.ANNOTATIONS.READ_MORE_MESSAGE"}(t=e.ANNOTATIONS||(e.ANNOTATIONS={})),function(e){e.ERROR_UPLOAD_FAIL="SHOWCASE.ATTACHMENTS.ERROR_UPLOAD_FAIL",e.ERROR_FILE_TOO_LARGE="SHOWCASE.ATTACHMENTS.ERROR_FILE_TOO_LARGE",e.ERROR_EMPTY_FILE="SHOWCASE.ATTACHMENTS.ERROR_EMPTY_FILE",e.ERROR_OVER_QUOTA="SHOWCASE.ATTACHMENTS.ERROR_OVER_QUOTA",e.ERROR_PERMISSION_DENIED="SHOWCASE.ATTACHMENTS.ERROR_PERMISSION_DENIED",e.REMOVE_TOOLTIP="SHOWCASE.ATTACHMENTS.REMOVE_TOOLTIP",e.CLOSE_TOOLTIP="SHOWCASE.ATTACHMENTS.CLOSE_TOOLTIP",e.DELETE_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.DELETE_ATTACHMENT_TOOLTIP",e.DOWNLOAD_TOOLTIP="SHOWCASE.ATTACHMENTS.DOWNLOAD_TOOLTIP",e.EXPAND_ATTACHMENT_TOOLTIP="SHOWCASE.ATTACHMENTS.EXPAND_ATTACHMENT_TOOLTIP",e.VIEWER_INDEX_COUNT="SHOWCASE.ATTACHMENTS.VIEWER_INDEX_COUNT",e.FAILED_TO_LOAD_MESSAGE="SHOWCASE.ATTACHMENTS.FAILED_TO_LOAD_MESSAGE",e.ERROR_200_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_200_MESSAGE",e.ERROR_401_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_401_MESSAGE",e.ERROR_403_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_403_MESSAGE",e.ERROR_404_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_404_MESSAGE",e.ERROR_429_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_429_MESSAGE",e.ERROR_4XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_4XX_MESSAGE",e.ERROR_5XX_MESSAGE="SHOWCASE.ATTACHMENTS.ERROR_5XX_MESSAGE"}(i=e.ATTACHMENTS||(e.ATTACHMENTS={})),function(e){e.DEFAULT_NAME="SHOWCASE.FLOORS.DEFAULT_NAME"}(n=e.FLOORS||(e.FLOORS={})),function(e){e.ALT_GESTURE_DRAG="SHOWCASE.HELP.ALT_GESTURE_DRAG",e.ALT_GESTURE_DRAGTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_DRAGTWOFINGER",e.ALT_GESTURE_POSITION="SHOWCASE.HELP.ALT_GESTURE_POSITION",e.ALT_GESTURE_PINCH="SHOWCASE.HELP.ALT_GESTURE_PINCH",e.ALT_GESTURE_PLAY="SHOWCASE.HELP.ALT_GESTURE_PLAY",e.ALT_GESTURE_POSITIONTWOFINGER="SHOWCASE.HELP.ALT_GESTURE_POSITIONTWOFINGER",e.ALT_GESTURE_TAP="SHOWCASE.HELP.ALT_GESTURE_TAP",e.ALT_GESTURE_TAPINSIDE="SHOWCASE.HELP.ALT_GESTURE_TAPINSIDE",e.ALT_KEYBOARD_ALL="SHOWCASE.HELP.ALT_KEYBOARD_ALL",e.ALT_KEYBOARD_INSIDE="SHOWCASE.HELP.ALT_KEYBOARD_INSIDE",e.ALT_KEYBOARD_LEFTRIGHT="SHOWCASE.HELP.ALT_KEYBOARD_LEFTRIGHT",e.ALT_KEYBOARD_UPDOWN="SHOWCASE.HELP.ALT_KEYBOARD_UPDOWN",e.ALT_KEYBOARD_ZOOM="SHOWCASE.HELP.ALT_KEYBOARD_ZOOM",e.ALT_MOUSE_CLICK="SHOWCASE.HELP.ALT_MOUSE_CLICK",e.ALT_MOUSE_CLICKINSIDE="SHOWCASE.HELP.ALT_MOUSE_CLICKINSIDE",e.ALT_MOUSE_DRAGLEFT="SHOWCASE.HELP.ALT_MOUSE_DRAGLEFT",e.ALT_MOUSE_DRAGRIGHT="SHOWCASE.HELP.ALT_MOUSE_DRAGRIGHT",e.ALT_MOUSE_PLAY="SHOWCASE.HELP.ALT_MOUSE_PLAY",e.ALT_MOUSE_POSITIONLEFT="SHOWCASE.HELP.ALT_MOUSE_POSITIONLEFT",e.ALT_MOUSE_POSITIONRIGHT="SHOWCASE.HELP.ALT_MOUSE_POSITIONRIGHT",e.ALT_MOUSE_ZOOM="SHOWCASE.HELP.ALT_MOUSE_ZOOM"}(s=e.HELP||(e.HELP={})),function(e){e.EMPTY_REEL_TITLE="SHOWCASE.HLR.EMPTY_REEL_TITLE",e.EMPTY_REEL_MESSAGE="SHOWCASE.HLR.EMPTY_REEL_MESSAGE",e.EMPTY_REEL_LEARN_MORE="SHOWCASE.HLR.EMPTY_REEL_LEARN_MORE"}(r=e.HLR||(e.HLR={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.LABELS.SEARCH_GROUP_HEADER"}(a=e.LABELS||(e.LABELS={})),function(e){e.SEARCH_GROUP_HEADER="SHOWCASE.MEASUREMENTS.SEARCH_GROUP_HEADER"}(o=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.TODAY="SHOWCASE.NOTES.TODAY",e.YESTERDAY="SHOWCASE.NOTES.YESTERDAY",e.THIS_WEEK="SHOWCASE.NOTES.THIS_WEEK",e.ONE_WEEK_AGO="SHOWCASE.NOTES.ONE_WEEK_AGO",e.TWO_WEEKS_AGO="SHOWCASE.NOTES.TWO_WEEKS_AGO",e.THREE_WEEKS_AGO="SHOWCASE.NOTES.THREE_WEEKS_AGO",e.OLDER="SHOWCASE.NOTES.OLDER",e.NO_MATCHES="SHOWCASE.NOTES.NO_MATCHES",e.HAVE_NONE="SHOWCASE.NOTES.HAVE_NONE",e.HAVE_NONE_OPEN="SHOWCASE.NOTES.HAVE_NONE_OPEN",e.HAVE_NONE_RESOLVED="SHOWCASE.NOTES.HAVE_NONE_RESOLVED",e.CONTENT_DELETED="SHOWCASE.NOTES.CONTENT_DELETED",e.RESULTS="SHOWCASE.NOTES.RESULTS",e.NUM_ATTACHMENTS="SHOWCASE.NOTES.ATTACHMENTS",e.COMMENTS="SHOWCASE.NOTES.COMMENTS",e.NOTES="SHOWCASE.NOTES.NOTES",e.REPLIES="SHOWCASE.NOTES.REPLIES",e.FILTER_RESOLVED="SHOWCASE.NOTES.FILTER_RESOLVED",e.FILTER_UNRESOLVED="SHOWCASE.NOTES.FILTER_UNRESOLVED",e.FILTER_ALL="SHOWCASE.NOTES.FILTER_ALL",e.CANCEL="SHOWCASE.NOTES.CANCEL",e.DELETE="SHOWCASE.NOTES.DELETE",e.EDIT="SHOWCASE.NOTES.EDIT",e.ADD_NOTE_MESSAGE="SHOWCASE.NOTES.ADD_NOTE_MESSAGE",e.MARK_AS_RESOLVED="SHOWCASE.NOTES.MARK_AS_RESOLVED",e.UNRESOLVE="SHOWCASE.NOTES.UNRESOLVE",e.FEEDBACK="SHOWCASE.NOTES.FEEDBACK",e.NAV_BACK="SHOWCASE.NOTES.NAV_BACK",e.NAV_CLOSE="SHOWCASE.NOTES.NAV_CLOSE",e.REPLY_PLACEHOLDER="SHOWCASE.NOTES.REPLY_PLACEHOLDER",e.EDIT_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.EDIT_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="SHOWCASE.NOTES.DELETE_LIST_ITEM_OPTION_CTA",e.MISSING_MESSAGE="SHOWCASE.NOTES.MISSING_MESSAGE",e.ADD_CTA_TOOLTIP="SHOWCASE.NOTES.ADD_CTA_TOOLTIP",e.ADD_TOOLTIP="SHOWCASE.NOTES.ADD_TOOLTIP",e.CANCEL_TOOLTIP="SHOWCASE.NOTES.CANCEL_TOOLTIP",e.COLOR_STEM_TOOLTIP="SHOWCASE.NOTES.COLOR_STEM_TOOLTIP",e.DELETE_TOOLTIP="SHOWCASE.NOTES.DELETE_TOOLTIP",e.OVERLAY_ADD_TOUCH="SHOWCASE.NOTES.OVERLAY_ADD_TOUCH",e.OVERLAY_ADD_CLICK="SHOWCASE.NOTES.OVERLAY_ADD_TOUCH",e.OVERLAY_PLACE_TOUCH="SHOWCASE.NOTES.OVERLAY_ADD_TOUCH",e.OVERLAY_PLACE_CLICK="SHOWCASE.NOTES.OVERLAY_ADD_TOUCH",e.SEARCH_GROUP_HEADER="SHOWCASE.NOTES.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HEADER_NOTES="SHOWCASE.NOTES.SEARCH_GROUP_HEADER_NOTES"}(l=e.NOTES||(e.NOTES={})),function(e){e.CLOSE_TAG_LABEL="SHOWCASE.TAGS.CLOSE_TAG_LABEL",e.DOCK_TAG_LABEL="SHOWCASE.TAGS.DOCK_TAG_LABEL",e.EDIT_TAG_LABEL="SHOWCASE.TAGS.EDIT_TAG_LABEL",e.MISSING_MESSAGE="SHOWCASE.TAGS.MISSING_MESSAGE",e.SEARCH_GROUP_HEADER="SHOWCASE.TAGS.SEARCH_GROUP_HEADER",e.SHARE_TAG_LABEL="SHOWCASE.TAGS.SHARE_TAG_LABEL",e.UNDOCK_TAG_LABEL="SHOWCASE.TAGS.UNDOCK_TAG_LABEL",e.NAV_BACK_LABEL="SHOWCASE.TAGS.NAV_BACK_LABEL"}(c=e.TAGS||(e.TAGS={})),function(e){e.QUERY_PLACEHOLDER="SHOWCASE.SEARCH.QUERY_PLACEHOLDER",e.SEARCH_IN_TOOL_PLACEHOLDER="SHOWCASE.SEARCH.SEARCH_IN_TOOL_PLACEHOLDER",e.CLEAR_SEARCH="SHOWCASE.SEARCH.CLEAR_SEARCH",e.FILTER_SEARCH="SHOWCASE.SEARCH.FILTER_SEARCH",e.FILTER_SEARCH_ALL="SHOWCASE.SEARCH.FILTER_SEARCH_ALL",e.FILTER_SEARCH_REMOVE="SHOWCASE.SEARCH.FILTER_SEARCH_REMOVE",e.GROUP_DATE="SHOWCASE.SEARCH.GROUP_DATE",e.GROUP_DATE_SELECTED="SHOWCASE.SEARCH.GROUP_DATE_SELECTED",e.GROUP_FLOOR="SHOWCASE.SEARCH.GROUP_FLOOR",e.GROUP_FLOOR_SELECTED="SHOWCASE.SEARCH.GROUP_FLOOR_SELECTED",e.GROUP_LAYER="SHOWCASE.SEARCH.GROUP_LAYER",e.GROUP_LAYER_SELECTED="SHOWCASE.SEARCH.GROUP_LAYER_SELECTED",e.GROUP_TYPE="SHOWCASE.SEARCH.GROUP_TYPE",e.GROUP_TYPE_SELECTED="SHOWCASE.SEARCH.GROUP_TYPE_SELECTED",e.ITEMS="SHOWCASE.SEARCH.ITEMS",e.EMPTY_LIST_MESSAGE="SHOWCASE.SEARCH.EMPTY_LIST_MESSAGE",e.VALIDATION_MESSAGE="SHOWCASE.SEARCH.VALIDATION_MESSAGE",e.ADVANCED_SEARCH_INSTRUCTIONS="SHOWCASE.SEARCH.ADVANCED_SEARCH_INSTRUCTIONS",e.ADVANCED_SEARCH_HELP_BUTTON="SHOWCASE.SEARCH.ADVANCED_SEARCH_HELP_BUTTON",e.ADVANCED_SEARCH_TITLE="SHOWCASE.SEARCH.ADVANCED_SEARCH_TITLE"}(d=e.SEARCH||(e.SEARCH={})),function(e){e.BANNER_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.BANNER_CTA_LINK_TEXT",e.POPUP_CTA_HEADING="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_HEADING",e.POPUP_CTA_LINK_TEXT="SHOWCASE.SUBSCRIBER_PROMPT.POPUP_CTA_LINK_TEXT"}(u=e.SUBSCRIBER_PROMPT||(e.SUBSCRIBER_PROMPT={})),function(e){e.HEADING="SHOWCASE.SUMMARY.HEADING",e.LABEL_ADDRESS="SHOWCASE.SUMMARY.LABEL_ADDRESS",e.LABEL_CONTACT="SHOWCASE.SUMMARY.LABEL_CONTACT",e.LABEL_INFORMATION="SHOWCASE.SUMMARY.LABEL_INFORMATION",e.LABEL_LOCATION="SHOWCASE.SUMMARY.LABEL_LOCATION",e.LABEL_LEARN_MORE="SHOWCASE.SUMMARY.LABEL_LEARN_MORE"}(h=e.SUMMARY||(e.SUMMARY={})),function(e){e.TOUR_BUTTON_LABEL="SHOWCASE.TOURS.TOUR_BUTTON_LABEL",e.TOUR_CONTROLS_TITLE="SHOWCASE.TOURS.TOUR_CONTROLS_TITLE",e.TOUR_CONTROLS_CTA="SHOWCASE.TOURS.TOUR_CONTROLS_CTA"}(p=e.TOURS||(e.TOURS={})),function(e){e.VIEW_SELECTOR_START_LOCATION_TOOLTIP="SHOWCASE.VIEWS.VIEW_SELECTOR_START_LOCATION_TOOLTIP"}(m=e.VIEWS||(e.VIEWS={}))}(a=e.SHOWCASE||(e.SHOWCASE={})),function(e){e.BLUR="TOOLS.BLUR",e.BLUR_HELP_MESSAGE="TOOLS.BLUR_HELP_MESSAGE",e.HLR="TOOLS.HLR",e.HLR_HELP_MESSAGE="TOOLS.HLR_HELP_MESSAGE",e.LABELS="TOOLS.LABELS",e.LABELS_HELP_MESSAGE="TOOLS.LABELS_HELP_MESSAGE",e.LAYERS="TOOLS.LAYERS",e.LAYERS_HELP_MESSAGE="TOOLS.LAYERS_HELP_MESSAGE",e.MATTERTAGS="TOOLS.MATTERTAGS",e.MATTERTAGS_HELP_MESSAGE="TOOLS.MATTERTAGS_HELP_MESSAGE",e.MEASUREMENTS="TOOLS.MEASUREMENTS",e.MEASUREMENTS_HELP_MESSAGE="TOOLS.MEASUREMENTS_HELP_MESSAGE",e.MESH_TRIM="TOOLS.MESH_TRIM",e.MESH_TRIM_HELP_MESSAGE="TOOLS.MESH_TRIM_HELP_MESSAGE",e.NOTES="TOOLS.NOTES",e.NOTES_HELP_MESSAGE="TOOLS.NOTES_HELP_MESSAGE",e.PHOTOS="TOOLS.PHOTOS",e.PHOTOS_HELP_MESSAGE="TOOLS.PHOTOS_HELP_MESSAGE",e.PLUGIN_CONFIG="TOOLS.PLUGIN_CONFIG",e.PLUGIN_CONFIG_HELP_MESSAGE="TOOLS.PLUGIN_CONFIG_HELP_MESSAGE",e.ROOMPLAN="TOOLS.ROOMPLAN",e.SCANS_3D="TOOLS.SCANS_3D",e.SCANS_3D_HELP_MESSAGE="TOOLS.SCANS_3D_HELP_MESSAGE",e.SETTINGS_PANEL="TOOLS.SETTINGS_PANEL",e.START_LOCATION="TOOLS.START_LOCATION",e.START_LOCATION_HELP_MESSAGE="TOOLS.START_LOCATION_HELP_MESSAGE",e.SUMMARY="TOOLS.SUMMARY",e.TAGS="TOOLS.TAGS",e.TAGS_HELP_MESSAGE="TOOLS.TAGS_HELP_MESSAGE",e.TOURS="TOOLS.TOURS",e.TOURS_HELP_MESSAGE="TOOLS.TOURS_HELP_MESSAGE",e.VIEW_360="TOOLS.VIEW_360",e.VIEW_360_HELP_MESSAGE="TOOLS.VIEW_360_HELP_MESSAGE",e.VR_PATH="TOOLS.VR_PATH",e.VR_PATH_HELP_MESSAGE="TOOLS.VR_PATH_HELP_MESSAGE",e.SEARCH="TOOLS.SEARCH",e.UNSAVED_CHANGES_TITLE="TOOLS.UNSAVED_CHANGES_TITLE",e.UNSAVED_CHANGES_MESSAGE="TOOLS.UNSAVED_CHANGES_MESSAGE",e.UNSAVED_CHANGES_CONFIRM="TOOLS.UNSAVED_CHANGES_CONFIRM",e.UNSAVED_CHANGES_CANCEL="TOOLS.UNSAVED_CHANGES_CANCEL"}(o=e.TOOLS||(e.TOOLS={})),function(e){e.INVITE_USER="USERS.INVITE_USER",e.INVITE_USER_FAILED="USERS.INVITE_USER_FAILED",e.INVITE_BUTTON="USERS.INVITE_BUTTON",e.INVITE_USERS="USERS.INVITE_USERS",e.INVITE_USERS_FAILED="USERS.INVITE_USERS_FAILED",e.INVITE_VISIBLE_MSG="USERS.INVITE_VISIBLE_MSG",e.UNKNOWN_USER="USERS.UNKNOWN_USER",e.UNKNOWN_USERS="USERS.UNKNOWN_USERS"}(l=e.USERS||(e.USERS={})),function(e){let t,i,n,s,r,a,o,l,c,d,u,h,p,m,f,g,v,b,y,E,S,T,O,_;!function(e){e.DELETE_SELECTED_CTA="WORKSHOP.ACCORDION.DELETE_SELECTED_CTA",e.SELECT_ALL_CTA="WORKSHOP.ACCORDION.SELECT_ALL_CTA",e.ENTER_SELECT_MODE_CTA="WORKSHOP.ACCORDION.ENTER_SELECT_MODE_CTA",e.EXIT_SELECT_MODE_CTA="WORKSHOP.ACCORDION.EXIT_SELECT_MODE_CTA",e.DELETE_FOOTER_CTA="WORKSHOP.ACCORDION.DELETE_FOOTER_CTA",e.TOGGLE_VISIBILITY_FOOTER_CTA="WORKSHOP.ACCORDION.TOGGLE_VISIBILITY_FOOTER_CTA",e.BATCH_DELETE_MODAL_TITLE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_TITLE",e.BATCH_DELETE_MODAL_MESSAGE="WORKSHOP.ACCORDION.BATCH_DELETE_MODAL_MESSAGE",e.RENAME_HEADER_OPTION_CTA="WORKSHOP.ACCORDION.RENAME_HEADER_OPTION_CTA"}(t=e.ACCORDION||(e.ACCORDION={})),function(e){e.CHANGES_SAVED_MESSAGE="WORKSHOP.APP_SWITCH.CHANGES_SAVED_MESSAGE",e.EDIT_CTA="WORKSHOP.APP_SWITCH.EDIT_CTA",e.UNSUPPORTED_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_MESSAGE",e.UNSUPPORTED_TOOLTIP_TITLE="WORKSHOP.APP_SWITCH.UNSUPPORTED_TOOLTIP_TITLE",e.PUBLIC_PUBLISH_TOOLTIP_TITLE="WORKSHOP.APP_SWITCH.PUBLIC_PUBLISH_TOOLTIP_TITLE",e.PRIVATE_PUBLISH_TOOLTIP_TITLE="WORKSHOP.APP_SWITCH.PRIVATE_PUBLISH_TOOLTIP_TITLE",e.PUBLIC_PUBLISH_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.PUBLIC_PUBLISH_TOOLTIP_MESSAGE",e.PRIVATE_PUBLISH_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.PRIVATE_PUBLISH_TOOLTIP_MESSAGE",e.PUBLISH_CHANGES_CTA="WORKSHOP.APP_SWITCH.PUBLISH_CHANGES_CTA",e.PUBLISHING_CHANGES_CTA="WORKSHOP.APP_SWITCH.PUBLISHING_CHANGES_CTA",e.REVERT_CHANGES_MODAL_TITLE="WORKSHOP.APP_SWITCH.REVERT_CHANGES_MODAL_TITLE",e.REVERT_CHANGES_MODAL_HEADER="WORKSHOP.APP_SWITCH.REVERT_CHANGES_MODAL_HEADER",e.REVERT_CHANGES_MODAL_EXPLANATION="WORKSHOP.APP_SWITCH.REVERT_CHANGES_MODAL_EXPLANATION",e.REVERT_CHANGES_MODAL_WARNING="WORKSHOP.APP_SWITCH.REVERT_CHANGES_MODAL_WARNING",e.REVERT_CHANGES_MODAL_LEARN_MORE_CTA="WORKSHOP.APP_SWITCH.REVERT_CHANGES_MODAL_LEARN_MORE_CTA",e.REVERT_CHANGES_MODAL_CANCEL_CTA="WORKSHOP.APP_SWITCH.REVERT_CHANGES_MODAL_CANCEL_CTA",e.REVERT_CHANGES_MODAL_REVERT_CTA="WORKSHOP.APP_SWITCH.REVERT_CHANGES_MODAL_REVERT_CTA",e.FLOORS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.FLOORS_CHECKBOX_LABEL",e.MEASUREMENTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MEASUREMENTS_CHECKBOX_LABEL",e.MATTERTAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.MATTERTAGS_CHECKBOX_LABEL",e.TAGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.TAGS_CHECKBOX_LABEL",e.LABELS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.LABELS_CHECKBOX_LABEL",e.HIGHLIGHTS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.HIGHLIGHTS_CHECKBOX_LABEL",e.START_LOCATION_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.START_LOCATION_CHECKBOX_LABEL",e.SETTINGS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SETTINGS_CHECKBOX_LABEL",e.SWEEPS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.SWEEPS_CHECKBOX_LABEL",e.BLURS_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.BLURS_CHECKBOX_LABEL",e.NO_UNPUBLISHED_CHANGES_CHECKBOX_LABEL="WORKSHOP.APP_SWITCH.NO_UNPUBLISHED_CHANGES_CHECKBOX_LABEL",e.EXIT_EDIT_MODE_CTA="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_CTA",e.EXIT_EDIT_MODE_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.EXIT_EDIT_MODE_TOOLTIP_MESSAGE",e.DISCARD_CHANGES_TOOLTIP_MESSAGE="WORKSHOP.APP_SWITCH.DISCARD_CHANGES_TOOLTIP_MESSAGE",e.PREVIEW_CHANGES_CTA="WORKSHOP.APP_SWITCH.PREVIEW_CHANGES_CTA",e.TIMESTAMP_UNPUBLISHED_CHANGES="WORKSHOP.APP_SWITCH.TIMESTAMP_UNPUBLISHED_CHANGES",e.TIMESTAMP_GREATER_THAN_ONE_MONTH="WORKSHOP.APP_SWITCH.TIMESTAMP_GREATER_THAN_ONE_MONTH",e.TIMESTAMP_DAY="WORKSHOP.APP_SWITCH.TIMESTAMP_DAY",e.TIMESTAMP_HOUR="WORKSHOP.APP_SWITCH.TIMESTAMP_HOUR",e.TIMESTAMP_MINUTE="WORKSHOP.APP_SWITCH.TIMESTAMP_MINUTE",e.TIMESTAMP_LESS_THAN_ONE_MINUTE="WORKSHOP.APP_SWITCH.TIMESTAMP_LESS_THAN_ONE_MINUTE",e.TIMESTAMP_LAST_PUBLISHED_MESSAGE="WORKSHOP.APP_SWITCH.TIMESTAMP_LAST_PUBLISHED_MESSAGE",e.UNABLE_TO_PUBLISH_CHANGES_ERROR_MESSAGE="WORKSHOP.APP_SWITCH.UNABLE_TO_PUBLISH_CHANGES_ERROR_MESSAGE",e.UNABLE_TO_REVERT_CHANGES_ERROR_MESSAGE="WORKSHOP.APP_SWITCH.UNABLE_TO_REVERT_CHANGES_ERROR_MESSAGE"}(i=e.APP_SWITCH||(e.APP_SWITCH={})),function(e){e.ACCEPT_ALL_SUGGESTIONS="WORKSHOP.BLURS.ACCEPT_ALL_SUGGESTIONS",e.ACCEPT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.ACCEPT_SUGGESTION_TOOLTIP",e.ALREADY_PROCESSING_ALERT_MESSAGE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_MESSAGE",e.ALREADY_PROCESSING_ALERT_TITLE="WORKSHOP.BLURS.ALREADY_PROCESSING_ALERT_TITLE",e.APPLY_BLURS_CTA="WORKSHOP.BLURS.APPLY_BLURS_CTA",e.APPLYING="WORKSHOP.BLURS.APPLYING",e.APPLY_MODAL_CONFIRM="WORKSHOP.BLURS.APPLY_MODAL_CONFIRM",e.APPLY_MODAL_NUDGE_CANCEL="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_CANCEL",e.APPLY_MODAL_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_MESSAGE",e.APPLY_MODAL_NUDGE_MESSAGE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_MESSAGE",e.APPLY_MODAL_RETRY="WORKSHOP.BLURS.APPLY_MODAL_RETRY",e.APPLY_MODAL_TITLE="WORKSHOP.BLURS.APPLY_MODAL_TITLE",e.APPLY_MODAL_NUDGE_TITLE="WORKSHOP.BLURS.APPLY_MODAL_NUDGE_TITLE",e.APPLY_MODAL_TRUNCATED="WORKSHOP.BLURS.APPLY_MODAL_TRUNCATED",e.APPLY_MODAL_WARNING="WORKSHOP.BLURS.APPLY_MODAL_WARNING",e.BATCH_SELECT="WORKSHOP.BLURS.BATCH_SELECT",e.BLUR_STATUS="WORKSHOP.BLURS.BLUR_STATUS",e.BLUR_STATUS_ALL="WORKSHOP.BLURS.BLUR_STATUS_ALL",e.BLUR_STATUS_APPLIED="WORKSHOP.BLURS.BLUR_STATUS_APPLIED",e.BLUR_STATUS_FAILED="WORKSHOP.BLURS.BLUR_STATUS_FAILED",e.BLUR_STATUS_PENDING="WORKSHOP.BLURS.BLUR_STATUS_PENDING",e.BLUR_STATUS_PROCESSING="WORKSHOP.BLURS.BLUR_STATUS_PROCESSING",e.BLUR_STATUS_SUGGESTED="WORKSHOP.BLURS.BLUR_STATUS_SUGGESTED",e.BRUSH_TOOLTIP_MESSAGE="WORKSHOP.BLURS.BRUSH_TOOLTIP_MESSAGE",e.BRUSH_TOOLTIP_TITLE="WORKSHOP.BLURS.BRUSH_TOOLTIP_TITLE",e.CLOSE_SUGGESTIONS="WORKSHOP.BLURS.CLOSE_SUGGESTIONS",e.CREATE_TOOLTIP_MESSAGE="WORKSHOP.BLURS.CREATE_TOOLTIP_MESSAGE",e.CREATE_TOOLTIP_TITLE="WORKSHOP.BLURS.CREATE_TOOLTIP_TITLE",e.DEFAULT_ALERT_CONFIRMATION="WORKSHOP.BLURS.DEFAULT_ALERT_CONFIRMATION",e.DEFAULT_ALERT_TITLE="WORKSHOP.BLURS.DEFAULT_ALERT_TITLE",e.DEFAULT_BLUR_NAME="WORKSHOP.BLURS.DEFAULT_BLUR_NAME",e.DELETE_BLUR_CTA="WORKSHOP.BLURS.DELETE_BLUR_CTA",e.GROUP_BY="WORKSHOP.BLURS.GROUP_BY",e.GROUP_BY_FLOOR="WORKSHOP.BLURS.GROUP_BY_FLOOR",e.GROUP_BY_SCAN="WORKSHOP.BLURS.GROUP_BY_SCAN",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.MULTI_FLOOR_EMPTY_MESSAGE",e.NO_BLURS="WORKSHOP.BLURS.NO_BLURS",e.NO_SUGGESTIONS="WORKSHOP.BLURS.NO_SUGGESTIONS",e.NO_SUGGESTIONS_ON_FLOOR="WORKSHOP.BLURS.NO_SUGGESTIONS_ON_FLOOR",e.NUM_BLUR_SUGGESTIONS="WORKSHOP.BLURS.NUM_BLUR_SUGGESTIONS",e.NUM_TYPE="WORKSHOP.BLURS.NUM_TYPE",e.OTHER_GROUP_LABEL="WORKSHOP.BLURS.OTHER_GROUP_LABEL",e.OVERLAY_MESSAGE="WORKSHOP.BLURS.OVERLAY_MESSAGE",e.OVERLAY_MESSAGE_TOUCH="WORKSHOP.BLURS.OVERLAY_MESSAGE_TOUCH",e.REJECT_ALL_SUGGESTIONS="WORKSHOP.BLURS.REJECT_ALL_SUGGESTIONS",e.REJECT_SUGGESTION_TOOLTIP="WORKSHOP.BLURS.REJECT_SUGGESTION_TOOLTIP",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.BLURS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.BLURS.SINGLE_FLOOR_EMPTY_MESSAGE",e.SORT="WORKSHOP.BLURS.SORT",e.SORT_CREATED_ASC="WORKSHOP.BLURS.SORT_CREATED_ASC",e.SORT_CREATED_DESC="WORKSHOP.BLURS.SORT_CREATED_DESC",e.STATUS="WORKSHOP.BLURS.STATUS",e.SUGGESTED_BLUR="WORKSHOP.BLURS.SUGGESTED_BLUR",e.SUGGESTIONS_AVAILABLE_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_AVAILABLE_MESSAGE",e.SUGGESTIONS_FOUND_MESSAGE="WORKSHOP.BLURS.SUGGESTIONS_FOUND_MESSAGE",e.TYPE="WORKSHOP.BLURS.TYPE",e.VIEW_SUGGESTIONS="WORKSHOP.BLURS.VIEW_SUGGESTIONS"}(n=e.BLURS||(e.BLURS={})),function(e){e.TYPE="WORKSHOP.SUGGESTIONS.TYPE"}(s=e.SUGGESTIONS||(e.SUGGESTIONS={})),function(e){e.HELP_LINK="WORKSHOP.EDIT_BAR.HELP_LINK",e.BETA_TAG="WORKSHOP.EDIT_BAR.BETA_TAG",e.COLLAPSE_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.COLLAPSE_LIST_TOOLTIP_MESSAGE",e.EXPAND_LIST_TOOLTIP_MESSAGE="WORKSHOP.EDIT_BAR.EXPAND_LIST_TOOLTIP_MESSAGE",e.NEW_BADGE="WORKSHOP.EDIT_BAR.NEW_BADGE"}(r=e.EDIT_BAR||(e.EDIT_BAR={})),function(e){e.APPLY_CTA="WORKSHOP.EMBED.APPLY_CTA",e.HELP_CTA="WORKSHOP.EMBED.HELP_CTA",e.ERROR_MESSAGE="WORKSHOP.EMBED.ERROR_MESSAGE",e.LOADING_MESSAGE="WORKSHOP.EMBED.LOADING_MESSAGE",e.INVALID_URL_MESSAGE="WORKSHOP.EMBED.INVALID_URL_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.EMBED.SUPPORTED_FORMATS_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.EMBED.MEDIA_LINK_LABEL",e.PROVIDER_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.PROVIDER_NOT_SUPPORTED_MESSAGE",e.LINK_TYPE_NOT_SUPPORTED_MESSAGE="WORKSHOP.EMBED.LINK_TYPE_NOT_SUPPORTED_MESSAGE"}(a=e.EMBED||(e.EMBED={})),function(e){e.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE="WORKSHOP.HLR.ADD_FROM_PHOTOS_TOOLTIP_MESSAGE",e.ADD_HIGHLIGHT_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_CTA",e.ADD_HIGHLIGHT_DISABLED_CTA="WORKSHOP.HLR.ADD_HIGHLIGHT_DISABLED_CTA",e.ADD_HIGHLIGHT_INSTRUCTIONS="WORKSHOP.HLR.ADD_HIGHLIGHT_INSTRUCTIONS",e.APPLY_TO_ALL_CTA="WORKSHOP.HLR.APPLY_TO_ALL_CTA",e.CLEAR_HLR_MODAL_MESSAGE="WORKSHOP.HLR.CLEAR_HLR_MODAL_MESSAGE",e.CLEAR_HLR_MODAL_TITLE="WORKSHOP.HLR.CLEAR_HLR_MODAL_TITLE",e.CLEAR_REEL_CTA="WORKSHOP.HLR.CLEAR_REEL_CTA",e.CLOSE_SETTINGS_CTA="WORKSHOP.HLR.CLOSE_SETTINGS_CTA",e.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.DELETE_HIGHLIGHT_TOOLTIP_MESSAGE",e.DISMISS_TOOLTIP_CTA="WORKSHOP.HLR.DISMISS_TOOLTIP_CTA",e.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.DOLLHOUSE_ROTATION_SPEED_SETTING_LABEL",e.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_HIGHLIGHT_TOOLTIP_MESSAGE",e.EDIT_SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.HLR.EDIT_SETTINGS_TOOLTIP_MESSAGE",e.HIGHLIGHT_CAPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_CAPTION_HINT",e.HIGHLIGHT_CAPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_CAPTION_PLACEHOLDER",e.HIGHLIGHT_DESCRIPTION_HINT="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_HINT",e.HIGHLIGHT_DESCRIPTION_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_DESCRIPTION_PLACEHOLDER",e.HIGHLIGHT_SCENE_HINT="WORKSHOP.HLR.HIGHLIGHT_SCENE_HINT",e.HIGHLIGHT_SCENE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_SCENE_PLACEHOLDER",e.HIGHLIGHT_TITLE_HINT="WORKSHOP.HLR.HIGHLIGHT_TITLE_HINT",e.HIGHLIGHT_TITLE_PLACEHOLDER="WORKSHOP.HLR.HIGHLIGHT_TITLE_PLACEHOLDER",e.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_PAN_DIRECTION_SETTING_LABEL",e.INDIVIDUAL_TRANSITION_SETTING_LABEL="WORKSHOP.HLR.INDIVIDUAL_TRANSITION_SETTING_LABEL",e.NUM_TYPE="WORKSHOP.HLR.NUM_TYPE",e.PANNING_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PANNING_SETTINGS_TAB_TITLE",e.PAN_DIRECTION_SETTING_AUTO="WORKSHOP.HLR.PAN_DIRECTION_SETTING_AUTO",e.PAN_DIRECTION_SETTING_LABEL="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LABEL",e.PAN_DIRECTION_SETTING_LEFT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_LEFT",e.PAN_DIRECTION_SETTING_RIGHT="WORKSHOP.HLR.PAN_DIRECTION_SETTING_RIGHT",e.PANEL_COLLAPSE="WORKSHOP.HLR.PANEL_COLLAPSE",e.PANEL_EXPAND="WORKSHOP.HLR.PANEL_EXPAND",e.PREVIEW_SETTINGS_CTA="WORKSHOP.HLR.PREVIEW_SETTINGS_CTA",e.PRESENTATION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.PRESENTATION_SETTINGS_TAB_TITLE",e.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE="WORKSHOP.HLR.REMOVE_HIGHLIGHT_TOOLTIP_MESSAGE",e.RESTORE_DEFAULTS_CTA="WORKSHOP.HLR.RESTORE_DEFAULTS_CTA",e.ROTATION_ANGLE_SETTING_LABEL="WORKSHOP.HLR.ROTATION_ANGLE_SETTING_LABEL",e.ROTATION_SPEED_SETTING_LABEL="WORKSHOP.HLR.ROTATION_SPEED_SETTING_LABEL",e.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_GENERIC_HIDDEN_TOOLTIP_TITLE",e.SCAN_NOT_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_NOT_HIDDEN_TOOLTIP_TITLE",e.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE="WORKSHOP.HLR.SCAN_NUMBER_HIDDEN_TOOLTIP_TITLE",e.SEARCH_HIGHLIGHT_DEFAULTNAME="WORKSHOP.HLR.SEARCH_HIGHLIGHT_DEFAULTNAME",e.SEARCH_ITEM_DELETE="WORKSHOP.HLR.SEARCH_ITEM_DELETE",e.SEARCH_ITEM_EDIT="WORKSHOP.HLR.SEARCH_ITEM_EDIT",e.SEARCH_TOUR_HEADER="WORKSHOP.HLR.SEARCH_TOUR_HEADER",e.SETTINGS_MODAL_TITLE="WORKSHOP.HLR.SETTINGS_MODAL_TITLE",e.SLIDESHOW_SPEED_SETTING_LABEL="WORKSHOP.HLR.SLIDESHOW_SPEED_SETTING_LABEL",e.SPEED_SETTING_FAST="WORKSHOP.HLR.SPEED_SETTING_FAST",e.SPEED_SETTING_MEDIUM="WORKSHOP.HLR.SPEED_SETTING_MEDIUM",e.SPEED_SETTING_SLOW="WORKSHOP.HLR.SPEED_SETTING_SLOW",e.TOAST_ERROR_CTA="WORKSHOP.HLR.TOAST_ERROR_CTA",e.TOAST_ERROR_MESSAGE="WORKSHOP.HLR.TOAST_ERROR_MESSAGE",e.TOUR_EDITOR_BEHAVIORS_TAB="WORKSHOP.HLR.TOUR_EDITOR_BEHAVIORS_TAB",e.TOUR_EDITOR_LABELS_TAB="WORKSHOP.HLR.TOUR_EDITOR_LABELS_TAB",e.TOUR_EDITOR_EMPTY_MESSAGE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_MESSAGE",e.TOUR_EDITOR_EMPTY_TITLE="WORKSHOP.HLR.TOUR_EDITOR_EMPTY_TITLE",e.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_HELPER",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP",e.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK="WORKSHOP.HLR.TOUR_EDITOR_TITLE_DESCRIPTION_TIP_LINK",e.TOUR_SETTINGS_LABEL="WORKSHOP.HLR.TOUR_SETTINGS_LABEL",e.TOUR_SETTINGS_MOVED_HEADER="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_HEADER",e.TOUR_SETTINGS_MOVED_MESSAGE="WORKSHOP.HLR.TOUR_SETTINGS_MOVED_MESSAGE",e.TRANSITION_AFTER_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_AFTER_360_DISABLED_MESSAGE",e.TRANSITION_EDITOR_TITLE="WORKSHOP.HLR.TRANSITION_EDITOR_TITLE",e.TRANSITION_IS_360_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_IS_360_DISABLED_MESSAGE",e.TRANSITION_NO_ROTATION_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_NO_ROTATION_DISABLED_MESSAGE",e.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE="WORKSHOP.HLR.TRANSITION_SAME_SWEEP_DISABLED_MESSAGE",e.TRANSITION_SETTINGS_TAB_TITLE="WORKSHOP.HLR.TRANSITION_SETTINGS_TAB_TITLE",e.TRANSITION_SETTING_LABEL="WORKSHOP.HLR.TRANSITION_SETTING_LABEL",e.TRANSITION_SETTING_SLIDESHOW="WORKSHOP.HLR.TRANSITION_SETTING_SLIDESHOW",e.TRANSITION_SETTING_WALKTHROUGH="WORKSHOP.HLR.TRANSITION_SETTING_WALKTHROUGH",e.TYPE="WORKSHOP.HLR.TYPE",e.WALKTHROUGH_SPEED_SETTING_LABEL="WORKSHOP.HLR.WALKTHROUGH_SPEED_SETTING_LABEL",e.ZOOM_SPEED_SETTING_LABEL="WORKSHOP.HLR.ZOOM_SPEED_SETTING_LABEL"}(o=e.HLR||(e.HLR={})),function(e){e.TYPE="WORKSHOP.LABELS.TYPE",e.NUM_TYPE="WORKSHOP.LABELS.NUM_TYPE",e.EDIT_TEXT_CANCEL_CTA="WORKSHOP.LABELS.EDIT_TEXT_CANCEL_CTA",e.EDIT_TEXT_DONE_CTA="WORKSHOP.LABELS.EDIT_TEXT_DONE_CTA",e.INPUT_PLACEHOLDER="WORKSHOP.LABELS.INPUT_PLACEHOLDER",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.LABELS.MOBILE_OVERLAY_MESSAGE",e.ADD_LABEL_TOOLTIP_MESSAGE="WORKSHOP.LABELS.ADD_LABEL_TOOLTIP_MESSAGE",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.LABELS.DELETE_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.LABELS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.LABELS.SINGLE_FLOOR_EMPTY_MESSAGE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.LABELS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.EDIT_LABEL="WORKSHOP.LABELS.EDIT_LABEL"}(l=e.LABELS||(e.LABELS={})),function(e){e.KITCHEN="WORKSHOP.LABEL_SUGGESTIONS.KITCHEN",e.PRIMARY_BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BEDROOM",e.BEDROOM="WORKSHOP.LABEL_SUGGESTIONS.BEDROOM",e.PRIMARY_BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.PRIMARY_BATHROOM",e.BATHROOM="WORKSHOP.LABEL_SUGGESTIONS.BATHROOM",e.LIVING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LIVING_ROOM",e.FAMILY_ROOM="WORKSHOP.LABEL_SUGGESTIONS.FAMILY_ROOM",e.DINING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.DINING_ROOM",e.PATIO="WORKSHOP.LABEL_SUGGESTIONS.PATIO",e.BALCONY="WORKSHOP.LABEL_SUGGESTIONS.BALCONY",e.BACKYARD="WORKSHOP.LABEL_SUGGESTIONS.BACKYARD",e.FRONT_YARD="WORKSHOP.LABEL_SUGGESTIONS.FRONT_YARD",e.HALLWAY="WORKSHOP.LABEL_SUGGESTIONS.HALLWAY",e.LAUNDRY="WORKSHOP.LABEL_SUGGESTIONS.LAUNDRY",e.PANTRY="WORKSHOP.LABEL_SUGGESTIONS.PANTRY",e.CLOSET="WORKSHOP.LABEL_SUGGESTIONS.CLOSET",e.GARAGE="WORKSHOP.LABEL_SUGGESTIONS.GARAGE",e.DRIVEWAY="WORKSHOP.LABEL_SUGGESTIONS.DRIVEWAY",e.BASEMENT="WORKSHOP.LABEL_SUGGESTIONS.BASEMENT",e.FACADE="WORKSHOP.LABEL_SUGGESTIONS.FACADE",e.GARDEN="WORKSHOP.LABEL_SUGGESTIONS.GARDEN",e.LOBBY="WORKSHOP.LABEL_SUGGESTIONS.LOBBY",e.OFFICE="WORKSHOP.LABEL_SUGGESTIONS.OFFICE",e.POOL="WORKSHOP.LABEL_SUGGESTIONS.POOL",e.UNFURNISHED="WORKSHOP.LABEL_SUGGESTIONS.UNFURNISHED",e.STAIRWAY="WORKSHOP.LABEL_SUGGESTIONS.STAIRWAY",e.ELEVATOR="WORKSHOP.LABEL_SUGGESTIONS.ELEVATOR",e.ESCALATOR="WORKSHOP.LABEL_SUGGESTIONS.ESCALATOR",e.STUDY="WORKSHOP.LABEL_SUGGESTIONS.STUDY",e.SPA="WORKSHOP.LABEL_SUGGESTIONS.SPA",e.RECEPTION="WORKSHOP.LABEL_SUGGESTIONS.RECEPTION",e.MEETING_ROOM="WORKSHOP.LABEL_SUGGESTIONS.MEETING_ROOM",e.STORAGE="WORKSHOP.LABEL_SUGGESTIONS.STORAGE",e.BREAK_ROOM="WORKSHOP.LABEL_SUGGESTIONS.BREAK_ROOM",e.LUNCH_ROOM="WORKSHOP.LABEL_SUGGESTIONS.LUNCH_ROOM",e.CONFERENCE_ROOM="WORKSHOP.LABEL_SUGGESTIONS.CONFERENCE_ROOM"}(c=e.LABEL_SUGGESTIONS||(e.LABEL_SUGGESTIONS={})),function(e){e.PANEL_TITLE="WORKSHOP.PLUGINS.PANEL_TITLE",e.SAVE_CONFIG="WORKSHOP.PLUGINS.SAVE_CONFIG",e.BACK_TO_ALL="WORKSHOP.PLUGINS.BACK_TO_ALL",e.ENABLED="WORKSHOP.PLUGINS.ENABLED"}(d=e.PLUGINS||(e.PLUGINS={})),function(e){e.ADD_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.ADD_VIEW_MODAL_TITLE",e.EDIT_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.EDIT_VIEW_MODAL_TITLE",e.DUPLICATE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DUPLICATE_VIEW_MODAL_TITLE",e.NEW_VIEW_NAME_PLACEHOLDER="WORKSHOP.LAYERS.NEW_VIEW_NAME_PLACEHOLDER",e.VIEW_DUPLICATE_NAME_SUFFIX="WORKSHOP.LAYERS.VIEW_DUPLICATE_NAME_SUFFIX",e.ADD_VIEW_ITEM="WORKSHOP.LAYERS.ADD_VIEW_ITEM",e.DELETE_LAYER_ITEM="WORKSHOP.LAYERS.DELETE_LAYER_ITEM",e.DELETE_LAYER_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_LAYER_MODAL_TITLE",e.DELETE_LAYER_MODAL_MESSAGE="WORKSHOP.LAYERS.DELETE_LAYER_MODAL_MESSAGE",e.DELETE_VIEW_ITEM="WORKSHOP.LAYERS.DELETE_VIEW_ITEM",e.DELETE_VIEW_MODAL_TITLE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_TITLE",e.DELETE_VIEW_MODAL_MESSAGE="WORKSHOP.LAYERS.DELETE_VIEW_MODAL_MESSAGE",e.APPLY_TO_ALL_VIEWS_BLURS="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_BLURS",e.APPLY_TO_ALL_VIEWS_SCANS_3D="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_SCANS_3D",e.APPLY_TO_ALL_VIEWS_VIEW_360="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_VIEW_360",e.APPLY_TO_ALL_VIEWS_TRIM="WORKSHOP.LAYERS.APPLY_TO_ALL_VIEWS_TRIM",e.VIEW_PLACEHOLDER="WORKSHOP.LAYERS.VIEW_PLACEHOLDER",e.SHARED_ENABLED_VIEWS="WORKSHOP.LAYERS.SHARED_ENABLED_VIEWS",e.SHARE_THIS_VIEW="WORKSHOP.LAYERS.SHARE_THIS_VIEW",e.VIEWS_HELP="WORKSHOP.LAYERS.VIEWS_HELP",e.VIEW_RENAME="WORKSHOP.LAYERS.VIEW_RENAME",e.VIEW_DUPLICATE="WORKSHOP.LAYERS.VIEW_DUPLICATE",e.VIEW_ENABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_ENABLED_MESSAGE",e.VIEW_DISABLED_MESSAGE="WORKSHOP.LAYERS.VIEW_DISABLED_MESSAGE",e.VIEW_HIDE_MESSAGE="WORKSHOP.LAYERS.VIEW_HIDE_MESSAGE",e.VIEW_SHOW_MESSAGE="WORKSHOP.LAYERS.VIEW_SHOW_MESSAGE",e.VIEW_PREVIEW="WORKSHOP.LAYERS.VIEW_PREVIEW",e.VIEW_PREVIEW_NARROW="WORKSHOP.LAYERS.VIEW_PREVIEW_NARROW",e.DEFAULT_VIEW_NAME="WORKSHOP.LAYERS.DEFAULT_VIEW_NAME",e.SWITCH_TO_VIEWS_TITLE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_TITLE",e.SWITCH_TO_VIEWS_LIST_HEADER="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_HEADER",e.SWITCH_TO_VIEWS_LIST_ITEM_1="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_1",e.SWITCH_TO_VIEWS_LIST_ITEM_2="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_2",e.SWITCH_TO_VIEWS_LIST_ITEM_3="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_3",e.SWITCH_TO_VIEWS_LIST_ITEM_4="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LIST_ITEM_4",e.SWITCH_TO_VIEWS_SUMMARY="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_SUMMARY",e.SWITCH_TO_VIEWS_MUST_PUBLISH="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_MUST_PUBLISH",e.SWITCH_TO_VIEWS_LEARN_MORE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_LEARN_MORE",e.SWITCH_TO_VIEWS_SKIP="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_SKIP",e.SWITCH_TO_VIEWS_USE="WORKSHOP.LAYERS.SWITCH_TO_VIEWS_USE",e.VIEWS_INTEREST_BANNER_MESSAGE="WORKSHOP.LAYERS.VIEWS_INTEREST_BANNER_MESSAGE",e.SELECTED_ITEMS="WORKSHOP.LAYERS.SELECTED_ITEMS"}(u=e.LAYERS||(e.LAYERS={})),function(e){e.ADD="WORKSHOP.MATTERTAGS.ADD",e.ADD_FILE="WORKSHOP.MATTERTAGS.ADD_FILE",e.ADD_MATTERTAG_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.ADD_MATTERTAG_TOOLTIP_MESSAGE",e.ATTACHMENTS_LABEL="WORKSHOP.MATTERTAGS.ATTACHMENTS_LABEL",e.APPEARANCE_LABEL="WORKSHOP.MATTERTAGS.APPEARANCE_LABEL",e.BACK="WORKSHOP.MATTERTAGS.BACK",e.COLOR_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.COLOR_TOOLTIP_MESSAGE",e.DEFAULT_LIST_ITEM_TEXT="WORKSHOP.MATTERTAGS.DEFAULT_LIST_ITEM_TEXT",e.DEFAULT_TAG_TITLE="WORKSHOP.MATTERTAGS.DEFAULT_TAG_TITLE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.DELETE_LIST_ITEM_OPTION_CTA",e.DELETE_MATTERTAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_MESSAGE",e.DELETE_MATTERTAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_MATTERTAGS_MODAL_TITLE",e.DELETE_TAGS_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_MESSAGE",e.DELETE_TAGS_MODAL_TITLE="WORKSHOP.MATTERTAGS.DELETE_TAGS_MODAL_TITLE",e.DESCRIPTION_PLACEHOLDER="WORKSHOP.MATTERTAGS.DESCRIPTION_PLACEHOLDER",e.DISCARD_MATTERTAG_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_MESSAGE",e.DISCARD_MATTERTAG_MODAL_TITLE="WORKSHOP.MATTERTAGS.DISCARD_MATTERTAG_MODAL_TITLE",e.DROP_FILES_MESSAGE="WORKSHOP.MATTERTAGS.DROP_FILES_MESSAGE",e.EDIT_BILLBOARD_CANCEL_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_CANCEL_CTA",e.EDIT_BILLBOARD_DONE_CTA="WORKSHOP.MATTERTAGS.EDIT_BILLBOARD_DONE_CTA",e.EDIT_LIST_ITEM_OPTION_CTA="WORKSHOP.MATTERTAGS.EDIT_LIST_ITEM_OPTION_CTA",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HIDE_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.HIDE_TOOLTIP_MESSAGE",e.KEYWORDS_LABEL="WORKSHOP.MATTERTAGS.KEYWORDS_LABEL",e.LINK_DISABLED_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_DISABLED_TOOLTIP_MESSAGE",e.LINK_EDITOR_APPLY_CTA="WORKSHOP.MATTERTAGS.LINK_EDITOR_APPLY_CTA",e.LINK_EDITOR_INVALID_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_INVALID_TIP",e.LINK_EDITOR_LINK_ADD_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_ADD_LABEL",e.LINK_EDITOR_LINK_EDIT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_LINK_EDIT_LABEL",e.LINK_EDITOR_MAX_LENGTH_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_MAX_LENGTH_TIP",e.LINK_EDITOR_PREVIEW_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_PREVIEW_TIP",e.LINK_EDITOR_REMOVE_TIP="WORKSHOP.MATTERTAGS.LINK_EDITOR_REMOVE_TIP",e.LINK_EDITOR_TEXT_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_LABEL",e.LINK_EDITOR_TEXT_PLACEHOLDER="WORKSHOP.MATTERTAGS.LINK_EDITOR_TEXT_PLACEHOLDER",e.LINK_EDITOR_TIP_TEXT="WORKSHOP.MATTERTAGS.LINK_EDITOR_TIP_TEXT",e.LINK_EDITOR_URL_LABEL="WORKSHOP.MATTERTAGS.LINK_EDITOR_URL_LABEL",e.LINK_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.LINK_TOOLTIP_MESSAGE",e.LIST_BY_FLOOR_ALPHABETICAL_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ALPHABETICAL_LABEL",e.LIST_BY_FLOOR_ORDERED_LABEL="WORKSHOP.MATTERTAGS.LIST_BY_FLOOR_ORDERED_LABEL",e.LIST_IN_TAG_ORDER_LABEL="WORKSHOP.MATTERTAGS.LIST_IN_TAG_ORDER_LABEL",e.MAX_ATTACHMENTS_MESSAGE="WORKSHOP.MATTERTAGS.MAX_ATTACHMENTS_MESSAGE",e.MEDIA_LINK_APPLY_CTA="WORKSHOP.MATTERTAGS.MEDIA_LINK_APPLY_CTA",e.MEDIA_LINK_ERROR_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_ERROR_MESSAGE",e.MEDIA_LINK_HELP_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_HELP_LINK",e.MEDIA_LINK_INVALID_URL_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_INVALID_URL_MESSAGE",e.MEDIA_LINK_LABEL="WORKSHOP.MATTERTAGS.MEDIA_LINK_LABEL",e.MEDIA_LINK_LOADING_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_LINK_LOADING_MESSAGE",e.MEDIA_LINK_SUPPORTED_FORMATS_LINK="WORKSHOP.MATTERTAGS.MEDIA_LINK_SUPPORTED_FORMATS_LINK",e.MEDIA_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.MEDIA_TOOLTIP_MESSAGE",e.MOBILE_OVERLAY_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_OVERLAY_MESSAGE",e.MOBILE_REORDER_MODAL_MESSAGE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_MESSAGE",e.MOBILE_REORDER_MODAL_TITLE="WORKSHOP.MATTERTAGS.MOBILE_REORDER_MODAL_TITLE",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.MULTI_FLOOR_EMPTY_MESSAGE",e.NUM_TYPE="WORKSHOP.MATTERTAGS.NUM_TYPE",e.SAVE="WORKSHOP.MATTERTAGS.SAVE",e.SAVE_PROCESSING="WORKSHOP.MATTERTAGS.SAVE_PROCESSING",e.SAVE_INVALID="WORKSHOP.MATTERTAGS.SAVE_INVALID",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_STEM_LABEL="WORKSHOP.MATTERTAGS.SHOW_STEM_LABEL",e.SHOW_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.SHOW_TOOLTIP_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MATTERTAGS.SINGLE_FLOOR_EMPTY_MESSAGE",e.STEM_SLIDER_RESET_CTA="WORKSHOP.MATTERTAGS.STEM_SLIDER_RESET_CTA",e.STEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.STEM_TOOLTIP_MESSAGE",e.SUPPORTED_FORMATS_MESSAGE="WORKSHOP.MATTERTAGS.SUPPORTED_FORMATS_MESSAGE",e.TAG_NUM_TYPE="WORKSHOP.MATTERTAGS.TAG_NUM_TYPE",e.TAG_REORDER_ENTER_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_ENTER_LABEL",e.TAG_REORDER_EXIT_LABEL="WORKSHOP.MATTERTAGS.TAG_REORDER_EXIT_LABEL",e.TAG_RESET_ORDER="WORKSHOP.MATTERTAGS.TAG_RESET_ORDER",e.TAG_TYPE="WORKSHOP.MATTERTAGS.TAG_TYPE",e.TAGS_EMPTY_MULTI_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_MULTI_FLOOR_MESSAGE",e.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_EMPTY_SINGLE_FLOOR_MESSAGE",e.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.TAGS_ORDERED_BY_CUSTOM_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_CUSTOM_LABEL",e.TAGS_ORDERED_BY_LOCATION_LABEL="WORKSHOP.MATTERTAGS.TAGS_ORDERED_BY_LOCATION_LABEL",e.TAGS_RESET_MODAL_BODY="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_BODY",e.TAGS_RESET_MODAL_TITLE="WORKSHOP.MATTERTAGS.TAGS_RESET_MODAL_TITLE",e.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MATTERTAGS.TAGS_SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.TITLE_DESC_LABEL="WORKSHOP.MATTERTAGS.TITLE_DESC_LABEL",e.TITLE_PLACEHOLDER="WORKSHOP.MATTERTAGS.TITLE_PLACEHOLDER",e.TYPE="WORKSHOP.MATTERTAGS.TYPE",e.UPLOAD_FILE="WORKSHOP.MATTERTAGS.UPLOAD_FILE",e.UPLOAD_IN_PROGRESS="WORKSHOP.MATTERTAGS.UPLOAD_IN_PROGRESS"}(h=e.MATTERTAGS||(e.MATTERTAGS={})),function(e){e.TYPE="WORKSHOP.MEASUREMENTS.TYPE",e.NUM_TYPE="WORKSHOP.MEASUREMENTS.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.MEASUREMENTS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.OTHER_GROUP_LABEL="WORKSHOP.MEASUREMENTS.OTHER_GROUP_LABEL",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.RENAME_LIST_ITEM_OPTION_CTA",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.MEASUREMENTS.DELETE_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.MEASUREMENTS.LIST_ITEM_INPUT_PLACEHOLDER",e.MULTI_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.MULTI_FLOOR_EMPTY_MESSAGE",e.SINGLE_FLOOR_EMPTY_MESSAGE="WORKSHOP.MEASUREMENTS.SINGLE_FLOOR_EMPTY_MESSAGE"}(p=e.MEASUREMENTS||(e.MEASUREMENTS={})),function(e){e.ERROR_TITLE="WORKSHOP.MODAL.ERROR_TITLE",e.SAVING_ERROR_TITLE="WORKSHOP.MODAL.SAVING_ERROR_TITLE",e.SAVING_ERROR_MESSAGE="WORKSHOP.MODAL.SAVING_ERROR_MESSAGE",e.NO="WORKSHOP.MODAL.NO",e.YES="WORKSHOP.MODAL.YES",e.CANCEL="WORKSHOP.MODAL.CANCEL",e.OK="WORKSHOP.MODAL.OK",e.DISCARD="WORKSHOP.MODAL.DISCARD",e.SAVE="WORKSHOP.MODAL.SAVE"}(m=e.MODAL||(e.MODAL={})),function(e){e.HAPPINESS_TITLE="WORKSHOP.MODEL_RATING.HAPPINESS_TITLE",e.HAPPINESS_BODY="WORKSHOP.MODEL_RATING.HAPPINESS_BODY",e.QUALITY_ISSUES_TITLE="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_TITLE",e.QUALITY_ISSUES_LIGHTING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_LIGHTING",e.QUALITY_ISSUES_3D_MESH="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_3D_MESH",e.QUALITY_ISSUES_COLORING="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_COLORING",e.QUALITY_ISSUES_IMAGE_QUALITY="WORKSHOP.MODEL_RATING.QUALITY_ISSUES_IMAGE_QUALITY",e.NAVIGATION_ISSUES_TITLE="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_TITLE",e.NAVIGATION_ISSUES_BLOCKED_DOORWAYS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_BLOCKED_DOORWAYS",e.NAVIGATION_ISSUES_OBSTRUCTIONS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_OBSTRUCTIONS",e.NAVIGATION_ISSUES_MISALIGNED_SCANS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_MISALIGNED_SCANS",e.NAVIGATION_ISSUES_FLOOR_SEPARATION="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_FLOOR_SEPARATION",e.NAVIGATION_ISSUES_DISAPPEARING_FLOORS="WORKSHOP.MODEL_RATING.NAVIGATION_ISSUES_DISAPPEARING_FLOORS",e.FEEDBACK_TITLE="WORKSHOP.MODEL_RATING.FEEDBACK_TITLE",e.FEEDBACK_LABEL="WORKSHOP.MODEL_RATING.FEEDBACK_LABEL",e.THANK_YOU_HEADING="WORKSHOP.MODEL_RATING.THANK_YOU_HEADING",e.THANK_YOU_BODY="WORKSHOP.MODEL_RATING.THANK_YOU_BODY",e.THANK_YOU_CTA="WORKSHOP.MODEL_RATING.THANK_YOU_CTA",e.THANK_YOU_CTA_LINK_TEXT="WORKSHOP.MODEL_RATING.THANK_YOU_CTA_LINK_TEXT",e.SAVE="WORKSHOP.MODEL_RATING.SAVE",e.NEXT="WORKSHOP.MODEL_RATING.NEXT",e.PROGRESS="WORKSHOP.MODEL_RATING.PROGRESS"}(f=e.MODEL_RATING||(e.MODEL_RATING={})),function(e){e.SEARCH_GROUP_HEADER="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HEADER",e.SEARCH_GROUP_HIDE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_HIDE_ALL",e.SEARCH_GROUP_SHOW_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_SHOW_ALL",e.SEARCH_GROUP_DELETE_ALL="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_GROUP_DELETE_ALL",e.SEARCH_ITEM_HIDE_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_HIDE_TOOLTIP",e.SEARCH_ITEM_SHOW_TOOLTIP="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_SHOW_TOOLTIP",e.SEARCH_ITEM_EDIT="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_EDIT",e.SEARCH_ITEM_DELETE="WORKSHOP.OBJECT_TAG_SUGGESTION.SEARCH_ITEM_DELETE",e.SHOW_ONLY_IN_SEARCH="WORKSHOP.OBJECT_TAG_SUGGESTION.SHOW_ONLY_IN_SEARCH"}(g=e.OBJECT_TAG_SUGGESTION||(e.OBJECT_TAG_SUGGESTION={})),function(e){e.TYPE="WORKSHOP.PHOTOS.TYPE",e.NUM_TYPE="WORKSHOP.PHOTOS.NUM_TYPE",e.ADD_PHOTOS_CTA="WORKSHOP.PHOTOS.ADD_PHOTOS_CTA",e.ADDING_PHOTOS_CTA="WORKSHOP.PHOTOS.ADDING_PHOTOS_CTA",e.MODAL_TITLE="WORKSHOP.PHOTOS.MODAL_TITLE",e.NUM_SELECTED="WORKSHOP.PHOTOS.NUM_SELECTED",e.SELECT_ALL_CTA="WORKSHOP.PHOTOS.SELECT_ALL_CTA",e.UNSELECT_ALL_CTA="WORKSHOP.PHOTOS.UNSELECT_ALL_CTA",e.SAVING_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVING_TOAST_MESSAGE",e.SAVED_TOAST_MESSAGE="WORKSHOP.PHOTOS.SAVED_TOAST_MESSAGE",e.SAVED_TOAST_CTA="WORKSHOP.PHOTOS.SAVED_TOAST_CTA",e.ERROR_MODAL_TITLE="WORKSHOP.PHOTOS.ERROR_MODAL_TITLE",e.ERROR_MODAL_MESSAGE="WORKSHOP.PHOTOS.ERROR_MODAL_MESSAGE",e.CAMERA_PITCH_RESET_MESSAGE="WORKSHOP.PHOTOS.CAMERA_PITCH_RESET_MESSAGE",e.ZOOM_RESET_MESSAGE="WORKSHOP.PHOTOS.ZOOM_RESET_MESSAGE",e.ZOOM_IN_MESSAGE="WORKSHOP.PHOTOS.ZOOM_IN_MESSAGE",e.ZOOM_OUT_MESSAGE="WORKSHOP.PHOTOS.ZOOM_OUT_MESSAGE",e.CANNOT_SAVE_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_MESSAGE",e.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_SAVE_SCAN_NUMBER_TOOLTIP_MESSAGE",e.CANNOT_SAVE_TOOLTIP_TITLE="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_TITLE",e.CANNOT_SAVE_TOOLTIP_CTA="WORKSHOP.PHOTOS.CANNOT_SAVE_TOOLTIP_CTA",e.CAN_TAKE_2D_PHOTO_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CAN_TAKE_2D_PHOTO_TOOLTIP_MESSAGE",e.CAN_TAKE_360_PHOTO_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CAN_TAKE_360_PHOTO_TOOLTIP_MESSAGE",e.CANNOT_TAKE_360_PHOTO_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.CANNOT_TAKE_360_PHOTO_TOOLTIP_MESSAGE",e.PANO_CTA="WORKSHOP.PHOTOS.PANO_CTA",e.SETTINGS_TOOLTIP_MESSAGE="WORKSHOP.PHOTOS.SETTINGS_TOOLTIP_MESSAGE",e.ASSETS_SETTING_LABEL="WORKSHOP.PHOTOS.ASSETS_SETTING_LABEL",e.SHOW_GRID_SETTING_LABEL="WORKSHOP.PHOTOS.SHOW_GRID_SETTING_LABEL",e.SNAPSHOT_ERROR_TOAST_MESSAGE="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_MESSAGE",e.SNAPSHOT_ERROR_TOAST_CTA="WORKSHOP.PHOTOS.SNAPSHOT_ERROR_TOAST_CTA"}(v=e.PHOTOS||(e.PHOTOS={})),function(e){e.COLOR_STEM_EDITOR_TITLE="WORKSHOP.PINS.COLOR_STEM_EDITOR_TITLE"}(b=e.PINS||(e.PINS={})),function(e){e.TYPE="WORKSHOP.SCANS.TYPE",e.NUM_TYPE="WORKSHOP.SCANS.NUM_TYPE",e.BATCH_SHOW_CTA="WORKSHOP.SCANS.BATCH_SHOW_CTA",e.BATCH_HIDE_CTA="WORKSHOP.SCANS.BATCH_HIDE_CTA",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.LIST_ITEM_TEXT="WORKSHOP.SCANS.LIST_ITEM_TEXT",e.FLOOR_EMPTY_MESSAGE="WORKSHOP.SCANS.FLOOR_EMPTY_MESSAGE",e.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.NO_HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.HLR_LIST_ITEM_TOOLTIP_MESSAGE",e.HLR_IN_OTHER_VIEWS="WORKSHOP.SCANS.HLR_IN_OTHER_VIEWS",e.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_LIST_ITEM_TOOLTIP_MESSAGE",e.START_LOCATION_SCAN_IN_OTHER_VIEWS="WORKSHOP.SCANS.START_LOCATION_SCAN_IN_OTHER_VIEWS",e.OVERLAY_HIDE_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_CTA",e.OVERLAY_SHOW_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_CTA",e.OVERLAY_HIDE_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_HIDE_SCAN_CTA",e.OVERLAY_SHOW_SCAN_CTA="WORKSHOP.SCANS.OVERLAY_SHOW_SCAN_CTA",e.OVERLAY_PANORAMA_INFO="WORKSHOP.SCANS.OVERLAY_PANORAMA_INFO",e.OVERLAY_INFO="WORKSHOP.SCANS.OVERLAY_INFO",e.START_LOCATION_TOOLTIP_TITLE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_TITLE",e.START_LOCATION_TOOLTIP_MESSAGE="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_MESSAGE",e.START_LOCATION_TOOLTIP_CTA="WORKSHOP.SCANS.START_LOCATION_TOOLTIP_CTA",e.REMOVE_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_TITLE",e.REMOVE_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_MESSAGE",e.REMOVE_HLR_MODAL_BATCH_MESSAGE="WORKSHOP.SCANS.REMOVE_HLR_MODAL_BATCH_MESSAGE",e.REMOVE_HLR_MODAL_WARNING="WORKSHOP.SCANS.REMOVE_HLR_MODAL_WARNING",e.REMOVE_SCANS_FROM_HLR_MODAL_TITLE="WORKSHOP.SCANS.REMOVE_SCANS_FROM_HLR_MODAL_TITLE",e.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE="WORKSHOP.SCANS.REMOVE_SCAN_FROM_HLR_MODAL_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_SCANS_MESSAGE",e.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE="WORKSHOP.SCANS.REMOVE_BATCH_FROM_HLR_MODAL_HIGHLIGHTS_MESSAGE"}(y=e.SCANS||(e.SCANS={})),function(e){e.ADVANCED_SPACE_SEARCH_LABEL="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_LABEL",e.ADVANCED_SPACE_SEARCH_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_SPACE_SEARCH_MESSAGE",e.ADVANCED_DOLLHOUSE_LABEL="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_LABEL",e.ADVANCED_DOLLHOUSE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_DOLLHOUSE_MESSAGE",e.ADVANCED_FLOORPLAN_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_LABEL",e.ADVANCED_FLOORPLAN_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOORPLAN_MESSAGE",e.ADVANCED_FLOOR_SELECTION_LABEL="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_LABEL",e.ADVANCED_FLOOR_SELECTION_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_FLOOR_SELECTION_MESSAGE",e.ADVANCED_HEADER="WORKSHOP.SETTINGS.ADVANCED_HEADER",e.ADVANCED_MEASUREMENT_MODE_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_LABEL",e.ADVANCED_MEASUREMENT_MODE_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MENU_LABEL",e.ADVANCED_MEASUREMENT_MODE_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_MEASUREMENT_MODE_MESSAGE",e.ADVANCED_ROOM_LABELS_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_LABEL",e.ADVANCED_ROOM_LABELS_MESSAGE="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MESSAGE",e.ADVANCED_ROOM_LABELS_MENU_LABEL="WORKSHOP.SETTINGS.ADVANCED_ROOM_LABELS_MENU_LABEL",e.HIDE_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.HIDE_LABELS_IN_DOLLHOUSE_OPTION",e.HIDE_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.HIDE_SAVED_MEASUREMENTS_OPTION",e.HLR_OPTION_LABEL="WORKSHOP.SETTINGS.HLR_OPTION_LABEL",e.HLR_OPTION_MESSAGE="WORKSHOP.SETTINGS.HLR_OPTION_MESSAGE",e.NAV_OPTION_ADVANCED="WORKSHOP.SETTINGS.NAV_OPTION_ADVANCED",e.NAV_OPTION_PRESENTATION="WORKSHOP.SETTINGS.NAV_OPTION_PRESENTATION",e.NAV_OPTION_TOUR_HLR="WORKSHOP.SETTINGS.NAV_OPTION_TOUR_HLR",e.NAV_OPTION_UNITS="WORKSHOP.SETTINGS.NAV_OPTION_UNITS",e.SHOW_SAVED_MEASUREMENTS_OPTION="WORKSHOP.SETTINGS.SHOW_SAVED_MEASUREMENTS_OPTION",e.SHOW_LABELS_IN_DOLLHOUSE_OPTION="WORKSHOP.SETTINGS.SHOW_LABELS_IN_DOLLHOUSE_OPTION",e.PRESENTATION_BACKGROUND_BLACK_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_BLACK_LABEL",e.PRESENTATION_BACKGROUND_GREY_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_GREY_LABEL",e.PRESENTATION_BACKGROUND_HEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_HEADER",e.PRESENTATION_BACKGROUND_SUBHEADER="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_SUBHEADER",e.PRESENTATION_BACKGROUND_WHITE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_BACKGROUND_WHITE_LABEL",e.PRESENTATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_HEADER",e.PRESENTATION_INFORMATION_EVERYTHING_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_LABEL",e.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_EVERYTHING_MESSAGE",e.PRESENTATION_INFORMATION_COMPACT_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_LABEL",e.PRESENTATION_INFORMATION_COMPACT_MESSAGE="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_COMPACT_MESSAGE",e.PRESENTATION_INFORMATION_HEADER="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_HEADER",e.PRESENTATION_INFORMATION_NONE_LABEL="WORKSHOP.SETTINGS.PRESENTATION_INFORMATION_NONE_LABEL",e.TOUR_AND_HLR_HEADER="WORKSHOP.SETTINGS.TOUR_AND_HLR_HEADER",e.TOUR_DEFAULT_SETTING_LOCATION="WORKSHOP.SETTINGS.TOUR_DEFAULT_SETTING_LOCATION",e.TOUR_MODE_LEGACY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_LABEL",e.TOUR_MODE_LEGACY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_LEGACY_MESSAGE",e.TOUR_MODE_NONE_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_NONE_LABEL",e.TOUR_MODE_STORY_LABEL="WORKSHOP.SETTINGS.TOUR_MODE_STORY_LABEL",e.TOUR_MODE_STORY_MESSAGE="WORKSHOP.SETTINGS.TOUR_MODE_STORY_MESSAGE",e.TOUR_OPTION_LABEL="WORKSHOP.SETTINGS.TOUR_OPTION_LABEL",e.TOUR_OPTION_MESSAGE="WORKSHOP.SETTINGS.TOUR_OPTION_MESSAGE",e.UNITS_HEADER="WORKSHOP.SETTINGS.UNITS_HEADER",e.UNITS_IMPERIAL_CTA="WORKSHOP.SETTINGS.UNITS_IMPERIAL_CTA",e.UNITS_METRIC_CTA="WORKSHOP.SETTINGS.UNITS_METRIC_CTA",e.UNITS_SUBHEADER="WORKSHOP.SETTINGS.UNITS_SUBHEADER"}(E=e.SETTINGS||(e.SETTINGS={})),function(e){e.ENABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.ENABLED_TOOLTIP_TITLE",e.DISABLED_TOOLTIP_TITLE="WORKSHOP.START_LOCATION.DISABLED_TOOLTIP_TITLE",e.HIDDEN_SWEEP_MESSAGE="WORKSHOP.START_LOCATION.HIDDEN_SWEEP_MESSAGE",e.UNPLACED_360_MESSAGE="WORKSHOP.START_LOCATION.UNPLACED_360_MESSAGE",e.ENABLED_MESSAGE="WORKSHOP.START_LOCATION.ENABLED_MESSAGE",e.TOOLTIP_CTA="WORKSHOP.START_LOCATION.TOOLTIP_CTA",e.SET_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SET_NEW_LOCATION_CTA",e.SETTING_NEW_LOCATION_CTA="WORKSHOP.START_LOCATION.SETTING_NEW_LOCATION_CTA",e.THUMBNAIL_PREVIEW_CTA="WORKSHOP.START_LOCATION.THUMBNAIL_PREVIEW_CTA",e.TAG_ORDER_RESET_TITLE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_TITLE",e.TAG_ORDER_RESET_MESSAGE="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_MESSAGE",e.TAG_ORDER_RESET_CONFIRM="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CONFIRM",e.TAG_ORDER_RESET_CANCEL="WORKSHOP.START_LOCATION.TAG_ORDER_RESET_CANCEL"}(S=e.START_LOCATION||(e.START_LOCATION={})),function(e){e.NUM_TYPE="WORKSHOP.TRIM.NUM_TYPE",e.HIDE_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.HIDE_LIST_ITEM_TOOLTIP_MESSAGE",e.SHOW_LIST_ITEM_TOOLTIP_MESSAGE="WORKSHOP.TRIM.SHOW_LIST_ITEM_TOOLTIP_MESSAGE",e.DELETE_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.DELETE_LIST_ITEM_OPTION_CTA",e.RENAME_LIST_ITEM_OPTION_CTA="WORKSHOP.TRIM.RENAME_LIST_ITEM_OPTION_CTA",e.LIST_ITEM_INPUT_PLACEHOLDER="WORKSHOP.TRIM.LIST_ITEM_INPUT_PLACEHOLDER",e.DEFAULT_NAME="WORKSHOP.TRIM.DEFAULT_NAME",e.ALL_FLOORS="WORKSHOP.TRIM.ALL_FLOORS",e.EMPTY_FLOOR_MESSAGE="WORKSHOP.TRIM.EMPTY_FLOOR_MESSAGE",e.SIDE_POSE_CTA="WORKSHOP.TRIM.SIDE_POSE_CTA",e.TOP_POSE_CTA="WORKSHOP.TRIM.TOP_POSE_CTA",e.PERSPECTIVE_POSE_CTA="WORKSHOP.TRIM.PERSPECTIVE_POSE_CTA",e.SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.SIDE_POSE_TOOLTIP",e.LEFT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.LEFT_SIDE_POSE_TOOLTIP",e.RIGHT_SIDE_POSE_TOOLTIP="WORKSHOP.TRIM.RIGHT_SIDE_POSE_TOOLTIP",e.TOP_POSE_TOOLTIP="WORKSHOP.TRIM.TOP_POSE_TOOLTIP",e.PERSPECTIVE_POSE_TOOLTIP="WORKSHOP.TRIM.PERSPECTIVE_POSE_TOOLTIP",e.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE="WORKSHOP.TRIM.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE",e.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_INDIVIDUAL_FLOOR_TRIM_TOOLTIP",e.ADD_ALL_FLOORS_TRIM_TOOLTIP="WORKSHOP.TRIM.ADD_ALL_FLOORS_TRIM_TOOLTIP",e.MAX_INDIVIDUAL_FLOOR_TRIMS_TOOLTIP="WORKSHOP.TRIM.MAX_INDIVIDUAL_FLOOR_TRIMS_TOOLTIP",e.MAX_ALL_FLOORS_TRIMS_TOOLTIP="WORKSHOP.TRIM.MAX_ALL_FLOORS_TRIMS_TOOLTIP",e.MAX_TRIMS_ERROR_MESSAGE="WORKSHOP.TRIM.MAX_TRIMS_ERROR_MESSAGE",e.KEEP_TOGGLE="WORKSHOP.TRIM.KEEP_TOGGLE",e.REMOVE_TOGGLE="WORKSHOP.TRIM.REMOVE_TOGGLE",e.TOOL_ROTATION_CTA="WORKSHOP.TRIM.TOOL_ROTATION_CTA",e.TOOL_POSITION_CTA="WORKSHOP.TRIM.TOOL_POSITION_CTA",e.TOOL_SCALE_CTA="WORKSHOP.TRIM.TOOL_SCALE_CTA",e.TOOL_ROTATION_TOOLTIP="WORKSHOP.TRIM.TOOL_ROTATION_TOOLTIP",e.TOOL_POSITION_TOOLTIP="WORKSHOP.TRIM.TOOL_POSITION_TOOLTIP",e.TOOL_SCALE_TOOLTIP="WORKSHOP.TRIM.TOOL_SCALE_TOOLTIP",e.DELETE_TRIM="WORKSHOP.TRIM.DELETE_TRIM",e.COMPLETE_TRIM="WORKSHOP.TRIM.COMPLETE_TRIM",e.ADD_TRIM="WORKSHOP.TRIM.ADD_TRIM",e.RESET_ROTATION="WORKSHOP.TRIM.RESET_ROTATION",e.HIDE_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.HIDE_PANO_LIST_ITEM_TOOLTIP",e.SHOW_PANO_LIST_ITEM_TOOLTIP="WORKSHOP.TRIM.SHOW_PANO_LIST_ITEM_TOOLTIP",e.MOVE_TRIM_ALL_FLOORS="WORKSHOP.TRIM.MOVE_TRIM_ALL_FLOORS"}(T=e.TRIM||(e.TRIM={})),function(e){e.NUM_TYPE="WORKSHOP.VIEWS_360.NUM_TYPE",e.START_LOCATION_REMOVAL_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_REMOVAL_MESSAGE",e.START_LOCATION_MARKER_MESSAGE="WORKSHOP.VIEWS_360.START_LOCATION_MARKER_MESSAGE",e.START_LOCATION_IN_OTHER_VIEWS="WORKSHOP.VIEWS_360.START_LOCATION_IN_OTHER_VIEWS",e.DEFAULT_NAME="WORKSHOP.VIEWS_360.DEFAULT_NAME",e.OVERLAY_MESSAGE="WORKSHOP.VIEWS_360.OVERLAY_MESSAGE",e.OVERLAY_INFO_MISSING_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_MISSING_SWEEP",e.OVERLAY_INFO_CURRENT_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_CURRENT_SWEEP",e.OVERLAY_INFO_SELECTED_SWEEP="WORKSHOP.VIEWS_360.OVERLAY_INFO_SELECTED_SWEEP",e.ROTATE_TOOLTIP_TITLE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_TITLE",e.ROTATE_TOOLTIP_MESSAGE="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_MESSAGE",e.ROTATE_TOOLTIP_CTA="WORKSHOP.VIEWS_360.ROTATE_TOOLTIP_CTA",e.UNPLACED_CARD_MESSAGE="WORKSHOP.VIEWS_360.UNPLACED_CARD_MESSAGE",e.RENAME_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.RENAME_ITEM_OPTION_CTA",e.REMOVE_ITEM_OPTION_CTA="WORKSHOP.VIEWS_360.REMOVE_ITEM_OPTION_CTA",e.NO_VIEWS_MESSAGE="WORKSHOP.VIEWS_360.NO_VIEWS_MESSAGE"}(O=e.VIEWS_360||(e.VIEWS_360={})),function(e){e.TOAST_MESSAGE="WORKSHOP.VR.TOAST_MESSAGE",e.TOAST_CTA="WORKSHOP.VR.TOAST_CTA"}(_=e.VR||(e.VR={}))}(c=e.WORKSHOP||(e.WORKSHOP={}))}(n||(n={}));const s=n},46391:(e,t,i)=>{"use strict";var n;function s(e){return e.match(/us|mm|lr$/i)?n.IMPERIAL:n.METRIC}i.d(t,{M:()=>n,z:()=>s}),function(e){e.IMPERIAL="imperial",e.METRIC="metric"}(n||(n={}))},10837:(e,t,i)=>{"use strict";i.d(t,{i:()=>s,y:()=>r});var n=i(51801);function s(e){if(!e)return n.k$;if(r(e))return e;const t=e.toLocaleLowerCase();if(t in n.Xy)return n.Xy[t];const[i]=t.split("-");return i in n.Xy?n.Xy[i]:(n.E7.find((e=>e.startsWith(t))),n.k$)}function r(e){return n.E7.includes(e)}},66102:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var n=i(67294),s=i(33558);function r(){const{locale:e}=(0,n.useContext)(s.I);return e}},54078:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(97542),s=i(57956),r=i(47281),a=i(51801);async function o(e,t,i="./"){const n=function(e,t="./"){return e===a.k$?`${t}locale/strings.json`:`${t}locale/messages/strings_${e}.json`}(e,i),s=await t.get(n);return JSON.parse(s)}var l=i(31362),c=i(41404),d=i(59279),u=i(10837);var h=i(34029);class p extends n.Y{constructor(){super(...arguments),this.name="locale"}async init(e,t){const i=await t.market.waitForData(h.e);this._languageCode=function(e,t=(0,d.eY)("lang","")){var i;const n=(0,l.ht)(),s=null!==(i=(0,c.$)("SESSvl",""))&&void 0!==i?i:"",r=""===s||-1!==s.search(/^en/),a=t||(e?r?n:s:n);return(0,u.i)(a)}(e.isLoggedIn,i.getOverrideParam("lang",""));const n=this._languageCode.substr(0,2);this.polyglot=new r({locale:n,interpolation:{prefix:"%{",suffix:"}"},onMissingKey:e=>(this.log.warn("Missing phrase key:"+e),p.missingPrefix+e)});const m=(await t.getModuleBySymbol(s.y.SETTINGS)).getProperty("assetBasePath"),f=await async function(e,t,i="./"){const n=await o(e,t,i);if(e===a.k$)return n;const s=await o(a.k$,t,i);return Object.assign(Object.assign({},s),n)}(this._languageCode,e.queue,m);this.polyglot.extend(f),this.registerSettings(t)}t(e,t){return this.polyglot.t(e,t)}has(e){return this.polyglot.has(e)}get languageCode(){return this._languageCode}async registerSettings(e){(await e.getModuleBySymbol(s.y.SETTINGS)).registerSetting("Locale",a.Zs,this.languageCode,!1)}}p.missingPrefix="FIX-"},51801:(e,t,i)=>{"use strict";i.d(t,{E7:()=>n,k$:()=>s,Xy:()=>r,Zs:()=>a});const n=["en-US","es","fr","de","ru","ja","zh-CN","zh-TW","ko","nl","it","pt"],s="en-US",r=Object.assign(Object.assign({},n.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.toLowerCase()]:t})),{})),{en:"en-US",zh:"zh-CN",cn:"zh-CN",jp:"ja"}),a="language_code"},11846:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var n=i(67294),s=i(20745),r=i(97542),a=i(46950),o=i(85893),l=i(94184),c=i.n(l),d=i(92759),u=i(25328);class h extends n.Component{constructor(e){super(e),this.signup=()=>{window.top&&(window.top.location.href=this.props.registerUrl)}}render(){const{loginUrl:e,backgroundUrl:t}=this.props,i=t||d;return(0,o.jsx)("div",Object.assign({className:"login-redirect-screen",style:{backgroundImage:`url(${i})`}},{children:(0,o.jsx)("div",Object.assign({className:c()("login-redirect",{skrim:!!t})},{children:(0,o.jsxs)("div",Object.assign({className:"login-redirect-body"},{children:[(0,o.jsx)("h1",Object.assign({className:"login-redirect-title"},{children:"You have been invited to this space, create an account to join the conversation."})),(0,o.jsx)("div",Object.assign({className:"login-redirect-create"},{children:(0,o.jsx)(u.zx,Object.assign({buttonSize:u.qE.LARGE,buttonStyle:u.ZJ.LIGHT,onClick:this.signup},{children:"Create an Account"}))})),(0,o.jsxs)("div",Object.assign({className:"login-redirect-link"},{children:["Already have an account?",(0,o.jsx)("a",Object.assign({className:"link",href:e},{children:"Sign in"}))]}))]}))}))}))}}var p=i(57956);class m extends r.Y{constructor(){super(...arguments),this.name="login-redirect",this.authenticated=!1}async init(e,t){this.config=e,this.engine=t}async loadUi(){var e;const{container:t,loginUrl:i,registerUrl:r}=this.config,o=await this.engine.getModuleBySymbol(p.y.LOCALE),l=encodeURIComponent((null===(e=window.top)||void 0===e?void 0:e.location.href)||"");return this.reactContainer=document.createElement("div"),this.reactContainer.id="login-redirect-container",t.appendChild(this.reactContainer),this.reactRoot=(0,s.s)(this.reactContainer),this.reactRoot.render((0,n.createElement)(h,{locale:o,backgroundUrl:this.getBackground(),loginUrl:`${i}?target=${l}`,registerUrl:`${r}?target=${l}`})),new a.Q}async unloadUi(){return!!this.reactContainer&&(this.reactRoot.unmount(),this.reactContainer.remove(),delete this.reactContainer,!0)}getBackground(){const{baseUrl:e,modelId:t}=this.config;if(!t||!e)return;const i=window.devicePixelRatio||1;return`${e}/api/v1/player/models/${t}/thumb?width=${Math.max(this.config.container.clientWidth,400)}&dpr=${i}&disable=upscale`}}},49947:(e,t,i)=>{"use strict";var n;i.d(t,{U:()=>n}),function(e){e[e.NAVIGATION=0]="NAVIGATION",e[e.MODEL=1]="MODEL",e[e.EXT_LINK=2]="EXT_LINK"}(n||(n={}));n.NAVIGATION,n.MODEL,n.EXT_LINK},30643:(e,t,i)=>{"use strict";var n;i.d(t,{z:()=>n}),function(e){e.text="text",e.link="link",e.photo="photo",e.video="video",e.rich="rich",e.none="none",e.error="error"}(n||(n={})),function(e){e.parse=t=>null!==t&&t in e?e[t]:e.none}(n||(n={}))},51397:(e,t,i)=>{"use strict";i.d(t,{V:()=>n,s:()=>l});var n,s=i(85679),r=i(67511),a=i(55502),o=i(30643);!function(e){e.OVERLAY="overlay",e.HOVER="hover",e.OPEN="open",e.DOCKED="docked"}(n||(n={}));class l{constructor(){this.handlers=[{msgType:a.QY,func:(e,t,i)=>{const n=i.tryGetData(s.n),a=i.tryGetData(r.P5);if(!n||!a)return;const l=n.getTagCount(),c=a.getVisitedTags().length,d=a.getViewedTagCount(),u=n.getTag(t.sid);u&&e.track("tag_opened",{tag_count:l,tag_id:t.sid,tags_visited:c,tag_view_count:d,has_media:u.mediaType!==o.z.none})}},{msgType:a.dJ,func:(e,t,i)=>{const n=i.tryGetData(s.n),a=i.tryGetData(r.P5);if(!n||!a)return;const o=n.getTagCount(),l=a.getVisitedTags().length,c=a.getViewedTagCount(),d=n.getTag(t.sid);if(d){const i={mattertag_sid:t.sid,mattertag_view:t.view,mattertag_media:d.mediaType,mattertags_count:o,mattertags_total_views:c,mattertags_visited:l};e.track("mattertag_view",i)}}}]}}},19648:(e,t,i)=>{"use strict";i.d(t,{cH:()=>s,Fz:()=>r,Gn:()=>a,Ek:()=>o,Mm:()=>l,qq:()=>c});var n=i(19663);class s extends n.m{constructor(e){super(),this.id="MATTERTAG_DISC_POSITIONS",this.payload={tags:e}}}class r extends n.m{constructor(e){super(),this.id="ADD_MATTERTAG",this.payload=e}}class a extends n.m{constructor(e){super(),this.id="DELETE_MATTERTAG",this.payload={sid:e}}}class o extends n.m{constructor(e,t,i,n){super(),this.payload={sid:e,standardOptions:t,mediaOptions:i,positionOptions:n}}}class l extends n.m{constructor(e,t,i=[],n){super(),this.payload={id:e,properties:t,fileAttachments:i,embed:n}}}class c extends n.m{constructor(e,t,i=[],n=[],s){super(),this.payload={id:e,properties:t,pendingAttachments:i,removedAttachments:n,embed:s}}}},85679:(e,t,i)=>{"use strict";i.d(t,{n:()=>a});var n=i(67992),s=i(15637),r=i(56367);class a extends n.V{constructor(e){if(super(),this.name="tag",this.mattertags=(0,s.q)(),e)for(const t of e)this.mattertags.set(t.sid,t);this.commit()}clear(){for(const e of this.mattertags.keys)this.removeTag(e)}clone(){return(new a).copy(this)}copy(e){return a.copyTagCollection(this,e),this}static copyTagCollection(e,t){const i=e.mattertags,n=t.mattertags;for(const t of i.keys)n.has(t)||e.removeTag(t);for(const t of n)e.addTag(t)}get collection(){return this.mattertags}addTag(e){this.mattertags.has(e.sid)?this.mattertags.get(e.sid).copy(e):this.mattertags.set(e.sid,e.clone())}removeTag(e){return this.mattertags.delete(e)}getTag(e){return this.mattertags.get(e)}getTagList(){return this.mattertags.keys}getTagCount(){return this.mattertags.length}getTagKeywords(){let e=[];return this.iterate((t=>{t.enabled&&t.keywords.length&&(e=e.concat(t.keywords))})),e}iterate(e){for(const t of this.mattertags)e(t)}*[Symbol.iterator](){for(const e of this.mattertags)yield e}set onStale(e){this.hydrate=e}updateOnStaleCallbacks(e){if(!this.hydrate)return;const t=e?this.getTag(e):this.mattertags;(0,r.s)(t,(async()=>{const e=await this.hydrate();this.iterate((t=>{t.refresh(e)}))}))}}},55502:(e,t,i)=>{"use strict";i.d(t,{QY:()=>s,Ik:()=>r,dJ:()=>a});var n=i(98010);class s extends n.v{constructor(e){super(),this.sid=e}}class r extends n.v{constructor(e){super(),this.url=e}}class a extends n.v{constructor(e,t){super(),this.sid=e,this.view=t}}},71776:(e,t,i)=>{"use strict";i.d(t,{re:()=>n,lc:()=>s,Us:()=>r,ZF:()=>a});const n="features/mattertags",s="embedlyKey",r=2e3,a=60},36120:(e,t,i)=>{"use strict";i.d(t,{Y:()=>s});var n=i(19663);class s extends n.m{constructor(e,t,i=!1){super(),this.id="MATTERTAG_NAVIGATE",this.payload={sid:e,transition:t,navigateToDisabled:i}}}},67511:(e,t,i)=>{"use strict";i.d(t,{Pg:()=>n,rI:()=>s,P5:()=>d,ZJ:()=>u});var n,s,r=i(67992),a=i(10385),o=i(37082),l=i(15637),c=i(75287);!function(e){e.UP="Up",e.DOWN="Down",e.LEFT="Left",e.LEFT_UP="LeftUp",e.LEFT_DOWN="LeftDown",e.RIGHT="Right",e.RIGHT_UP="RightUp",e.RIGHT_DOWN="RightDown"}(n||(n={})),function(e){e.CLOSED="closed",e.IDLE="idle",e.DISABLED="disabled",e.CREATING="creating",e.PRESSING="pressing",e.PLACING="placing",e.PLACED="placed",e.EDITING="editing"}(s||(s={}));class d extends r.V{constructor(e){super(),this.mattertags=e,this.name="tag-view",this.visitedTags=new a.d,this.navigatingTag=(0,o.Y)(null),this.toolStateObservable=(0,o.Y)(s.CLOSED),this.openTagObservable=(0,o.Y)(null),this.selectedTagObservable=(0,o.Y)(null),this.uncommittedTagObservable=(0,o.Y)(null),this.progressObservable=new o.f(-1),this.screenPositionObservable=new o.f(null),this.viewedTags=0,this.idVisibilityEnabled=!1,this.idVisibility=new Set,this.creatingNewMattertag=!1,this.tagCapabilities={},this.getViewData=e=>{const t=this.mattertags.getTag(e),i=this.derivedData[e];return t&&!i&&this.makeViewData&&(this.derivedData[e]=this.makeViewData(t)),this.derivedData[e]},this.derivedData={},this.activeBillboards=(0,l.q)()}setViewDataFactory(e){this.makeViewData=e}openBillboard(e){this.openTag&&this.openTag!==e&&this.closeBillboard(this.openTag),this.openTag!==e&&this.setOpenTag(e)}hideBillboard(e){this.openTag===e&&this.setOpenTag(null)}closeBillboard(e){this.openTag===e&&this.setOpenTag(null),this.selectedTag===e&&this.setSelectedTag(null)}closeOpenBillboard(){this.openTag&&this.closeBillboard(this.openTag)}setTagCapabilities(e,t){const i=this.tagCapabilities[e]||{};i.opening=t.opening,i.navigating=t.navigating,this.tagCapabilities[e]=i,this.openTag!==e||this.tagCapabilities.opening||this.closeBillboard(e)}getTagCount(){return this.mattertags.collection.length}get navigating(){return this.navigatingTag.value}setNavigatingTag(e){this.navigatingTag.value=e}onNavigatingTagChanged(e){return this.navigatingTag.onChanged(e)}setSelectedTag(e){this.selectedTagObservable.value=e}get selectedTag(){return this.selectedTagObservable.value}onSelectedTagChanged(e){return this.selectedTagObservable.onChanged(e)}setUncommittedTag(e){this.uncommittedTagObservable.value=e}get uncommittedTag(){return this.uncommittedTagObservable.value}onUncommittedChanged(e){return this.uncommittedTagObservable.onChanged(e)}setProgress(e){this.progressObservable.value=e}get progress(){return this.progressObservable.value}onProgressChanged(e){return this.progressObservable.onChanged(e)}get screenPosition(){return this.screenPositionObservable.value}setScreenPosition(e){this.screenPositionObservable.value=e}onScreenPositionChanged(e){return this.screenPositionObservable.onChanged(e)}setToolState(e){switch(e){case s.CREATING:this.creatingNewMattertag=!0;break;case s.IDLE:case s.CLOSED:this.creatingNewMattertag=!1}this.toolStateObservable.value=e}get toolState(){return this.toolStateObservable.value}onToolStateChanged(e){return this.toolStateObservable.onChanged(e)}get openTag(){return this.openTagObservable.value}setOpenTag(e){this.openTagObservable.value=e}onOpenTagChanged(e){return this.openTagObservable.onChanged(e)}isCreatingNewMattertag(){return this.creatingNewMattertag}visitTag(e){this.viewedTags++,-1===this.visitedTags.indexOf(e)&&this.visitedTags.push(e)}getViewedTagCount(){return this.viewedTags}getVisitedTags(){return this.visitedTags.values()}setNavigatingPosition(e){this.navigatingPosition=e}getNavigatingPosition(){return this.navigatingPosition}}class u extends c.T{constructor(e){super(),this.sid=e,this.closing=!1,this.position=null,this.distance=0,this.timeoutId=0}}},92294:(e,t,i)=>{"use strict";i.d(t,{X:()=>o});var n=i(67992),s=i(20341),r=i(37082),a=i(35895);class o extends n.V{constructor(){super(...arguments),this.name="measure-mode",this._groups=[],this._groupMap={},this.onDataChangedCallbacks=new Set,this._editingGroupId=null,this._creatingGroupId=null,this.phaseObservable=(0,r.Y)(s.au.CLOSED),this.selectedGroupIndexObservable=new r.f(-1),this.pressProgressObservable=new r.f(-1),this.pointPositionObservable=new r.f(null),this.idVisibility=new Set}onPhaseChanged(e){return this.phaseObservable.onChanged(e)}onDataChanged(e){return(0,a.k1)((()=>this.onDataChangedCallbacks.add(e)),(()=>this.onDataChangedCallbacks.delete(e)),!0)}onPressProgressChanged(e){return this.pressProgressObservable.onChanged(e)}onPointPositionChanged(e){return this.pointPositionObservable.onChanged(e)}onSelectedGroupIndexChanged(e){return this.selectedGroupIndexObservable.onChanged(e)}get phase(){return this.phaseObservable.value}modeActive(){return this.phase!==s.au.CLOSED}isEditingOrCreating(){return this.phase>=s.au.EDITING}*groups(){for(const e of this._groups)yield e}get selectedGroupSid(){const e=this.selectedGroupInfo;return e&&e.info.sid?e.info.sid:null}get selectedGroupInfo(){return-1===this.selectedGroupIndex?null:this.getGroupInfo(this.selectedGroupIndex)}get creatingGroupId(){return this._creatingGroupId}set creatingGroupId(e){this._creatingGroupId=e}get editingGroupId(){return this._editingGroupId}set editingGroupId(e){this._editingGroupId=e}get groupCount(){return this._groups.length}get pointPosition(){return this.pointPositionObservable.value}get pressProgress(){return this.pressProgressObservable.value}get selectedGroupIndex(){return this.selectedGroupIndexObservable.value}getGroupInfo(e){return e<0||e>=this._groups.length?null:this._groups[e]}getGroupInfoBySid(e){return e?this._groupMap[e]:null}setPhase(e){this.phase!==e&&(this.phaseObservable.value=e)}notifyDataChanged(){this.onDataChangedCallbacks.forEach((e=>e()))}setPressProgress(e){this.pressProgressObservable.value=e}setPointPosition(e){this.pointPositionObservable.value=e}setSelectedGroupIndex(e){this.selectedGroupIndexObservable.value=e}repopulate(e){this.clear();for(const t of e){const e=t.clone();this._groups.push(e),this._groupMap[t.info.sid]=e}this.notifyDataChanged()}clear(){this._groups=[],this._groupMap={}}}},20341:(e,t,i)=>{"use strict";var n;i.d(t,{au:()=>n,Pj:()=>s,Ph:()=>r,q8:()=>a,WN:()=>o}),function(e){e[e.CLOSED=0]="CLOSED",e[e.IDLE=1]="IDLE",e[e.EDITING=2]="EDITING",e[e.CREATING=3]="CREATING",e[e.POINT_PLACED=4]="POINT_PLACED",e[e.CREATING_NEXT_POINT=5]="CREATING_NEXT_POINT",e[e.CONFIRMING_POINT=6]="CONFIRMING_POINT"}(n||(n={}));const s={mobile:{[n.POINT_PLACED]:!0,[n.EDITING]:!0},desktop:{[n.CREATING]:!0,[n.CREATING_NEXT_POINT]:!0,[n.EDITING]:!0}},r={mobile:{[n.CREATING_NEXT_POINT]:!0,[n.POINT_PLACED]:!0,[n.EDITING]:!0},desktop:{[n.CREATING]:!0,[n.CREATING_NEXT_POINT]:!0,[n.EDITING]:!0}},a={[n.IDLE]:!0,[n.EDITING]:!0},o={[n.IDLE]:!0,[n.EDITING]:!0}},35870:(e,t,i)=>{"use strict";i.d(t,{Ev:()=>s,Tn:()=>r,JM:()=>a});var n=i(19663);class s extends n.m{}class r extends n.m{constructor(e){super(),this.payload={index:e}}}class a extends n.m{constructor(...e){super(),this.payload={sids:e}}}},62436:(e,t,i)=>{"use strict";i.d(t,{O:()=>s});var n=i(19663);class s extends n.m{constructor(e,t,i=!0){super(),this.payload={on:e,dimWhileActive:void 0!==t?t:e,editable:i}}}},57989:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var n=i(19663);class s extends n.m{}},16078:(e,t,i)=>{"use strict";i.d(t,{R:()=>s});var n=i(19663);class s extends n.m{constructor(e,t=""){super(),this.id="RENAME_MEASUREMENT",this.payload={sid:e,text:t}}}},51205:(e,t,i)=>{"use strict";i.d(t,{B:()=>s});var n=i(19663);class s extends n.m{}},32489:(e,t,i)=>{"use strict";i.d(t,{W:()=>s});var n=i(19663);class s extends n.m{constructor(e,...t){super(),this.id="MEASUREMENTS_SET_VISIBILITY",this.payload={sids:t,visible:e}}}},93866:(e,t,i)=>{"use strict";i.d(t,{l:()=>s});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={groupId:e}}}},51180:(e,t,i)=>{"use strict";i.d(t,{rf:()=>s,u6:()=>r,ff:()=>a,ty:()=>o,mM:()=>l,$Z:()=>c,av:()=>d,$n:()=>u});var n=i(98010);class s extends n.v{constructor(e){super(),this.data=e}}class r extends n.v{constructor(e){super(),this.data=e}}class a extends n.v{}class o extends n.v{constructor(e,t){super(),this.sid=e,this.text=t}}class l extends n.v{constructor(e,t,i){super(),this.sid=e,this.oldText=t,this.newText=i}}class c extends n.v{constructor(e){super(),this.data=e}}class d extends n.v{constructor(e){super(),this.data=e}}class u extends n.v{constructor(e,t,i){super(),this.opened=e,this.viewmode=t,this.count=i}}},8824:(e,t,i)=>{"use strict";i.d(t,{b:()=>n});const n="features/measurements-nudge"},11200:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.sid=e,this.vrSupported=t}}},26568:(e,t,i)=>{"use strict";i.d(t,{T:()=>r});var n=i(67992),s=i(59961);class r extends n.V{constructor(e){super(),this.name="model",this.model=e}hasDiscoverUrl(){return[s.LU.PUBLIC,s.LU.UNLISTED].includes(this.model.visibility)}}},59961:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{LU:()=>n,vz:()=>s,qU:()=>r}),function(e){e.PUBLIC="public",e.UNLISTED="unlisted",e.PASSWORD="password",e.PRIVATE="private",e.UNKNOWN="unknown"}(n||(n={})),function(e){e.MAX="max",e.LOD0="lod0",e.LOD1="lod1",e.LOD2="lod2",e.LOD3="lod3"}(s||(s={})),function(e){e.custom="custom",e.basic1="basic1",e.medium1="medium1"}(r||(r={}))},22410:(e,t,i)=>{"use strict";i.d(t,{n:()=>r});var n=i(45755),s=i(26568);const r=(0,n.u)(s.T)},48228:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>M});var n=i(97542),s=i(57956),r=i(90632),a=i(53261),o=i(21646),l=i(97998),c=i(44443);const d=new l.Z("modelurls");class u{constructor(){this.version=3,this.baseUrl="",this.expires=0}validate(e){return!0}update(e){return Promise.resolve()}get(e){if(!this.isSigned(e))throw new Error("Tried getting relative model url with no signed urls configured.");return e}isSigned(e){if(!e.match(/^https?:/))return!1;const t=e.indexOf("?");if(-1===t)return!1;return new URLSearchParams(e.substr(t)).has("t")}}class h extends u{constructor(){super(...arguments),this.version=3,this.baseUrl="",this.absoluteUrl="",this.expires=0}validate(e){return e.templates&&e.catalog_file&&(!e.expires||1e3*e.expires>Date.now())}update(e){if(!e.templates)throw new Error("No templates found.");return this.baseUrl=e.templates[0],this.absoluteUrl=this.baseUrl.split("{{filename}}").shift()||"",e.expires?this.expires=1e3*e.expires:this.expires=Date.now()+o.Z.signedUrlDefaultExpireTime,Promise.resolve()}get(e){return this.baseUrl&&this.baseUrl.replace("{{filename}}",e.replace(this.absoluteUrl,""))}}class p{constructor(e,t){this.api=e,this.endpoint=t,this.urlContainer=null,this.previousRefreshPromise=null,this.containerClasses=[u],t?this.containerClasses=[h]:this.urlContainer=new u}needsRefresh(){if(null===this.endpoint)return!1;const e=this.urlContainer?this.urlContainer.expires:Date.now();return Date.now()+o.Z.signedUrlRefreshBuffer>e}refresh(){if(!this.needsRefresh())return Promise.resolve();if(!this.previousRefreshPromise){d.debug("Refreshing urls...");const e=this;this.previousRefreshPromise=this._refresh().then((function(){d.debug("Refreshed"),e.previousRefreshPromise=null}),(function(t){d.error("Failed url refresh, urls might go stale soon",t),e.previousRefreshPromise=null}))}return this.previousRefreshPromise}async _refresh(e=!0){const t=this.endpoint?await this.api.get(this.endpoint,{responseType:"json",prefetchFrom:e?"files":void 0,priority:a.ru.HIGHEST}):null;if(this.urlContainer&&this.urlContainer.validate(t))return this.urlContainer.update(t);for(const e of this.containerClasses){const i=new e;if(i.validate(t))return d.info("Using urls version "+i.version),this.urlContainer=i,this.urlContainer.update(t)}if(e)return this._refresh(!1);throw new Error("missing-urls")}isSigned(e){var t;return(null===(t=this.urlContainer)||void 0===t?void 0:t.isSigned(e))||!1}async getSignedUrl(e){if(e.startsWith("blob:"))return e;if(await this.refresh(),!this.urlContainer)throw new Error("Tried to use ModelUrls.get before urlContainer is established.");const t=this.urlContainer.get(e);if(!t)throw new Error(`Could not get signed URL for path ${e}`);return t}async getFile(e,t,i){const n=this.isSigned(e)?e:await this.getSignedUrl(e),s=(0,c.bf)(n,i);return this.api.getOnStoreQueue(s,t)}async getImage(e,t,i){const n=this.isSigned(e)?e:await this.getSignedUrl(e),s=(0,c.bf)(n,i);return this.api.getImage(s,t)}async getImageBitmap(e,t,i,n,s){const r=this.isSigned(e)?e:await this.getSignedUrl(e),a=(0,c.bf)(r,s);return this.api.getImageBitmap(a,t,i,n)}}var m=i(56367),f=i(26568),g=i(11200),v=i(64927),b=i(17788),y=i(9133);class E{constructor(){this.lastPublished=null}refresh(e){var t;for(const t in this.textures)e.textures[t]&&this.textures[t].refreshFrom(e.textures[t]);null===(t=this.meshUrls)||void 0===t||t.forEach(((t,i)=>{var n,s;const r=null===(s=null===(n=e.meshUrls)||void 0===n?void 0:n[i])||void 0===s?void 0:s.url;t.url&&r&&t.url.refreshFrom(r)})),this.tileset&&e.tileset&&this.tileset.urlTemplate.refreshFrom(e.tileset.urlTemplate)}}var S=i(5823),T=i(45531),O=i(59279),_=i(2224);class N extends _.y{constructor(e,t){super(e),this.name="ModelLoadException",this.code=t}}var A=i(7162),w=i(59961),I=i(75125),k=i(29282);const P=new l.Z("mds-snapshot-serializer");class L{deserialize(e){var t,i,n;if(!(e&&this.validate(e)&&e.publication&&e.assets))return P.debug("Deserialized invalid model data from MDS",e),null;const s=null!==(t=e.state)&&void 0!==t?t:S.gb.ACTIVE;if(s!==S.gb.ACTIVE)throw P.error(`model unavailable, status: ${s}`,e),new N("model unavailable",s);const r=e.publication,a=r.contact||{name:"",email:"",phoneNumber:""},o=e.options,l=new E;l.sid=e.id,l.organizationId=e.organization||null,l.details={sid:e.id,name:e.name||"",presentedBy:r.presentedBy||"",summary:r.summary||"",formattedAddress:r.address||"",demo:!!e.demo,contact:{email:a.email||"",name:a.name||"",phone:a.phoneNumber||"",formattedPhone:a.phoneNumber||""},externalUrl:r.externalUrl||""},l.created=(0,y.p)(e.created,null),l.options={urlBranding:null===(i=null==o?void 0:o.urlBrandingEnabled)||void 0===i||i,socialSharing:!!(null==o?void 0:o.socialSharingEnabled),isPublic:!!r.published,isVR:!!(null==o?void 0:o.vrEnabled)},r.lastPublished&&(l.lastPublished=(0,y.p)(r.lastPublished,null));const c=R(e.assets.textures.filter((e=>"high"===e.quality))[0]),d=R(e.assets.textures.filter((e=>"low"===e.quality))[0]);l.textures={},c&&(l.textures.high=new m.n(c,(0,y.p)(c.validUntil,null))),d&&(l.textures.low=new m.n(d,(0,y.p)(d.validUntil,null)));const u=this.getDamFileUrls(e);(null==u?void 0:u.length)&&(l.meshUrls=u);const h=null===(n=e.assets.tilesets)||void 0===n?void 0:n[0];if(this.validateTileset(h)&&(l.tileset=this.getTileset(h,e.lod),l.textures.max=this.getTilesetTextures(h)),!l.meshUrls&&!l.tileset)throw P.error("No DAM or tileset info found for model",l),new N("No DAM or tileset info found for model",s);return l.visibility=this.getModelVisibility(e),l}validate(e){return["id","assets","publication"].every((t=>t in e))}getDamFileUrls(e){var t;return((null===(t=e.assets)||void 0===t?void 0:t.meshes)||[]).reduce(((e,t)=>{if(t.status===S.l5.AVAILABLE&&t.url){const i={url:new m.n(t.url,(0,y.p)(t.validUntil,null)),suffix:t.resolution?`_${t.resolution}`:"",extension:t.format||""};"50k"===t.resolution?e.unshift(i):e.push(i)}return e}),[])}validateTileset(e){var t;if(!e)return!1;const i=A.o.lt(null!==(t=e.tilesetVersion)&&void 0!==t?t:"0","1.0.0");return e&&e.status===S.l5.AVAILABLE&&!i}getTileset(e,t){var i;const n=this.getTilesetMaxLOD(e,t),s=this.getRootTilesetFilename(e,t),r=this.getUrlTemplate(e);return{maxLOD:n,rootFilename:s,urlTemplate:new m.n(r,(0,y.p)(e.validUntil,null)),tilesetVersion:null!==(i=e.tilesetVersion)&&void 0!==i?i:"0"}}getTilesetMaxLOD(e,t){var i,n,s;let r=2;const a=A.o.gte(null!==(i=e.tilesetVersion)&&void 0!==i?i:"0","1.2.0"),o=!a&&e.tilesetPreset===w.qU.basic1,l=e.tilesetPreset===w.qU.custom,c=e.tilesetDepth;if(C(c)&&(a||l||!o))return c;switch(null===(n=null==t?void 0:t.options)||void 0===n?void 0:n[0]){case w.vz.MAX:r=C(c)?c:4,A.o.lt(null!==(s=e.tilesetVersion)&&void 0!==s?s:"0","1.1.0")&&(r=3);break;case w.vz.LOD3:r=3;break;case w.vz.LOD2:r=2;break;case w.vz.LOD1:r=1;break;case w.vz.LOD0:r=0}return 1===(0,O.eY)("debugTiles",0)&&(0,O.eY)("maxLOD",r)!==r&&(r=(0,O.eY)("maxLOD",r)),r}getRootTilesetFilename(e,t){if(1===(0,O.eY)("debugTiles",0)&&""!==(0,O.eY)("tilesetroot",""))return(0,O.eY)("tilesetroot","");if(e.tilesetPreset===w.qU.custom)return"tileset.json";return`${this.getTilesetMaxLOD(e,t)}.json`}getTilesetTextures(e){const t=this.getUrlTemplate(e);return new m.n({filename:null,id:"tiled",resolution:"*",quality:"max",format:"jpg",urlTemplate:t.replace(T.d_.urlTemplateToken,"<folder>/<texture>.jpg"),validUntil:e.validUntil},(0,y.p)(e.validUntil,null))}getUrlTemplate(e){var t;return T.d_.urlTemplateOverride?T.d_.urlTemplateOverride+T.d_.urlTemplateToken+"?t=fake":null!==(t=e.urlTemplate)&&void 0!==t?t:T.d_.urlTemplateToken}getModelVisibility(e){return I.t.hasPassword?w.LU.PASSWORD:(0,k.r)(e.visibility)&&e.visibility!==S.LU.PUBLIC?e.visibility===S.LU.PRIVATE?w.LU.PRIVATE:w.LU.UNKNOWN:e.discoverable?w.LU.PUBLIC:w.LU.UNLISTED}}function C(e){return(0,k.r)(e)&&!isNaN(e)}function R(e){var t;return(null==e?void 0:e.id)&&e.resolution&&e.quality&&e.urlTemplate?{id:e.id,filename:null!==(t=e.filename)&&void 0!==t?t:null,format:e.format,validUntil:e.validUntil||"",resolution:e.resolution,quality:e.quality,urlTemplate:e.urlTemplate}:null}class D extends b.u{constructor(){super(...arguments),this.serializer=new L}async read(e){var t;const i={modelId:this.getViewId()},n=await this.query(v.GetModelDetails,i,e);return this.serializer.deserialize(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.model)}async refresh(){return this.refreshPromise||(this.refreshPromise=this.read({fetchPolicy:"no-cache"}).finally((()=>{this.refreshPromise=void 0}))),this.refreshPromise}}class M extends n.Y{constructor(){super(...arguments),this.name="model-data"}async init(e,t){this.engine=t;const{baseUrl:i,readonly:n,baseModelId:a}=e;this.store=new D({readonly:n,baseUrl:i,viewId:a});const o=await this.store.read();if(!o)throw Error("Could not fetch model data");(0,m.s)(o,(async()=>{const e=await this.store.refresh();e&&o.refresh(e)})),this.model=o;const l=new f.T(this.model);t.market.register(this,f.T,l),this.registerSettings(l),async function(e,t,i){(await i.getModuleBySymbol(s.y.ANALYTICS)).setOptions({model_mesh_type:e.model.tileset&&t.tiledMeshEnabled?"streamed":"dam"})}(l,e,t),t.market.waitForData(r.Q).then((e=>{o.lastPublished&&(e.lastPublished=o.lastPublished.getTime())}));const c=(await t.getModuleBySymbol(s.y.API)).getApi();this.signedUrls=new p(c,null),this.signedUrls.meshUrls=this.model.meshUrls,t.broadcast(new g.Z(this.model.sid,this.model.vrSupported))}async registerSettings(e){const t=await this.engine.getModuleBySymbol(s.y.SETTINGS),i="Model Options",{urlBranding:n=!0,socialSharing:r,isPublic:a,isVR:o}=e.model.options||{};t.registerSetting(i,T.Yo,r),t.registerSetting(i,"is_public",a),t.registerSetting(i,"is_vr",o);const l=!n||!!t.settingsData.getOverrideParam("brand",!0),c=n?t.settingsData.getOverrideParam("mls","0"):"0",d=n?t.settingsData.getOverrideParam("title","1"):"1";t.registerSetting(i,T.Zz,"0"!==d&&"2"!==c),t.registerSetting(i,T.DU,"0"!==d&&"2"!==d),t.registerSetting(i,T.L,l),t.registerSetting(i,T.sX,"1"===c||"2"===c)}getSignedUrls(){return this.signedUrls}}},45531:(e,t,i)=>{"use strict";i.d(t,{Yo:()=>s,L:()=>r,sX:()=>a,DU:()=>o,Zz:()=>l,r4:()=>c,d_:()=>d});var n=i(59279);const s="social_sharing",r="branding_enabled",a="presentation_mls_mode",o="presentation_title",l="presentation_about",c="discover_space_url",d={urlTemplateToken:"<file>",urlTemplateOverride:(0,n.eY)("tiledtemplate",null)}},82814:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});var n=i(84428);class s extends n.Mesh{constructor(){super(...arguments),this.raycastEnabled=!0}}},80626:(e,t,i)=>{"use strict";var n;i.d(t,{l:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.RAYCAST=1]="RAYCAST"}(n||(n={}))},76532:(e,t,i)=>{"use strict";i.d(t,{_:()=>o});var n=i(67992),s=i(84428),r=i(89557);const a=[-5,-5,-5,5,5,5];class o extends n.V{constructor(e,t=a,i=a){super(),this.name="mesh-data",this.extendedBounds=new s.Box3,this.extendedSize=new s.Vector3,this.meshBounds=new s.Box3,this.meshCenter=new s.Vector3,this.meshSize=new s.Vector3,this.meshRadius=0,this.maxPlacementRadius=0,this._meshGroups={floors:new Map,rooms:new Map,roomsByFloor:new Map},this.meshGroupVisuals={floorOpacity:new Map},this.meshSubGroupsFromPoint=e=>{const t=[];for(const[i,n]of this.meshGroups.rooms)n.boundingBox.containsPoint(e)&&t.push(i);return t},this.meshTextureOpacity=new r.z(e),this.meshBounds.setFromArray(t),this.meshBounds.getCenter(this.meshCenter),this.meshBounds.getSize(this.meshSize),this.meshRadius=this.meshSize.clone().multiplyScalar(.5).length(),this.maxPlacementRadius=3*this.meshRadius,this.extendedBounds.setFromArray(i),this.extendedBounds.getSize(this.extendedSize)}get meshGroups(){return this._meshGroups}}},99935:(e,t,i)=>{"use strict";var n;i.d(t,{S:()=>n}),function(e){e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH",e[e.ULTRA=4]="ULTRA"}(n||(n={}))},16769:(e,t,i)=>{"use strict";i.d(t,{T0:()=>r,Pv:()=>a,Nr:()=>o});var n=i(82814);const s=e=>e instanceof n.S,r=e=>s(e),a=e=>s(e)&&e.raycastEnabled&&e.visible,o=e=>{let t=e.visible;t&&e.traverseAncestors((e=>{t&&(t=e.visible)}));return!r(e)&&t||a(e)}},34742:(e,t,i)=>{"use strict";var n;i.d(t,{h:()=>n}),function(e){e.PanoTexture="PANO_TEXTURE",e.PanoTextureTransition="PANO_TEXTURE_TRANSITION",e.MeshTexture="MESH_TEXTURE",e.ColorOverlay="COLOR_OVERLAY",e.MeshPreviewSphere="MESH_PREVIEW_SPHERE",e.Wireframe="WIREFRAME",e.FlatShading="FLAT_SHADING",e.PanoOverlay="PANO_OVERLAY",e.PanoOverlayTransition="PANO_OVERLAY_TRANSITION",e.MeshTrimVertex="MESH_TRIM_VERTEX",e.MeshTrimPixel="MESH_TRIM_PIXEL",e.FloorTrimVertex="FLOOR_TRIM_VERTEX",e.FloorTrimPixel="FLOOR_TRIM_PIXEL"}(n||(n={}))},82668:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.loaded=e,this.total=t}}},53203:(e,t,i)=>{"use strict";i.d(t,{EJ:()=>s,ZP:()=>r,Lp:()=>a,iT:()=>o,NR:()=>l,Kb:()=>c,xx:()=>d});var n=i(59279);const s={flipDownload:(0,n.eY)("flipDownload",!0),flipUpload:(0,n.eY)("flipUpload",!0),debugLOD:(0,n.eY)("debuglod",!1),debugRttQuality:(0,n.eY)("debugQuality",!1),debugRttScores:(0,n.eY)("debugScores",!1),debugRttClear:(0,n.eY)("debuglodrtt",!0),debugPauseTexStream:(0,n.eY)("textureStreamPause",!1),sightingMaxAge:(0,n.eY)("meshSightingMaxAge",600),textureTileSize:(0,n.eY)("chunkTileSize",512)},r=s,a="wireframeEnabled",o="features/tiled_mesh",l="Trim floor by(%)",c=0,d={FADE_OPAQUE:1,FADE_ABOVE:.05,FADE_BELOW:.2,FADE_TILE_VISIBLE_THRESHOLD:.6,FADE_CLICKABLE_THRESHOLD:.051,FADE_IN_VALUE:.2,FADE_IN_END_ANGLE:55,FADE_IN_START_ANGLE:35,FADE_IN_HOVER_BOOST_VALUE:.3,FADE_BELOW_START:0,FADE_BELOW_MULT:1}},97178:(e,t,i)=>{"use strict";i.d(t,{t:()=>N,Z:()=>A});var n=i(84428),s=i(34742),r=i(34912),a=i.n(r),o=i(66367),l=i.n(o),c=i(67230),d=i.n(c),u=i(88880),h=i.n(u),p=i(82981),m=i.n(p),f=i(56547),g=i.n(f),v=i(23059),b=i.n(v),y=i(73209),E=i.n(y),S=i(62397),T=i.n(S),O=i(65849),_=i.n(O);const N=10,A={cube:{uniforms:{map:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:a(),fragmentShader:l()},blurCube:{uniforms:{map:{type:"t",value:null},opacity:{type:"f",value:1},dir:{type:"v2",value:new n.Vector2(0,0)}},vertexShader:d(),fragmentShader:h()},modelChunk:{uniforms:{[s.h.MeshTexture]:{map:{type:"t",value:null},meshOpacity:{type:"f",value:0},opacity:{type:"f",value:1}},[s.h.MeshTrimVertex]:{meshTrimMatrices:{type:"mat4array",value:[]},meshTrimsDiscardContents:{type:"barray",value:new Array(N).fill(!0)},hasKeepVolume:{type:"b",value:!1}},[s.h.MeshTrimPixel]:{meshTrimMatrices:{type:"mat4array",value:[]},meshTrimsDiscardContents:{type:"barray",value:new Array(N).fill(!0)},hasKeepVolume:{type:"b",value:!1}},[s.h.FloorTrimVertex]:{floorHeightMin:{type:"f",value:0},floorHeightMax:{type:"f",value:1},floorTrimHeight:{type:"f",value:1}},[s.h.FloorTrimPixel]:{floorHeightMin:{type:"f",value:0},floorHeightMax:{type:"f",value:1},floorTrimHeight:{type:"f",value:1}},[s.h.PanoTexture]:{pano0Map:{type:"t",value:null},pano0Position:{type:"v3",value:new n.Vector3},pano0Matrix1:{type:"m4",value:new n.Matrix4},pano0Matrix2:{type:"m4",value:new n.Matrix4},panoOpacity:{type:"f",value:1}},[s.h.PanoTextureTransition]:{progress:{type:"f",value:0},pano1Map:{type:"t",value:null},pano1Position:{type:"v3",value:new n.Vector3},pano1Matrix1:{type:"m4",value:new n.Matrix4},pano1Matrix2:{type:"m4",value:new n.Matrix4}},[s.h.PanoOverlay]:{overlay0Map:{type:"t",value:null},overlay0Matrix:{type:"m4",value:new n.Matrix4}},[s.h.PanoOverlayTransition]:{overlay1Map:{type:"t",value:null},overlay1Matrix:{type:"m4",value:new n.Matrix4}},[s.h.ColorOverlay]:{colorOverlay:{type:"v4",value:null}},[s.h.MeshPreviewSphere]:{meshPreviewCenter:{type:"v3",value:null},meshPreviewSize:{type:"f",value:.3}},[s.h.Wireframe]:{time:{type:"f",value:0},fill:{type:"c",value:new n.Color(16711680)},stroke:{type:"c",value:new n.Color(16777215)},dualStroke:{type:"b",value:!1},fillEnabled:{type:"b",value:!1},insideAltColor:{type:"b",value:!1},thickness:{type:"f",value:.1},secondThickness:{type:"f",value:.1},dashEnabled:{type:"b",value:!1},dashRepeats:{type:"f",value:10},dashOverlap:{type:"b",value:!1},dashLength:{type:"f",value:.1,range:[0,1]},dashAnimate:{type:"b",value:!1},squeeze:{type:"b",value:!1},squeezeMin:{type:"f",value:.1},squeezeMax:{type:"f",value:1},wireframeOpacity:{type:"f",value:1,range:[0,1]}}},vertexShader:m(),fragmentShader:g()},modelOutside:{uniforms:{map:{type:"t",value:null},opacity:{type:"f",value:1},colorOverlay:{type:"v4",value:new n.Vector4(0,0,0,0)}},vertexShader:b(),fragmentShader:E()},depth:{uniforms:{opacity:{type:"f",value:1},maxDistance:{type:"f",value:20}},vertexShader:T(),fragmentShader:_()}}},7446:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var n=i(67992),s=i(37082);class r extends n.V{constructor(){super(),this.name="model-rating-view-data",this.isDialogVisible=new s.f(!1),this.setDialogVisible=e=>{this.isDialogVisible.value=void 0!==e?e:!this.isDialogVisible.value}}onDialogVisibleChanged(e){return this.isDialogVisible.onChanged(e)}getIsDialogVisible(){return this.isDialogVisible.value}}},99660:(e,t,i)=>{"use strict";i.d(t,{m:()=>s,M:()=>r});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={toVisible:e}}}s.id="TOGGLE_MODEL_RATING_DIALOG";class r extends n.m{constructor(e,t=!1){super(),this.payload={rating:e,didFinish:t}}}r.id="SUBMIT_MODEL_RATING"},75783:(e,t,i)=>{"use strict";i.d(t,{E:()=>s});var n=i(98010);class s extends n.v{constructor(e){super(),this.rating=e}}},72940:(e,t,i)=>{"use strict";i.d(t,{i:()=>n,j:()=>s});const n="features/model-rating-dialog",s="features/model-rating-dialog-prompt"},12039:(e,t,i)=>{"use strict";i.d(t,{ZK:()=>s,Lp:()=>r,zs:()=>a,OR:()=>o,ju:()=>l,Cs:()=>c,L4:()=>d});var n=i(19663);class s extends n.m{constructor(){super(),this.id="LOCK_NAVIGATION"}}class r extends n.m{constructor(){super(),this.id="UNLOCK_NAVIGATION"}}class a extends n.m{constructor(e){super(),this.payload=e,this.id="FOCUS_ON_POINT_INSIDE"}}class o extends n.m{constructor(e){super(),this.payload=e,this.id="FOCUS_ON_PIN_INSIDE"}}class l extends n.m{constructor(e){super(),this.id="MOVE_TO_SWEEP",this.payload=Object.assign({},e)}}class c extends n.m{constructor(e){super(),this.payload=e,this.id="NAVIGATE_TO_LABEL"}}class d extends n.m{constructor(e){super(),this.id="NAVIGATE_TO_POSE",this.payload={pose:e}}}},10359:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(67992),s=i(10385);class r extends n.V{constructor(){super(...arguments),this.name="hashtag-data",this.hashtags=(0,s.C)([])}addHashtags(e){this.atomic((()=>{e.forEach((e=>{this.addHashtag(e)}))}))}addHashtag(e){const t=e.trim().toLowerCase();-1===this.hashtags.map((e=>e.trim().toLowerCase())).indexOf(t)&&this.hashtags.push(e)}getHashtags(){return this.hashtags.values()}}},38965:(e,t,i)=>{"use strict";var n;i.d(t,{U:()=>n}),function(e){e.CLOSED="closed",e.IDLE="idle",e.CREATING="creating",e.OPENING="opening",e.OPEN="open",e.EDITING="editing"}(n||(n={}))},66291:(e,t,i)=>{"use strict";i.d(t,{X:()=>d});var n=i(67992),s=i(37082),r=i(15637),a=i(19077),o=i(38965),l=i(22744),c=i(62612);class d extends n.V{constructor(e,t,i,n){super(),this.data=e,this.textParser=t,this.linkHandler=i,this.backgroundTexture=n,this.name="notes-view-data",this.noteViewsMap=(0,r.q)(),this.isNewNote=!1,this.openNoteViewObservable=(0,s.Y)(null),this.focusedCommentObservable=(0,s.Y)(null),this.activeNotationObservable=(0,s.Y)(null),this.idVisibilityEnabled=!1,this.idVisibility=new Set,this.notesPhaseObservable=(0,s.Y)(o.U.CLOSED),this.notesFilterObservable=(0,s.Y)(l.$.OPEN),this.updateNoteViews=()=>{const e={};this.data.iterate((t=>{var i;const n=this.createNoteView(t);e[t.id]=n,(null===(i=this.openNoteView)||void 0===i?void 0:i.id)===n.id&&this.setOpenNoteView(n)})),this.noteViewsMap.replace(e)},this.sortByDate=(e,t)=>t.lastCommentMs-e.lastCommentMs,this.filterByResolved=e=>this.notesFilter===l.$.ALL||e.resolved===(this.notesFilter===l.$.RESOLVED),this.noteViews=new a.Q(this.noteViewsMap),this.noteViews.priority=a.K.LOW,this.notesFilter!==l.$.ALL&&this.noteViews.setFilter(this.notesFilter,this.filterByResolved),this.noteViews.sort(this.sortByDate),this.updateNoteViews()}getFilteredNotesMap(){return this.noteViews}getNoteViewsMap(){return this.noteViewsMap}getNoteView(e){return this.noteViewsMap.get(e)}getTextParser(){return this.textParser}getLinkHandler(){return this.linkHandler}getComment(e,t){const i=this.getNoteView(e);return(null==i?void 0:i.comments.find((e=>e.id===t)))||null}getReply(e,t){const i=this.getNoteView(e);return(null==i?void 0:i.comments.find(((e,i)=>i>0&&e.id===t)))||null}getAttachment(e,t,i){var n;const s=(null===(n=this.getNoteView(e))||void 0===n?void 0:n.comments.find((e=>e.id===t)))||null;return(null==s?void 0:s.attachments.find((e=>e.id===i)))||null}createNoteView(e){return Object.assign(Object.assign({},e),{backgroundTexture:this.backgroundTexture,icon:c.Qk[c.Er.NOTE]})}getCommentUserMentions(e,t){const i=[];return this.textParser.getUserMentions(e).forEach((e=>{const n=t[e];n&&i.push(n)})),i}getNoteAttachments(e){const t=[],i=this.getNoteView(e);return i&&i.comments.forEach((e=>{t.push(...e.attachments)})),t}getPendingNote(){return this.isNewNote&&this.openNoteView?this.openNoteView:null}setNotesPhase(e){this.notesPhaseObservable.value=e}get notesPhase(){return this.notesPhaseObservable.value}onNotesPhaseChanged(e){return this.notesPhaseObservable.onChanged(e)}setNotesFilter(e){const t=this.notesFilterObservable.value;this.notesFilterObservable.value=e,this.noteViews.atomic((()=>{this.noteViews.clearFilter(t),e!==l.$.ALL&&this.noteViews.setFilter(e,this.filterByResolved)}))}get notesFilter(){return this.notesFilterObservable.value}onNotesFilterChanged(e){return this.notesFilterObservable.onChanged(e)}setActiveNotation(e){this.activeNotationObservable.value=e}get activeNotation(){return this.activeNotationObservable.value}onActiveNotationChanged(e){return this.activeNotationObservable.onChanged(e)}setOpenNoteView(e){this.openNoteViewObservable.value=e}get openNoteView(){return this.openNoteViewObservable.value}onOpenNoteViewChanged(e){return this.openNoteViewObservable.onChanged(e)}resetOpenNoteView(){const e=this.openNoteView;if(e){const t=this.data.getNoteProperties(e.id);t&&this.updateOpenNoteView(t)}}updateOpenNoteView(e){const t=this.openNoteView;t&&Object.assign(t,e)}setFocusedComment(e){this.focusedCommentObservable.value=e}get focusedComment(){return this.focusedCommentObservable.value}onFocusedCommentChanged(e){return this.focusedCommentObservable.onChanged(e)}}},24696:(e,t,i)=>{"use strict";i.d(t,{yK:()=>r,yP:()=>a,VI:()=>o,FB:()=>l,gc:()=>c,_N:()=>d,kd:()=>u,oH:()=>h,df:()=>p,oE:()=>m,yp:()=>f,sG:()=>g,RO:()=>v,x4:()=>b,Df:()=>y,Uw:()=>E,mH:()=>S,Gx:()=>T,GV:()=>O});var n=i(19663),s=i(64918);class r extends n.m{constructor(e){super(),this.payload={opened:e}}}class a extends n.m{constructor(e,t,i,n,r=s.n.FadeToBlack){super(),this.payload={noteId:e,dock:t,edit:i,commentId:n,transition:r}}}class o extends n.m{constructor(){super()}}class l extends n.m{constructor(e){super(),this.payload={text:e}}}class c extends n.m{constructor(){super()}}class d extends n.m{constructor(){super()}}class u extends n.m{constructor(e,t){super(),this.payload={noteId:e,text:t}}}class h extends n.m{}class p extends n.m{constructor(e){super(),this.payload={opened:e}}}class m extends n.m{constructor(e,t){super(),this.payload={noteId:e,properties:t}}}class f extends n.m{constructor(e,t){super(),this.payload={noteId:e,resolved:t}}}class g extends n.m{constructor(e){super(),this.payload={noteId:e}}}class v extends n.m{constructor(e,t){super(),this.payload={filter:e,enabled:t}}}class b extends n.m{constructor(e){super(),this.payload={id:e}}}class y extends n.m{constructor(e,t,i){super(),this.payload={noteId:e,text:t,replyId:i}}}class E extends n.m{constructor(e,t,i){super(),this.payload={noteId:e,commentId:t,text:i}}}class S extends n.m{constructor(e,t){super(),this.payload={noteId:e,commentId:t}}}class T extends n.m{constructor(e){super(),this.payload={ids:e}}}class O extends n.m{constructor(e){super(),this.payload={enabled:e}}}},22744:(e,t,i)=>{"use strict";var n,s;i.d(t,{$:()=>n,Y:()=>s}),function(e){e.OPEN="open",e.RESOLVED="resolved",e.ALL="all"}(n||(n={})),function(e){e.DEFAULT="default",e.HIGHLIGHTED="highlighted",e.DIMMED="dimmed"}(s||(s={}))},3778:(e,t,i)=>{"use strict";i.d(t,{c:()=>N});var n=i(85893),s=i(67294),r=i(33558),a=i(38399),o=i(66102),l=i(76631),c=i(89549),d=i(40216),u=i(77230),h=i(93001),p=i(86283),m=i(44877),f=i(24696),g=i(57623),v=i(47457),b=i(6608),y=i(16589),E=i(61092),S=i(44472);const{NOTES:T}=a.Z.SHOWCASE;function O({userName:e,description:t,numAttachments:i,numComments:s,searchText:r}){const a=(0,E.l)(),l=(0,o.b)(),c=s-1,d=(r?(0,y.vr)(e,r):e).trim(),u=l.t(T.REPLIES,c);let h="";return""===t?i>0?h=l.t(T.NUM_ATTACHMENTS,i):0===c&&(h=l.t(T.CONTENT_DELETED)):h=(r?(0,y.vr)(t,r):t).trim(),(0,n.jsxs)("div",Object.assign({className:"item-details"},{children:[(0,n.jsxs)("div",Object.assign({className:"item-header"},{children:[a&&(0,n.jsx)(S.S,{text:d.trim(),textParser:a,markers:y.PP}),c>0&&!r&&(0,n.jsx)("span",Object.assign({className:"note-summary-info note-replies"},{children:u}))]})),a&&(0,n.jsx)("div",Object.assign({className:"item-description"},{children:(0,n.jsx)(S.S,{text:h,textParser:a,markers:y.PP,linksActive:!1})}))]}))}const{NOTES:_}=a.Z.SHOWCASE,N=({item:e})=>{const{commandBinder:t,analytics:i}=(0,s.useContext)(r.I),a=(0,o.b)(),y=(0,d.T)(),E=(0,g.M)(),S=(0,u.A)(),T=(0,h.v)();if(!e||!T)return null;const{id:N,title:A,description:w,color:I,resolved:k,user:P,numAttachments:L,numComments:C}=e,R=N,D=e.parentId;if(!D||!R)return null;const M=D===(null==E?void 0:E.id),x=k||!e.isLayerVisible(),j=(0,m.C)(T,p.J.NOTE,P),U=(0,m.K)(T,p.J.NOTE,P),H=a.t(_.EDIT_LIST_ITEM_OPTION_CTA),F=a.t(_.DELETE_LIST_ITEM_OPTION_CTA),B=j||U?(0,n.jsx)(v.hE,{children:(0,n.jsxs)(v.xz,Object.assign({icon:"more-vert",variant:v.Wu.TERTIARY,menuArrow:!0,menuClassName:"search-result-menu"},{children:[(0,n.jsx)(v.zx,{label:H,icon:"toggle-pencil",size:v.qE.SMALL,disabled:!j,variant:v.Wu.TERTIARY,onClick:()=>{i.trackToolGuiEvent("notes","notes_list_edit_note"),t.issueCommand(new f.yP(D,!0,!0,R))}}),(0,n.jsx)(v.zx,{className:"menu-delete-btn",label:F,icon:"delete",size:v.qE.SMALL,disabled:!U,variant:v.Wu.TERTIARY,onClick:()=>{i.trackToolGuiEvent("notes","notes_list_delete_note"),t.issueCommand(new f.sG(D))}})]}))}):void 0,V=(0,n.jsx)(O,{description:w,userName:A,numAttachments:L,numComments:C,searchText:S}),G=(0,n.jsx)(b.C,{badgeStyle:I?{backgroundColor:I,borderColor:I}:void 0,iconClass:"icon-comment"});return(0,n.jsx)(v.HC,{id:R,className:"search-result-item notes-list-item",title:V,badge:G,active:M,disabled:x,onClick:async()=>{i.trackToolGuiEvent("notes","notes_list_open_note"),t.issueCommand(new f.yP(D,!0,!1,R)),y===l.wS.BOTTOM_PANEL&&t.issueCommand(new c.Fg(!0))},actions:B},R)}},44761:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var n=i(67294),s=i(36773);function r(e,t){return t&&e&&e.focusedComment?e.getReply(t,e.focusedComment.id):null}function a(e){const t=(0,s.Q)(),[i,a]=(0,n.useState)(r(t,e));return(0,n.useEffect)((()=>{if(!t)return()=>{};const i=t.onFocusedCommentChanged((function(){a(r(t,e))}));return()=>i.cancel()}),[t,e]),i}},4311:(e,t,i)=>{"use strict";i.d(t,{V:()=>r});var n=i(67294),s=i(36773);function r(e){const t=(0,s.Q)(),[i,r]=(0,n.useState)((null==t?void 0:t.getNoteView(e))||null);return(0,n.useEffect)((()=>{if(!t)return()=>{};const i=t.getNoteViewsMap().onChanged((function(){t&&r(t.getNoteView(e))}));return()=>i.cancel()}),[t,e]),i}},62752:(e,t,i)=>{"use strict";i.d(t,{g:()=>a});var n=i(67294),s=i(36773),r=i(22744);function a(){const e=(0,s.Q)(),[t,i]=(0,n.useState)((null==e?void 0:e.notesFilter)||r.$.OPEN);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onNotesFilterChanged(i);return()=>t.cancel()}),[e]),t}},84242:(e,t,i)=>{"use strict";i.d(t,{x:()=>a});var n=i(67294),s=i(36773);function r(e){return e?e.getLinkHandler():null}function a(){const e=(0,s.Q)(),[t,i]=(0,n.useState)(r(e));return(0,n.useEffect)((()=>(t||i(r(e)),()=>{})),[e]),t}},61092:(e,t,i)=>{"use strict";i.d(t,{l:()=>a});var n=i(67294),s=i(36773);function r(e){return e?e.getTextParser():null}function a(){const e=(0,s.Q)(),[t,i]=(0,n.useState)(r(e));return(0,n.useEffect)((()=>(t||i(r(e)),()=>{})),[e]),t}},36773:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r});var n=i(45755),s=i(66291);const r=(0,n.u)(s.X)},57623:(e,t,i)=>{"use strict";i.d(t,{M:()=>r,l:()=>a});var n=i(67294),s=i(36773);function r(){const e=(0,s.Q)(),[t,i]=(0,n.useState)(e?e.openNoteView:null);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onOpenNoteViewChanged(i);return i(e.openNoteView),()=>t.cancel()}),[e]),t}const a=(0,i(74554).M)("openNoteView",r)},35004:(e,t,i)=>{"use strict";i.d(t,{h:()=>s,J:()=>r});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.id=e,this.resolved=t}}class r extends n.v{constructor(e){super(),this.commentId=e}}},39693:(e,t,i)=>{"use strict";i.d(t,{IA:()=>s,Mp:()=>r,pE:()=>a,uE:()=>o,f0:()=>l,GR:()=>c,E8:()=>d,AT:()=>u,TM:()=>h,Ko:()=>p,Rn:()=>m,ZP:()=>f});var n=i(5823);const s="features/notes-mode",r="features/notes",a="features/notes-nudge",o="spaces.notes",l="https://forms.gle/LkkQ1kphFKGtBFfUA",c=30,d=15,u=n.x6.VIEWER,h=500,p=500,m="#5c7fff",f=Object.freeze({noteMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}},colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"],stem:{length:.23,width:1,opacity:1,transparent:!1,color:"white",alphaTest:.05},anchor:{size:.1},navigation:{anyDistance:!0,visibleDistance:8,cameraClearance:.1,tiltTolerance:25}})},59512:(e,t,i)=>{"use strict";i.d(t,{h:()=>r});var n=i(67992),s=i(15637);class r extends n.V{constructor(){super(),this.name="object-tags",this.suggestions=(0,s.q)()}get collection(){return this.suggestions}iterate(e){for(const t of this.suggestions)e(t)}getObjectTag(e){return this.suggestions.get(e)}getObjectTagIds(){return this.suggestions.keys}updateObjectTag(e){this.suggestions.set(e.id,e)}removeObjectTag(e){return this.suggestions.delete(e)}}},5666:(e,t,i)=>{"use strict";i.d(t,{AN:()=>s,yJ:()=>r,w$:()=>a,Q_:()=>o,cO:()=>l,SO:()=>c,I2:()=>d,OD:()=>u});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={enabled:e}}}class r extends n.m{constructor(e){super(),this.id="FILTER_TAG_SUGGESTION",this.payload={ids:e}}}class a extends n.m{constructor(e){super(),this.id="NAVIGATE_TO_TAG_SUGGESTION",this.payload={id:e}}}class o extends n.m{constructor(e,t){super(),this.id="TOGGLE_OBJECT_ENABLED",this.payload={id:e,enabled:t}}}class l extends n.m{constructor(e,...t){super(),this.id="TOGGLE_OBJECT_TAG_ENABLED",this.payload={ids:t,enabled:e}}}class c extends n.m{constructor(...e){super(),this.id="DISMISS_OBJECT_TAG",this.payload={ids:e}}}class d extends n.m{constructor(e,t,i,n){super(),this.id="CREATE_OBJECT_TAG",this.payload={id:e,options:t,pendingAttachments:i,embed:n}}}class u extends n.m{constructor(e){super(),this.id="DOCK_OBJECT_TAG",this.payload={id:e}}}},45611:(e,t,i)=>{"use strict";i.d(t,{MW:()=>n,QA:()=>s,Kn:()=>r});const n="spaces.object_detection",s="object-annotations-enabled",r=.065},41602:(e,t,i)=>{"use strict";i.d(t,{SI:()=>s,O8:()=>r,Gu:()=>a,bC:()=>o,JU:()=>l,Ct:()=>c,Tm:()=>d,TD:()=>u,mP:()=>h,jX:()=>p,N4:()=>m});var n=i(31362);const s=1e3/60,r=.05,a=.1/60,o=.02,l=25,c=3,d=3,u=.16,h=(0,n.V5)()?45:(0,n.Kr)()?20:35,p=.01,m=2},79183:(e,t,i)=>{"use strict";i.d(t,{z:()=>c});var n=i(12529),s=i(97998),r=i(84428),a=i(55763),o=i(84958);const l=new s.Z("InstancedPinHeads");class c extends r.InstancedMesh{constructor(e,t,i,s){const l=new r.PlaneGeometry(o.l,o.l),c=new Float32Array(e),d=new r.InstancedBufferAttribute(c,1);l.setAttribute("instanceAlpha",d);const u=new Float32Array(2*e),h=new r.InstancedBufferAttribute(u,2),p=new Float32Array(e),m=new r.InstancedBufferAttribute(p,1),f=new Float32Array(e),g=new r.InstancedBufferAttribute(f,1);l.setAttribute("instanceUvOffset",h),l.setAttribute("instanceUvScale",m),l.setAttribute("instanceStrokeWidth",g);const v=s&&i?new a.Vp(t,i):new a.m0(t,!0);super(l,v,e),this.updateMaskTexture=e=>{if(this.material&&this.material instanceof a.Vp){const t=this.material.uniforms;t.mask.value!==e&&(t.mask.value=e,this.material.uniformsNeedUpdate=!0)}},this.material=v,this.maxCount=e,this.opacityArray=c,this.opacityAttrib=d,this.uvArray=u,this.uvAttrib=h,this.uvScaleArray=p,this.uvScaleAttrib=m,this.strokeWidthArray=f,this.strokeWidthAttrib=g,this.setColorAt(0,new r.Color),this.renderedPins=[],this.renderOrder=n.z.pins}update(e){let t=0;this.renderedPins.length=0;for(const i of e)i.visible&&(t>=this.maxCount?l.error("Instance count is too small!"):(this.setMatrixAt(t,i.pinHeadMatrix),this.setColorAt(t,i.pinColor),this.opacityArray[t]=i.opacity*i.opacityAnimation.value*i.opacityScale,this.strokeWidthArray[t]=i.pinStrokeWidth,i.pinIconUVOffset&&(this.uvArray[2*t+0]=i.pinIconUVOffset.u,this.uvArray[2*t+1]=i.pinIconUVOffset.v,this.uvScaleArray[t]=i.pinIconUVOffset.uvScale),t++,this.renderedPins.push(i)));this.count=t,this.visible=this.count>0,this.instanceMatrix.needsUpdate=!0,this.opacityAttrib.needsUpdate=!0,this.uvAttrib.needsUpdate=!0,this.uvScaleAttrib.needsUpdate=!0,this.strokeWidthAttrib.needsUpdate=!0,this.instanceColor?this.instanceColor.needsUpdate=!0:l.error("Instance color should be defined")}}},33160:(e,t,i)=>{"use strict";i.d(t,{$:()=>c});var n=i(21646),s=i(12529),r=i(84428),a=i(66372),o=i(49827),l=i(84958);class c extends r.Mesh{constructor(e,t,i,n){super(t,i),this.geomScale=new r.Vector3(1,1,1),this.userData.sid=e,this.worldPosition=new r.Vector3,this.cameraPosition=new r.Vector3,this.layers.mask=n.mask,this.renderOrder=s.z.pins,this.scale.set(.01,.01,.01)}dispose(){this.material.dispose(),this.geometry.dispose()}updatePosition(e){this.position.copy(e.stemNormal).setLength(Math.max(e.stemLength,.01))}update(e,t,i){const s=l.Z.pinHeadMesh.scale;this.getWorldPosition(this.worldPosition);const c=e.getWorldPosition(this.cameraPosition).distanceTo(this.worldPosition);this.quaternion.copy(e.quaternion);const d=s.maxSize-(s.maxSize-s.minSize)*(0,a.C)(c,s.nearBound,s.farBound),u=this.worldPosition.clone().project(e),h=new r.Vector3(i.width/2,i.height/2,1).multiply(u),p=new r.Vector3(d/2,0,0).add(h),m=new r.Vector3(2/i.width,2/i.height,1).multiply(p).clone().unproject(e).clone().distanceTo(this.worldPosition)*(1+s.responsiveness/100*(t-1)),f=(0,o.uZ)(m,n.Z.epsilon,m);this.scale.set(f*this.geomScale.x,f*this.geomScale.y,f*this.geomScale.z)}}},55763:(e,t,i)=>{"use strict";i.d(t,{Vp:()=>T,uW:()=>S,m0:()=>O,Nv:()=>y,Dx:()=>_,l0:()=>E});var n=i(84428),s=i(84958),r=i(27670),a=i.n(r),o=i(72742),l=i.n(o),c=i(24819),d=i.n(c),u=i(79652),h=i.n(u),p=i(50929),m=i.n(p),f=i(747),g=i.n(f);const v={pinHead:{uniforms:{alpha:{type:"f",value:1},color:{type:"c",value:new n.Color},bg:{type:"t",value:null},mask:{type:"t",value:null}},vertexShader:a(),fragmentShader:l()},pinStem:{uniforms:{pinHeadMatrix:{value:new n.Matrix4},resolution:{value:new n.Vector2},alpha:{value:1}},vertexShader:d(),fragmentShader:h()},pinSelected:{vertexShader:m(),fragmentShader:g()}};var b=i(11677);class y extends n.RawShaderMaterial{constructor(e,t,i,s){const r=n.UniformsUtils.clone(v.pinHead.uniforms);r.bg.value=t,r.mask.value=i,r.color.value.copy(e),r.alpha.value=s,super({fragmentShader:v.pinHead.fragmentShader,vertexShader:v.pinHead.vertexShader,uniforms:r,name:"PinHeadMaterial",transparent:!0})}}class E extends n.RawShaderMaterial{constructor(){const e=n.UniformsUtils.clone(v.pinStem.uniforms);super({fragmentShader:v.pinStem.fragmentShader,vertexShader:v.pinStem.vertexShader,uniforms:e,name:"PinStemMaterial",linewidth:s.Z.stem.width,opacity:s.Z.stem.opacity,transparent:s.Z.stem.transparent,alphaTest:s.Z.stem.opacity*s.Z.stem.alphaTest})}}class S extends n.RawShaderMaterial{constructor(){const e=n.UniformsUtils.clone(v.pinStem.uniforms);super({defines:{INSTANCED:!0},fragmentShader:v.pinStem.fragmentShader,vertexShader:v.pinStem.vertexShader,uniforms:e,name:"InstancedPinStemMaterial",linewidth:s.Z.stem.width,opacity:s.Z.stem.opacity,transparent:s.Z.stem.transparent,alphaTest:s.Z.stem.opacity*s.Z.stem.alphaTest})}}class T extends n.RawShaderMaterial{constructor(e,t){const i=n.UniformsUtils.clone(v.pinHead.uniforms);i.bg.value=e,i.mask.value=t,super({defines:{INSTANCED:!0},fragmentShader:v.pinHead.fragmentShader,vertexShader:v.pinHead.vertexShader,uniforms:i,name:"InstancedPinHeadMaterial",transparent:!0})}}class O extends n.RawShaderMaterial{constructor(e,t){super({defines:{INSTANCED:t},vertexShader:b.Z.basicTextured.vertexShader,fragmentShader:b.Z.basicTextured.fragmentShader,uniforms:{alpha:{value:1},tDiffuse:{value:e}},name:"InstancedPinHeadCustomMaterial",transparent:!0})}}class _ extends n.RawShaderMaterial{constructor(){super({depthTest:!0,depthWrite:!1,transparent:!0,side:n.DoubleSide,vertexShader:v.pinSelected.vertexShader,fragmentShader:v.pinSelected.fragmentShader})}}},60083:(e,t,i)=>{"use strict";i.d(t,{B:()=>o});var n=i(67992),s=i(37082),r=i(62612),a=i(15637);class o extends n.V{constructor(){super(),this.name="pins-view-data",this.pins=new a.v,this.creatingPin=!1,this.pinEditorStateObservable=(0,s.Y)(r.V8.IDLE),this.selectedPinObservable=(0,s.Y)(null),this.focusedPinObservable=(0,s.Y)(null),this.editableObservable=(0,s.Y)(!0),this.progressObservable=(0,s.Y)(-1),this.screenPositionObservable=(0,s.Y)(null),this.canPlaceObservable=(0,s.Y)(!0),this.canAddObservable=(0,s.Y)(!0),this.iteratePins=e=>{this.pins.forEach(e)}}onPinUpdate(e){return this.pins.onElementChanged(e)}updatePin(e){this.pins.set(e.id,e)}getPin(e){return this.pins.get(e)}removePin(e){this.pins.get(e)&&this.pins.delete(e)}removePinsByType(e){this.pins.forEach(((t,i)=>{t.pinType===e&&this.pins.delete(t.id)}))}get creatingNewPin(){return this.creatingPin}setSelectedPinId(e){this.selectedPinObservable.value=e}get selectedPinId(){return this.selectedPinObservable.value}onSelectedPinChanged(e){return this.selectedPinObservable.onChanged(e)}setFocusedPin(e){this.focusedPinObservable.value=e}get focusedPin(){return this.focusedPinObservable.value}onFocusedPinChanged(e){return this.focusedPinObservable.onChanged(e)}setPinEditorState(e){switch(e){case r.V8.IDLE:this.creatingPin=!1;break;case r.V8.CREATING:this.creatingPin=!0}this.pinEditorStateObservable.value=e}get pinEditorState(){return this.pinEditorStateObservable.value}onPinEditorStateChanged(e){return this.pinEditorStateObservable.onChanged(e)}setProgress(e){this.progressObservable.value=e}get progress(){return this.progressObservable.value}onProgressChanged(e){const t=this.progressObservable.onChanged(e);return t.renew(),t}get screenPosition(){return this.screenPositionObservable.value}setScreenPosition(e){this.screenPositionObservable.value=e}onScreenPositionChanged(e){return this.screenPositionObservable.onChanged(e)}get isPinEditable(){return this.editableObservable.value}setEditablePin(e){this.editableObservable.value=e}onPinEditableChanged(e){return this.editableObservable.onChanged(e)}get canAdd(){return this.canAddObservable.value}setCanAdd(e){this.canAddObservable.value=e}onCanAddChanged(e){return this.canAddObservable.onChanged(e)}get canPlace(){return this.canPlaceObservable.value}setCanPlace(e){this.canPlaceObservable.value=e}onCanPlaceChanged(e){return this.canPlaceObservable.onChanged(e)}}},72936:(e,t,i)=>{"use strict";i.d(t,{Ki:()=>s,Ar:()=>r,RH:()=>a,fM:()=>o,tT:()=>l,OL:()=>c,zM:()=>d,mE:()=>u,tE:()=>h,ik:()=>p,qN:()=>m,_Y:()=>f,nP:()=>g,kb:()=>v,iK:()=>b,yR:()=>y,ip:()=>E,I$:()=>S});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={enabled:e}}}class r extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,editable:i}}}class a extends n.m{constructor(e,t){super(),this.payload={id:e,pinType:t}}}class o extends n.m{constructor(e,t,i,n){super(),this.payload={id:e,pin:t,pinType:i,backgroundTexture:n}}}class l extends n.m{constructor(e,t){super(),this.payload={id:e,pinType:t}}}class c extends n.m{constructor(e,t){super(),this.payload={id:e,pinType:t}}}class d extends n.m{constructor(e){super(),this.payload={pinType:e}}}class u extends n.m{constructor(e){super(),this.payload={pinViews:e}}}class h extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,properties:i}}}class p extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,visible:i}}}class m extends n.m{constructor(e,t){super(),this.payload={pinType:e,visible:t}}}class f extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,opacity:i}}}class g extends n.m{constructor(e,t,i){super(),this.payload={id:e,pinType:t,scale:i}}}class v extends n.m{constructor(e,t,i=[]){super(),this.payload={pinType:e,opacity:t,skipIds:i}}}class b extends n.m{}class y extends n.m{constructor(){super()}}class E extends n.m{constructor(){super()}}class S extends n.m{constructor(e,t,i){super(),this.payload={id:e,pos:t,previousPos:i}}}},62612:(e,t,i)=>{"use strict";var n;i.d(t,{Er:()=>n,Qk:()=>s,K_:()=>r,V8:()=>a,Od:()=>o}),function(e){e.MATTERTAG="mattertag",e.NOTE="note",e.OBJECT="object"}(n||(n={}));const s={[n.MATTERTAG]:"simple-tag-pin",[n.NOTE]:"comment-large",[n.OBJECT]:"simple-tag-small"};var r,a,o;!function(e){e.DEFAULT="default",e.HIGHLIGHTED="highlighted",e.DIMMED="dimmed"}(r||(r={})),function(e){e.IDLE="idle",e.CREATING="creating",e.PRESSING="pressing",e.PLACING="placing",e.PLACED="placed"}(a||(a={})),function(e){e.UP="up",e.UP_LEFT="up-left",e.UP_RIGHT="up-right",e.DOWN="down",e.DOWN_LEFT="down-left",e.DOWN_RIGHT="down-right",e.LEFT="left",e.RIGHT="right"}(o||(o={}))},13132:(e,t,i)=>{"use strict";i.d(t,{tP:()=>s,F7:()=>r,b0:()=>a,cd:()=>o,pe:()=>l,bV:()=>c,hu:()=>d});var n=i(98010);class s extends n.v{constructor(e,t,i){super(),this.id=e,this.hovering=t,this.pinType=i}}class r extends n.v{constructor(e,t){super(),this.id=e,this.pinType=t}}class a extends n.v{constructor(e,t,i){super(),this.id=e,this.pinType=t,this.pinPos=i}}class o extends n.v{}class l extends n.v{}class c extends n.v{constructor(e,t,i,n){super(),this.id=e,this.pinType=t,this.pinPos=i,this.previousPos=n}}class d extends n.v{constructor(e,t){super(),this.id=e,this.pinType=t}}},84958:(e,t,i)=>{"use strict";i.d(t,{l:()=>n,Z:()=>s});const n=1,s=Object.freeze({anchor:{size:.1},stem:{length:.23,width:1,opacity:1,transparent:!0,color:"white",alphaTest:.05},pinHeadMesh:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}}})},39689:(e,t,i)=>{"use strict";i.d(t,{k:()=>r,m:()=>a});var n=i(81346),s=i(62612);function r(e,t){switch(t){case s.K_.DEFAULT:return e.baseColor;case s.K_.DIMMED:return e.dimmedColor;case s.K_.HIGHLIGHTED:return e.hoverColor}}function a(e,t,i){const r=i?t:void 0;return r&&n.f[r]?r:s.Qk[e]}},73339:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var n=i(67992),s=i(15637);const r=function(e){return`${e.applicationKey}.${e.id}`};class a extends n.V{constructor(){super(...arguments),this.plugins=(0,s.q)()}get(e){const t=r(e);return this.plugins.get(t)}set(e,t,i){const n=r(e);this.plugins.set(n,{applicationKey:e.applicationKey,module:t,id:e.id,dispose:i})}delete(e){const t=r(e);this.plugins.delete(t)}}},96666:(e,t,i)=>{"use strict";i.d(t,{n:()=>S,x:()=>T});var n=i(3968),s=i(84428);class r{constructor(){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[],[]],this.boundingBox=null,this.boundingSphere=null}}class a{constructor(e,t,i,n,r,a=0){this.a=e,this.b=t,this.c=i,this.materialIndex=a,this.a=e,this.b=t,this.c=i,this.normal=n&&!Array.isArray(n)&&n.isVector3?n:new s.Vector3,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&!Array.isArray(r)&&r.isColor?r:new s.Color,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=a}clone(){return new a(this.a,this.b,this.c,this.normal,this.color).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}var o=i(97998),l=i(69505);const c=new o.Z("surface-edge-finder"),d=new s.Triangle,u=["a","b","c"];class h extends a{constructor(e,t,i,n){super(e.a,e.b,e.c,e.normal),this.va=t,this.vb=i,this.vc=n,this.area=d.set(this.va.vector,this.vb.vector,this.vc.vector).getArea(),this.midpoint=d.getMidpoint(new s.Vector3),this.vertices=[this.va,this.vb,this.vc],t.faces.push(this),i.faces.push(this),n.faces.push(this)}}class p{constructor(e){this.vector=e,this.faces=[]}}class m{constructor(){this.area=0,this.normal=new s.Vector3,this.midpoint=new s.Vector3,this.faces=[],this.normalSum=new s.Vector3,this.midpointSum=new s.Vector3}add(e){e.surface&&e.surface.remove(e),this.faces.push(e),this.area+=e.area,this.midpointSum.add(e.midpoint),this.normalSum.add(e.normal),this.recalcFromSums(),e.surface=this}remove(e){e.surface&&(this.faces.splice(this.faces.indexOf(e),1),this.area-=e.area,this.midpointSum.sub(e.midpoint),this.normalSum.sub(e.normal),this.recalcFromSums()),e.surface=null}recalcFromSums(){this.normal.copy(this.normalSum).normalize(),this.midpoint.copy(this.midpointSum).divideScalar(this.faces.length)}mergeSurfaces(e){for(const t of e.faces)t.surface=this,this.faces.push(t);this.area+=e.area,this.normalSum.add(e.normalSum),this.midpointSum.add(e.midpointSum),this.recalcFromSums(),e.faces=[],e.area=0,e.normal.set(0,0,0),e.normalSum.set(0,0,0),e.midpointSum.set(0,0,0),e.midpoint.set(0,0,0)}getEdges(){const e={},t={};for(const t of this.faces)for(let i=0;i<3;i++){const n=t[u[i]],s=t[u[(i+1)%3]],r=Math.min(n,s)+","+Math.max(n,s);if(void 0===e[r]){const t={edge1:n,edge2:s,isEdge:!0};e[r]=t}else e[r].isEdge=!1}for(const{edge1:i,edge2:n,isEdge:s}of Object.values(e))s&&(t[i]||(t[i]=[]),t[i].push(n),t[n]||(t[n]=[]),t[n].push(i));return t}getCircularPaths(e){const t=this.getEdges(),i=new Set,n=[],s=Object.keys(t).map((e=>parseInt(e,10)));let r;for(;r=s.pop();){const s=[];for(;r;){let n;s.push(e[r]);let a=0;for(const s of t[r]){const t=Math.min(r,s)+","+Math.max(r,s);if(i.has(t))continue;const o=e[r].vector.distanceToSquared(this.midpoint);(void 0===n||o>a)&&(n=s,a=o)}if(!n)break;{const e=Math.min(r,n)+","+Math.max(r,n);i.add(e),r=n}}s.length>2&&n.push(s)}return n}}class f{constructor(){this.surfaces=new Set,this.lines=[],this.points=[]}*run(e,t=[1,5,10],i=.2,o=.01,d=20){const u=function(e){const t=new r,i=null!==e.index?e.index:void 0,n=e.attributes;if(void 0===n.position)throw Error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.");const o=n.position,l=n.normal,c=n.color,d=n.uv,u=n.uv2;void 0!==u&&(t.faceVertexUvs[1]=[]);for(let e=0;e<o.count;e++)t.vertices.push((new s.Vector3).fromBufferAttribute(o,e)),void 0!==c&&t.colors.push((new s.Color).fromBufferAttribute(c,e));function h(e,i,n,r=0){const o=void 0===c?[]:[t.colors[e].clone(),t.colors[i].clone(),t.colors[n].clone()],h=void 0===l?[]:[(new s.Vector3).fromBufferAttribute(l,e),(new s.Vector3).fromBufferAttribute(l,i),(new s.Vector3).fromBufferAttribute(l,n)],p=new a(e,i,n,h,o,r);t.faces.push(p),void 0!==d&&t.faceVertexUvs[0].push((new s.Vector2).fromBufferAttribute(d,e),(new s.Vector2).fromBufferAttribute(d,i),(new s.Vector2).fromBufferAttribute(d,n)),void 0!==u&&t.faceVertexUvs[1].push((new s.Vector2).fromBufferAttribute(u,e),(new s.Vector2).fromBufferAttribute(u,i),(new s.Vector2).fromBufferAttribute(u,n))}const p=e.groups;if(p.length>0)for(let e=0;e<p.length;e++){const t=p[e],n=t.start;for(let e=n,s=n+t.count;e<s;e+=3)void 0!==i?h(i.getX(e),i.getX(e+1),i.getX(e+2),t.materialIndex):h(e,e+1,e+2,t.materialIndex)}else if(void 0!==i)for(let e=0;e<i.count;e+=3)h(i.getX(e),i.getX(e+1),i.getX(e+2));else for(let e=0;e<o.count;e+=3)h(e,e+1,e+2);return t}(e),f=u.vertices.map((e=>new p(e))),g=[];for(const e of u.faces)g.push(new h(e,f[e.a],f[e.b],f[e.c])),yield;for(let e=0,t=g.length;e<t;e++){const t=g[e];(new m).add(t)}for(const e of t)yield*this.mergeSurfacesByNormal(g,e);for(const e of g)this.surfaces.add(e.surface);let v=0;const b=[];for(const e of this.surfaces){if(e.area<=i)continue;const t=e.getCircularPaths(f);for(const e of t)this.cullPath(e,((e,t)=>{if(e.length()<o||t.length()<o)return v++,!1;const i=e.angleTo(t)*l.MN;return!(i<d||i>180-d)||(v++,!1)})),e.length>2&&b.push(e);yield}c.debug(`Culled ${v} path points`);const y=new Set,E=new Set,S=e=>`${e.x.toFixed(3)},${e.y.toFixed(3)},${e.z.toFixed(3)}`,T=e=>`${S(e.start)}:${S(e.end)}`,O=e=>`${S(e.end)}:${S(e.start)}`;for(const e of b)for(let t=0;t<e.length;t++){const i=e[t].vector,s=e[(t+1)%e.length].vector,r=new n.FM(i,s),a=T(r),o=O(r),l=S(i);E.has(a)||E.has(o)||(E.add(a),E.add(o),this.lines.push(r)),y.has(l)||(y.add(l),this.points.push(new n.UQ(i)))}yield}cullPath(e,t){const i=new s.Vector3,n=new s.Vector3;let r=!0;for(;r;){r=!1;for(let s=0;s<e.length&&e.length>2;s++){const a=e[0===s?e.length-1:s-1].vector,o=e[s].vector,l=e[(s+1)%e.length].vector;i.copy(a).sub(o),n.copy(l).sub(o),t(i,n)||(e.splice(s,1),r=!0,s--)}}}*mergeSurfacesByNormal(e,t,i=5){let n=-1,s=0;for(;0!==n&&s++<i;){c.debug(`Merging surfaces by normal angle threshold: ${t}`);const i=Math.cos(l.Ue*t);n=0;let s=0;for(const t of e){s++%1e3==0&&(yield);for(const e of t.vertices)for(const s of e.faces){const e=s.surface;t.surface!==e&&t.surface.normal.dot(e.normal)>=i&&(t.surface.faces.length>e.faces.length?t.surface.mergeSurfaces(e):e.mergeSurfaces(t.surface),n++)}}n&&c.debug(`Merged ${n} surfaces by normal...`)}}}var g=i(10255),v=i(56512),b=i(98010);const y=new o.Z("snapcaster");var E;!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.WORKING=1]="WORKING",e[e.READY=2]="READY"}(E||(E={}));class S{constructor(e,t){this.cameraData=e,this.engine=t,this.meshes=new Map,this.newMeshes=new Set,this.raycaster=new s.Raycaster,this.filterSnapFeature=e=>{var t,i;const{meshName:n}=e;return!n||!1!==(null===(i=null===(t=this.meshes.get(n))||void 0===t?void 0:t.filter)||void 0===i?void 0:i.call(t,e))},this.cast=(e,t,i,r)=>{let a;i&&r&&(a=(new s.Plane).setFromNormalAndCoplanarPoint(r,i)),this.raycaster.set(e.origin,e.direction);const o=this.snappingOctree.raycast(this.raycaster,t,this.filterSnapFeature)||[],l=e=>{let t=(1+e.distance)*(1+e.distanceToRay)**2;return e.object instanceof n.UQ&&(t/=10),a&&a.distanceToPoint(e.point)<-.2&&(t+=10),t};return o.sort(((e,t)=>l(e)-l(t))),o},this.add=(...e)=>{for(const t of e)this.snappingOctree.add(t)},this.remove=(...e)=>{for(const t of e)this.snappingOctree.remove(t)}}get snappingOctree(){return this.preloadMeshSnapping(),this._snappingOctree}setupOctree(e){this._snappingOctree=new n.ZP(e)}async preloadMeshSnapping(){var e;!this.populateProcess&&this.newMeshes.size&&(this.populateProcess=await this.engine.commandBinder.issueCommand(new g.S("snapping",this.buildSnappingForMeshes(),6e4)),await(null===(e=this.populateProcess)||void 0===e?void 0:e.promise),this.populateProcess=null)}*buildSnappingForMeshes(){const e=new s.Vector3;for(;;){let t=null;for(const i of this.newMeshes){const n=this.meshes.get(i);if(n){const{geometry:s}=n;if(!s){y.error("No mesh to generate snapping information from!"),n.status=E.READY;continue}const r=(0,v.A5)(s).getCenter(e).distanceTo(this.cameraData.pose.position);(!t||r<t.distance)&&(t={meshName:i,geometry:s,distance:r,info:n})}}if(!t)break;this.newMeshes.delete(t.meshName),t.info.status=E.WORKING,yield*this.buildSnappingForGeometry(t.geometry,t.info),t.info.status=E.READY,t.info.geometry=null,yield}y.info(`Snapping found ${this._snappingOctree.pointCount} points and ${this._snappingOctree.lineCount} lines`)}*buildSnappingForGeometry(e,t){e.computeVertexNormals(),yield;const i=new f;yield*i.run(e),y.debug(`Mesh done, added ${i.points.length} points and ${i.lines.length} lines`);for(const e of i.points)e.meshName=t.meshName,e.meta=t.meta,this._snappingOctree.add(e);for(const e of i.lines)e.meshName=t.meshName,e.meta=t.meta,this._snappingOctree.add(e);this.engine.broadcast(new T(i))}forEachSnapFeature(e,t=!1){this.snappingOctree.traverse((i=>{t&&!this.filterSnapFeature(i)||e(i)}))}addMeshGeometry(e,t,i,n){this.meshes.has(e)||(this.meshes.set(e,{meshName:e,geometry:t,status:E.UNINITIALIZED,meta:i,filter:n}),this.newMeshes.add(e))}removeMeshGeometry(e){const t=this.meshes.get(e);t&&t.status===E.UNINITIALIZED&&(this.meshes.delete(e),this.newMeshes.delete(e))}}class T extends b.v{constructor(e){super(),this.edgeFinder=e}}},85992:(e,t,i)=>{"use strict";i.d(t,{P:()=>r,E:()=>a});var n=i(84428),s=i(67992);class r extends s.V{constructor(){super(...arguments),this.name="pointer",this.hit=null,this.hits=[],this.pointerNdcPosition=new n.Vector2,this.pointerScreenPosition=new n.Vector2,this.pointerOrigin=new n.Vector3,this.pointerDirection=new n.Vector3,this.pointerRay=new n.Ray}}class a{constructor(e,t,i,n){this.point=e,this.normal=t,this.object=i,this.intersection=n,this.face={normal:t}}}},29958:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var n=i(97542),s=i(57956),r=i(84428);function a(e){return"excludeFromOctree"in e}var o=i(2569),l=i(56512);class c{constructor(){this.parent=null,this.raycastDistance=1/0,this.distance=1/0}updateRaycastDistance(e){this.raycastDistance=this.bounds.distanceToPoint(e)}updateDistanceToBounds(e){this.distance=this.bounds.distanceToPoint(e)}}class d extends c{constructor(e){super(),this.mesh=e,this.bounds=(0,l.A5)(this.mesh.geometry).clone().applyMatrix4(this.mesh.matrixWorld),this.center=this.bounds.getCenter(new r.Vector3)}raycast(e,t){this.mesh.visible&&this.mesh.raycast(e,t)}nearestPointOnGeometry(e){const t=e.clone().applyMatrix4((new r.Matrix4).copy(this.mesh.matrixWorld).invert());let i;const n=this.mesh.geometry.boundsTree;return i=n?n.closestPointToPoint(t):(0,l.GO)(this.mesh.geometry,t),i?(i.point.applyMatrix4(this.mesh.matrixWorld),{object:this.mesh,point:i.point,distance:i.point.distanceTo(e),faceIndex:i.faceIndex}):null}}class u extends c{constructor(e,t,i){super(),this.level=t,this.leafMinSize=i,this.childNodes=[],this.children=[],this.listeners={},this.bounds=e.clone(),this.size=e.getSize(new r.Vector3),this.center=e.getCenter(new r.Vector3)}get depth(){return this.level}*addMeshes(e){e.updateMatrixWorld(!0);const t=[];e.traverse((e=>{!(e instanceof r.Mesh&&e.geometry)||a(e)&&e.excludeFromOctree||t.push(e)}));for(const e of t)this.addMesh(new d(e))}removeMeshes(e){let t=!1;for(let i=0;i<this.children.length;i++){const n=this.children[i];n instanceof d&&n.mesh.id===e.id&&(n.parent=null,this.children.splice(i,1),this.emit("removed",this,n),t=!0)}if(!t)throw new Error("Mesh that is being attempted removed does not exist in this node.")}addMesh(e){let t=!1;if(this.size.length()>this.leafMinSize){0===this.childNodes.length&&this.buildChildNodes();for(const i of this.childNodes)i.bounds.containsBox(e.bounds)&&(t=!0,i.addMesh(e))}t||this.add(e)}add(e){if(e.parent)throw new Error("ColliderNode already has a parent, remove before trying to add in another node");e.parent=this,this.children.push(e),this.emit("added",this,e)}buildChildNodes(){const e=this.size.multiplyScalar(.5);for(let t=0;t<2;t++)for(let i=0;i<2;i++)for(let n=0;n<2;n++){const s=this.bounds.min.x+e.x*n,a=s+e.x,o=this.bounds.min.y+e.y*t,l=o+e.y,c=this.bounds.min.z+e.z*i,d=c+e.z,h=new r.Box3(new r.Vector3(s,o,c),new r.Vector3(a,l,d)),p=new u(h,this.level+1,this.leafMinSize);this.childNodes.push(p),this.add(p)}}raycast(e,t){if(!0===e.ray.intersectsBox(this.bounds))for(const i of this.children)i.raycast(e,t)}pick(e,t,i,n=null){if(!e.ray.intersectsBox(this.bounds))return t;for(const t of this.children)t.updateRaycastDistance(e.ray.origin);this.children.sort(((e,t)=>e.raycastDistance-t.raycastDistance));for(const s of this.children){if(t&&t.distance<s.raycastDistance)break;if(i(s))if(s instanceof u)t=s.pick(e,t,i,n);else{const i=[];s.raycast(e,i);for(const e of i)t&&!(t.distance>e.distance)||n&&!n(e)||(t=e)}}return t}nearestTo(e,t,i=null){for(const t of this.children)t.updateDistanceToBounds(e);this.children.sort(((e,t)=>e.distance-t.distance));for(const n of this.children){if(0!==n.distance&&i&&i.distance<n.distance)break;if(t(n))if(n instanceof u)i=n.nearestTo(e,t,i);else if(n instanceof d){const t=n.nearestPointOnGeometry(e);if(t){(!i||i.distance>t.distance)&&(i=t)}}}return i}getAllBounds(e,t=0,i=1/0,n=!1){for(const s of this.children)this.level>=t&&this.level<=i&&(n||e.push(s.bounds.clone())),s instanceof u&&s.getAllBounds(e,t,i,n)}emit(e,...t){const i=this.listeners[e]||[];for(const e of i)e(...t);this.parent&&this.parent.emit(e,...t)}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}}class h{constructor(e,t){this.meshToNodes={},this._depth=0;const i=(0,o.rj)(e);this.root=new u(i,0,t),this.root.on("added",((e,t)=>{e.depth>this._depth&&(this._depth=e.depth),t instanceof d&&(this.meshToNodes[t.mesh.id]||(this.meshToNodes[t.mesh.id]=[]),this.meshToNodes[t.mesh.id].push(t))})),this.root.on("removed",((e,t)=>{if(t instanceof d){const e=this.meshToNodes[t.mesh.id];for(let i=0;i<e.length;i++)e[i]===t&&e.splice(i,1)}}))}get depth(){return this._depth}*addMeshesAsync(e){yield*this.root.addMeshes(e)}addMeshes(e){for(const t of this.root.addMeshes(e));}removeMeshes(e){e.traverse((e=>{const t=this.meshToNodes[e.id]||[];for(const i of t)i.parent&&i.parent.removeMeshes(e)}))}raycast(e){const t=[];return this.root.raycast(e,t),t}getAllBounds(e=0,t=1/0,i=!1){const n=[];return this.root.getAllBounds(n,e,t,i),n}pick(e,t,i=null){const n=e.firstHitOnly;e.firstHitOnly=!i;const s=this.root.pick(e,null,(e=>!(t&&e instanceof d)||t(e.mesh)),i);return e.firstHitOnly=n,s}nearestMeshTo(e,t){const i=this.root.bounds.clampPoint(e,new r.Vector3);return this.root.nearestTo(i,(e=>!(t&&e instanceof d)||t(e.mesh)))}getDebugBoundsMesh(e=16777215,t=0,i=1/0,n=!1){const s=this.getAllBounds(t,i,n),a=new r.LineBasicMaterial({color:e});if(s.length>0){const e=[];for(const t of s){const i=new r.Box3Helper(t);i.updateMatrixWorld(!0),i.geometry.applyMatrix4(i.matrixWorld),e.push(i.geometry)}const t=(0,l.qf)(e);return new r.LineSegments(t,a)}return new r.LineSegments(new r.BufferGeometry,a)}}class p{constructor(e,t,i){this.camera=e,this.defaultRaycastFilter=t,this.intersectionFilter=i,this.meshes={},this.octreeEnabledMeshes={},this.meshFilters=new Map,this.raycaster=new r.Raycaster,this.prevRay=new r.Ray,this._hitCache=[],this.hitCacheValid=!0,this.getOctree=()=>this.octree}init(){this.raycaster=new r.Raycaster,this.raycaster.camera=this.camera,this.raycaster.params.Line&&(this.raycaster.params.Line.threshold=.1)}dispose(){this._hitCache.length=0,this.meshes={}}updateIntersectionFilter(e){this.intersectionFilter=e}cast(e,t,i){if(e&&t&&(this.prevRay.copy(this.raycaster.ray),this.raycaster.set(e,t)),!i&&this.prevRay.equals(this.raycaster.ray)&&this.hitCacheValid)return this._hitCache;if(this.hitCacheValid=!0,this.raycaster.layers.mask=this.camera.layers.mask,this._hitCache.length=0,this.octree){const e=this.getRaycastFilter(m.OctreeMeshes,i),t=this.octree.pick(this.raycaster,e,this.intersectionFilter);t&&this._hitCache.push(t)}const n=this.getRaycastFilter(m.DynamicMeshes,i);for(const e in this.meshes){const t=this.meshes[e];if(n(t)){const e=this.raycaster.intersectObject(t,!0);this._hitCache=this._hitCache.concat(e)}}return this._hitCache.sort(this.sortIntersectionsByDistance),this.prevRay.copy(this.raycaster.ray),this._hitCache}pick(e,t,i){this.raycaster.set(e,t);const n=this.getRaycastFilter(m.OctreeMeshes,i);return this.octree.pick(this.raycaster,n,this.intersectionFilter)}nearest(e,t){return this.octree.nearestMeshTo(e,this.getRaycastFilter(m.OctreeMeshes,t))}setupOctree(e){this.octree=new h(e,.5);for(const e of Object.keys(this.meshes))if(this.octreeEnabledMeshes[e]){const t=this.meshes[e];this.octree.addMeshes(t)}return this.octree}addTarget(e,t,i){const n=e,s=n.collider?n.collider:e;this.meshes[e.id]=s,i&&this.meshFilters.set(s,i),this.octreeEnabledMeshes[e.id]=t,this.octree&&t&&(this.octree.addMeshes(e),e.traverse((e=>{!(e instanceof r.Mesh)||a(e)&&e.excludeFromOctree||(this.octreeEnabledMeshes[e.id]=t,i&&this.meshFilters.set(e,i))}))),this.hitCacheValid=!1}removeTarget(e){this.octree&&this.octreeEnabledMeshes[e.id]&&(this.octree.removeMeshes(e),this.octreeEnabledMeshes[e.id]=!1,e.traverse((e=>{e instanceof r.Mesh&&(this.octreeEnabledMeshes[e.id]=!1,this.meshFilters.delete(e))})));const t=this.meshes[e.id];t&&(this.meshFilters.delete(t),delete this.meshes[e.id]),this.hitCacheValid=!1}getRaycastFilter(e,t){const i=t||this.defaultRaycastFilter,n=t=>{const i=this.octreeEnabledMeshes[t.id];switch(e){case m.DynamicMeshes:return!i;case m.OctreeMeshes:return i}};return e=>n(e)&&i(e)&&this.checkMeshSpecificFilter(e)}checkMeshSpecificFilter(e){const t=this.meshFilters.get(e);return!t||t(e)}sortIntersectionsByDistance(e,t){return e.distance>t.distance?1:e.distance<t.distance?-1:0}render(){}activate(){}deactivate(){}}var m;!function(e){e[e.OctreeMeshes=0]="OctreeMeshes",e[e.DynamicMeshes=1]="DynamicMeshes"}(m||(m={}));var f=i(85992),g=i(96666),v=i(59370);class b{constructor(e,t){this.raycaster=e,this.cameraData=t,this.currentRay=new r.Ray,this.pointer=new r.Vector2(-2,-2),this.origin=new r.Vector3,this.direction=new r.Vector3,this.cast=e=>{const t=this.pointerRay;return this.raycaster.cast(t.origin,t.direction,e).slice()},this.updatePointer=e=>{this.pointer.distanceToSquared(e)>2e-5&&this.pointer.set(e.x,e.y)}}get pointerRay(){const{origin:e,direction:t}=this.updateDirections();return this.currentRay.set(e,t)}get ndcPosition(){return this.pointer}updateDirections(){return(0,v.Kh)(this.cameraData.pose,this.origin.set(this.pointer.x,this.pointer.y,-1),this.origin),(0,v.Kh)(this.cameraData.pose,this.direction.set(this.pointer.x,this.pointer.y,1),this.direction),this.direction.sub(this.origin).normalize(),{origin:this.origin,direction:this.direction}}}class y{constructor(e,t,i){this.raycaster=e,this.data=t,this.cameraData=i,this.cache={normal4:new r.Vector4,normal:new r.Vector3,rotationMatrix:new r.Matrix4,ndc3:new r.Vector3}}beforeRender(){if(this.raycaster.pointer.pointerRay.equals(this.data.pointerRay))return;this.data.pointerRay.copy(this.raycaster.pointer.pointerRay),this.data.pointerOrigin.copy(this.data.pointerRay.origin),this.data.pointerDirection.copy(this.data.pointerRay.direction);const e=this.raycaster.pointer.cast();if(this.data.hits.length=0,this.data.hits.push(...e),this.data.pointerNdcPosition.copy(this.raycaster.pointer.ndcPosition),this.cache.ndc3.set(this.data.pointerNdcPosition.x,this.data.pointerNdcPosition.y,.5),this.data.pointerScreenPosition.copy((0,v.fi)(this.cameraData.width,this.cameraData.height,this.cache.ndc3)),e.length>0){const t=e[0];if(t&&t.face){const e=t.face.normal;this.cache.normal4.set(e.x,e.y,e.z,0),this.cache.rotationMatrix.extractRotation(t.object.matrixWorld),this.cache.normal4.applyMatrix4(this.cache.rotationMatrix),this.cache.normal.set(this.cache.normal4.x,this.cache.normal4.y,this.cache.normal4.z),this.data.hit=new f.E(t.point.clone(),this.cache.normal.clone(),t.object,t)}}else this.data.hit=null;this.data.commit()}init(){}render(){}dispose(){}activate(){}deactivate(){}}var E=i(25985),S=i(16769),T=i(2032),O=i(90365);class _ extends n.Y{constructor(){super(...arguments),this.name="raycaster",this.raycasterPointerData=new f.P,this.overridePointer=null,this.setOverridePointer=e=>{this.overridePointer=e}}async init(e,t){t.market.register(this,f.P,this.raycasterPointerData);const[i,n]=await Promise.all([t.getModuleBySymbol(s.y.WEBGL_RENDERER),t.market.waitForData(E.M)]),r=i.getCamera();this.raycaster=new p(r,S.Nr,null),t.addComponent(this,this.raycaster),this.defaultPointer=new b(this.raycaster,n),this.snapcaster=new g.n(n,t);const a=new y(this,this.raycasterPointerData,n);t.addComponent(this,a),t.broadcast(new T.em(O.Y.Raycaster)),t.broadcast(new T.em(O.Y.Octree)),t.broadcast(new T.em(O.Y.Snapping))}dispose(){}setupOctree(e){this.raycaster.setupOctree(e),this.snapcaster.setupOctree(e)}setIntersectionFilter(e){this.raycaster.updateIntersectionFilter(e)}getOctree(){return this.raycaster.getOctree()}get pointer(){return null!==this.overridePointer?this.overridePointer:this.defaultPointer}get targets(){return this.raycaster}get picking(){return this.raycaster}get snapping(){return this.snapcaster}}},41187:(e,t,i)=>{"use strict";i.d(t,{oM:()=>s,sH:()=>r,vU:()=>a,sp:()=>o,fZ:()=>l,ep:()=>c});var n=i(19663);class s extends n.m{constructor(){super(...arguments),this.id="RequestRenderTargetCommand"}}class r extends n.m{constructor(e,t){super(),this.payload={renderTarget:e,context:t}}}class a extends n.m{constructor(e,t,i){super(),this.payload={renderTarget:e,sceneObject:t,camera:i}}}class o extends n.m{constructor(e,t,i){super(),this.payload={renderTarget:e,sceneObject:t,camera:i}}}class l extends n.m{constructor(e,t,i=0){super(),this.payload={renderTarget:e,texture:t,heading:i}}}class c extends n.m{constructor(e,t){super(),this.payload={target1:e,target2:t}}}},41603:(e,t,i)=>{"use strict";i.d(t,{vP:()=>r,Xk:()=>a,jJ:()=>o,fY:()=>l});var n=i(39880);let s=null;const r=async(e,t)=>{const n=new Uint8Array(e.width*e.height*4);if(e.readRenderTargetData(n),!s){const e=await Promise.all([i.e(764),i.e(330),i.e(718)]).then(i.bind(i,77330));s=e.createJpegEncodeWorker()}const r=n.buffer,a=await s.exec({data:r,width:e.width,height:e.height,options:{exif:t,quality:85,flipY:!0}},[r]);return new Uint8Array(a.data)},a=e=>new Blob([e],{type:"image/jpeg"}),o=e=>"data:image/jpg;base64,"+(0,n.$B)(e),l=(e,t,i,n)=>'http://ns.adobe.com/xap/1.0/\0<?xpacket begin="ï»¿" id="W5M0MpCehiHzreSzNTczkc9d"?><x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:GPano="http://ns.google.com/photos/1.0/panorama/"><GPano:CroppedAreaImageHeightPixels>'+t+"</GPano:CroppedAreaImageHeightPixels><GPano:CroppedAreaImageWidthPixels>"+e+"</GPano:CroppedAreaImageWidthPixels><GPano:CroppedAreaLeftPixels>0</GPano:CroppedAreaLeftPixels><GPano:CroppedAreaTopPixels>0</GPano:CroppedAreaTopPixels><GPano:FullPanoHeightPixels>"+t+"</GPano:FullPanoHeightPixels><GPano:FullPanoWidthPixels>"+e+"</GPano:FullPanoWidthPixels><GPano:ProjectionType>equirectangular</GPano:ProjectionType><GPano:UsePanoramaViewer>True</GPano:UsePanoramaViewer><GPano:InitialViewHeadingDegrees>"+i+"</GPano:InitialViewHeadingDegrees><GPano:InitialViewPitchDegrees>"+n+'</GPano:InitialViewPitchDegrees><GPano:CaptureSoftware>Matterport Camera</GPano:CaptureSoftware><GPano:StitchingSoftware>Matterport Cloud</GPano:StitchingSoftware></rdf:Description></rdf:RDF></x:xmpmeta><?xpacket end="w"?>'},28269:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(67992),s=i(37082);class r extends n.V{constructor(e){if(super(),this.name="rooms",this.selected=new s.f(null),this._rooms={},this.floorToRoomsMap=new Map,e)for(const t of Object.values(e))this.add(t)}add(e){this._rooms[e.id]=e;const t=this.floorToRoomsMap.get(e.floorId);t?t.push(e):this.floorToRoomsMap.set(e.floorId,[e])}remove(e){const t=this.get(e);if(!t)return;const i=this.floorToRoomsMap.get(t.floorId);if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}delete this._rooms[e]}rooms(){const e=this._rooms,t=Object.keys(this._rooms);return function*(){for(const i of t)yield e[i]}()}get roomCount(){return Object.keys(this._rooms).length}get collection(){return this._rooms}get(e){return this._rooms[e]}getByMeshSubgroup(e){return Object.values(this._rooms).find((t=>t.meshSubgroup===e))}roomsByFloor(e){return this.floorToRoomsMap.get(e)||[]}}},79992:(e,t,i)=>{"use strict";i.d(t,{D:()=>s});var n=i(98010);class s extends n.v{constructor(e,t,i,n,s,r){super(),this.roomId=e,this.meshSubgroup=t,this.viewmode=i,this.visitCount=n,this.roomCount=s,this.roomType=r}}},91860:(e,t,i)=>{"use strict";i.d(t,{O:()=>c,W:()=>d});var n=i(84428),s=i(13187),r=i(97998),a=i(28714);const o=["FontLoader","Font","ParametricGeometry","TextGeometry"],l=new r.Z("three-globals"),c=function(e,t){n.DefaultLoadingManager.addHandler(/\.tga$/i,new s.TGALoader(a.U)),n.DefaultLoadingManager.addHandler(/\.jpe?g$/i,e()),n.DefaultLoadingManager.addHandler(/\.png$/i,t()),n.Cache.enabled=!0},d=async function(){const{modules:e}=await Promise.all([i.e(47),i.e(764),i.e(633),i.e(646),i.e(917),i.e(376),i.e(671),i.e(325)]).then(i.bind(i,71325));for(const t of e){const e=Object.keys(t);for(const i of e){const e=t[i],s=n;if(i in s)if("object"==typeof e)for(const t in e)t in s[i]||(s[i][t]=e[t]);else"function"==typeof e&&(!(i in s)||o.includes(i)?s[i]=e:l.debug(`"${i}" exists in THREE object but has not been listed as overrideable, skipping...`));else s[i]=e}}}},10255:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});var n=i(19663);class s extends n.m{constructor(e,t,i,n=1){super(),this.id="SCHEDULE_PROCESS_COMMAND",this.payload={type:e,func:t,maxDelay:i,steps:n}}}},60047:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var n=i(19663);class s extends n.m{constructor(e,t,i){super(),this.id="SCHEDULE_TASK_COMMAND";const n=function*(){return t()}();this.payload={type:e,func:n,maxDelay:i,steps:1}}}},79861:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n,s=i(97542),r=i(83021);class a{constructor(e){this.name=e,this.taskDurations=new r.P(100),this.medianDuration=1}get typicalStepDuration(){return this.medianDuration}addTaskDuration(e){this.taskDurations.push(e),this.taskDurations.index%10==0&&(this.medianDuration=this.taskDurations.median())}}!function(e){e.WAITING="waiting",e.STARTED="started",e.DONE="done"}(n||(n={}));class o{constructor(){this.tasks=[],this.types={}}getType(e){return this.types[e]||(this.types[e]=new a(e)),this.types[e]}addTask(e){this.tasks.push(e)}update(e){this.tasks=this.tasks.filter((e=>e.status!==n.DONE)),this.tasks.sort(((e,t)=>t.urgency-e.urgency));let t=0;e:for(const i of this.tasks)for(;i.status!==n.DONE;){const n=performance.now(),s=t+i.type.typicalStepDuration>e,r=n>=i.deadline;if(s&&!r)break e;const a=n;i.run();const o=performance.now()-a;i.type.addTaskDuration(o),t+=o}}}var l=i(60047),c=i(10255);class d{constructor(e,t,i,s){this.type=e,this.func=t,this.deadline=i,this.steps=s,this.status=n.WAITING,this.promise=new Promise(((e,t)=>{this.onSuccess=e,this.onError=t}))}run(){let e;this.status=n.STARTED;try{e=this.func.next()}catch(e){return this.status=n.DONE,void this.onError(e)}this.steps-=1,e.done&&(this.status=n.DONE,this.onSuccess(e.value))}get estimatedDuration(){return this.steps*this.type.typicalStepDuration}get urgency(){const e=this.deadline-performance.now();return e<=0?1e6-e:this.estimatedDuration/e/e}}class u extends s.Y{constructor(){super(...arguments),this.name="scheduler-module",this.scheduler=new o}async init(e,t){this.engine=t,this.engine.commandBinder.addBinding(l._,(async e=>{const t=new d(this.scheduler.getType(e.type),e.func,performance.now()+e.maxDelay,e.steps);return this.scheduler.addTask(t),t})),this.engine.commandBinder.addBinding(c.S,(async e=>{const t=new d(this.scheduler.getType(e.type),e.func,performance.now()+e.maxDelay,e.steps);return this.scheduler.addTask(t),t}))}onUpdate(e){this.scheduler.update(4)}}},30945:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(57956),s=i(97542),r=i(67294),a=i(20745),o=i(38399),l=i(85893),c=i(86941);function d({loadingMessage:e,messageDelay:t}){const[i,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(!i){const e=setTimeout((()=>{n(!0)}),t);return()=>clearTimeout(e)}return()=>{}})),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",Object.assign({className:"spinner-container"},{children:(0,l.jsx)(c.$,{progress:33,barWidth:4,progressColor:"#ffffff"})})),i&&(0,l.jsx)("div",Object.assign({className:"message"},{children:e}))]})}class u extends s.Y{constructor(){super(...arguments),this.name="sdk-landing",this.messageDelay=3e3}async init(e,t){this.locale=await t.getModuleBySymbol(n.y.LOCALE),this.reactContainer=document.createElement("div"),this.reactContainer.id="sdk-landing-container",this.container=e.container}show(){this.container.appendChild(this.reactContainer),this.reactRoot=(0,a.s)(this.reactContainer),this.reactRoot.render((0,r.createElement)(d,{loadingMessage:this.locale.t(o.Z.SDK.AWAITING),messageDelay:this.messageDelay}))}hide(){var e;this.container.removeChild(this.reactContainer),this.reactRoot.unmount(),null===(e=this.reactContainer)||void 0===e||e.remove()}}const h=u},29883:(e,t,i)=>{"use strict";i.d(t,{T:()=>l});var n=i(67992),s=i(10385),r=i(15637),a=i(63319),o=i(31855);class l extends n.V{constructor(){super(...arguments),this.searchMode=!1,this.query="",this.typeFilters=(0,s.C)(),this.keywordFilters=(0,s.C)(),this.grouping=l.defaultGrouping,this.results=(0,r.q)(),this.dataTypeGroups={},this.keywordCounts=(0,r.q)({}),this.activeItemId=null,this.selectedType=null}getSearchDataTypeList(){return Object.values(this.dataTypeGroups)}getQuery(){return this.query}getTypeFilters(){return this.typeFilters.values()}setTypeFilter(e){this.typeFilters.replace([e])}clearTypeFilters(){this.getTypeFilters().length>0&&this.typeFilters.replace([])}toggleSearchFilter(e,t){t?this.typeFilters.push(e):this.typeFilters.remove(this.typeFilters.indexOf(e))}hasActiveQuery(){return""!==this.query||this.keywordFilters.length>0}setQuery(e){this.query=e}getKeywordFilters(){return this.keywordFilters.values()}setKeywordFilters(e){this.keywordFilters.replace(e)}setKeywordCounts(e){this.keywordCounts.replace(e)}getKeywordSummaries(){const e={};return this.getKeywordFilters().forEach((t=>{e[t]={id:t,text:t,count:0,isSelected:!0}})),this.keywordCounts.keys.forEach((t=>{const i=this.keywordCounts.get(t);e[t]?e[t].count=i:e[t]={id:t,text:t,count:i,isSelected:!1}})),Object.values(e)}hasSearchResultItem(e){const t=(0,o.w)(e);return this.results.has(t)}getSearchResultItem(e){const t=(0,o.w)(e);return this.results.get(t)}getResultsMap(){return this.results}getResults(){return this.results.values}onSearchResultsChanged(e){return this.results.onChanged(e)}setResults(e){this.getResults().forEach((e=>e.cancelBindings()));const t=e.reduce(((e,t)=>(e[(0,o.w)(t)]=t,t.registerBindings(),e)),{});this.atomic((()=>{this.results.replace(t)}))}}l.defaultGrouping=a.HH.TYPE},71166:(e,t,i)=>{"use strict";i.d(t,{Xv:()=>s,H1:()=>r,FZ:()=>a,M8:()=>o,SN:()=>l,Z4:()=>c,Hf:()=>d,Mp:()=>u,Np:()=>h,IL:()=>p,c6:()=>m,Pe:()=>f});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={opened:e}}}class r extends n.m{constructor(e){super(),this.payload={query:e}}}class a extends n.m{constructor(e){super(),this.payload={keywords:e}}}class o extends n.m{constructor(e){super(),this.payload={keywordId:e}}}class l extends n.m{constructor(e){super(),this.payload={grouping:e}}}class c extends n.m{constructor(e){super(),this.payload={groupId:e}}}class d extends n.m{constructor(){super()}}class u extends n.m{constructor(e,t){super(),this.payload={groupId:e,enabled:t}}}class h extends n.m{constructor(e,t){super(),this.payload={id:e,groupMenuActions:t}}}class p extends n.m{constructor(e,t){super(),this.payload={id:e,typeId:t}}}class m extends n.m{constructor(e){super(),this.payload=e}}class f extends n.m{constructor(e){super(),this.payload={id:e}}}},30851:(e,t,i)=>{"use strict";i.d(t,{D:()=>l});var n=i(77230),s=i(37190),r=i(37034),a=i(76631),o=i(96403);function l(){const e=(0,n.A)(),t=(0,s.b)(),i=(0,r.f)(),l=(0,o.B)(),c=l===a.w1.SEARCH||l===a.w1.LAYERS;return!!e||c&&t.length>0||i.length>0}},36676:(e,t,i)=>{"use strict";i.d(t,{s:()=>r});var n=i(45755),s=i(29883);const r=(0,n.u)(s.T)},32279:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var n=i(67294),s=i(36676);function r(){const e=(0,s.s)(),[t,i]=(0,n.useState)((null==e?void 0:e.dataTypeGroups)||{});return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){e&&i(e.dataTypeGroups)}const n=e.onChanged(t);return t(),()=>n.cancel()}),[e]),t}},37034:(e,t,i)=>{"use strict";i.d(t,{f:()=>r});var n=i(67294),s=i(36676);function r(){const e=(0,s.s)(),[t,i]=(0,n.useState)((null==e?void 0:e.getKeywordFilters())||[]);return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){e&&i(e.getKeywordFilters())}const n=e.keywordFilters.onChanged(t);return t(),()=>n.cancel()}),[e]),t}},77230:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(73085),s=i(29883);const r=(0,n.M)(s.T,"query","")},46362:(e,t,i)=>{"use strict";i.d(t,{s:()=>r});var n=i(67294),s=i(36676);function r(){const e=(0,s.s)(),[t,i]=(0,n.useState)((null==e?void 0:e.getResults())||[]);return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){e&&i(e.getResults())}const n=e.onSearchResultsChanged(t);return t(),()=>n.cancel()}),[e]),t}},37190:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var n=i(67294),s=i(36676);function r(){const e=(0,s.s)(),[t,i]=(0,n.useState)((null==e?void 0:e.getTypeFilters())||[]);return(0,n.useEffect)((()=>{if(!e)return()=>{};function t(){e&&i(e.getTypeFilters())}const n=e.typeFilters.onChanged(t);return t(),()=>n.cancel()}),[e]),t}},49571:(e,t,i)=>{"use strict";i.d(t,{BS:()=>n,Xs:()=>s,Vj:()=>r,Wh:()=>a});const n="features/space-search",s=75,r=50,a=50},31855:(e,t,i)=>{"use strict";i.d(t,{j:()=>r,w:()=>a});var n=i(63319),s=i(49571);function r(e,t,i){var r;switch(i){case n.HH.TYPE:return(null===(r=null==e?void 0:e.dataTypeGroups[t])||void 0===r?void 0:r.groupOrder)||s.Xs;case n.HH.FLOOR:return s.Wh;case n.HH.LAYER:return s.Vj}return-1}function a(e){return`${e.id}-${e.typeId}`}},77950:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BoxVolume:()=>k.k,CylinderVolume:()=>P.X,SensorModule:()=>I,SourceType:()=>R,SphereVolume:()=>L.b,default:()=>C});var n=i(97542),s=i(57956),r=i(31546),a=i(90304),o=i(84428);class l{constructor(){this.needsUpdate=!0}notify(){this.needsUpdate=!0}}var c=i(98748);class d{constructor(e){this.observable=new c.$,this.notifier=new class{constructor(e){this.sensorObservable=e}notify(){this.sensorObservable.observable.notify()}}(this),this.dependencySub=e.sub(this.notifier)}dispose(){this.dependencySub.cancel()}observe(e){return this.observable.observe(e)}}class u{constructor(e){this.cameraData=e,this._forward=new o.Vector3,this.frustum=new o.Frustum,this.frustumTransform=new r.M,this.frustumProjection=new r.M,this.forwardObserver=new l,this.frustumObserver=new l,this.frustumObservable=new d(new h(e)),this.frustumObservable.observe(this.forwardObserver),this.frustumObservable.observe(this.frustumObserver)}dispose(){this.frustumObservable.dispose()}get fovx(){return this.cameraData.fovX()}get fovy(){return this.cameraData.fovY()}get forward(){return this.forwardObserver.needsUpdate&&(this.forwardObserver.needsUpdate=!1,this._forward.copy(a.f.FORWARD),this._forward.applyQuaternion(this.cameraData.pose.rotation)),this._forward}observe(e){return this.frustumObservable.observe(e)}get origin(){return this.cameraData.pose.position}containsPoint(e){return this.updateVolume(),this.frustum.containsPoint(e)}updateVolume(){if(this.frustumObserver.needsUpdate){this.frustumObserver.needsUpdate=!1;const e=this.cameraData.pose;this.frustumTransform.compose(e.position,e.rotation,a.f.UNIT).getInverse(this.frustumTransform),this.frustumProjection.copy(this.cameraData.pose.projection),this.frustum.setFromProjectionMatrix(this.frustumTransform.multiplyMatrices(this.frustumProjection,this.frustumTransform).asThreeMatrix4())}}}class h{constructor(e){this.cameraData=e}sub(e){return this.cameraData.onChanged((()=>e.notify()))}}var p=i(25985);class m{constructor(){this.sensors=new Set}addSensor(e){this.sensors.add(e)}removeSensor(e){this.sensors.delete(e)}update(){for(const e of this.sensors)e.update()}}class f{constructor(e,t,i){this.frustum=e,this.raycaster=t,this.sensorDisposer=i,this.volumeObserver=new l,this.sources=new Set,this.dirtySources=new Set,this.sourceWatchers=new Map,this.readingsCache=new Map,this.readingObservable=new c.$,this.raycastDirection=new o.Vector3,this.volumeSub=e.observe(this.volumeObserver)}get origin(){return this.frustum.origin}dispose(){this.volumeSub.cancel(),this.sensorDisposer.disposeSensor(this)}addSource(...e){for(const t of e)this.sources.add(t),this.dirtySources.add(t),this.sourceWatchers.set(t,new g(this.dirtySources,t))}get readings(){return this.readingsCache}update(){this.volumeObserver.needsUpdate?(this.volumeObserver.needsUpdate=!1,this.recomputeAllReadings(),this.readingObservable.notify()):this.dirtySources.size>0&&(this.recomputeDirtyReadings(),this.readingObservable.notify())}recomputeAllReadings(){for(const e of this.sources)this.recomputeReading(e);this.dirtySources.clear()}recomputeDirtyReadings(){for(const e of this.dirtySources)this.recomputeReading(e);this.dirtySources.clear()}recomputeReading(e){this.raycastDirection.copy(e.origin).sub(this.frustum.origin).normalize();const t=this.frustum.origin.distanceToSquared(e.origin),i=this.readingsCache.get(e)||{direction:new o.Vector3};i.inRange=function(e,t){return t.volume.containsPoint(e.origin)}(this,e),i.inView=i.inRange&&this.frustum.containsPoint(e.origin)&&!function(e,t){return!!t&&e>t.distance**2}(t,this.raycaster.picking.pick(this.frustum.origin,this.raycastDirection)),i.direction.copy(this.raycastDirection),i.distanceSq=t,this.readingsCache.set(e,i)}onReadingsUpdated(e){return this.readingObservable.observe(e)}}class g{constructor(e,t){this.sub=t.volume.observe({notify(){e.add(t)}})}dispose(){this.sub.cancel()}}var v=i(23612),b=i(86819),y=i(72996);const E=(e,t)=>e.type===R.BOX?T(t):e.type===R.CYLINDER?function(e){const t=new o.CylinderGeometry(.5,.5,1);t.translate(0,.5,0);const i=new o.Mesh(t,new o.MeshBasicMaterial);i.scale.set(.05,.1,.05);const n=new o.MeshBasicMaterial({transparent:!0,opacity:.1,side:o.DoubleSide,depthWrite:!1}),s=new o.Mesh(t,new o.MeshBasicMaterial({wireframe:!0})),r=new o.Mesh(t,n);return r.add(s),e.add(i),e.add(r),{interactionMesh:i,volumeMesh:r,dispose(){e.remove(i),e.remove(r),i.geometry.dispose(),i.material.dispose(),r.geometry.dispose(),r.material.dispose(),s.geometry.dispose(),s.material.dispose()},setColor(e){r.material.color.set(e),s.material.color.set(e)}}}(t):S(t),S=e=>{const t=new o.SphereGeometry(1,20,20),i=new o.Mesh(t,new o.MeshBasicMaterial);i.scale.set(.5,.5,.5);const n=new o.Mesh(t,new o.MeshBasicMaterial({wireframe:!0})),s=new o.Mesh(t,new o.MeshBasicMaterial({transparent:!0,opacity:.1,side:o.DoubleSide,depthWrite:!1}));return s.add(n),e.add(i),e.add(s),{interactionMesh:i,volumeMesh:s,dispose:()=>{e.remove(i),e.remove(s),i.geometry.dispose(),i.material.dispose(),s.geometry.dispose(),s.material.dispose(),n.geometry.dispose(),n.material.dispose()},setColor:e=>{s.material.color.set(e),n.material.color.set(e)}}},T=e=>{const t=new o.BoxGeometry(1,1,1),i=new o.Mesh(t,new o.MeshBasicMaterial);i.scale.set(.1,.1,.1);const n=new o.MeshBasicMaterial({transparent:!0,opacity:.1,side:o.DoubleSide,depthWrite:!1}),s=new o.Mesh(t,n),r=new o.LineSegments(new o.EdgesGeometry(t),new o.LineBasicMaterial);return s.add(r),e.add(i),e.add(s),{interactionMesh:i,volumeMesh:s,dispose:()=>{e.remove(i),e.remove(s),i.geometry.dispose(),i.material.dispose(),s.geometry.dispose(),s.material.dispose(),r.geometry.dispose(),r.material.dispose()},setColor:e=>{s.material.color.set(e),r.material.color.set(e)}}};const O=e=>{if(e.type===R.BOX){const t=e;return Object.assign({},t.volume.size)}if(e.type===R.CYLINDER){const t=e;return{x:t.volume.radius,y:t.volume.height,z:t.volume.radius}}{const t=e.volume.radius;return{x:t,y:t,z:t}}},_=(new o.Quaternion).identity();function N(e){if(e.type===R.BOX){return e.volume.orientation}return _}class A{constructor(e,t,i){this.source=e,this.scene=t,this.inputIni=i,this.subs=[],this.stickyHover=!1,this.sourceDirty=!0,this.meshes=E(e,this.scene.scene),this.meshes.interactionMesh.scale.set(.1,.1,.1),this.meshes.interactionMesh.position.copy(this.source.origin),this.meshes.interactionMesh.material.color.set(16724312),this.meshes.volumeMesh.scale.set(0,0,0),this.meshes.volumeMesh.position.copy(this.source.origin),this.meshes.volumeMesh.visible=!1;const n=N(e);this.meshes.volumeMesh.quaternion.copy(n);this.mixer=new o.AnimationMixer(this.meshes.volumeMesh);const s=O(e),r=new o.VectorKeyframeTrack(".scale",[0,.4],[0,0,0,s.x,s.y,s.z],o.InterpolateSmooth),a=new o.AnimationClip(void 0,.4,[r]);this.onHoverAction=this.mixer.clipAction(a),this.onHoverAction.clampWhenFinished=!0,this.onHoverAction.loop=o.LoopOnce;const l=()=>{const e=this.onHoverAction.time;this.onHoverAction.reset(),this.meshes.volumeMesh.visible=!0,this.onHoverAction.timeScale=1,this.onHoverAction.time=e,this.onHoverAction.play()},c=()=>{this.stickyHover=!this.stickyHover,this.stickyHover?this.meshes.interactionMesh.material.color.set(4473924):this.meshes.interactionMesh.material.color.set(16724312)};this.subs.push(this.inputIni.registerMeshHandler(v.z,y.s.isValue(this.meshes.interactionMesh),l)),this.subs.push(this.inputIni.registerMeshHandler(v.A,y.s.isValue(this.meshes.interactionMesh),(()=>{if(!this.stickyHover){const e=this.onHoverAction.time;this.onHoverAction.reset(),this.onHoverAction.time=e,this.onHoverAction.timeScale=-1,this.onHoverAction.play()}}))),this.subs.push(this.inputIni.registerMeshHandler(b.R,y.s.isValue(this.meshes.interactionMesh),c)),this.inputIni.registerMesh(this.meshes.interactionMesh,!1),l(),c(),this.subs.push(e.volume.observe(this))}notify(){this.sourceDirty=!0}update(e,t){if(this.sourceDirty){this.sourceDirty=!1,this.meshes.interactionMesh.position.copy(this.source.origin),this.meshes.volumeMesh.position.copy(this.source.origin),this.meshes.volumeMesh.quaternion.copy(N(this.source));const e=O(this.source),t=this.onHoverAction.getClip().tracks[0].values;t[3]=e.x,t[4]=e.y,t[5]=e.z}this.meshes.setColor(t.inRange?65280:16711680),this.mixer.update(e/1e3)}dispose(){this.meshes.dispose(),this.mixer.stopAllAction();for(const e of this.subs)e.cancel()}}class w{constructor(e,t,i){this.sensor=e,this.scene=t,this.inputIni=i,this.subs=[],this.visuals=new Map}init(){this.subs.push(this.sensor.onReadingsUpdated(this))}render(e){for(const[t,i]of this.sensor.readings){let n=this.visuals.get(t);n||(n=new A(t,this.scene,this.inputIni),this.visuals.set(t,n)),n.update(e,i)}}dispose(){}activate(){}deactivate(){for(const e of this.subs)e.cancel();for(const e of this.visuals.values())e.dispose();this.visuals.clear()}notify(){}}class I extends n.Y{constructor(){super(...arguments),this.name="sensor-module",this.sensorUpdater=new m,this.debugSensor=null,this.sensorDisposer=new class{constructor(e){this.sensors=e}disposeSensor(e){this.sensors.removeSensor(e)}}(this)}async init(e,t){[this.cameraData,this.raycaster,this.renderer,this.inputIni]=await Promise.all([await t.market.waitForData(p.M),await t.getModuleBySymbol(s.y.RAYCASTER),await t.getModuleBySymbol(s.y.WEBGL_RENDERER),await t.getModuleBySymbol(s.y.INPUT)]),this.cameraVolume=new u(this.cameraData);var i,n,r,a;this.sensorDebuggerFactory=(i=e=>{t.addComponent(this,e)},n=e=>{t.removeComponent(this,e)},r=this.renderer.getScene(),a=this.inputIni,e=>{const t=new w(e,r,a);return i(t),{dispose:()=>{n(t)}}})}dispose(){this.cameraVolume.dispose()}createSensor(e){const t=new f(e,this.raycaster,this.sensorDisposer);return this.sensorUpdater.addSensor(t),t}createCameraBoundSensor(){return this.createSensor(this.cameraVolume)}setDebugSensor(e){this.debugSensor&&(this.debugSensor.dispose(),this.debugSensor=null),e&&(this.debugSensor=this.sensorDebuggerFactory(e))}onUpdate(){this.sensorUpdater.update()}removeSensor(e){this.sensorUpdater.removeSensor(e)}}var k=i(57898),P=i(24484),L=i(99539);const C=I;var R;!function(e){e.SPHERE="sourcetype.sphere",e.BOX="sourcetype.box",e.CYLINDER="sourcetype.cylinder"}(R||(R={}))},57898:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});var n=i(84428),s=i(98748);class r extends s.${constructor(){super(),this.box=new n.Box3,this.center=new n.Vector3,this.size=new n.Vector3(1/0,1/0,1/0),this.orientation=new n.Quaternion,this.inverseOrientation=new n.Quaternion,this.pointCache=new n.Vector3,this.transformNeedsUpdate=!1,this.box.setFromCenterAndSize(this.center,this.size)}get origin(){return this.center}updateCenter(e){this.center.copy(e),this.box.setFromCenterAndSize(this.center,this.size),this.transformNeedsUpdate=!0}updateDimensions(e){this.size.copy(e),this.box.setFromCenterAndSize(this.center,this.size)}updateOrientation(e){this.orientation.copy(e),this.transformNeedsUpdate=!0}containsPoint(e){return this.transformNeedsUpdate&&(this.transformNeedsUpdate=!1,this.inverseOrientation.copy(this.orientation).invert()),this.pointCache.copy(e).sub(this.center),this.pointCache.applyQuaternion(this.orientation),this.pointCache.add(this.center),this.box.containsPoint(this.pointCache)}}},24484:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var n=i(84428),s=i(98748);class r extends s.${constructor(){super(...arguments),this._basePoint=new n.Vector3,this._height=1/0,this._radius=1/0,this.pointCache=new n.Vector3}get origin(){return this._basePoint}get basePoint(){return this._basePoint}get height(){return this._height}get radius(){return this._radius}updateBasePoint(e){this.basePoint.set(e.x,e.y,e.z)}updateHeight(e){this._height=e}updateRadius(e){this._radius=e}containsPoint(e){return this.pointCache.set(e.x,this._basePoint.y,e.z),this._basePoint.distanceToSquared(this.pointCache)<=this.radius**2&&this._basePoint.y<=e.y&&e.y<=this._basePoint.y+this.height}}},99539:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var n=i(84428),s=i(98748);class r extends s.${constructor(){super(...arguments),this.origin=new n.Vector3,this.radius=1/0}updateRadius(e){this.radius=e}updateOrigin(e){this.origin.copy(e)}containsPoint(e){return this.origin.distanceToSquared(e)<=this.radius**2}}},8728:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var n=i(75287),s=i(95882),r=i(50090);class a extends n.T{constructor(){super(),this.category=r.i.USER}clone(){return(new a).copy(this)}copy(e){return this.sid=e.sid,this.thumbnailUrl=e.thumbnailUrl,this.imageUrl=e.imageUrl,this.name=e.name,this.is360=e.is360,this.category=e.category,this.height=e.height,this.width=e.width,this.created=e.created,this.modified=e.modified,this.visionLabel=e.visionLabel,this.visionName=e.visionName,this.imageBlob=e.imageBlob,this.metadata={cameraMode:e.metadata.cameraMode,cameraPosition:e.metadata.cameraPosition.clone(),cameraQuaternion:e.metadata.cameraQuaternion.clone(),scanId:e.metadata.scanId,orthoZoom:e.metadata.orthoZoom,ssZoom:e.metadata.ssZoom,floorId:e.metadata.floorId,floorVisibility:e.metadata.floorVisibility},this.commit(),this}isInsidePano(){return this.metadata.cameraMode===s.Ey.Panorama&&""!==this.metadata.scanId}refresh(e){this.thumbnailUrl.refreshFrom(e.thumbnailUrl),this.imageUrl.refreshFrom(e.imageUrl)}}},50090:(e,t,i)=>{"use strict";var n;i.d(t,{i:()=>n}),function(e){e.USER="user",e.PANORAMA="panorama",e.UNALIGNED="unaligned",e.AUTO="auto",e.TOUR="tour"}(n||(n={}))},58368:(e,t,i)=>{"use strict";i.d(t,{yz:()=>s,Ad:()=>r,nM:()=>a});var n=i(19663);class s extends n.m{constructor(e,t){super(),this.id="RENAME_SNAPSHOT",this.payload={id:e,name:t}}}class r extends n.m{constructor(e){super(),this.id="DELETE_SNAPSHOT",this.payload={id:e}}}class a extends n.m{constructor(e){super(),this.id="UPLOAD_SNAPSHOT",this.payload={snapshot:e}}}},42418:(e,t,i)=>{"use strict";i.d(t,{P:()=>a});var n=i(67992),s=i(39880),r=i(56367);class a extends n.V{constructor(e){super(),this.name="snapshots",this.snapshots={};for(const t in e)this.snapshots[t]=e[t].clone()}get(e){return this.snapshots[e]}get collection(){return this.snapshots}add(e){e.sid=this.validateSid(e.sid),this.snapshots[e.sid]=e,this.updateOnStaleCallbacks(),this.commit()}remove(e){delete this.snapshots[e]}validateSid(e){for(;!e||this.snapshots[e];)e=(0,s.O1)(11);return e}set onStale(e){this.hydrate=e,this.updateOnStaleCallbacks()}updateOnStaleCallbacks(){this.hydrate&&(0,r.s)(this.snapshots,(async()=>{const e=await this.hydrate();for(const t in this.snapshots)e&&e[t]&&this.snapshots[t].refresh(e[t])}))}}},88570:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var n=i(97542),s=i(95882),r=i(53954),a=i(42418),o=i(19642),l=i(17788),c=i(91431),d=i(5823),u=i(2569),h=i(59296),p=i(50090);const m={[s.Ey.Dollhouse]:d.wO.DOLLHOUSE,[s.Ey.Floorplan]:d.wO.FLOORPLAN,[s.Ey.Panorama]:d.wO.PANORAMA,[s.Ey.Outdoor]:d.wO.PANORAMA,[s.Ey.Transition]:d.wO.MESH,[s.Ey.Orthographic]:d.wO.MESH,[s.Ey.Mesh]:d.wO.MESH};class f{constructor(){}serialize(e,t){const i=[];for(const[n,s]of e.metadata.floorVisibility.entries())if(1===s){const e=t.floorsData.getFloorAtIndex(n);e&&i.push(e.id)}return{label:e.name,contents:{filename:`${e.name}.jpg`,blob:e.imageBlob},snapshotLocation:{anchorId:e.metadata.scanId,visibleFloorIds:i,position:(0,h.m)(u.ep.toVisionVector(e.metadata.cameraPosition)),rotation:(0,h.J5)(u.ep.toVisionCameraQuaternion(e.metadata.cameraQuaternion)),viewMode:m[e.metadata.cameraMode],zoom:e.metadata.cameraMode===s.Ey.Floorplan?e.metadata.orthoZoom:e.metadata.ssZoom},photoType:e.category===p.i.PANORAMA?d.BE.EQUIRECTANGULAR:d.BE.PHOTO2D}}}class g extends l.u{constructor(){super(...arguments),this.deserializer=new c.f,this.serializer=new f,this.prefetchKey="data.model.assets.photos"}async read(e){const t={modelId:this.getViewId()};return this.query(o.GetSnapshots,t,e).then((e=>{var t,i,n;const s=((null===(n=null===(i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.assets)||void 0===n?void 0:n.photos)||[]).map((e=>this.deserializer.deserialize(e))),r={};for(const e of s)e&&(r[e.sid]=e);return r}))}async refresh(){return this.refreshPromise||(this.refreshPromise=this.read({fetchPolicy:"no-cache"}).finally((()=>{this.refreshPromise=void 0}))),this.refreshPromise}async create(e,t){const i=l.u.getBaseViewId(),n=e.category===p.i.TOUR,s=n?"UploadHighlightReelSnapshot":"UploadModelSnapshot",r=n?o.UploadHighlightReelSnapshot:o.UploadModelSnapshot,a=this.serializer.serialize(e,t);return this.client.upload(r,s,Object.assign(Object.assign({},a),{modelId:i})).then((e=>{var t;return this.deserializer.deserialize(null===(t=e.data)||void 0===t?void 0:t.snapshot)}))}async update(e){var t;const i=l.u.getBaseViewId(),n=null===(t=(await this.client.mutate(o.PatchPhoto,{modelId:i,photoId:e.sid,label:e.name})).data)||void 0===t?void 0:t.patchPhoto;return this.deserializer.deserialize(n)}async delete(e){var t;const i=l.u.getBaseViewId();return(null===(t=(await this.client.mutate(o.DeletePhoto,{modelId:i,photoId:e})).data)||void 0===t?void 0:t.deletePhoto)||!1}}var v=i(58368),b=i(68026),y=i(76957);class E extends n.Y{constructor(){super(...arguments),this.name="snapshots-data"}async init(e,t){const{readonly:i,baseUrl:n,baseModelId:s}=e;this.engine=t,this.store=new g({readonly:i,baseUrl:n,viewId:s});const o=await this.store.read()||{};this.sweepData=await t.market.waitForData(r.Z);for(const e in o)this.processSnapshot(o[e]);this.snapshotsData=new a.P(o),this.snapshotsData.onStale=()=>this.store.read(),t.market.register(this,a.P,this.snapshotsData),i||this.bindings.push(t.commandBinder.addBinding(v.nM,(({snapshot:e})=>this.uploadSnapshot(e))),t.commandBinder.addBinding(v.yz,(({id:e,name:t})=>this.renameSnapshot(e,t))),t.commandBinder.addBinding(v.Ad,(({id:e})=>this.deleteSnapshot(e))))}async uploadSnapshot(e){const t=await this.engine.market.waitForData(y.i),i=await this.store.create(e,{floorsData:t});return i&&(this.processSnapshot(i),this.snapshotsData.add(i),this.engine.broadcast(new b.t(i))),i}async renameSnapshot(e,t){const i=this.snapshotsData.get(e);if(t!==i.name)return i.name=t,i.commit(),this.snapshotsData.commit(),this.store.update(i)}async deleteSnapshot(e){await this.store.delete(e).catch((t=>{this.log.debug(t),this.log.error(`Failed to delete snapshot ${e}`)}))&&(this.snapshotsData.remove(e),this.snapshotsData.commit())}processSnapshot(e){const t=e.metadata.cameraMode===s.Ey.Panorama,i=!this.sweepData.isSweepAligned(e.metadata.scanId);if(e.is360=t&&i,t){const t=this.sweepData.getSweep(e.metadata.scanId);t&&e.metadata.cameraPosition.copy(t.position)}e.name.match(/^[0-9.]+_[0-9.]+$/)&&(e.name="")}}},68026:(e,t,i)=>{"use strict";i.d(t,{t:()=>s});var n=i(98010);class s extends n.v{constructor(e){super(),this.snapshot=e}}},91431:(e,t,i)=>{"use strict";i.d(t,{f:()=>p});var n=i(84428),s=i(95882),r=i(97998),a=i(2569),o=i(9133),l=i(8728),c=i(50090),d=i(56367),u=i(5823);const h=new r.Z("mds-snapshot-deserializer");class p{deserialize(e){var t,i,r,p;if(!e||!this.validate(e))return h.debug("Deserialized invalid Snapshot data from MDS",e),null;const m=new l.a;m.sid=e.id,m.thumbnailUrl=new d.n(e.thumbnailUrl||"",(0,o.p)(e.validUntil,null)),m.imageUrl=new d.n(e.presentationUrl||"",(0,o.p)(e.validUntil,null)),m.name=e.label||"",m.category=this.getCwfSnapshotCategory(e)||c.i.USER,m.width=e.width||0,m.height=e.height||0,m.created=(0,o.p)(e.created),m.modified=(0,o.p)(e.modified),m.visionLabel=e.classification||"";const f=null===(r=null===(i=null===(t=e.snapshotLocation)||void 0===t?void 0:t.anchor)||void 0===i?void 0:i.pano)||void 0===r?void 0:r.placement;m.is360=!(!f||f===u.bW.AUTO);const{snapshotLocation:g}=e;if(g){const e=g.position?a.ep.fromVisionVector(g.position):new n.Vector3,t=g.rotation?a.ep.fromVisionCameraQuaternion(g.rotation):new n.Quaternion,i=this.getCwfViewmode(g.viewMode)||s.Ey.Panorama,r=[];for(const e of g.floorVisibility||[]){for(let t=0;t<e.sequence;t++)r[t]=r[t]||0;r[e.sequence]=1}m.metadata={cameraMode:i,cameraPosition:e,cameraQuaternion:t,scanId:g.anchor&&g.anchor.id||"",orthoZoom:i===s.Ey.Floorplan&&null!==(p=g.zoom)&&void 0!==p?p:-1,ssZoom:g.zoom||1,floorId:g.floorVisibility&&g.floorVisibility.length>0?g.floorVisibility[0].id:null,floorVisibility:r}}return m}validate(e){var t;if(!(null===(t=e.snapshotLocation)||void 0===t?void 0:t.position))return!1;const i=["id","snapshotLocation","thumbnailUrl","presentationUrl"].every((t=>t in e)),n=null!==this.getCwfSnapshotCategory(e);return i&&n}getCwfViewmode(e){const t={[u.wO.DOLLHOUSE]:s.Ey.Dollhouse,[u.wO.PANORAMA]:s.Ey.Panorama,[u.wO.FLOORPLAN]:s.Ey.Floorplan,[u.wO.MESH]:s.Ey.Panorama};return e&&e in t?t[e]:null}getCwfSnapshotCategory(e){var t,i,n;if(e.category===u.EG.TOUR)return c.i.TOUR;if(e.origin===u.uI.VISION)return c.i.AUTO;if(e.type===u.BE.EQUIRECTANGULAR)return c.i.PANORAMA;const s=null===(n=null===(i=null===(t=e.snapshotLocation)||void 0===t?void 0:t.anchor)||void 0===i?void 0:i.pano)||void 0===n?void 0:n.placement;return e.type===u.BE.PHOTO2D?s===u.bW.MANUAL?c.i.UNALIGNED:c.i.USER:null}}},75125:(e,t,i)=>{"use strict";i.d(t,{t:()=>n});class n{static get hasPassword(){const{model:e}=window.MP_PREFETCHED_MODELDATA||{};return e&&e.has_public_access_password}static getQuery(e){var t,i;const n=(null===(t=window.MP_PREFETCHED_MODELDATA)||void 0===t?void 0:t.queries)||{};switch(e){case"GetModelPrefetch":{const t=n[e];if(!t)return;const s=null===(i=t.data)||void 0===i?void 0:i.model;if(!s)return;if(!s.locations.length)return;return t}default:return n[e]}}static get config(){var e;return null===(e=window.MP_PREFETCHED_MODELDATA)||void 0===e?void 0:e.config}}},54559:(e,t,i)=>{"use strict";i.d(t,{R:()=>l});var n=i(27553),s=i(11221),r=i(97998),a=i(73123);const o=new r.Z("PrefetchedQueryCache");class l{constructor(e){const{initialData:t,baseUrl:i}=e;this.client=new n.w({baseUrl:i}),this.config=e,t&&(this.data=t)}async read(e,t,i={}){const{prefetchKey:n,prefetchPolicy:r=this.config.prefetchPolicy}=i;if(!n||r===s.h.NONE)return;if((null==t?void 0:t.modelId)!==this.config.variables.modelId)return;r!==s.h.PRELOAD||this.preloadPromise||this.preload(),void 0===this.data&&this.preloadPromise&&await this.preloadPromise;const a=this.has(n);return o.debug(`Cache ${a?"hit":"miss"} for ${n}`),a?this.data:void 0}clear(){this.data=void 0}async preload(){return this.preloadPromise=(async()=>{const{query:e,variables:t}=this.config;try{return this.data=await this.client.query(e,t),!0}catch(e){return o.info(e),this.data={},!1}})(),this.preloadPromise}has(e){return void 0!==(0,a.q)(this.data,e)}}},90632:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r});var n=i(67992),s=i(45905);class r extends n.V{constructor(e={}){super(),this.lastPublished=null,this.hasRevertableChanges=!1,this.hasPublishableChanges=!1,this.publishEnabled=!1,this.revertEnabled=!1,this.transactionState=s.g.IDLE,this.dirtyTypes=new Set,this.publishableTypes=new Set,this.revertableTypes=new Set,Object.assign(this,e)}setTransactionState(e){if(e!==this.transactionState){if(![this.transactionState,e].includes(s.g.IDLE))throw new Error(`Cannot transition from ${this.transactionState} to ${e}`);this.transactionState=e,this.commit()}}getDirtyTypes(){return[...this.dirtyTypes]}setDirtyType(...e){for(const t of e)this.dirtyTypes.add(t);this.onDataTypesChanged()}clearDirtyType(...e){if(e.length)for(const t of e)this.dirtyTypes.delete(t);else this.dirtyTypes.clear();this.onDataTypesChanged()}getPublishableTypes(){return[...this.publishableTypes]}setPublishableType(...e){for(const t of e)this.publishableTypes.add(t);this.onDataTypesChanged()}getRevertableTypes(){return[...this.revertableTypes]}setRevertableType(...e){for(const t of e)this.revertableTypes.add(t);this.onDataTypesChanged()}onDataTypesChanged(){this.hasRevertableChanges=[...this.dirtyTypes].some((e=>this.revertableTypes.has(e))),this.hasPublishableChanges=[...this.dirtyTypes].some((e=>this.publishableTypes.has(e))),this.commit()}}},35805:(e,t,i)=>{"use strict";i.d(t,{T:()=>r});var n=i(85979),s=i(67223);class r{constructor(){this.handlers=[{msgType:n.Qq,func:(e,t)=>{const{dataType:i,message:n,mockError:s}=t,r="DataIntegrityError",a={error_type:r,error_dialog:"none",data_type:i,exception:{message:`${r}: ${n}`},mock_error:s};e.track("error_displayed",a)}},{msgType:n.dz,func:(e,t)=>{const{dataTypes:i,error:n}=t,r=n.name||"SaveError",a={error_code:(0,s.UX)(n).join(", "),error_type:r,error_dialog:"banner",data_type:i?i.join(", "):"",exception:{message:`${r}: ${n.message}`,stack:n.stack},mock_error:(0,s.Ad)(n)};e.track("error_displayed",a)}},{msgType:n.Kx,func:(e,t)=>{const{dataTypes:i,error:n}=t,r=n.name||"RevertError",a={error_code:(0,s.UX)(n).join(", "),error_type:r,error_dialog:"banner",data_type:i?i.join(", "):"",exception:{message:`${n.name||r}: ${n.message}`,stack:n.stack},mock_error:(0,s.Ad)(n)};e.track("error_displayed",a)}},{msgType:n.aT,func:(e,t)=>{const{dataTypes:i,error:n}=t,r=n.name||"PublishError",a={error_code:(0,s.UX)(n).join(", "),error_type:r,error_dialog:"banner",data_type:i?i.join(", "):"",exception:{message:`${r}: ${n.message}`,stack:n.stack},mock_error:(0,s.Ad)(n)};e.track("error_displayed",a)}}]}}},635:(e,t,i)=>{"use strict";i.d(t,{R_:()=>s,qz:()=>r,VQ:()=>a,ff:()=>o});var n=i(19663);class s extends n.m{constructor(e={}){super(),this.id="PUBLISH_COMMAND",this.payload=e}}class r extends n.m{constructor(e){super(),this.id="REVERT_COMMAND",this.payload=e}}class a extends n.m{constructor(e){super(),this.id="SAVE_COMMAND",this.payload=e}}class o extends n.m{constructor(){super(...arguments),this.id="GET_UNPUBLISHED_DELETIONS_COMMAND"}}},45905:(e,t,i)=>{"use strict";var n,s;i.d(t,{g:()=>n,Q:()=>s}),function(e){e.IDLE="idle",e.REVERTING="reverting",e.PUBLISHING="publishing",e.SAVING="saving"}(n||(n={})),function(e){e.ON="on",e.BEFORE="before",e.AFTER="after"}(s||(s={}))},94753:(e,t,i)=>{"use strict";i.d(t,{AE:()=>r,lY:()=>a,pd:()=>o,gO:()=>l,P8:()=>c,DT:()=>d});var n=i(2224),s=i(79728);class r extends n.y{constructor(e,t="50001"){super(e),this.name="StorageError",this.code=t}}class a extends n.y{constructor(e,t="53100"){super(e),this.name="ForbiddenError",this.code=t}}class o extends n.y{constructor(e,t="53100"){super(e),this.name="SaveError",this.code=t}}class l extends n.y{constructor(e,t="53200"){super(e),this.name="PublishError",this.code=t}}class c extends n.y{constructor(e,t="53300"){super(e),this.name="RevertError",this.code=t}}function d(e){return{[s.g.BLUR_SUGGESTIONS]:"12",[s.g.BLURS]:"01",[s.g.FLOORS]:"02",[s.g.HIGHLIGHTS]:"03",[s.g.LABELS]:"04",[s.g.MATTERTAGS]:"05",[s.g.MEASUREMENTS]:"06",[s.g.NOTES]:"07",[s.g.ORDERED_LISTS]:"13",[s.g.PHOTOS]:"08",[s.g.SETTINGS]:"09",[s.g.START_LOCATION]:"10",[s.g.SWEEPS]:"11",[s.g.LAYERS]:"14"}[e]||"99"}},45888:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DataIntegrityMessage:()=>a.Qq,DataPublishedMessage:()=>a.zK,DataRevertedMessage:()=>a.F1,DataSavedMessage:()=>a.xj,ForbiddenError:()=>r.lY,ForbiddenErrorMessage:()=>a.hu,GetUnpublishedDeletionsCommand:()=>n.ff,PublishCommand:()=>n.R_,PublishError:()=>r.gO,PublishErrorMessage:()=>a.aT,RevertCommand:()=>n.qz,RevertError:()=>r.P8,RevertErrorMessage:()=>a.Kx,SaveCommand:()=>n.VQ,SaveError:()=>r.pd,SaveErrorMessage:()=>a.dz,StorageAnalytics:()=>o.T,StorageData:()=>l.Q,StorageError:()=>r.AE,TransactionPhase:()=>s.Q,TransactionState:()=>s.g,default:()=>I,getErrorCodeForDataType:()=>r.DT});var n=i(635),s=i(45905),r=i(94753),a=i(85979),o=i(35805),l=i(90632),c=i(97542),d=i(27553),u=i(22427),h=i(63319),p=i(80742),m=i(95548),f=i(51454),g=i(54232),v=i(59279),b=i(79728),y=i(97998);class E{constructor(e={}){Object.assign(this,e)}}var S=i(5823);const T=new y.Z("mds-mergediff-deserializer"),O={[b.g.FLOORS]:S.X$.FLOORS,[b.g.MEASUREMENTS]:S.X$.MEASUREMENTPATHS,[b.g.MATTERTAGS]:S.X$.MATTERTAGS,[b.g.LABELS]:S.X$.LABELS,[b.g.HIGHLIGHTS]:S.X$.HIGHLIGHTREEL,[b.g.SWEEPS]:S.X$.SWEEPS,[b.g.SETTINGS]:S.X$.PLAYEROPTIONS,[b.g.START_LOCATION]:S.X$.IMAGE,[b.g.ORDERED_LISTS]:S.X$.ORDEREDLISTS,[b.g.BLURS]:void 0},_={[S.X$.IMAGE]:b.g.START_LOCATION,[S.X$.FLOORS]:b.g.FLOORS,[S.X$.MEASUREMENTPATHS]:b.g.MEASUREMENTS,[S.X$.MATTERTAGS]:b.g.MATTERTAGS,[S.X$.LABELS]:b.g.LABELS,[S.X$.HIGHLIGHTREEL]:b.g.HIGHLIGHTS,[S.X$.SWEEPS]:b.g.SWEEPS,[S.X$.PLAYEROPTIONS]:b.g.SETTINGS,[S.X$.ORDEREDLISTS]:b.g.ORDERED_LISTS};class N{deserialize(e){if(!(e&&e.src&&e.dest&&e.typesModified))return T.debug("Deserialized invalid merge diff from MDS",e),null;const t=[];for(const i of e.typesModified)i in _&&t.push(_[i]);return new E({srcId:e.src,targetId:e.dest,dataTypes:t})}}class A{constructor(e,t){this.modelId=e,this.client=t}async getMergeDiff(e){var t,i;const n=new N,s=null===(i=null===(t=(await this.client.query(g.GetMergeDiff,{viewId:e}).catch((e=>{throw new m.Zb(e)}))).data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.mergeDiff;return n.deserialize(s)}async getUnpublishedDeletions(){var e,t,i,n;const s=await this.client.query(g.GetSessionDiff,{modelId:this.modelId,includeLayers:!1}).catch((e=>{throw new m.Zb(e)})),r=null===(t=null===(e=s.data)||void 0===e?void 0:e.model)||void 0===t?void 0:t.base,a=null===(n=null===(i=s.data)||void 0===i?void 0:i.model)||void 0===n?void 0:n.view,o=(e,t,i)=>{const n=t.map((e=>e[i]));return e.filter((e=>!n.includes(e[i])))},l=o((null==r?void 0:r.model.mattertags)||[],(null==a?void 0:a.model.mattertags)||[],"id"),c=o((null==r?void 0:r.model.labels)||[],(null==a?void 0:a.model.labels)||[],"id"),d=o((null==r?void 0:r.model.measurementPaths)||[],(null==a?void 0:a.model.measurementPaths)||[],"id");return{[b.g.LABELS]:c,[b.g.MATTERTAGS]:l,[b.g.MEASUREMENTS]:d}}async revertView(e,t=[]){const i=t.map((e=>O[e])).filter((e=>!!e));if(!i.length)return;const n=await this.client.query(g.RevertView,{viewId:e,mergeTypes:i}).catch((e=>{throw new m.w0(e)})),s="53300"===(0,v.eY)("error","");if(!d.w.isOk(n)||s){const e=new m.w0(d.w.getErrorMessage(n));throw s&&(e.isMock=!0),e}}async mergeView(e){const t=await this.client.query(g.PublishView,{viewId:e}).catch((e=>{throw new m.w0(e)})),i="53200"===(0,v.eY)("error","");if(!d.w.isOk(t)||i){const e=new m.w0(d.w.getErrorMessage(t));throw i&&(e.isMock=!0),e}}}var w=i(35895);class I extends c.Y{constructor(){super(...arguments),this.name="storage",this.saveHandlers=new Set,this.revertHandlers=new Set,this.publishHandlers=new Set,this.lock=new u.H,this.updateForView=async()=>{const e=this.data,t=this.layersData.getCurrentView();if(t&&t.viewType===h.XZ.SESSION){e.publishEnabled=!0,e.revertEnabled=!0;const i=await this.publishingManager.getMergeDiff(t.id);i&&i.dataTypes&&e.setDirtyType(...i.dataTypes)}else e.publishEnabled=!1,e.revertEnabled=!1}}async init(e,t){const{baseUrl:i,modelId:s}=e;this.config=e,this.engine=t,this.client=new d.w({baseUrl:i}),this.publishingManager=new A(s,this.client),this.data=new l.Q,this.layersData=await t.market.waitForData(p.R),this.updateForView(),this.bindings.push(this.layersData.onPropertyChanged("currentViewId",(()=>this.updateForView())),t.commandBinder.addBinding(n.R_,(e=>this.publish(e.dataTypes))),t.commandBinder.addBinding(n.qz,(e=>this.revert(e.dataTypes))),t.commandBinder.addBinding(n.VQ,(e=>this.save(e.dataTypes,e.onCallback,e.skipDirtyUpdate))),t.commandBinder.addBinding(n.ff,(()=>this.publishingManager.getUnpublishedDeletions()))),t.market.register(this,l.Q,this.data)}dispose(e){super.dispose(e)}onSave(e,t={}){const i={callback:e,dataType:t.dataType,phase:t.phase||s.Q.ON};return(0,w.k1)((()=>this.saveHandlers.add(i)),(()=>this.saveHandlers.delete(i)),!0)}onPublish(e,t={}){const i={callback:e,dataType:t.dataType,phase:t.phase||s.Q.ON};return(0,w.k1)((()=>this.publishHandlers.add(i)),(()=>this.publishHandlers.delete(i)),!0)}onRevert(e,t={}){const i={callback:e,dataType:t.dataType,phase:t.phase||s.Q.ON};return(0,w.k1)((()=>this.revertHandlers.add(i)),(()=>this.revertHandlers.delete(i)),!0)}async publish(e=[]){const t=await this.lock.lock(),i=i=>{this.log.error(i),t.unlock(),this.data.setTransactionState(s.g.IDLE);const o=n[0]?`532${(0,r.DT)(n[0])}`:"53200";if(i instanceof f.V2||i instanceof f.GT){const t=new r.lY(i,o);throw this.engine.broadcast(new a.hu(t,e)),t}const l=new r.gO(i,o);throw this.engine.broadcast(new a.aT(l,e)),l},n=e.length?[...e]:this.data.getPublishableTypes(),{before:o,on:l,after:c}=this.getCallbacksByPhase(this.publishHandlers,n),d=this.layersData.getWorkshopSessionView();d&&l.push((()=>this.publishingManager.mergeView(d.id))),this.log.debug(`Publishing ${[...n].join(", ")}...`),this.data.setTransactionState(s.g.PUBLISHING),await Promise.all(o.map((e=>e()))).catch(i),await Promise.all(l.map((e=>e()))).catch(i),this.data.lastPublished=Date.now(),this.data.commit(),this.data.clearDirtyType(...e),this.engine.broadcast(new a.zK),await Promise.all(c.map((e=>e()))).catch(i),t.unlock(),this.data.setTransactionState(s.g.IDLE),this.log.debug("Publishing completed")}async revert(e=[]){const t=await this.lock.lock(),i=i=>{t.unlock(),this.data.setTransactionState(s.g.IDLE);const n=e[0]?`531${(0,r.DT)(e[0])}`:"53100",o=new r.P8(i,n);throw this.engine.broadcast(new a.Kx(o,e)),o},{before:n,on:o,after:l}=this.getCallbacksByPhase(this.revertHandlers,e),c=this.layersData.getWorkshopSessionView();c?(o.push((()=>this.publishingManager.revertView(c.id,e))),this.log.debug(`Reverting ${[...e].join(", ")}...`),this.data.setTransactionState(s.g.REVERTING),await Promise.all(n.map((e=>e()))).catch(i),await Promise.all(o.map((e=>e()))).catch(i),this.engine.broadcast(new a.F1(e)),await Promise.all(l.map((e=>e()))).catch(i),t.unlock(),this.data.setTransactionState(s.g.IDLE),this.data.clearDirtyType(...e),this.log.debug(`Reverting ${[...e].join(", ")} completed`)):i(new m.SN("Workshop session view not found"))}async save(e,t,i=!1){const n=await this.lock.lock(),o=t=>{this.log.error(t),n.unlock(),this.data.setTransactionState(s.g.IDLE);const i=e[0]?`531${(0,r.DT)(e[0])}`:"53100";if(t instanceof f.V2||t instanceof f.GT){const n=new r.lY(t,i);throw this.engine.broadcast(new a.hu(n,e)),n}const o=new r.pd(t,i);throw this.engine.broadcast(new a.dz(o,e)),o};this.log.debug(`Saving ${[...e].join(", ")}...`),this.data.setTransactionState(s.g.SAVING);const{before:l,on:c,after:d}=this.getCallbacksByPhase(this.saveHandlers,e);await Promise.all(l.map((e=>e()))).catch(o),await Promise.all(c.map((e=>e()))).catch(o),t&&await t().catch(o),this.engine.broadcast(new a.xj(e)),await Promise.all(d.map((e=>e()))).catch(o),i||this.data.setDirtyType(...e),n.unlock(),this.data.setTransactionState(s.g.IDLE),this.log.debug(`Saving ${[...e].join(", ")} completed`)}getCallbacksByPhase(e,t){const i=Array.isArray(t)?t:Object.values(b.g),n=[...e.values()].filter((e=>!e.dataType||i.includes(e.dataType))),r={[s.Q.BEFORE]:[],[s.Q.ON]:[],[s.Q.AFTER]:[]};return n.reduce(((e,t)=>(e[t.phase].push((()=>t.callback(i))),e)),r)}}},85979:(e,t,i)=>{"use strict";i.d(t,{xj:()=>s,zK:()=>r,F1:()=>a,Qq:()=>o,dz:()=>l,Kx:()=>c,aT:()=>d,hu:()=>u});var n=i(98010);class s extends n.v{constructor(e){super(),this.dataTypes=e}}class r extends n.v{}class a extends n.v{constructor(e){super(),this.dataTypes=e}}class o extends n.v{constructor(e,t,i=!1){super(),this.message=e,this.dataType=t,this.mockError=i}}class l extends n.v{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class c extends n.v{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class d extends n.v{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}class u extends n.v{constructor(e,t=[]){super(),this.error=e,this.dataTypes=t}}},96365:(e,t,i)=>{"use strict";i.d(t,{M3:()=>n,B_:()=>s,My:()=>r,ED:()=>a,ke:()=>o,FI:()=>l,pr:()=>c,Tm:()=>d});const n="subscriber_prompt",s="subscriber-prompt-active",r="subscriber-prompt-active",a=Object.freeze({popupDelay:14500,popupEnabled:!1,bannerEnabled:!1,domainDenylist:["ea4141d5b45bcfce5ac984955a7df9f74b323182","500ef59c0e9bd523a5e102d4b229b85df4c008c2","55d9b1786668eb25ce174aa06d46535054046935","44a68fb615814e263894da681018ed5687527b75","750514616c13561e878f04cd38cedc4bd3028f60","633e98d1f7cf36879e21d642068af2196d67a229","2566065b5d698efd82a16854185501ee2ea8eae6"]}),o={enabled:"spEnabled",forceBanner:"spBanner",forcePopup:"spPopup",forceReferrer:"spReferrer"},l="spaces.visitor.subscriber.prompt",c="mp/subscriber-prompt-dismissed",d="https://matterport.page.link/v2s-download"},83038:(e,t,i)=>{"use strict";i.d(t,{L:()=>n});const n=new(i(97998).Z)("subscriber-prompt")},18923:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(14630);class s extends n.Z{}},66563:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(14630);class s extends n.Z{constructor(e,t,i,n){super(e,n),this.alignmentType=t,this.placementType=i}}},14630:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.fromSweep=t,this.toSweep=e,this.timestamp=Date.now()}}},63252:(e,t,i)=>{"use strict";i.d(t,{z9:()=>n,hU:()=>s,ZP:()=>d});var n,s,r=i(84428),a=i(75287),o=i(76609);!function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(n||(n={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(s||(s={}));const l={[o.SL.BASE]:"512",[o.SL.STANDARD]:"1k",[o.SL.HIGH]:"2k",[o.SL.ULTRAHIGH]:"4k"},c={[o.SL.BASE]:"low",[o.SL.STANDARD]:"high",[o.SL.HIGH]:"2k",[o.SL.ULTRAHIGH]:"4k"};class d extends a.T{constructor(e){super(),this.skyboxes={},e&&(e.id&&(this.id=e.id),void 0!==e.index&&(this.index=e.index),this.name=e.name||"",this.position=e.position||new r.Vector3,this.floorPosition=e.floorPosition||new r.Vector3,void 0!==e.floorId&&(this.floorId=e.floorId),this.roomId=e.roomId||null,this.rotation=e.rotation||new r.Quaternion,this.enabled=e.enabled||!1,this.vrenabled=e.vrenabled||!1,this.neighbours=e.neighbours||[],this.alignmentType=e.alignmentType||n.ALIGNED,this.placementType=e.placementType||s.UNPLACED,void 0!==e.uuid&&(this.uuid=e.uuid))}isAligned(){return this.alignmentType===n.ALIGNED}isUnplaced(){return this.placementType===s.UNPLACED}get sid(){return this.id}equals(e){return this.id===e.id&&this.index===e.index&&this.name===e.name&&this.position.equals(e.position)&&this.floorId===e.floorId&&this.roomId===e.roomId&&this.rotation.equals(e.rotation)&&this.enabled===e.enabled&&this.vrenabled===e.vrenabled&&this.alignmentType===e.alignmentType&&this.placementType===e.placementType}copy(e){return this.id=e.id,this.index=e.index,this.name=e.name,this.position=(new r.Vector3).copy(e.position),this.floorPosition=(new r.Vector3).copy(e.floorPosition),this.floorId=e.floorId,this.roomId=e.roomId,this.rotation=(new r.Quaternion).copy(e.rotation),this.enabled=e.enabled,this.vrenabled=e.vrenabled,this.neighbours=e.neighbours.slice(),this.alignmentType=e.alignmentType,this.placementType=e.placementType,this.resolutions=e.resolutions,this.skyboxes=Object.assign({},e.skyboxes),this}refresh(e){this.resolutions=e.resolutions;for(const t in this.skyboxes){const i=t;this.skyboxes[i].refreshFrom(e.skyboxes[i])}}async getTileUrl(e,t,i,n){const s=await this.getSkybox(e);let r;return r=s?s.tileUrlTemplate:`tiles/${this.id}/${l[e]}_face<face>_<x>_<y>.jpg`,r.replace("<face>",`${t}`).replace("<x>",`${i}`).replace("<y>",`${n}`)}async getFaceUrl(e,t){var i;const n=await this.getSkybox(e);let s;return s=n?null!==(i=n.urlTemplate)&&void 0!==i?i:"<face>":`pan/${c[e]}/${this.id}_skybox${t}.jpg`,s.replace("<face>",`${t}`)}async getSkybox(e){const t=this.skyboxes[e];return t?t.get():t}}},27641:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,f:()=>r});var n=i(41753);class s extends n.f{constructor(e="SweepException"){super(e),this.name="SweepException"}}class r extends s{constructor(e="Tried to start transition while another transition was active"){super(e),this.name="SweepTransitionActiveException"}}},35826:(e,t,i)=>{"use strict";i.d(t,{NO:()=>s,aK:()=>r,iF:()=>a,kR:()=>o,e9:()=>l,zd:()=>c,ZD:()=>d});var n=i(19663);class s extends n.m{}class r extends n.m{constructor(e){super(),this.sweepId=e,this.payload={sweepId:e}}}class a extends n.m{constructor(e,t,i=500){super(),this.id="SELECT_SWEEP",this.payload={id:e,selected:t,duration:i}}}class o extends n.m{constructor(e,t,i=500){super(),this.id="HOVER_SWEEP",this.payload={id:e,hovered:t,duration:i}}}class l extends n.m{constructor(e){super(),this.id="TOGGLE_NON_PANO_CURRENT_PUCK",this.payload={visible:e}}}class c extends n.m{constructor(){super(...arguments),this.id="ENABLE_SWEEP_SELECTION"}}class d extends n.m{constructor(){super(...arguments),this.id="DISABLE_SWEEP_SELECTION"}}},53954:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(63252),s=i(67992),r=i(10385),a=i(15637),o=i(89557);class l extends s.V{constructor(e){super(),this.name="sweeps",this.transitionActive=!1,this.sweepList=new r.d,this.sweepMap={},e&&this.addSweeps(e),this.transition={progress:new o.z(0),active:!1,from:void 0,to:void 0}}addSweeps(e){const t=Object.values(e).sort(((e,t)=>e.index-t.index));for(const e of t)this.sweepMap[e.id]=e,this.sweepList.push(e);return this}refresh(e){for(const t in this.sweepMap)e[t]&&this.sweepMap[t].refresh(e[t])}canTransition(){return!this.transition.active}get currentSweepIndex(){if(this.currentSweep)return this.sweepMap[this.currentSweep].index}get currentSweepObject(){if(this.currentSweep)return this.getSweep(this.currentSweep)}get currentAlignedSweepObject(){if(this.currentSweep&&!this.isSweepUnaligned(this.currentSweep))return this.getSweep(this.currentSweep)}makeSweepChangeSubscription(e){return this.onPropertyChanged("currentSweep",e)}getSweep(e){return this.sweepMap[e]}getSweepByIndex(e){return this.sweepList.find((t=>t.index===e))}getSweepByUuid(e){return this.sweepList.find((t=>t.uuid===e))}containsSweep(e){return e in this.sweepMap}getFirstSweep(){let e=-1;for(;++e<this.sweepList.length;){const t=this.sweepList.get(e);if(t.enabled)return t}}getStartSweep(e){const t=e&&e.pano&&e.pano.uuid?this.getSweep(e.pano.uuid):null;return t&&t.enabled?t:this.getFirstSweep()}getClosestSweep(e,t){let i=Number.MAX_VALUE,s=null;return this.iterate((r=>{if(r.enabled&&(!t||r.alignmentType===n.z9.ALIGNED)){const t=e.distanceTo(r.position);t<i&&(i=t,s=r)}})),s}getFirstAlignedSweep(){let e=-1;for(;++e<this.sweepList.length;){const t=this.sweepList.get(e);if(t.enabled&&t.alignmentType===n.z9.ALIGNED)return t}return null}activateTransition(e,t){this.transition.active=!0,this.transition.from=t,this.transition.to=e,this.transitionActive=!0}deactivateTransition(){this.transition.active=!1,this.transition.from=void 0,this.transition.to=void 0,this.transitionActive=!1}isSweepUnaligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&!t.isAligned()}isSweepAligned(e){if(!e)return!1;const t=this.getSweep(e);return t&&t.isAligned()}isSweepDisabled(e=this.currentSweep){if(!e)return!1;const t=this.getSweep(e);return t&&!t.enabled}*sweeps(){for(const e of this.sweepList)yield e}iterate(e){this.sweepList.forEach(((t,i)=>{e(t,i)}))}filter(e){return this.sweepList.filter(e)}sortByScore(e,t,i){return(i||this.sweepList).filter((t=>e.every((e=>e(t))))).map((e=>({sweep:e,score:t.reduce(((t,i)=>t+i(e)),0)}))).sort(((e,t)=>t.score-e.score))}getSweepList(){return this.sweepList.values()}getAlignedSweeps(){return this.getSweepList().filter((e=>e.alignmentType===n.z9.ALIGNED))}onSweepsChanged(e){return this.sweepList.onChanged(e)}getSweepNeighbours(e){const t=[];for(const i of e.neighbours)t.push(this.getSweep(i));return t}getCollection(){return(0,a.q)(this.sweepMap)}getConnectedSweeps(e,t){const i=[e],n=new Set;for(t=t||(e=>!0);i.length;){const e=i.pop(),s=this.getSweep(e);n.add(e);for(const e of s.neighbours){t(this.getSweep(e))&&!n.has(e)&&i.push(e)}}return n}}},98169:(e,t,i)=>{"use strict";i.d(t,{ff:()=>a,vO:()=>o,T3:()=>l,H7:()=>c,_T:()=>d,WO:()=>u,b1:()=>h,nK:()=>p,pI:()=>m,_k:()=>f,D5:()=>g,no:()=>v,SF:()=>b,jN:()=>y});var n=i(63252),s=i(84428);const r=.25,a=e=>t=>t!==e,o=e=>t=>!!e.neighbours&&-1!==e.neighbours.indexOf(t.id),l=e=>t=>e===t||o(e)(t),c=e=>e.placementType===n.hU.MANUAL,d=()=>e=>e.alignmentType===n.z9.ALIGNED,u=()=>e=>e.alignmentType!==n.z9.ALIGNED,h=e=>t=>e.floorId===t.floorId,p=e=>t=>e===t.floorId,m=(()=>{const e=new s.Vector3,t=new s.Vector3;return(i,n,s=r)=>r=>e.copy(r.position).sub(i).normalize().dot(t.copy(n).normalize())>s})(),f=()=>e=>e.enabled,g=(e,t)=>{const i=new s.Vector3;return t=t.clone(),n=>i.copy(n.position).sub(e).normalize().dot(t)>0},v=(e,t)=>i=>e.distanceTo(i.position)>t,b=(e,t)=>i=>e.distanceTo(i.position)<t,y=(e,t)=>i=>e.distanceToSquared(i.position)<t},65160:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>K});var n=i(97542),s=i(57956),r=i(53954),a=i(64918),o=i(18596),l=i(66563),c=i(18923),d=i(46950),u=i(23885),h=i(25985),p=i(14630),m=i(35826),f=i(29474),g=i(5860),v=i(17788),b=i(97998);const y=new b.Z("mds-sweep-serializer");class E{serialize(e){const t={};return void 0===e.enabled&&void 0===e.vrenabled||(t.tags=[],e.enabled&&t.tags.push("showcase"),e.vrenabled&&t.tags.push("vr")),this.validate(t)?t:null}validate(e){if(!e)return!1;const t=["tags"],i=t.some((t=>t in e)),n=0===Object.keys(e).filter((e=>!t.includes(e))).length,s=void 0===e.tags||Array.isArray(e.tags),r=s&&i&&n;return r||y.debug("Invalid AnchorPatch:",{tagsIsArrayIfPresent:s,hasSomeChanges:i,hasNoExtraChanges:n,mutableFields:t,data:e}),r}}var S=i(63252),T=i(2569),O=i(76609),_=i(9133),N=i(56367),A=i(40731),w=i(5823);const I=new b.Z("mds-sweep-serializer"),k={[w.bW.AUTO]:S.hU.AUTO,[w.bW.MANUAL]:S.hU.MANUAL,[w.bW.UNPLACED]:S.hU.UNPLACED},P={[w.Mk.VISION]:S.z9.ALIGNED,[w.Mk.UPLOAD]:S.z9.UNALIGNED};class L{deserialize(e){var t,i,n,s;if(!e||!this.validate(e))return I.debug("Deserialized invalid Sweep data from MDS",e),null;const r=e,a=new S.ZP;a.id=r.id,a.index=r.index,a.enabled=!!(null===(t=r.tags)||void 0===t?void 0:t.includes("showcase")),a.vrenabled=!!(null===(i=r.tags)||void 0===i?void 0:i.includes("vr")),a.neighbours=r.neighbors||[],r.position&&(a.floorPosition=T.ep.fromVisionVector(r.position)),a.floorId=(null===(n=r.floor)||void 0===n?void 0:n.id)||null,a.roomId=(null===(s=r.room)||void 0===s?void 0:s.id)||null;const o=r.pano;let l=o.label||"";if(l===`${a.index}`&&(l=""),a.name=l,a.alignmentType=P[o.source],a.uuid=o.sweepUuid||"",a.alignmentType===S.z9.ALIGNED?a.placementType=S.hU.AUTO:a.placementType=k[o.placement],o.position){const e=T.ep.fromVisionVector(o.position);a.placementType!==S.hU.AUTO&&e.distanceTo(a.floorPosition)>1e3&&(a.placementType=S.hU.UNPLACED),a.position=e}a.resolutions=[];const c=o.skyboxes||[];if(o.resolutions)for(const e of o.resolutions){const t=this.getPanoSizeClass(e),i=this.makeSkybox(c.find((t=>t.resolution===e)));t&&i?(a.resolutions.push(t),a.skyboxes[t]=i):I.debug(`Invalid pano size class ${e}`)}return o.rotation&&(a.rotation=T.ep.fromVisionQuaternion(o.rotation)),a.floorId||(a.alignmentType===S.z9.ALIGNED?I.warn(`Aligned sweep ${a.index} has no floor association`):a.placementType===S.hU.MANUAL&&I.debug(`Manually placed sweep ${a.index} has no floor association`)),a.roomId||a.alignmentType===S.z9.ALIGNED&&I.warn(`Aligned sweep ${a.index} has no room association`),a}validate(e){if(!e)return!1;const t=[],i=["id","index","tags"];if(t.push((()=>i.every((t=>t in e)))),t.push((()=>"number"==typeof e.index)),t.push((()=>!!e.position&&(0,A.u)(e.position))),t.push((()=>"pano"in e&&!!e.pano)),e.pano){const{placement:i,source:n,position:s}=e.pano;t.push((()=>!!i&&i in k)),t.push((()=>!!n&&n in P)),t.push((()=>!!s&&(0,A.u)(s)))}return t.every((e=>e()))}getPanoSizeClass(e){const t={low:O.SL.BASE,high:O.SL.STANDARD,"2k":O.SL.HIGH,"4k":O.SL.ULTRAHIGH};return e in t?t[e]:void 0}makeSkybox(e){if(e&&e.tileUrlTemplate&&e.tileResolution&&e.tileCount)return new N.n({tileUrlTemplate:e.tileUrlTemplate,tileResolution:parseInt(e.tileResolution,10),tileCount:e.tileCount,urlTemplate:null!==e.urlTemplate?e.urlTemplate:void 0},(0,_.p)(e.validUntil,null))}}var C=i(59296);const R=new b.Z("mds-sweep-serializer");class D{serialize(e){const t={};return e.rotation&&(t.rotation=(0,C.J5)(T.ep.toVisionQuaternion(e.rotation))),e.position&&(t.position=(0,C.m)(T.ep.toVisionVector(e.position))),e.placementType&&e.placementType===S.hU.UNPLACED&&(t.resetPlacement=!0),"roomId"in e&&(e.roomId?t.roomId=e.roomId:t.resetRoom=!0),"floorId"in e&&(e.floorId?t.floorId=e.floorId:t.resetFloor=!0),"name"in e&&(t.label=e.name||""),this.validate(t)?t:null}validate(e){if(!e)return!1;const t=["resetPlacement","resetFloor","resetRoom","rotation","position","floorId","roomId","label"],i=t.some((t=>t in e)),n=0===Object.keys(e).filter((e=>!t.includes(e))).length,s=i&&n;return s||R.debug("Invalid PanoramaLocation:",{hasSomeChanges:i,hasNoExtraChanges:n,mutableFields:t,data:e}),s}}const M=new b.Z("mds-sweep-store");class x extends v.u{constructor(){super(...arguments),this.deserializer=new L,this.panoSerializer=new D,this.anchorSerializer=new E,this.prefetchKey="data.model.locations"}async read(e={}){var t,i,n,s;const{readonly:r}=this.config,a={modelId:this.getViewId()};let o;if(r){const n=await this.query(g.GetShowcaseSweeps,a,e);o=null===(i=null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.locations}else{const t=await this.query(g.GetSweeps,a,e);o=null===(s=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.model)||void 0===s?void 0:s.locations}if(!o||!Array.isArray(o))return null;const l={};for(const e of o){if(!e)continue;const t=this.deserializer.deserialize(e);t&&(l[t.id]=t)}return l}async refresh(){return this.refreshPromise||(this.refreshPromise=this.read({fetchPolicy:"no-cache"}).finally((()=>{this.refreshPromise=void 0}))),this.refreshPromise}async update(e){if(!e||0===e.length)return;const t=this.getViewId();let i="";const n={};n.modelId=t;let s="";for(const t of e){const r=this.panoSerializer.serialize(t),a=this.anchorSerializer.serialize(t);if(!r&&!a)throw M.error("No changes to update:",t,e),new Error("MdsSweepStore.update failed");i+=""+(r?`, $pano${t.id}: PanoramicImageLocationPatch!`:"")+` ${a?`, $anchor${t.id}: AnchorPatch!`:""} `,n[`pano${t.id}`]=r,n[`anchor${t.id}`]=a,s+=`\n        ${r?`\n          panoLocation${t.id}: patchPanoLocation(modelId: $modelId, , locationId: "${t.id}", patch: $pano${t.id}) {\n            id\n            placement\n          }`:""}\n        ${a?`\n          panoAnchor${t.id}: patchAnchor(modelId: $modelId, , anchorId: "${t.id}", patch: $anchor${t.id}) {\n            id\n            tags\n          }`:""}\n      `}const r=f.Ps`
      mutation sweepUpdate($modelId: ID! ${i}) {
        ${s}
      }
    `;return this.mutate(r,n).then((()=>{}))}}var j=i(64567),U=i(2541),H=i(71954),F=i(79728),B=i(635),V=i(90632),G=i(27641),W=i(80742);const z=u.qb;class K extends n.Y{constructor(){super(),this.name="sweep-data",this.data=new r.Z,this.internalProgress=!1,this.tryInferFloorIds=e=>{for(const t of Object.values(e))if(t.isAligned()&&null===t.floorId){this.log.warn(`Aligned sweep ${t.index} has no floor association`);const i=t.neighbours.map((i=>({id:i,floorId:e[i].floorId,distance:e[i].floorPosition.distanceToSquared(t.floorPosition)})));i.sort(((e,t)=>e.distance-t.distance));const n=i.find((e=>e.floorId));n&&(this.log.debug(`Inferred Sweep ${t.index} floor as ${n.floorId} from neighbors`),t.floorId=n.floorId)}},this.moveToSweep=this.moveToSweep.bind(this),this.activateSweep=this.activateSweep.bind(this),this.activateSweepUnsafe=this.activateSweepUnsafe.bind(this),this.instantSweepTransition=this.instantSweepTransition.bind(this),this.beginSweepTransition=this.beginSweepTransition.bind(this),this.endSweepTransition=this.endSweepTransition.bind(this)}async init(e,t){const{readonly:i,baseUrl:n}=e;this.engine=t,this.market=this.engine.market;const a=await t.market.waitForData(W.R),o=new x({readonly:i,baseUrl:n});this.store=o;const l=()=>{o.setStoreViewId(a.getWorkshopOrBaseId())};l(),this.bindings.push(a.onPropertyChanged("currentViewId",l));const c=await this.store.read()||{};[this.filterSweepData,this.tryInferFloorIds].forEach((e=>e(c))),(0,N.s)(c,(async()=>{if(this.store.refresh){const e=await this.store.refresh();this.data.refresh(e||{})}else this.log.debug("Can't refresh sweep URLs - operation not supported")})),this.data.addSweeps(c),this.market.register(this,r.Z,this.data);const d=await t.getModuleBySymbol(s.y.STORAGE);if(!1===i){this.monitor=new j.c(this.data.getCollection(),{aggregationType:U.E.NextFrame,shallow:!0},t),this.monitor.onChanged((()=>this.engine.commandBinder.issueCommand(new B.VQ({dataTypes:[F.g.SWEEPS]}))));const e=await t.market.waitForData(V.Q);e.setRevertableType(F.g.SWEEPS),e.setPublishableType(F.g.SWEEPS)}this.cameraModule=await this.engine.getModuleBySymbol(s.y.CAMERA),this.cameraData=await t.market.waitForData(h.M),this.bindings.push(t.commandBinder.addBinding(m.NO,(async()=>{this.data.currentSweep=void 0,this.data.commit()})),t.commandBinder.addBinding(m.aK,(async e=>{if(e.sweepId)try{const t=e.sweepId;await this.activateSweepUnsafe({sweepId:t});const i=this.data.currentSweep;this.beginSweepTransition({sweepId:t,transitionTime:0,internalProgress:!0,prevSweepId:i}),this.data.currentSweep=t,this.endSweepTransition({sweepId:t,prevSweepId:i}),this.data.commit()}catch(e){this.log.error(e)}else this.data.currentSweep=void 0,this.data.commit()})),d.onSave((()=>this.save()),{dataType:F.g.SWEEPS}))}moveToSweep(e){var t;const i=new d.Q;let n=e.sweepId;if(n&&!this.data.containsSweep(n)&&this.data.getSweepByUuid(n)&&(n=null===(t=this.data.getSweepByUuid(n))||void 0===t?void 0:t.id,e.sweepId=n),!n||!this.data.containsSweep(n))return this.log.error(`moveToSweep error ${JSON.stringify(e)}`,"Invalid sweep"),d.Q.reject(new G.Z("Invalid sweep"));const s=e.prevSweepId||this.data.currentSweep;e.prevSweepId=s;const r=e;return this.activateSweep(r).then((()=>{if(!this.data.canTransition())throw new G.f;return this.beginSweepTransition(r),this.defaultSweepCameraMove(i,r)})).then((()=>{this.endSweepTransition(r),i.resolve()})).catch((e=>{e instanceof G.f||this.data.transition.from&&(this.log.error(`moveToSweep error ${JSON.stringify(r)}`,e),this.endSweepTransition({sweepId:this.data.transition.from})),i.reject(e)})),i.promise()}async activateSweep(e){if(!this.data.canTransition()||!this.cameraData.canTransition())throw new G.f;if(!this.data.containsSweep(e.sweepId))throw new G.Z("Invalid sweep");return this.activateSweepUnsafe(e)}async activateSweepUnsafe(e){this.sweepPanoModule||(this.sweepPanoModule=await this.engine.getModuleBySymbol(s.y.SWEEP_PANO));const t=this.sweepPanoModule.getRenderer().activateSweep(e.sweepId);return await t}instantSweepTransition(e){const t=this.data.currentSweep;this.beginSweepTransition({sweepId:e,transitionTime:0,internalProgress:!0,prevSweepId:t}),this.data.currentSweep=e,this.data.commit(),this.engine.broadcast(new p.Z(e,t)),this.endSweepTransition({sweepId:e,prevSweepId:t})}beginSweepTransition(e){this.data.activateTransition(e.sweepId,e.prevSweepId||this.data.currentSweep),this.internalProgress=e.internalProgress||!1,this.data.transition.progress.modifyAnimation(0,1,e.transitionTime||0,e.easing||z),this.data.commit(),this.engine.broadcast(new c.Z(e.sweepId,e.prevSweepId))}endSweepTransition(e){const t=this.data.getSweep(e.sweepId);this.data.deactivateTransition(),this.data.currentSweep=e.sweepId,this.data.transition.progress.stop(1),this.internalProgress=!1,this.data.commit(),this.engine.broadcast(new l.Z(e.sweepId,t.alignmentType,t.placementType,e.prevSweepId))}async defaultSweepCameraMove(e,t){const i={position:this.data.getSweep(t.sweepId).position,rotation:t.rotation},n=(0,o.AN)(this.cameraData.aspect());let s=a.n.Interpolate;void 0!==t.transitionType&&a.n[t.transitionType]&&(s=t.transitionType),(this.data.isSweepUnaligned(t.sweepId)||this.data.isSweepUnaligned(t.prevSweepId))&&(s=a.n.FadeToBlack);const r=this.cameraModule.moveTo({transitionType:s,pose:i,transitionTime:t.transitionTime,transitionSpeedMultiplier:t.transitionSpeedMultiplier,projection:n,easing:t.easing,rotationDelay:t.rotationDelay});let l=!1;return r.progress((i=>{this.data.transition.progress.updateProgress(i),e.notify(i),i>=.5&&!l&&(l=!0,this.data.currentSweep=t.sweepId,this.data.commit(),this.engine.broadcast(new p.Z(t.sweepId,t.prevSweepId)))})),r.nativePromise()}filterSweepData(e){for(const t in e){const i=e[t];i.neighbours=i.neighbours.filter((t=>t in e))}}onUpdate(e){this.internalProgress&&this.data.transition.active&&this.data.transition.progress.tick(e)}async save(){if(!this.store)throw Error("No store configured for saving sweep edits!");const e=this.monitor.getDiffRecord();this.monitor.clearDiffRecord();const t=e.filter((e=>e.action===H.KI.updated)).map((e=>{const t=this.data.getSweep(e.index),i=Object.assign({id:e.index},e.diff);return("position"in i||"rotation"in i)&&(i.position=t.position,i.rotation=t.rotation),("enabled"in i||"vrenabled"in i)&&(i.enabled=t.enabled,i.vrenabled=t.vrenabled),i}));return this.store.update(t)}}},74789:(e,t,i)=>{"use strict";i.d(t,{o:()=>s});var n=i(98010);class s extends n.v{constructor(){super()}}},71239:(e,t,i)=>{"use strict";i.d(t,{YS:()=>s,Xd:()=>r,k4:()=>a});var n=i(59279);const s="settings/tiling/preload_quality",r=Object.freeze({overlayStyle:(0,n.eY)("tileoverlay",0),uploadIntervalDelay:50,highResUploadsPerFrame:2,maxHighResUploadsPerFrame:100,loadIndicatorDelay:300,uploadsPerFrame:6,maxUploadsPerFrame:100,windowHeightHighQualityThreshold:800,windowHeightHighQualityThresholdOverride:(0,n.eY)("threshold2k",void 0),concurrentDownloads:3,maxConcurrentDownloads:12,navigation:{directionFactor:10,distanceFactor:-1}});class a{constructor(){this.reset()}reset(){this.downloadFullPano=!1,this.concurrentDownloads=r.concurrentDownloads,this.uploadsPerFrame=r.uploadsPerFrame,this.highResUploadsPerFrame=r.highResUploadsPerFrame}}},43736:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});const n="features/360_views"},45881:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(98010);class s extends n.v{constructor(e,t,i){super(),this.sweepId=e,this.sweepIndex=t,this.totalSweeps=i}}},18930:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.sweepId=e,this.hovered=t}}},8948:(e,t,i)=>{"use strict";i.d(t,{YY:()=>m,C$:()=>f});var n=i(84428),s=i(35826),r=i(23612),a=i(86819),o=i(45881),l=i(17878),c=i(12529),d=i(63252),u=i(92001),h=i(18930);class p extends n.Mesh{}class m extends n.Mesh{}class f{constructor(e,t,i,s,r,a,o,c=new n.Color(16724312),d=new n.Color(16724312),u=.8,h=.8,p=300,m=.4,f=l.o.ALL){this.scene=e,this.input=t,this.settingsData=i,this.sweepViewData=s,this.puckImagery=r,this.onFloor=a,this.checkRenderModes=o,this.idleColor=c,this.selectionColor=d,this.idleOpacity=u,this.editingOpacity=h,this.selectionDuration=p,this.puckSize=m,this.layer=f,this.sweepToMesh={},this.colliderToSweep={},this.editingEnabled=!1,this.dummyMat=new n.MeshBasicMaterial,this.puckOffset=new n.Vector3(0,.05,0),this.bindings=[],this.wasDrawing=!1,this.renderPuckHighlight=(e,t)=>{if(!this.sweepViewData.isSweepAligned(e))return;const i=this.sweepToMesh[e].material.color;t?i.copy(this.selectionColor):i.copy(this.idleColor)},this.updateLookAt=e=>{this.sweepViewData.iterate((t=>{const i=this.sweepToMesh[t.id];i&&i.visible&&i.lookAt(e)}))}}init(){if(this.puckGeometry=new n.PlaneGeometry(this.puckSize,this.puckSize),this.onFloor){const e=new n.Matrix4;e.makeRotationFromEuler(new n.Euler(-Math.PI/2,0,0,"XYZ")),this.puckGeometry.applyMatrix4(e)}this.sphereColliderGeometry=new n.SphereGeometry(.5*this.puckSize,10,10),this.matParamsEnabled={color:this.idleColor.getHex(),opacity:this.idleOpacity,transparent:!0,depthWrite:!1,map:this.puckImagery.enabled},this.sweepViewData.iterate(this.createPuck.bind(this))}get displayDisabled(){return void 0!==this.puckImagery.disabled}onSweepStateAnimationChanged(e,t,i){const n=i.value,s=e.enabled?this.puckImagery.enabled:this.puckImagery.disabled,r=e.enabled?this.puckImagery.enabledHover:this.puckImagery.disabledHover,a=n>0&&this.editingEnabled,o=e.id===this.sweepViewData.selectedSweep,l=this.editingEnabled&&o?this.selectionColor:this.idleColor,c=this.editingEnabled?this.editingOpacity:this.idleOpacity;t.setValues({map:a?r:s}),t.color.copy(l),t.opacity=c*(1-n)+1*n}createMaterial(e){const t=new n.MeshBasicMaterial(this.matParamsEnabled);return this.puckImagery.disabled&&!e.enabled&&t.setValues({map:this.puckImagery.disabled}),this.bindings.push(e.onPropertyChanged("enabled",(()=>{t.setValues({map:e.enabled?this.puckImagery.enabled:this.puckImagery.disabled})}))),t}createMesh(e,t){const i=new p(this.puckGeometry,t);this.onFloor?i.position.copy(e.floorPosition).add(this.puckOffset):(i.position.copy(e.position),i.rotation.setFromQuaternion(e.rotation)),i.name=e.id,i.updateMatrixWorld(!1),i.renderOrder=c.z.panoMarker;const n=this.sweepViewData.getState(e.id);return i.visible=n.visible,this.bindings.push(n.onPropertyChanged("visible",(e=>{i.visible=e}))),this.bindings.push(n.onPropertyChanged("animation",(i=>this.onSweepStateAnimationChanged(e,t,i)))),i.layers.mask=this.layer.mask,i}createCollider(e,t){let i;return i=this.onFloor?new m(this.puckGeometry,this.dummyMat):new m(this.sphereColliderGeometry,this.dummyMat),i.userData.sid=e.id,i.position.copy(t.position),i.rotation.copy(t.rotation),i.name=e.id,i.updateMatrixWorld(!1),i}createPuck(e){if(e.alignmentType!==d.z9.ALIGNED)return;const t=this.createMaterial(e),i=this.createMesh(e,t),n=this.createCollider(e,i);i.collider=n,this.sweepToMesh[e.id]=i,this.colliderToSweep[n.id]=e.id}toggleEditingEnabled(e){this.editingEnabled=e;for(const t in this.sweepToMesh){this.sweepToMesh[t].material.opacity=e?this.editingOpacity:this.idleOpacity}}getSweepId(e){return this.colliderToSweep[e]}updatePuckImagery(e){let t;this.displayDisabled||void 0===e.disabled?this.displayDisabled&&void 0===e.disabled&&(t=!1):t=!0,this.puckImagery=e,this.sweepViewData.iterate((e=>{if(e.alignmentType!==d.z9.ALIGNED)return;const i=this.sweepToMesh[e.id],n=this.sweepViewData.getState(e.id);i.visible=n.visible;let s=this.puckImagery.enabled;if(!e.enabled&&this.puckImagery.disabled&&(s=this.puckImagery.disabled),this.sweepToMesh[e.id].material.setValues({map:s}),void 0!==t){if(e.enabled)return;t?this.addSweepToScene(e.id):this.removeSweepFromScene(e.id)}}))}updateCheckRenderModes(e){this.checkRenderModes=e}removeSweepFromScene(e){const t=this.sweepToMesh[e];this.scene.remove(t),this.input.unregisterMesh(t.collider)}addSweepToScene(e){if(!this.sweepViewData.getSweep(e).enabled&&!this.displayDisabled)return;const t=this.sweepToMesh[e];this.scene.add(t),this.input.registerMesh(t.collider,!0)}render(){const e=this.checkRenderModes(),t=this.settingsData.tryGetProperty(u.U,!0);if(e&&t){if(!this.wasDrawing){for(const e in this.sweepToMesh)this.addSweepToScene(e);this.wasDrawing=!0}}else if(this.wasDrawing){for(const e in this.sweepToMesh)this.removeSweepFromScene(e);this.wasDrawing=!1}}dispose(){for(const e in this.sweepToMesh){const t=this.sweepToMesh[e];t.material.dispose(),t.geometry.dispose()}}activate(e){this.wasDrawing=!1;const t=new g(this.sweepViewData);this.bindings.push(this.input.registerMeshHandler(r.z,t,((t,i)=>{e.commandBinder.issueCommand(new s.kR(this.getSweepId(i.id),!0,this.selectionDuration)),e.broadcast(new h.Z(this.getSweepId(i.id),!0))}))),this.bindings.push(this.input.registerMeshHandler(r.A,t,((t,i)=>{e.commandBinder.issueCommand(new s.kR(this.getSweepId(i.id),!1,this.selectionDuration)),e.broadcast(new h.Z(this.getSweepId(i.id),!1))}))),this.bindings.push(this.input.registerMeshHandler(a.R,t,((t,i)=>{const n=this.sweepViewData.getSweep(this.colliderToSweep[i.id]).index,s=this.sweepViewData.getAlignedSweeps(!0).length;e.broadcast(new o.Z(this.colliderToSweep[i.id],n,s))})))}deactivate(e){for(const e in this.sweepToMesh)this.removeSweepFromScene(e);for(const e of this.bindings)e.cancel();this.bindings.length=0}}class g{constructor(e){this.sweepViewData=e}compare(e){if(e instanceof m){return this.sweepViewData.getSweepVisibility(this.sweepViewData.getSweep(e.userData.sid))}return!1}}},92001:(e,t,i)=>{"use strict";i.d(t,{U:()=>n});const n="features/sweep_pucks"},21973:(e,t,i)=>{"use strict";i.d(t,{D:()=>h});var n=i(67992),s=i(37082),r=i(63252),a=i(98169),o=i(15637),l=i(75287),c=i(89557);class d extends l.T{constructor(){super(...arguments),this.selected=!1,this.visible=!0,this.animation=new c.z(0)}}var u=i(71161);class h extends n.V{constructor(e){super(),this.data=e,this.name="sweeps-view",this.states=new o.v,this.toolStateObservable=(0,s.Y)(u._.CLOSED),this.defaultSweepVisibilityRule=e=>e.enabled,this.sweepVisibilityRule=this.defaultSweepVisibilityRule,this.selectCurrentSweep=()=>{this.setSelectedSweep(this.data.currentSweep||null)},this.derivedData={},this.selectedSweepObservable=new s.f(null);const t=[u._.MOVING,u._.PLACING,u._.PRESSING,u._.ROTATING];e.makeSweepChangeSubscription((()=>{t.includes(this.toolState)||this.selectCurrentSweep()})),e.iterate((e=>{const t=new d;this.states.set(e.id,t),t.commit()})),this.updateViewData()}updateViewData(){this.data.iterate(((e,t)=>{this.derivedData[e.id]=this.makeViewDataForSweep(e,t)})),this.commit()}updateSweepVisibilityRule(e){this.sweepVisibilityRule=e||this.defaultSweepVisibilityRule}getSweepVisibility(e){return this.sweepVisibilityRule(e)}get selectedSweep(){return this.selectedSweepObservable.value}setSelectedSweep(e){if(e===this.selectedSweep)return;const t=this.selectedSweep;if(this.selectedSweepObservable.value=e,null!==e){const t=this.getState(e);t.selected=!0,t.commit()}if(null!==t){const e=this.getState(t);e.selected=!1,e.commit()}}onSelectedSweepChanged(e){return this.selectedSweepObservable.onChanged(e)}setToolState(e){e===u._.PLACING&&this.selectedSweep&&this.setSelectedSweep(null),this.toolStateObservable.value=e}get toolState(){return this.toolStateObservable.value}onToolStateChanged(e){return this.toolStateObservable.onChanged(e)}getSweep(e){return this.data.getSweep(e)}makeViewDataForSweep(e,t){const i=this.derivedData[e.id];return i?(i.floorId=e.floorId,i.position=e.position,i.alignmentType=e.alignmentType,i.placed=e.placementType===r.hU.MANUAL,i.enabled=e.enabled,i.name=e.name,i):{id:e.id,floorId:e.floorId,position:e.position,index:e.index,alignmentType:e.alignmentType,dataIndex:t,placed:e.placementType===r.hU.MANUAL,enabled:e.enabled,name:e.name}}getViewData(e){const t=this.data.getSweep(e),i=this.derivedData[e];return t&&!i&&(this.derivedData[e]=this.makeViewDataForSweep(t,t.index)),this.derivedData[e]}isSweepAligned(e){return this.data.isSweepAligned(e)}iterate(e){this.data.iterate(e)}getState(e){return this.states.get(e)}isVisible(e){return this.states.get(e).visible}setVisible(e,t){const i=this.getState(e);i.visible!==t&&(i.visible=t,i.commit())}updateAnimations(e){for(const t of this.states)t.animation.tick(e)}modifySelectAnimation(e,t,i){const n=this.getState(e).animation,s=1===n.endValue;t!==s&&(s?n.modifyAnimation(n.value,0,i):n.modifyAnimation(0,1,i))}getIndexByAlignment(e,t){return this.getAlignedSweeps(e).findIndex((e=>e.id===t))}getAlignedSweeps(e){const t=Object.values(this.derivedData);return e?t.filter((0,a._T)()):t.filter((0,a.WO)())}}},71161:(e,t,i)=>{"use strict";var n;i.d(t,{_:()=>n}),function(e){e.CLOSED="closed",e.IDLE="idle",e.PRESSING="pressing",e.PLACING="placing",e.MOVING="moving",e.ROTATING="rotating",e.ROTATED="rotated"}(n||(n={}))},61774:(e,t,i)=>{"use strict";i.d(t,{n:()=>S});var n=i(84428),s=i(67992),r=i(37082),a=i(15637),o=i(19077),l=i(90304),c=i(12150);function d(e,t,i,n,s){if(isNaN(t)||isNaN(i)||isNaN(n))return e;var r,a,o,l,c,d,u,h,p,m,f,g,v=e._root,b={data:s},y=e._x0,E=e._y0,S=e._z0,T=e._x1,O=e._y1,_=e._z1;if(!v)return e._root=b,e;for(;v.length;)if((h=t>=(a=(y+T)/2))?y=a:T=a,(p=i>=(o=(E+O)/2))?E=o:O=o,(m=n>=(l=(S+_)/2))?S=l:_=l,r=v,!(v=v[f=m<<2|p<<1|h]))return r[f]=b,e;if(c=+e._x.call(null,v.data),d=+e._y.call(null,v.data),u=+e._z.call(null,v.data),t===c&&i===d&&n===u)return b.next=v,r?r[f]=b:e._root=b,e;do{r=r?r[f]=new Array(8):e._root=new Array(8),(h=t>=(a=(y+T)/2))?y=a:T=a,(p=i>=(o=(E+O)/2))?E=o:O=o,(m=n>=(l=(S+_)/2))?S=l:_=l}while((f=m<<2|p<<1|h)==(g=(u>=l)<<2|(d>=o)<<1|c>=a));return r[g]=v,r[f]=b,e}function u(e,t,i,n,s,r,a){this.node=e,this.x0=t,this.y0=i,this.z0=n,this.x1=s,this.y1=r,this.z1=a}function h(e){return e[0]}function p(e){return e[1]}function m(e){return e[2]}function f(e,t,i,n){var s=new g(null==t?h:t,null==i?p:i,null==n?m:n,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?s:s.addAll(e)}function g(e,t,i,n,s,r,a,o,l){this._x=e,this._y=t,this._z=i,this._x0=n,this._y0=s,this._z0=r,this._x1=a,this._y1=o,this._z1=l,this._root=void 0}function v(e){for(var t={data:e.data},i=t;e=e.next;)i=i.next={data:e.data};return t}var b=f.prototype=g.prototype;b.copy=function(){var e,t,i=new g(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root;if(!n)return i;if(!n.length)return i._root=v(n),i;for(e=[{source:n,target:i._root=new Array(8)}];n=e.pop();)for(var s=0;s<8;++s)(t=n.source[s])&&(t.length?e.push({source:t,target:n.target[s]=new Array(8)}):n.target[s]=v(t));return i},b.add=function(e){var t=+this._x.call(null,e),i=+this._y.call(null,e),n=+this._z.call(null,e);return d(this.cover(t,i,n),t,i,n,e)},b.addAll=function(e){var t,i,n,s,r,a=e.length,o=new Array(a),l=new Array(a),c=new Array(a),u=1/0,h=1/0,p=1/0,m=-1/0,f=-1/0,g=-1/0;for(i=0;i<a;++i)isNaN(n=+this._x.call(null,t=e[i]))||isNaN(s=+this._y.call(null,t))||isNaN(r=+this._z.call(null,t))||(o[i]=n,l[i]=s,c[i]=r,n<u&&(u=n),n>m&&(m=n),s<h&&(h=s),s>f&&(f=s),r<p&&(p=r),r>g&&(g=r));if(u>m||h>f||p>g)return this;for(this.cover(u,h,p).cover(m,f,g),i=0;i<a;++i)d(this,o[i],l[i],c[i],e[i]);return this},b.cover=function(e,t,i){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(i=+i))return this;var n=this._x0,s=this._y0,r=this._z0,a=this._x1,o=this._y1,l=this._z1;if(isNaN(n))a=(n=Math.floor(e))+1,o=(s=Math.floor(t))+1,l=(r=Math.floor(i))+1;else{for(var c,d,u=a-n||1,h=this._root;n>e||e>=a||s>t||t>=o||r>i||i>=l;)switch(d=(i<r)<<2|(t<s)<<1|e<n,(c=new Array(8))[d]=h,h=c,u*=2,d){case 0:a=n+u,o=s+u,l=r+u;break;case 1:n=a-u,o=s+u,l=r+u;break;case 2:a=n+u,s=o-u,l=r+u;break;case 3:n=a-u,s=o-u,l=r+u;break;case 4:a=n+u,o=s+u,r=l-u;break;case 5:n=a-u,o=s+u,r=l-u;break;case 6:a=n+u,s=o-u,r=l-u;break;case 7:n=a-u,s=o-u,r=l-u}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=s,this._z0=r,this._x1=a,this._y1=o,this._z1=l,this},b.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},b.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},b.find=function(e,t,i,n){var s,r,a,o,l,c,d,h,p,m=this._x0,f=this._y0,g=this._z0,v=this._x1,b=this._y1,y=this._z1,E=[],S=this._root;for(S&&E.push(new u(S,m,f,g,v,b,y)),null==n?n=1/0:(m=e-n,f=t-n,g=i-n,v=e+n,b=t+n,y=i+n,n*=n);h=E.pop();)if(!(!(S=h.node)||(r=h.x0)>v||(a=h.y0)>b||(o=h.z0)>y||(l=h.x1)<m||(c=h.y1)<f||(d=h.z1)<g))if(S.length){var T=(r+l)/2,O=(a+c)/2,_=(o+d)/2;E.push(new u(S[7],T,O,_,l,c,d),new u(S[6],r,O,_,T,c,d),new u(S[5],T,a,_,l,O,d),new u(S[4],r,a,_,T,O,d),new u(S[3],T,O,o,l,c,_),new u(S[2],r,O,o,T,c,_),new u(S[1],T,a,o,l,O,_),new u(S[0],r,a,o,T,O,_)),(p=(i>=_)<<2|(t>=O)<<1|e>=T)&&(h=E[E.length-1],E[E.length-1]=E[E.length-1-p],E[E.length-1-p]=h)}else{var N=e-+this._x.call(null,S.data),A=t-+this._y.call(null,S.data),w=i-+this._z.call(null,S.data),I=N*N+A*A+w*w;if(I<n){var k=Math.sqrt(n=I);m=e-k,f=t-k,g=i-k,v=e+k,b=t+k,y=i+k,s=S.data}}return s},b.remove=function(e){if(isNaN(r=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(o=+this._z.call(null,e)))return this;var t,i,n,s,r,a,o,l,c,d,u,h,p,m,f,g=this._root,v=this._x0,b=this._y0,y=this._z0,E=this._x1,S=this._y1,T=this._z1;if(!g)return this;if(g.length)for(;;){if((u=r>=(l=(v+E)/2))?v=l:E=l,(h=a>=(c=(b+S)/2))?b=c:S=c,(p=o>=(d=(y+T)/2))?y=d:T=d,t=g,!(g=g[m=p<<2|h<<1|u]))return this;if(!g.length)break;(t[m+1&7]||t[m+2&7]||t[m+3&7]||t[m+4&7]||t[m+5&7]||t[m+6&7]||t[m+7&7])&&(i=t,f=m)}for(;g.data!==e;)if(n=g,!(g=g.next))return this;return(s=g.next)&&delete g.next,n?(s?n.next=s:delete n.next,this):t?(s?t[m]=s:delete t[m],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(i?i[f]=g:this._root=g),this):(this._root=s,this)},b.removeAll=function(e){for(var t=0,i=e.length;t<i;++t)this.remove(e[t]);return this},b.root=function(){return this._root},b.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},b.visit=function(e){var t,i,n,s,r,a,o,l,c=[],d=this._root;for(d&&c.push(new u(d,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=c.pop();)if(!e(d=t.node,n=t.x0,s=t.y0,r=t.z0,a=t.x1,o=t.y1,l=t.z1)&&d.length){var h=(n+a)/2,p=(s+o)/2,m=(r+l)/2;(i=d[7])&&c.push(new u(i,h,p,m,a,o,l)),(i=d[6])&&c.push(new u(i,n,p,m,h,o,l)),(i=d[5])&&c.push(new u(i,h,s,m,a,p,l)),(i=d[4])&&c.push(new u(i,n,s,m,h,p,l)),(i=d[3])&&c.push(new u(i,h,p,r,a,o,m)),(i=d[2])&&c.push(new u(i,n,p,r,h,o,m)),(i=d[1])&&c.push(new u(i,h,s,r,a,p,m)),(i=d[0])&&c.push(new u(i,n,s,r,h,p,m))}return this},b.visitAfter=function(e){var t,i=[],n=[];for(this._root&&i.push(new u(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=i.pop();){var s=t.node;if(s.length){var r,a=t.x0,o=t.y0,l=t.z0,c=t.x1,d=t.y1,h=t.z1,p=(a+c)/2,m=(o+d)/2,f=(l+h)/2;(r=s[0])&&i.push(new u(r,a,o,l,p,m,f)),(r=s[1])&&i.push(new u(r,p,o,l,c,m,f)),(r=s[2])&&i.push(new u(r,a,m,l,p,d,f)),(r=s[3])&&i.push(new u(r,p,m,l,c,d,f)),(r=s[4])&&i.push(new u(r,a,o,f,p,m,h)),(r=s[5])&&i.push(new u(r,p,o,f,c,m,h)),(r=s[6])&&i.push(new u(r,a,m,f,p,d,h)),(r=s[7])&&i.push(new u(r,p,m,f,c,d,h))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},b.x=function(e){return arguments.length?(this._x=e,this):this._x},b.y=function(e){return arguments.length?(this._y=e,this):this._y},b.z=function(e){return arguments.length?(this._z=e,this):this._z};var y=i(2569),E=i(18596);class S extends s.V{constructor(e,t,i,n,s,l,d,u,h,p){super(),this.data=e,this.floorsData=t,this.cameraStartData=i,this.textParser=s,this.linkHandler=l,this.tagDefaultTitle=d,this.backgroundTexture=u,this.objectTagsEnabled=h,this.name="tags-view-data",this.tagViewsMap=(0,a.q)(),this.customSortIndexMap=new Map,this.spatialSortOrderMap=new Map,this.openTagViewObservable=(0,r.Y)(null),this.tagsMode=c.U.DEFAULT,this.tagOrder=c.D.ORDERED,this.dirtyTagState=!1,this.creatingTag=!1,this.idVisibilityEnabled=!1,this.idVisibility=new Set,this.capabilities=new Map,this.updateTagViews=e=>{const t={};this.data.iterate((e=>{t[e.sid]=this.createTagView(e)})),this.updateSortMaps(Object.values(t),e),this.tagViewsMap.atomic((()=>{this.tagViewsMap.replace(t)}))},this.sortByOrder=(e,t)=>{var i,n;const s=(null!==(i=this.customSortIndexMap.get(e.id))&&void 0!==i?i:Number.MAX_SAFE_INTEGER)-(null!==(n=this.customSortIndexMap.get(t.id))&&void 0!==n?n:Number.MAX_SAFE_INTEGER);if(s)return s;const r=this.spatialSortOrderMap.get(e.id),a=this.spatialSortOrderMap.get(t.id);if(void 0===r||void 0===a)throw new Error("All ids should exist in spatialPositions");return r-a},this.sortByText=(e,t)=>{function i(e,t){return(e.label.trim()||e.description||t).toLowerCase()}return i(e,this.tagDefaultTitle)<i(t,this.tagDefaultTitle)?-1:1},p||(this.tagOrder=c.D.FLOOR_ORDERED),this.orderedTagViews=new o.Q(this.tagViewsMap),this.orderedTagViews.priority=o.K.LOW,this.orderedTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.updateTagViews(n),this.orderedTagViews.sort(this.sortByOrder)}getAlphabeticTagViewMapFilter(){return this.alphabeticalTagViews||(this.alphabeticalTagViews=new o.Q(this.tagViewsMap),this.alphabeticalTagViews.priority=o.K.LOW,this.alphabeticalTagViews.setFilter("objectTag",(e=>!e.objectAnnotationId)),this.alphabeticalTagViews.sort(this.sortByText)),this.alphabeticalTagViews}getCollection(){return this.tagViewsMap}getOrderedTagViewMapFilter(){return this.orderedTagViews}getOrderedTags(e){return this.getEnabledTagViewsList(this.orderedTagViews,e)}getTagsByText(e){const t=this.getAlphabeticTagViewMapFilter();return this.getEnabledTagViewsList(t,e)}getEnabledTagViewsList(e,t){const i=e.values;return t?i.filter((e=>e.enabled)):i}getTextParser(){return this.textParser}getLinkHandler(){return this.linkHandler}getCapabilities(e){const t={focus:!0};this.capabilities.has(e)||this.capabilities.set(e,t);const i=this.capabilities.get(e)||t;return Object.assign({},i)}updateCapabilities(e,t){this.capabilities.set(e,Object.assign({},t))}setTagsMode(e){this.tagsMode=e,this.commit()}getTagCount(e){return this.getOrderedTags(e).length}hasCustomSortOrder(){return this.customSortIndexMap.size>0}getTagView(e){return this.tagViewsMap.get(e)}createTagView(e){return{id:e.sid,created:e.created,modified:e.modified,label:e.label,description:e.description,enabled:e.enabled,color:`#${e.color.getHexString()}`,anchorPosition:e.anchorPosition,floorId:e.floorId,roomId:e.roomId,layerId:e.layerId,stemNormal:e.stemVector,stemLength:e.stemHeight,stemEnabled:e.stemVisible,attachments:[...e.externalAttachments,...e.fileAttachments,...e.sandboxAttachments],objectAnnotationId:e.objectAnnotationId,keywords:e.keywords,icon:e.icon,backgroundTexture:this.backgroundTexture}}setOpenTagView(e){this.openTagViewObservable.value=e}get openTagView(){return this.openTagViewObservable.value}onOpenTagViewChanged(e){return this.openTagViewObservable.onChanged(e)}getAvailableKeywords(){return Array.from(new Set(this.data.getTagKeywords()))}updateSortMaps(e,t){t&&this.updateCustomSortMap(t),this.updateSpatialSortMap(e),this.orderedTagViews.setDirty(!0)}updateCustomSortMap(e){this.customSortIndexMap.clear(),e.forEach(((e,t)=>this.customSortIndexMap.set(e,t)))}updateSpatialSortMap(e){const{floorsData:t,cameraStartData:i}=this,s=i.pose.camera.position||l.f.ZERO,r=i.pose.camera.rotation||new n.Quaternion,a=t.getClosestFloorAtHeight(s.y).index,o=(0,y.xS)(s,r,(0,E.AN)(1));this.spatialSortOrderMap.clear();let c=0;for(let i=0;i<t.getFloorCount();i++){const r=(a+i)%t.getFloorCount(),l=t.getFloorAtIndex(r);if(!l)continue;const d=e.filter((e=>e.floorId===l.id));if(0===d.length)continue;let u,h=1/0;const p=new n.Vector3,m=(new f).x((e=>e.x)).y((e=>e.y)).z((e=>e.z));m.addAll(d.map((e=>{p.copy(e.stemNormal).setLength(e.stemLength).add(e.anchorPosition);const t={id:e.id,x:p.x,y:p.y,z:p.z},i=p.distanceToSquared(s);return i<h&&o.containsPoint(p)&&(h=i,u=t),t})));let g=null!=u?u:m.find(s.x,s.y,s.z);this.spatialSortOrderMap.set(g.id,c++),m.remove(g);let v=d.length-1;for(;v>0;)g=m.find(g.x,g.y,g.z),this.spatialSortOrderMap.set(g.id,c++),m.remove(g),v--}}}},43037:(e,t,i)=>{"use strict";i.d(t,{yU:()=>s,$J:()=>r,QG:()=>a,bg:()=>o,$g:()=>l,zt:()=>c,q4:()=>d,lt:()=>u,T3:()=>h,xb:()=>p,$B:()=>m,aI:()=>f,Sq:()=>g,Li:()=>v,kT:()=>b});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={opened:e}}}class r extends n.m{constructor(){super()}}class a extends n.m{constructor(e,t,i,n,s){super(),this.payload={id:e,properties:t,pendingAttachments:i,removedAttachments:n,embed:s}}}class o extends n.m{constructor(e,t){super(),this.payload={id:e,visible:t}}}class l extends n.m{constructor(){super()}}class c extends n.m{constructor(e){super(),this.id="TAG_EDIT",this.payload={tagId:e}}}class d extends n.m{constructor(e){super(),this.id="TAG_DIRTY_TOGGLE",this.payload={dirty:e}}}class u extends n.m{constructor(e,t){super(),this.id="TAG_OPEN";const{transition:i=null,dock:n=null,objectTag:s=!1,forceOpen:r=!1}=t||{};this.payload={tagId:e,transition:i,dock:n,objectTag:s,forceOpen:r}}}class h extends n.m{constructor(e,t){super(),this.id="TAG_DELETE",this.payload={id:e,removalMethod:t}}}class p extends n.m{constructor(){super()}}class m extends n.m{constructor(e){super(),this.payload={ids:e}}}class f extends n.m{constructor(e){super(),this.payload={enabled:e}}}class g extends n.m{constructor(e){super(),this.payload={ids:e}}}class v extends n.m{constructor(e){super(),this.payload={mode:e}}}class b extends n.m{constructor(e){super(),this.payload={order:e}}}},12150:(e,t,i)=>{"use strict";var n,s;i.d(t,{U:()=>n,D:()=>s}),function(e){e.DEFAULT="default",e.REORDERING="reordering"}(n||(n={})),function(e){e.ORDERED="by-tag-order",e.ALPHABETICAL="by-tag-text",e.FLOOR_ORDERED="by-floor-ordered",e.FLOOR_ALPHABETICAL="by-floor-alphabetical"}(s||(s={}))},71330:(e,t,i)=>{"use strict";i.d(t,{P:()=>r});var n=i(67294),s=i(31981);function r(){const e=(0,s.w)(),[t,i]=(0,n.useState)(e?e.openTagView:null);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onOpenTagViewChanged(i);return i(e.openTagView),()=>t.cancel()}),[e]),t}(0,i(74554).M)("openTagView",r)},44158:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});var n=i(67294),s=i(31981);function r(e){const t=(0,s.w)(),[i,r]=(0,n.useState)((null==t?void 0:t.getOrderedTags(e))||[]);return(0,n.useEffect)((()=>{if(!t)return()=>{};function i(){t&&r(t.getOrderedTags(e))}const n=t.getOrderedTagViewMapFilter().onChanged(i);return i(),()=>n.cancel()}),[t,e]),i}},33338:(e,t,i)=>{"use strict";i.d(t,{L:()=>a});var n=i(67294),s=i(31981);function r(e){return e?e.getLinkHandler():null}function a(){const e=(0,s.w)(),[t,i]=(0,n.useState)(r(e));return(0,n.useEffect)((()=>(t||i(r(e)),()=>{})),[e]),t}},31981:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});var n=i(45755),s=i(61774);const r=(0,n.u)(s.n)},48945:(e,t,i)=>{"use strict";i.d(t,{RY:()=>n,Qy:()=>s,RV:()=>r,i1:()=>a});const n="features/tags2",s="tags2",r="features/tagIcons",a="spaces.tags_v2";Object.freeze({colors:["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#03687d","#03a9f4","#00bcd4","#417505","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"]})},50892:(e,t,i)=>{"use strict";i.d(t,{U:()=>s});var n=i(75287);class s extends n.T{constructor(e){super(),this.order=1e4,e&&Object.assign(this,e)}}},91380:(e,t,i)=>{"use strict";i.d(t,{t:()=>l});var n=i(67992),s=i(37082),r=i(15637),a=i(19077),o=i(76631);class l extends n.V{constructor(){super(),this.name="tools-data",this.tools=(0,r.q)(),this.toolsLoadedObservable=(0,s.Y)(!1),this.assetDockedObservable=(0,s.Y)(!1),this.activeToolNameObservable=(0,s.Y)(null),this.previousToolNameObservable=(0,s.Y)(null),this.openModalObservable=(0,s.Y)(null),this.softOpeningObservable=(0,s.Y)(!1),this.panelLayoutObservable=(0,s.Y)(l.defaultToolPanelLayout),this.toolCollapsedObservable=(0,s.Y)(!1),this.toolPalettes=new a.Q(this.tools),this.toolPalettes.setFilter("enabled",(e=>e.enabled)),this.toolPalettes.setFilter("palette",(e=>!!e.palette)),this.toolPalettes.sort(((e,t)=>e.order-t.order)),this.toolPalettes.priority=a.K.LOW}iterate(e){for(const t of this.tools)e(t)}get toolsMap(){return this.tools}getToolPalettes(){return this.toolPalettes.groupBy("palette")}hasTool(e){return this.toolsMap.has(e)}getTool(e){return this.tools.get(e)}addTool(...e){e.forEach((e=>this.tools.set(e.id,e))),this.onToolsAddedOrRemoved()}removeTool(...e){e.forEach((e=>this.tools.delete(e))),this.onToolsAddedOrRemoved()}removeAllTools(){this.tools.clear(),this.onToolsAddedOrRemoved()}get assetDocked(){return this.assetDockedObservable.value}setAssetDocked(e){this.assetDockedObservable.value=e}onAssetDockedChanged(e){return this.assetDockedObservable.onChanged(e)}getActiveTool(){return this.activeToolName?this.getTool(this.activeToolName):null}get activeToolName(){return this.activeToolNameObservable.value}setActiveTool(e){const t=this.activeToolNameObservable.value;this.previousToolNameObservable.value=e?t:null,this.activeToolNameObservable.value=e}onToolChanged(e){return this.activeToolNameObservable.onChanged(e)}get previousToolName(){return this.previousToolNameObservable.value}onPreviousToolChanged(e){return this.previousToolNameObservable.onChanged(e)}get openModal(){return this.openModalObservable.value}setOpenModal(e){this.openModalObservable.value=e}onOpenModalChanged(e){return this.openModalObservable.onChanged(e)}onToolsLoadedChanged(e){return this.toolsLoadedObservable.onChanged(e)}get toolsLoaded(){return this.toolsLoadedObservable.value}get softOpening(){return this.softOpeningObservable.value}setSoftOpening(e){this.softOpeningObservable.value=e}onSoftOpeningChanged(e){return this.softOpeningObservable.onChanged(e)}isPanelOpen(){return this.toolPanelLayout===o.wS.SIDE_PANEL||this.toolPanelLayout===o.wS.BOTTOM_PANEL}isToolCollapsedToBottom(){return this.toolPanelLayout===o.wS.BOTTOM_PANEL&&this.toolCollapsed}setToolPanelLayout(e){this.panelLayoutObservable.value=e}get toolPanelLayout(){return this.panelLayoutObservable.value}onToolPanelLayoutChanged(e){return this.panelLayoutObservable.onChanged(e)}onToolCollapsedChanged(e){return this.toolCollapsedObservable.onChanged(e)}setToolCollapsed(e){this.toolCollapsedObservable.value=e}get toolCollapsed(){return this.toolCollapsedObservable.value}onToolsAddedOrRemoved(){this.toolsLoadedObservable.value=!this.toolsLoadedObservable.value}}l.defaultToolPanelLayout=o.wS.NORMAL},89549:(e,t,i)=>{"use strict";i.d(t,{Fg:()=>s,qy:()=>r,tT:()=>a,Ye:()=>o,MV:()=>l,cR:()=>c,z2:()=>d,eS:()=>u,CH:()=>h});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={collapse:e}}}s.id="TOOL_PANEL_TOGGLE_COLLAPSE";class r extends n.m{constructor(e){super(),this.payload={collapse:e}}}r.id="TOOL_BOTTOM_PANEL_COLLAPSE";class a extends n.m{constructor(e,t){super(),this.payload={toolName:e,active:t}}}a.id="TOGGLE_TOOL";class o extends n.m{constructor(e){super(),this.payload={checkForEdits:e}}}o.id="CLOSE_REMOVE_TOOLS";class l extends n.m{constructor(e){super(),this.payload={tools:e}}}l.id="REGISTER_TOOLS";class c extends n.m{}c.id="OPEN_PREVIOUS_TOOL";class d extends n.m{constructor(e,t=!1){super(),this.payload={toolName:e,softOpening:t}}}d.id="OPEN_TOOL";class u extends n.m{}u.id="CLOSE_CURRENT_TOOL";class h extends n.m{constructor(e){super(),this.payload={toolName:e}}}h.id="CLOSE_TOOL"},76631:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{w1:()=>n,$r:()=>s,wS:()=>r}),function(e){e.START_LOCATION="START_LOCATION",e.SCANS_3D="SCANS_3D",e.VIEW_360="VIEW_360",e.PHOTOS="PHOTOS",e.LABELS="LABELS",e.LAYERS="LAYERS",e.MEASUREMENTS="MEASUREMENTS",e.MATTERTAGS="MATTERTAGS",e.HLR="HLR",e.SETTINGS_PANEL="SETTINGS_PANEL",e.NOTES="NOTES",e.TAGS="TAGS",e.BLUR="BLUR",e.SEARCH="SEARCH",e.MESH_TRIM="MESH_TRIM",e.SUMMARY="SUMMARY",e.PLUGIN_CONFIG="PLUGIN_CONFIG",e.ROOM_BOUNDS="ROOM_BOUNDS"}(n||(n={})),function(e){e[e.VIEW_BASED=1]="VIEW_BASED",e[e.MODEL_BASED=2]="MODEL_BASED",e[e.MISC=3]="MISC"}(s||(s={})),function(e){e.NORMAL="normal",e.NARROW="narrow",e.SIDE_PANEL="side-panel",e.BOTTOM_PANEL="bottom-panel"}(r||(r={}))},96403:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});var n=i(67294),s=i(29113);function r(){const e=(0,s.w)(),[t,i]=(0,n.useState)((null==e?void 0:e.activeToolName)||null);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onToolChanged(i);return()=>t.cancel()}),[e]),t}(0,i(74554).M)("activeTool",r)},56509:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});var n=i(76631),s=i(40216);function r(){const e=(0,s.T)();return e===n.wS.NARROW||e===n.wS.BOTTOM_PANEL}},15501:(e,t,i)=>{"use strict";i.d(t,{R:()=>r,W:()=>a});var n=i(67294),s=i(29113);function r(){const e=(0,s.w)(),[t,i]=(0,n.useState)((null==e?void 0:e.openModal)||null);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onOpenModalChanged(i);return()=>t.cancel()}),[e]),t}const a=(0,i(74554).M)("openModal",r)},50788:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});var n=i(67294),s=i(29113);function r(){const e=(0,s.w)(),[t,i]=(0,n.useState)((null==e?void 0:e.previousToolName)||null);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onPreviousToolChanged(i);return()=>t.cancel()}),[e]),t}},65596:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var n=i(67294),s=i(29113);function r(){const e=(0,s.w)(),[t,i]=(0,n.useState)((null==e?void 0:e.softOpening)||!1);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onSoftOpeningChanged(i);return()=>t.cancel()}),[e]),t}},33023:(e,t,i)=>{"use strict";i.d(t,{Q:()=>r});var n=i(67294),s=i(29113);function r(e){const t=(0,s.w)(),[i,r]=(0,n.useState)((null==t?void 0:t.getTool(e))||null);return(0,n.useEffect)((()=>{if(!t)return()=>{};const i=t.onChanged((()=>r((null==t?void 0:t.getTool(e))||null)));return()=>i.cancel()}),[t]),i}},51588:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var n=i(67294),s=i(29113);function r(){const e=(0,s.w)(),[t,i]=(0,n.useState)((null==e?void 0:e.toolCollapsed)||!1);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onToolCollapsedChanged(i);return()=>t.cancel()}),[e]),t}(0,i(74554).M)("toolCollapsed",r)},40216:(e,t,i)=>{"use strict";i.d(t,{T:()=>a});var n=i(67294),s=i(91380),r=i(29113);function a(){const e=(0,r.w)(),[t,i]=(0,n.useState)((null==e?void 0:e.toolPanelLayout)||s.t.defaultToolPanelLayout);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.onToolPanelLayoutChanged(i);return()=>t.cancel()}),[e]),t}},29113:(e,t,i)=>{"use strict";i.d(t,{w:()=>a});var n=i(45755),s=i(74554),r=i(91380);const a=(0,n.u)(r.t);(0,s.M)("toolsData",a)},40964:(e,t,i)=>{"use strict";i.d(t,{ro:()=>s,A:()=>r,U7:()=>a,Zi:()=>o,rh:()=>l,ps:()=>c,bz:()=>d});var n=i(98010);class s extends n.v{}class r extends n.v{}class a extends n.v{constructor(e){super(),this.collapsed=e}}class o extends n.v{constructor(e){super(),this.fullSized=e}}class l extends n.v{constructor(e,t){super(),this.active=e,this.collapsed=t}}class c extends n.v{constructor(e){super(),this.show=e}}class d extends n.v{constructor(e){super(),this.visible=e}}},96767:(e,t,i)=>{"use strict";i.d(t,{TH:()=>s,vy:()=>r,rU:()=>a,HW:()=>o,r2:()=>l,Ri:()=>c});var n=i(19663);class s extends n.m{constructor(e={}){super(),this.id="TOUR_START",this.payload=e}}class r extends n.m{constructor(e={}){super(),this.id="TOUR_STOP",this.payload=e}}class a extends n.m{constructor(e,t=!1){super(),this.id="TOUR_STEP",this.payload={index:e,instant:t}}}class o extends n.m{constructor(e,t=!1){super(),this.id="TOUR_RELATIVE",this.payload={forward:e,instant:t}}}class l extends n.m{constructor(){super(),this.id="TOUR_NEXT_STEP"}}class c extends n.m{constructor(){super(),this.id="TOUR_PREVIOUS_STEP"}}},33397:(e,t,i)=>{"use strict";i.d(t,{z:()=>s,Y:()=>r});var n=i(2224);class s extends n.y{constructor(e="Invalid tour transition"){super(e),this.name="TourTransition"}}class r extends n.y{constructor(e="Cannot start tour"){super(e),this.name="TourStart"}}},17686:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{BZ:()=>n,kw:()=>s,Aq:()=>r,c5:()=>a}),function(e){e[e.Pan=0]="Pan",e[e.PanDollhouse=1]="PanDollhouse",e[e.Zoom=2]="Zoom",e[e.Delay=3]="Delay",e[e.None=4]="None"}(n||(n={})),function(e){e[e.Left=1]="Left",e[e.Auto=0]="Auto",e[e.Right=-1]="Right"}(s||(s={})),function(e){e[e.Move=0]="Move",e[e.Burns=1]="Burns",e[e.Zoom=2]="Zoom",e[e.Path=3]="Path",e[e.FloorChange=4]="FloorChange",e[e.Delay=5]="Delay",e[e.Nop=6]="Nop"}(r||(r={}));const a=[r.Burns,r.Zoom,r.Delay]},96154:(e,t,i)=>{"use strict";i.d(t,{oR:()=>s,Vx:()=>r,dW:()=>a,_3:()=>o,NR:()=>l,Mt:()=>c,sY:()=>d});var n=i(98010);class s extends n.v{}class r extends n.v{constructor(e){super(),this.index=e}}class a extends n.v{constructor(e){super(),this.index=e}}class o extends n.v{constructor(e,t,i){super(),this.index=e,this.transitionType=t,this.duration=i}}class l extends n.v{constructor(e){super(),this.willResume=e}}class c extends n.v{}class d extends n.v{}},14439:(e,t,i)=>{"use strict";i.d(t,{WQ:()=>r,EU:()=>a,OJ:()=>o,BY:()=>l,Im:()=>c,LO:()=>d,N5:()=>u,Qo:()=>h,Pv:()=>p,Mk:()=>m,mL:()=>f,eu:()=>g,NY:()=>v,gS:()=>b,O2:()=>y,rM:()=>E,z8:()=>S,f7:()=>T,Cp:()=>O,_D:()=>_,HJ:()=>N,_c:()=>A,xs:()=>w,BA:()=>I,lY:()=>k,pn:()=>P,z$:()=>L,b_:()=>C,mS:()=>R,GS:()=>D,su:()=>M,i7:()=>x,dF:()=>j,g_:()=>U,y:()=>H,zi:()=>F,Xd:()=>B});var n=i(55450),s=i(76609);const r="TourSpeed &wts",a="ToursMetersPerSecond",o=.4,l=10,c=1.25,d=.8,u=6,h=3,p=1e3*d,m=1e3*c,f=600,g=400,v=1200,b=1200,y=35,E=15,S=120,T=1200,O=75,_=400,N=n.DEFAULT_TRANSITION_TIME-f,A=(s.SL.BASE,"kb"),w="sspa",I=35,k="st",P=I/3500*1e3,L=2,C=52,R=0,D=2e3,M=.2*P,x=3500,j=e=>1===e.getOverrideParam(A,1),U=e=>e.getOverrideParam(k,3500),H=e=>e.getOverrideParam(w,I),F=e=>e.getOverrideParam("ts",-1),B=Object.freeze({walkingTourIncludeExtraPanosDistance:.4,walkingStageMinimumDistance:.8,maxWalkingSweepsBetweenSnapshots:40})},96042:(e,t,i)=>{"use strict";i.d(t,{HG:()=>a,JG:()=>o,mf:()=>l,DA:()=>c});var n=i(2569),s=i(69505),r=i(14439);const a=e=>{let t=r.Im;if(!isNaN(e)){const i=Math.min(Math.max(r.OJ,e),r.BY);t=(0,n.et)(i,r.OJ,r.BY,r.LO,r.Qo)}return t},o=e=>(0,n.et)(e,r.LO,r.N5,r.OJ,r.BY),l=e=>Math.min(Math.max(r.LO,e),r.N5),c=e=>(0,s.Id)(e)/1e3},65397:(e,t,i)=>{"use strict";i.d(t,{T:()=>o});var n=i(67992),s=i(15637),r=i(37082),a=i(60699);class o extends n.V{constructor(e,t,i){super(),this.data=e,this.currentTourMode=i,this.name="tours-view-data",this.reelOpen=!1,this.tourSweepsObservable=(0,s.q)(),this.tourModeSettingObservable=(0,r.Y)(t)}getPhotosForTour(){return this.data.getPhotosForTour()}isTourEmpty(){return 0===this.data.getSnapshotCount()}onReelChanged(e){return this.data.getReel().onChanged(e)}getTourStoryMode(){return this.currentTourMode===a.zz.STORIES}get tourModeSetting(){return this.tourModeSettingObservable.value}setTourModeSetting(e){this.tourModeSettingObservable.value=e}onTourModeSettingChanged(e){return this.tourModeSettingObservable.onChanged(e)}setSweepsInToursAcrossViews(e){this.atomic((()=>{this.tourSweepsObservable.clear(),e.forEach((e=>{this.addTourSweepForView(e.sweepId,e.viewId)}))}))}getViewsWithSweepInTour(e){return this.tourSweepsObservable.get(e)||[]}isSweepInAnyTour(e){return this.tourSweepsObservable.has(e)}isSweepInTourForView(e,t){return this.getViewsWithSweepInTour(e).includes(t)}onSweepsInToursChanged(e){return this.tourSweepsObservable.onChanged(e)}addTourSweepForView(e,t){const i=this.tourSweepsObservable.get(e);i?i.push(t):this.tourSweepsObservable.set(e,[t])}}},89264:(e,t,i)=>{"use strict";i.d(t,{Te:()=>s,CI:()=>r,Ty:()=>a,K1:()=>o,Av:()=>l,iy:()=>c});var n=i(19663);class s extends n.m{constructor(e){super(),this.id="TOUR_SET_TOUR_MODE",this.payload={tourMode:e}}}class r extends n.m{constructor(e,t){super(),this.id="TOUR_RENAME",this.payload={sid:e,name:t}}}class a extends n.m{constructor(e,t){super(),this.id="TOUR_CHANGE_TITLE",this.payload={sid:e,title:t}}}class o extends n.m{constructor(e,t){super(),this.id="TOUR_CHANGE_DESCRIPTION",this.payload={sid:e,description:t}}}class l extends n.m{constructor(e){super(),this.payload={open:e}}}l.id="HIGHLIGHT_REEL_TOGGLE_OPEN";class c extends n.m{constructor(e){super(),this.payload={show:e}}}c.id="HIGHLIGHT_REEL_SHOW_STORY_TEXT"},2473:(e,t,i)=>{"use strict";i.d(t,{b:()=>c,k:()=>d});var n=i(67992),s=i(17686),r=i(37082),a=i(10385),o=i(60699),l=i(5823);const c={active:!1,type:s.Aq.Move,promise:Promise.resolve(),stop:()=>Promise.resolve(),toIndex:-1,duration:0,started:-1,stopped:-1};class d extends n.V{constructor(e={},t,i,n,s,l){super(),this.snapshots=e,this.activeReel=t,this.allowedModes=i,this.modelSweeps=n,this.looping=s,this.log=l,this.name="tour",this.tourState=o.Vs.Inactive,this.transitionObservable=(0,r.Y)(c),this.tourCurrentSnapshot=-1,this.enabledTourStops=(0,a.C)([]),this.tourPlaying=!1,this.tourWillResume=!1,this.tourEnded=!1,this.updateEnabledStops=e=>{if(this.enabledTourStops.replace([]),this.activeReel&&this.activeReel.reel)for(const t of this.activeReel.reel)if(t&&t.sid in this.snapshots){const i=this.snapshots[t.sid],n=i.metadata.cameraMode,s=i.metadata.scanId,r=-1!==e.indexOf(n),a=this.modelSweeps.findIndex((e=>e.id===s)),o=void 0!==s&&-1!==a&&this.modelSweeps[a].enabled,l=!s;r&&(l||o)&&this.enabledTourStops.push(t.sid)}},this.updateEnabledStops(i),this.looping=s,this.commit()}setHighlightReel(e){this.atomic((()=>{this.activeReel.replace(e),this.updateEnabledStops(this.allowedModes),this.resetEmptyReel()}));const t=Object.keys(this.getReel()).length,i=this.getSnapshotCount();t!==i&&this.log.info(t-i+" items in snapshots, but not in reel")}addSnapshotToTour(e,t=o.VH.Current){this.snapshots[e.sid]=e;this.allowedModes.includes(e.metadata.cameraMode)&&this.enabledTourStops.push(e.sid);const i=this.tourCurrentSnapshotSid;switch(this.tourCurrentSnapshotSid=e.sid,t){case o.VH.Beginning:this.tourCurrentSnapshot=0,this.activeReel.reel.insert(0,{sid:e.sid});break;case o.VH.End:this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push({sid:e.sid});break;case o.VH.Current:if(void 0===i)this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push({sid:e.sid});else{let t=this.activeReel.reel.findIndex((e=>!!e&&e.sid===i))+1;(t<=0||t>this.activeReel.reel.length)&&(t=this.activeReel.reel.length-1),this.tourCurrentSnapshot=this.tourCurrentSnapshot+1,this.activeReel.reel.insert(t,{sid:e.sid})}break;default:throw new Error(`Tours.addSnapshotToTour not implemented: ${t}`)}this.useTransition(c),this.commit()}clearHighlightOverrides(e,t,i){if(!t&&!i)return;const n={};t&&(n.transitionType=void 0),i&&(n.panDirection=void 0,n.panAngle=void 0),this.applyHighlightOverrides(e,n)}clearAllHighlightOverrides(){this.getReel().reel.forEach((e=>{e&&this.clearHighlightOverrides(e.sid,!0,!0)}))}resetAllTransitionTypeOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,i)=>{t&&t.overrides&&t.overrides.transitionType&&(delete t.overrides.transitionType,this.activeReel.reel.update(i,t),e=!0)})),e&&this.activeReel.setDirty()}}resetAllPanSettingOverrides(){if(this.activeReel&&this.activeReel.reel){let e=!1;this.activeReel.reel.forEach(((t,i)=>{t&&t.overrides&&(void 0===t.overrides.panAngle&&void 0===t.overrides.panDirection||(delete t.overrides.panAngle,delete t.overrides.panDirection,e=!0,this.activeReel.reel.update(i,t)))})),e&&this.activeReel.setDirty()}}applyHighlightOverrides(e,t){const i=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e));this.setHighlightOverrides(i,t)}setHighlightOverrides(e,t){const i=this.activeReel.reel.get(e);if(!i)throw Error(`Highlight not found for ${e}`);const n={sid:i.sid,title:i.title,description:i.description};i.overrides?(n.overrides=Object.assign({},i.overrides),t.hasOwnProperty("panDirection")&&(n.overrides.panDirection=t.panDirection),t.hasOwnProperty("transitionType")&&(n.overrides.transitionType=t.transitionType),t.hasOwnProperty("panAngle")&&(n.overrides.panAngle=t.panAngle)):n.overrides={transitionType:t.transitionType,panDirection:t.panDirection,panAngle:t.panAngle},this.activeReel.reel.update(e,n)}updateReelEntry(e){const{sid:t}=e,i=this.activeReel.reel.findIndex((e=>!!e&&e.sid===t));if(-1===i)throw Error(`Reel entry not found for ${t}`);const n=this.activeReel.reel.get(i);if(!e)throw Error(`Reel entry not found for ${i}`);const s=Object.assign({},n,e);this.activeReel.reel.update(i,s)}moveTourStop(e,t){const i=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e)),n=this.activeReel.reel.findIndex((e=>!!e&&e.sid===t));this.activeReel.reel.move(i,n)}clear(){this.resetEmptyReel(),this.enabledTourStops.replace([]),this.activeReel.reel.length=0,this.commit()}removeTourStop(e){const t=this.enabledTourStops.indexOf(e),i=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e)),n=this.getTourIndexBySid(e);if(-1!==t&&this.enabledTourStops.splice(t,1),this.enabledTourStops.length>0){const e=n<=this.tourCurrentSnapshot?this.tourCurrentSnapshot-1:this.tourCurrentSnapshot;this.setTourCurrentSnapshotByIndex(Math.max(e,0))}else this.resetEmptyReel();this.activeReel.reel.remove(i)}getReel(){return this.activeReel}isLooping(){return this.looping}setLooping(e){this.looping=e}getActiveReelTourMode(){return this.activeReel.mode||l.Z1.REEL}setActiveReelTourMode(e){this.activeReel.mode=e,this.activeReel.commit()}isTourActive(){return this.tourState!==o.Vs.Inactive}getCurrentTourState(){return{currentStep:this.getTourCurrentSnapshotIndex(),tourPlaying:this.tourPlaying||this.tourWillResume,totalSteps:this.getSnapshotCount(),tourEnded:this.tourEnded,activeStep:this.transition&&-1!==this.transition.toIndex?this.transition.toIndex:this.getTourCurrentSnapshotIndex(),highlights:this.getReelHighlights(),transition:this.transition}}get transition(){return this.transitionObservable.value}isTourTransitionActive(){return this.transition.active}getTourTransitionType(){return this.transition.type}useTransition(e){this.transitionObservable.value=e}async stopTourTransition(){await this.transition.stop()}iterateSnapshots(e){let t=0;this.activeReel.reel.forEach((i=>{if(i&&this.isEnabled(i.sid)){const n=this.snapshots[i.sid];e(n,t++)}}))}isSnapshotInTour(e){return-1!==this.activeReel.reel.findIndex((t=>!!t&&t.sid===e))}getEnabledSnapshots(){const e=[];return this.iterateSnapshots(((t,i)=>{e.push(t)})),e}updateSnapshots(e){this.snapshots=e}async getPhotosForTour(){const e=[];for(const t in this.snapshots){const i=this.snapshots[t];"tour"!==i.category&&"panorama"!==i.category&&e.push({name:i.name,sid:i.sid,thumbnailUrl:await i.thumbnailUrl.get(),inReel:-1!==this.activeReel.reel.findIndex((e=>!!e&&e.sid===t)),created:i.created})}return e.sort(((e,t)=>t.created.getTime()-e.created.getTime())),e}getSnapshot(e){return this.snapshots[e]}getTourStop(e){const t=this.activeReel.reel.findIndex((t=>!!t&&t.sid===e)),i=this.activeReel.reel.get(t);return{snapshot:this.getSnapshot(e),reelEntry:i}}getReelHighlights(){const e=[];return this.activeReel.reel.forEach((t=>{if(t&&this.isEnabled(t.sid)){const i=this.snapshots[t.sid],n=t.overrides&&t.overrides.panDirection,s=t.overrides&&t.overrides.panAngle;e.push({id:i.sid,snapshot:i,panDirection:n,panAngle:s,transitionType:t.overrides&&t.overrides.transitionType,title:t.title,description:t.description})}})),e}getSnapshotCount(){return this.enabledTourStops.length}getTourState(){return this.tourState}setTourState(e){this.tourState=e,this.commit()}getTourCurrentSnapshotIndex(){return this.tourCurrentSnapshot}getTourCurrentSnapshotSid(){return this.tourCurrentSnapshotSid}getTourSnapshotSid(e){let t=0;for(const i of this.activeReel.reel)if(i&&this.isEnabled(i.sid)){if(t===e)return i.sid;t++}throw new Error("getTourSnapshotSid() -> Invalid snapshot index.")}getTourSnapshotsWithSweepId(e){const t=[];for(const i of this.activeReel.reel)i&&i.sid in this.snapshots&&this.snapshots[i.sid].metadata.scanId===e&&t.push(i.sid);return t}setTourCurrentSnapshotByIndex(e){if(e<0||e>this.getSnapshotCount())throw new Error("setTourCurrentSnapshotByIndex() -> Invalid tour index.");let t=-1;for(const i of this.activeReel.reel)if(i&&this.isEnabled(i.sid)&&(t++,t===e)){this.tourCurrentSnapshot=e,this.tourCurrentSnapshotSid=i.sid;break}-1===t&&this.resetEmptyReel(),this.commit()}getTourIndexBySid(e){let t=-1;for(const i of this.activeReel.reel)if(i&&this.isEnabled(i.sid)&&(t++,i.sid===e))return t;return-1}isEnabled(e){return-1!==this.enabledTourStops.indexOf(e)}resetEmptyReel(){this.tourCurrentSnapshot=-1,this.tourCurrentSnapshotSid=void 0,this.useTransition(c),this.commit()}}},60699:(e,t,i)=>{"use strict";var n,s,r;i.d(t,{zz:()=>n,Vs:()=>s,VH:()=>r}),function(e){e.NONE="none",e.STORIES="stories",e.LEGACY="legacy"}(n||(n={})),function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.StopScheduled=2]="StopScheduled"}(s||(s={})),function(e){e[e.Beginning=0]="Beginning",e[e.Current=1]="Current",e[e.End=2]="End"}(r||(r={}))},70584:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var n=i(73085),s=i(65397);const r=(0,n.M)(s.T,"reelOpen",!1)},85384:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var n=i(67294),s=i(96154),r=i(18923),a=i(61531);function o(){const[e,t]=(0,n.useState)(!1),i=(0,n.useCallback)((()=>{t(!0)}),[]),o=(0,n.useCallback)((()=>{t(!1)}),[]);return(0,a.U)(s.Vx,i),(0,a.U)(r.Z,o),e}},28250:(e,t,i)=>{"use strict";i.d(t,{J:()=>c,j:()=>d});var n=i(67294),s=i(60699),r=i(49627),a=i(74554),o=i(56421),l=i(34646);function c(){const e=(0,o.S)(),t=(0,l.s)(),i=(0,n.useRef)(0),[a,c]=(0,n.useState)(!1),d=t.active,u=e===s.zz.STORIES;return(0,r.rf)((()=>(c(!0),window.clearTimeout(i.current),d?()=>{}:(i.current=window.setTimeout((()=>{c(!1)}),3e3),()=>window.clearTimeout(i.current)))),[d]),u&&(d||a)}const d=(0,a.M)("showStoryTour",c)},23362:(e,t,i)=>{"use strict";i.d(t,{l:()=>n,T:()=>d});var n,s=i(67294),r=i(17686),a=i(68473),o=i(71802),l=i(71652);!function(e){e.FastForwarding="fast-forwarding",e.Idle="idle",e.Completed="completed",e.Paused="paused",e.Playing="playing",e.Rewinding="rewinding",e.Skipping="skipping"}(n||(n={}));const c=[n.FastForwarding,n.Playing,n.Rewinding];function d(){var e;const t=(0,s.useRef)(null),i=(0,l.g)(),d=(0,a.j)(),u=(0,o.l)(),h=u.toIndex,p=-1!==h&&h!==d;let m=n.Idle;p?m=0===h&&d===i-1?n.FastForwarding:Math.abs(h-d)>1?n.Skipping:h<d?n.Rewinding:n.FastForwarding:r.c5.includes(u.type)?m=u.active?n.Playing:n.Paused:u.type===r.Aq.Move&&u.active&&(m=n.Rewinding);let f=!1;if((null===(e=t.current)||void 0===e?void 0:e.index)!==d&&(t.current=null),(m===n.Rewinding||m===n.FastForwarding)&&t.current){const{animation:e,transition:i}=t.current;if(i!==u){const{started:t,stopped:s,duration:r}=i;(s-t)/r>=.99&&(f=!0,e===n.Rewinding&&(m=n.Idle),e!==n.Playing&&e!==n.FastForwarding||(m=n.Completed))}}return c.includes(m)?t.current={transition:u,animation:m,index:d}:f||(t.current=null),m}},68473:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});var n=i(73085),s=i(2473);const r=(0,n.M)(s.k,"tourCurrentSnapshot",-1)},76253:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});var n=i(45755),s=i(2473);const r=(0,n.u)(s.k)},71652:(e,t,i)=>{"use strict";i.d(t,{g:()=>l});var n=i(67294);var s=i(10385),r=i(76253);const a=(0,s.C)([]);function o(){const e=(0,r.o)();return function(e){const[t,i]=(0,n.useState)(e.values());return(0,n.useEffect)((()=>{const t=()=>{i(e.values())},n=e.onChanged(t);return t(),()=>n.cancel()}),[e]),t}(e?e.enabledTourStops:a)}function l(){return o().length}},56421:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var n=i(65397),s=i(60699);const r=(0,i(73085).M)(n.T,"currentTourMode",s.zz.NONE)},34646:(e,t,i)=>{"use strict";i.d(t,{s:()=>l});var n=i(36964),s=i(37082),r=i(76253),a=i(2473);const o=(0,s.Y)(a.b);function l(){const e=(0,r.o)();return(0,n.y)(e?e.transitionObservable:o)}},71802:(e,t,i)=>{"use strict";i.d(t,{l:()=>a});var n=i(67294),s=i(17686),r=i(34646);function a(){const e=(0,r.s)(),t=(0,n.useRef)(e);return e.type===s.Aq.FloorChange?t.current:(t.current=e,e)}},21359:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s});var n=i(98010);class s extends n.v{constructor(){super()}}},59323:(e,t,i)=>{"use strict";i.d(t,{lj:()=>n,R3:()=>s,Yi:()=>r,o9:()=>a,Wf:()=>o,qe:()=>l,rU:()=>c,Nu:()=>d,iL:()=>u,PR:()=>h,pQ:()=>p,l4:()=>m,yY:()=>f,C7:()=>g});const n="tour-stories",s="spaces.tours_v2",r="tours2",a="gt",o=0,l=1,c="hr",d=0,u=1,h="tour",p=0,m=1,f=2,g=3},97478:(e,t,i)=>{"use strict";i.d(t,{ug:()=>o,aW:()=>l,Cf:()=>c,w7:()=>d});var n=i(5823),s=i(59625),r=i(60699),a=i(59323);function o(e){const t=e.tryGetProperty(s.gx.HighlightReel,!0),i=e.getOverrideParam(a.rU,a.iL),n=e.getOverrideParam(a.PR,a.l4);return t&&i!==a.Nu&&n!==a.pQ}function l(e,t){const i=function(e){const t=e.tryGetProperty(s.gx.TourButtons,!0),i=e.getOverrideParam(a.o9,a.qe),n=e.getOverrideParam(a.PR,a.l4);return t&&i!==a.Wf&&n!==a.pQ}(e),n=o(e);return i||n?c(e,t)?r.zz.STORIES:r.zz.LEGACY:r.zz.NONE}function c(e,t){const i=e.getOverrideParam(a.PR,a.l4);return i===a.yY||i!==a.C7&&t===n.Z1.STORY}function d(e,t){const i=e.tryGetProperty(s.gx.TourButtons,!0),a=e.tryGetProperty(s.gx.HighlightReel,!0);return i||a?t===n.Z1.STORY?r.zz.STORIES:r.zz.LEGACY:r.zz.NONE}},26209:(e,t,i)=>{"use strict";i.d(t,{n:()=>s});var n=i(67992);class s extends n.V{constructor(e=[]){super(),this.policies=e,this.name="policy-data"}hasPolicy(e){return!!this.getPolicy(e)}getPolicy(e){return this.policies.find((t=>t.name===e))||null}}},20436:(e,t,i)=>{"use strict";i.d(t,{m:()=>c});var n=i(67992),s=i(15637),r=i(5823),a=i(31958),o=i(66197),l=i(67622);class c extends n.V{constructor(e,t,i){super(),this.orgAdmin=i,this.name="users-data",this.users=(0,s.q)();const n=e.modelAccess||r.x6.PUBLIC;this.currentUser=new a.a(Object.assign(Object.assign({},e),{modelAccess:n,userStatus:t?o.J.KNOWN:o.J.UNKNOWN})),this.addUser(this.currentUser)}loadSearchResults(e,t,i){this.atomic((()=>{e.forEach((e=>{this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.KNOWN}))})),t.forEach((e=>{this.users.get(e)||this.loadUser({email:e,id:"",userStatus:i,modelAccess:r.x6.PUBLIC,firstName:null,lastName:null})}))}))}loadKnownUsers(e){this.atomic((()=>{e.forEach((e=>{this.loadKnownUser(e)}))}))}loadKnownUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.KNOWN}))}loadContributor(e){const t=this.users.get(e.email);return t||this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.CONTRIBUTOR}))}loadFailedUser(e){return this.loadUser(Object.assign(Object.assign({},e),{userStatus:o.J.FAILED}))}loadUser(e){let t=this.users.get(e.email);return e.email===this.currentUser.email||t&&t.userStatus===o.J.KNOWN&&t.modelAccess!==r.x6.PUBLIC||(t=new a.a(e),t?this.users.set(e.email,t):this.addUser(t)),t}getUserInfoByEmail(e){return this.users.has(e)?this.users.get(e):null}getUserInfoById(e){return""===e?null:this.users.values.find((t=>t.id===e))||null}getUserDisplay(e){return this.users.has(e)?this.users.get(e):(0,l.Q)(e)}iterate(e){for(const t of this.users)e(t)}getUsersWhoMayNeedAccess(){const e={};return this.users.values.forEach((t=>{t.userStatus===o.J.KNOWN&&t.modelAccess!==r.x6.PUBLIC||(e[t.email]=t)})),e}getKnownUsers(){return this.users.values.filter((e=>e.userStatus===o.J.KNOWN))}addUser(e){this.users.has(e.email)||this.users.set(e.email,e)}getCurrentUser(){return this.currentUser}isLoggedIn(){return!!this.currentUser.id}isOrgAdmin(){return this.orgAdmin}isInviter(){return this.orgAdmin}isEditor(){return this.currentUser.modelAccess===r.x6.FULL}isCommenter(){const{modelAccess:e}=this.currentUser;return e===r.x6.VIEWER||e===r.x6.FULL}getCurrentUserId(){return this.currentUser.id}onUsersChanged(e){return this.users.onChanged(e)}}},31958:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var n=i(5823),s=i(66197),r=i(67622);class a{constructor(e){this.email="",this.id="",this.firstName="",this.lastName="",this.modelAccess=n.x6.PUBLIC,this.userStatus=s.J.UNKNOWN,this.name="",this.initials="",this.color="",e&&Object.assign(this,e);const t=this.id?this.getFullName(this.firstName,this.lastName):"";this.name=t||this.email||"",this.initials=this.getInitials(this.name),this.color=(0,r._)(this.id)}getFullName(e,t){return e&&t?`${e} ${t}`:e||t}getInitials(e){const t=e?e.split(" ").map((e=>e[0])).join(""):"?";return t.length<3?t:`${t[0]}${t[t.length-1]}`}}},5686:(e,t,i)=>{"use strict";i.d(t,{V1:()=>s,Vu:()=>r,JB:()=>a});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={search:e}}}class r extends n.m{constructor(e){super(),this.payload={userMentions:e}}}class a extends n.m{constructor(e,t,i,n){super(),this.payload={emails:e,message:t,modelAccess:i,noteId:n}}}},66197:(e,t,i)=>{"use strict";var n;i.d(t,{J:()=>n}),function(e){e.UNKNOWN="unknown",e.FAILED="failed",e.MENTIONED="mentioned",e.CONTRIBUTOR="contributor",e.KNOWN="known"}(n||(n={}))},93001:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});var n=i(45755),s=i(20436);const r=(0,n.u)(s.m)},53555:(e,t,i)=>{"use strict";i.r(t),i.d(t,{InviteUsersCommand:()=>f.JB,OrgUser:()=>o,PolicyData:()=>g.n,ResolveUserMentionsCommand:()=>f.Vu,UserData:()=>m.m,UserInfo:()=>E.a,UserMentionSearchCommand:()=>f.V1,UserStatus:()=>p.J,default:()=>S,defaultUserColor:()=>y._,getUnknownUserInfo:()=>y.Q});var n=i(97542),s=i(97998),r=i(17788),a=i(5823);class o{constructor(e){this.id="",this.email="",this.firstName="",this.lastName="",this.modelAccess=a.x6.PUBLIC,Object.assign(this,e)}}const l=new s.Z("mds-user-deserializer");class c{constructor(){this.validate=e=>{if(!e)return!1;const t=["id","email"].filter((t=>!(t in e))),i=0===t.length;return i||l.debug("OrgUserMetadata invalid:",{missingFields:t}),i}}deserialize(e){return e&&this.validate(e)?new o(e):(l.debug("Deserialized invalid OrgUserMetadata from MDS",e),null)}}var d=i(26965);const u=new s.Z("users-store");class h extends r.u{constructor(e){super(e),this.deserializer=new c}async fetchAccessForUser(e,t){return this.query(d.GetCurrentUserModelAccess,{modelId:t,userId:e}).then((t=>{var i,n,s,r,o;const l=null===(s=null===(n=null===(i=t.data)||void 0===i?void 0:i.model)||void 0===n?void 0:n.users)||void 0===s?void 0:s.results;let c=a.x6.PUBLIC;return l&&Array.isArray(l)?(l.find((e=>e.modelAccess===a.x6.FULL))?c=a.x6.FULL:l.find((e=>e.modelAccess===a.x6.VIEWER))&&(c=a.x6.VIEWER),u.debug(`modelAccess: ${l.length} response(s), set to "${c}"`)):u.debug(`fetchModelAccess failed for ${e}`),{modelAccess:c,organization:(null===(o=null===(r=t.data)||void 0===r?void 0:r.model)||void 0===o?void 0:o.organization)||void 0}}))}async fetchModelPolicies(){const e=this.getViewId();return this.query(d.GetModelPolicies,{modelId:e}).then((e=>{var t,i;return((null===(i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.policies)||[]).filter((e=>{switch(e.__typename){case"PolicyFlag":return e.enabled;case"PolicyValue":return null!==e.value;case"PolicyOptions":return e.options&&e.options.length>0;case"PolicyFeature":return e.availability===a.km.UNLOCKED;default:return!1}})).map((e=>({name:e.name,value:e.value,options:e.options})))}))}async search(e,t,i){const n=this.getViewId();return this.query(d.GetUsers,{modelId:n,search:e||null,ids:i||null,emails:t||null}).then((e=>{var t,i,n;const s=null===(n=null===(i=null===(t=e.data)||void 0===t?void 0:t.model)||void 0===i?void 0:i.users)||void 0===n?void 0:n.results;if(!s||!Array.isArray(s))return[];const r=[];for(const e of s){const t=this.deserializer.deserialize(e);t&&r.push(t)}return r}))}}var p=i(66197),m=i(20436),f=i(5686),g=i(26209),v=i(80742);class b extends n.Y{constructor(){super(...arguments),this.name="users-module",this.onUserMentionSearch=async e=>{const t=await this.store.search(e.search);this.userData.loadKnownUsers(t)},this.resolveUserMentions=async e=>{if(0===e.userMentions.length)return void this.log.debug("No user mentions to resolve");const t=[];if(e.userMentions.forEach((e=>{this.userData.getUserInfoByEmail(e.email)&&e.userStatus!==p.J.MENTIONED||t.push(e)})),t.length>0){const e=t.map((e=>e.email));return this.searchUsers(new Set(e),p.J.MENTIONED)}},this.inviteUsers=async e=>{const{emails:t,modelAccess:i,message:n,noteId:s}=e;if(0===t.length)return;const{baseUrl:r,viewId:a,queue:o}=this.config,l=`${r}/api/v2/shares/`,c={object_type:"model",object_id:a,role:i,inviter_message:n,note:s},d=new Set;return await Promise.all(e.emails.map((e=>o.post(l,{responseType:"json",body:Object.assign(Object.assign({},c),{email:e})}).then((e=>{const t=e.user;this.userData.loadKnownUser({id:t.sid,email:t.email,firstName:t.first_name,lastName:t.last_name,modelAccess:e.role})})).catch((()=>{this.log.debug(`User Invite failed: ${e}`),d.add(e)}))))),d.size>0?this.searchUsers(d,p.J.FAILED):void 0}}async init(e,t){this.config=e,this.store=new h({readonly:!0,baseUrl:e.baseUrl,viewId:e.viewId});const i=await this.store.fetchModelPolicies();this.policyData=new g.n(i),t.market.register(this,g.n,this.policyData),t.market.waitForData(v.R).then((async i=>{const n=await e.api.user;let s=a.x6.PUBLIC,r=!1;if(n.loggedIn&&n.id){const e=await this.store.fetchAccessForUser(n.id,i.getBaseModelId());s=e.modelAccess,e.organization&&(r=n.isOrganizationAdmin(e.organization))}this.userData=new m.m({id:n.id,firstName:n.firstName,lastName:n.lastName,email:n.email,modelAccess:s},n.loggedIn,r),this.bindings.push(t.commandBinder.addBinding(f.V1,this.onUserMentionSearch),t.commandBinder.addBinding(f.Vu,this.resolveUserMentions),t.commandBinder.addBinding(f.JB,this.inviteUsers)),t.market.register(this,m.m,this.userData)}))}async searchUsers(e,t){const i=Array.from(e),n=await this.store.search(void 0,i);this.userData.loadSearchResults(n,i,t)}}var y=i(67622),E=i(31958);const S=b},67622:(e,t,i)=>{"use strict";i.d(t,{_:()=>o,Q:()=>l});var n=i(92558),s=i(66197),r=i(5823);const a=["#d44441","#f44336","#e91e63","#f78da7","#9c4b92","#673ab7","#5c7fff","#03a9f4","#417505","#00bcd4","#51a868","#37d67a","#cddc39","#fbcd00","#ffac17","#ff6900","#abb8c3","#607d8b"];function o(e){const t=a.length;return a[(0,n.Wm)(e||"",t)]}function l(e){return{email:e,id:"",firstName:"",lastName:"",name:"Unknown",initials:"?",color:o(e),userStatus:s.J.UNKNOWN,modelAccess:r.x6.PUBLIC}}},41326:(e,t,i)=>{"use strict";i.d(t,{BD:()=>n,g:()=>o,KP:()=>l,ty:()=>c,_i:()=>d});var n,s=i(19663),r=i(95882),a=i(64918);!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning",e.ORTHOGRAPHIC="mode.orthographic",e.MESH="mode.mesh"}(n||(n={}));const o=n.INSIDE,l=(n.INSIDE,r.Ey.Panorama,n.DOLLHOUSE,r.Ey.Dollhouse,n.FLOORPLAN,r.Ey.Floorplan,n.TRANSITIONING,r.Ey.Transition,n.OUTSIDE,r.Ey.Outdoor,n.ORTHOGRAPHIC,r.Ey.Orthographic,n.MESH,r.Ey.Mesh,{[r.Ey.Panorama]:n.INSIDE,[r.Ey.Dollhouse]:n.DOLLHOUSE,[r.Ey.Floorplan]:n.FLOORPLAN,[r.Ey.Transition]:n.TRANSITIONING,[r.Ey.Outdoor]:n.OUTSIDE,[r.Ey.Orthographic]:n.ORTHOGRAPHIC,[r.Ey.Mesh]:n.MESH}),c=e=>{const t=l[e];return void 0!==t?t:n.OUTSIDE};class d extends s.m{constructor(e,t=a.n.Interpolate,i={}){super(),this.payload={mode:e,transitionType:t,pose:i}}}d.id="CHANGE_VIEWMODE"},62496:(e,t,i)=>{"use strict";i.d(t,{I:()=>n});const n="features/dollhouse-nudge"},5090:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(79596);class s extends n.a{}},10699:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(79596);class s extends n.a{}},79596:(e,t,i)=>{"use strict";i.d(t,{a:()=>s});var n=i(98010);class s extends n.v{constructor(e,t){super(),this.fromMode=t,this.toMode=e,this.timestamp=Date.now()}}},95882:(e,t,i)=>{"use strict";var n;i.d(t,{Ey:()=>n,Ae:()=>s,Bw:()=>r,vl:()=>a}),function(e){e[e.Panorama=1]="Panorama",e[e.Dollhouse=2]="Dollhouse",e[e.Floorplan=3]="Floorplan",e[e.Outdoor=4]="Outdoor",e[e.Orthographic=5]="Orthographic",e[e.Mesh=6]="Mesh",e[e.Transition=-1]="Transition"}(n||(n={}));const s=e=>{switch(e){case n.Panorama:return"Panorama";case n.Floorplan:return"Floorplan";case n.Dollhouse:return"Dollhouse";case n.Transition:return"Transition";case n.Orthographic:return"Orthographic";case n.Mesh:return"Mesh"}return"Unknown"};function r(e){return e===n.Panorama||e===n.Mesh}function a(e){return e===n.Panorama}},22201:(e,t,i)=>{"use strict";i.d(t,{Cj:()=>r,mH:()=>a,YR:()=>o,x6:()=>l});var n=i(41753);class s extends n.f{constructor(e="Unhandled Viewmode Exception",t){super(e),this.originalError=t,this.name="ViewmodeException"}}class r extends s{constructor(e="Tried to start view-mode transition while another transition was active"){super(e),this.name="ViewmodeActiveTransition"}}class a extends s{constructor(e="Cannot change viewmode when locked"){super(e),this.name="ViewmodeLocked"}}class o extends s{constructor(e="Cannot change to disabled/invalid viewmode"){super(e),this.name="ViewmodeInvalid"}}class l extends s{constructor(e="Unhandled Error processing viewmode change command",t){super(e,t),this.name="ViewmodeCommandException"}}},66917:(e,t,i)=>{"use strict";i.d(t,{M:()=>s,I:()=>r});var n=i(19663);class s extends n.m{constructor(){super()}}s.id="LOCK_VIEWMODE";class r extends n.m{constructor(){super()}}r.id="UNLOCK_VIEWMODE"},23254:(e,t,i)=>{"use strict";i.d(t,{O:()=>a});var n=i(67992),s=i(95882),r=i(37082);class a extends n.V{constructor(){super(),this.name="viewmode",this.viewmodeChangeEnabled=!0,this.currentModeObservable=(0,r.Y)(null),this.transition={active:!1,progress:0,from:null,to:null,startTime:0,transitionTime:0},this.isPano=this.isPano.bind(this),this.isFloorplan=this.isFloorplan.bind(this),this.isInside=this.isInside.bind(this),this.isDollhouse=this.isDollhouse.bind(this),this.isOrthographic=this.isOrthographic.bind(this)}get currentMode(){return this.currentModeObservable.value}set currentMode(e){e!==this.currentModeObservable.value&&(this.currentModeObservable.value=e)}get closestMode(){return this.currentMode===s.Ey.Transition?this.transition.progress<.5?this.transition.from:this.transition.to:this.currentMode}makeModeChangeSubscription(e){return this.currentModeObservable.onChanged(e)}activateTransition(e,t,i){this.transition.active=!0,this.transition.progress=0,this.transition.startTime=Date.now(),this.transition.transitionTime=i,this.transition.to=t,this.transition.from=e}deactivateTransition(){this.transition.active=!1}isPano(){return this.currentMode===s.Ey.Panorama}isInside(){return(0,s.Bw)(this.currentMode)}isMesh(){return this.currentMode===s.Ey.Mesh}isFloorplan(){return this.currentMode===s.Ey.Floorplan}isDollhouse(){return this.currentMode===s.Ey.Dollhouse}isOrthographic(){return this.currentMode===s.Ey.Orthographic}canStartTransition(){const e=this.transition.active,t=this.currentMode===s.Ey.Transition;return!e&&!t}transitionActive(){return!this.canStartTransition()}isTargetMode(e){const t=this.transition.from===this.transition.to,i=this.currentMode===e;return this.transition.active&&t||i}canSwitchViewMode(e){return this.canStartTransition()&&this.viewmodeChangeEnabled&&!this.isTargetMode(e)}}},39540:(e,t,i)=>{"use strict";i.d(t,{B:()=>o});var n=i(67294),s=i(45755),r=i(23254);const a=(0,s.u)(r.O);function o(){const e=a(),[t,i]=(0,n.useState)(null);return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=e.currentModeObservable.onChanged(i);return i(e.currentMode),()=>t.cancel()}),[e]),t}},55450:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DEFAULT_TRANSITION_TIME:()=>N,default:()=>P});var n=i(57956),s=i(95882),r=i(64918),a=i(84428),o=i(90304),l=i(18596),c=i(97542),d=i(23254),u=i(25985),h=i(53954),p=i(10699),m=i(5090),f=i(79596),g=i(22201),v=i(67944);var b=i(5332),y=i(31546),E=i(23885);const S={rotationDuration:1,rotationDelay:0,matrixDelay:0,matrixDuration:.5},T={[s.Ey.Dollhouse]:{matrixDelay:.5,matrixDuration:1},[s.Ey.Panorama]:{rotationDuration:.5}};var O=i(76532),_=i(66917);const N=1e3,A=Math.PI/2+Number.EPSILON,w=Math.PI-Number.EPSILON,I=[s.Ey.Mesh,s.Ey.Panorama,s.Ey.Floorplan,s.Ey.Dollhouse,s.Ey.Orthographic],k={[s.Ey.Mesh]:N,[s.Ey.Panorama]:N,[s.Ey.Dollhouse]:N,[s.Ey.Floorplan]:N,[s.Ey.Orthographic]:N};class P extends c.Y{constructor(){super(...arguments),this.name="viewmode",this.data=new d.O,this.minDollhouseDistance=15,this.maxDollhouseDistance=50,this._orthoMatrix=new y.M,this.getFlyinStartPose=(e,t)=>{var i;const n=null!==(i=e.position)&&void 0!==i?i:new a.Vector3,s=t||this.cameraData.pose.position,r=n.y-s.y,l=(0,v.Ll)(n,s,this.meshData.meshCenter),c=o.f.FORWARD.clone().applyQuaternion(l),d=Math.sign(c.y)*Math.PI/4;return{position:(0,v.D7)(n,s,d,!0).setY(1.5*r)}},this.getFlyinEndPose=e=>{var t,i;const n=e.position||(null===(i=this.sweepData.getSweep(null!==(t=e.sweepID)&&void 0!==t?t:"invalid"))||void 0===i?void 0:i.position)||new a.Vector3,s=e.rotation||new a.Quaternion,r=Math.PI/180*l.oR.fov;return(0,v.YN)({targetPosition:n,targetRotation:s,angleDown:-Math.PI/6,box:this.meshData.meshBounds,fovY:r,aspectRatio:this.canvas.aspectRatio})}}async init(e,t){var i;this.engine=t,this.market=t.market,this.data.currentMode=null!==(i=e.startingMode)&&void 0!==i?i:s.Ey.Dollhouse,this.market.register(this,d.O,this.data),t.market.waitForData(O._).then((e=>{this.meshData=e,this.setDollhouseBounds()})),this.bindings.push(t.commandBinder.addBinding(_.M,this.lockViewmode.bind(this)),t.commandBinder.addBinding(_.I,this.unlockViewmode.bind(this)));const[r,a,o,l,c]=await Promise.all([t.getModuleBySymbol(n.y.CAMERA),t.getModuleBySymbol(n.y.SWEEP_DATA),t.market.waitForData(h.Z),t.market.waitForData(b.W),t.market.waitForData(u.M)]);this.cameraModule=r,this.sweepModule=a,this.sweepData=o,this.canvas=l,this.cameraData=c}lockViewmode(){this.data.viewmodeChangeEnabled=!1,this.data.commit()}unlockViewmode(){this.data.viewmodeChangeEnabled=!0,this.data.commit()}get currentMode(){return this.data.currentMode}async switchToMode(e,t=r.n.FadeToBlack,i,a){this.log.debug(`switchToMode mode:${s.Ey[e]} type:${r.n[t]}`);const o=this.isAlreadyInMode(e),l=!i||i&&!P.willPoseChange(this.cameraData,i);if(o&&l)return;if(!I.includes(e))throw new g.YR(`Cannot change to invalid viewmode ${e}`);this.meshData||e!==s.Ey.Floorplan&&e!==s.Ey.Dollhouse||await this.engine.getModuleBySymbol(n.y.MODEL_MESH);const c=!this.cameraData.canTransition();if(!this.data.canStartTransition()||c)throw new g.Cj;if(e!==this.currentMode&&!this.data.viewmodeChangeEnabled)throw new g.mH;let d=void 0!==a?a:k[e];t===r.n.Instant&&(d=0),this.sweepData.currentSweep&&this.sweepData.isSweepUnaligned(this.sweepData.currentSweep)&&!(0,s.Bw)(e)&&(t=r.n.FadeToBlack);const u=Object.assign({},this.data.transition),h=this.data.currentMode;let v=!1;const b=t=>{this.data.transition.progress=t,this.data.commit(),t>=.5&&!v&&(v=!0,this.engine.broadcast(new f.a(e,null!=h?h:void 0)))},y=()=>{this.data.transition.progress=1,this.data.currentMode=e,this.data.deactivateTransition(),this.data.commit(),this.engine.broadcast(new p.Z(e,null!=h?h:void 0))};let E;switch((()=>{this.data.activateTransition(this.data.currentMode,e,d),this.data.currentMode=s.Ey.Transition,this.data.commit(),this.engine.broadcast(new m.Z(e,null!=h?h:void 0))})(),e){case s.Ey.Mesh:case s.Ey.Panorama:E=this.moveCameraToPanorama(h,t,d,i);break;case s.Ey.Dollhouse:E=this.moveCameraToDollhouse(t,d,i);break;case s.Ey.Floorplan:E=this.moveCameraToFloorplan(null!=h?h:void 0,t,d,i);break;case s.Ey.Orthographic:E=this.moveCameraToOrthographic(null!=h?h:void 0,t,d,i);break;default:throw new g.YR(`Invalid target mode ${e}`)}try{E.progress(b),await E.nativePromise(),y()}catch(e){throw this.data.currentMode=h,this.data.transition=u,this.data.commit(),e}}isAlreadyInMode(e){const{data:t}=this,i=t.transition.from===t.transition.to,n=t.currentMode===e;return t.transition.active&&i||n}static willPoseChange(e,t){return void 0!==t.position&&!e.pose.position.equals(t.position)||void 0!==t.rotation&&!e.pose.rotation.equals(t.rotation)||void 0!==t.zoom&&e.zoom()!==t.zoom}moveCameraToPanorama(e,t,i,n){var r,l;let c=null!==(r=null==n?void 0:n.sweepID)&&void 0!==r?r:this.sweepData.currentSweep;c||(c=null===(l=this.sweepData.getFirstSweep())||void 0===l?void 0:l.id);let d=null==n?void 0:n.rotation;if(!d){const t=(e===s.Ey.Floorplan?o.f.UP:o.f.FORWARD).clone().applyQuaternion(this.cameraData.pose.rotation).setY(0).normalize();d=(new a.Quaternion).setFromUnitVectors(o.f.FORWARD,t)}return this.sweepModule.moveToSweep({transitionType:t,sweepId:c,rotation:d,transitionTime:i,rotationDelay:.5})}moveCameraToDollhouse(e,t,i){var n;const r=this.meshData.meshBounds,c={};let d;if(i&&(i.position||i.rotation)){if(i.position&&i.rotation){c.position=i.position,c.rotation=i.rotation;const e=new a.Plane(o.f.UP.clone(),this.meshData.meshCenter.y);let t=(0,v.Fe)(c.position,c.rotation,e);t||(t=new a.Vector3,t.copy(this.meshData.meshCenter)),r.containsPoint(t)&&(d=c.position.distanceTo(t))}else if(i.position)c.position=i.position,c.rotation=(0,v.n0)(i.position,this.meshData.meshCenter);else{c.rotation=null!==(n=i.rotation)&&void 0!==n?n:new a.Quaternion;const e=r.min.distanceTo(r.max);c.position=(0,v.fd)(c.rotation,this.meshData.meshCenter,e)}d||(d=this.meshData.meshCenter.clone().distanceTo(c.position))}else{let e,t;const i=this.sweepData.isSweepUnaligned(this.sweepData.currentSweep),n=i||this.data.transition.from===s.Ey.Floorplan?this.meshData.meshCenter:this.cameraData.pose.position;if(i)t=new a.Vector3(0,0,0),e=new a.Vector3(15,10,15);else if(this.data.transition.from!==s.Ey.Floorplan){const i=1.5,s=(0,v.YN)({targetPosition:this.cameraData.pose.position,targetRotation:this.cameraData.pose.rotation,angleDown:-Math.PI/6,box:r,fovY:this.cameraData.fovY()*i,aspectRatio:this.cameraData.pose.aspect()}),l=((e,t)=>{const i=e.clone().add(new a.Vector3(0,6,0)),n=o.f.FORWARD.clone().applyQuaternion(t);return n.y>=.01&&(n.y=.01),{position:i.clone().add(n.clone().multiplyScalar(-10)),direction:n}})(n,this.cameraData.pose.rotation);[e,t]=[s.position,l.direction]}else{const i=((e,t)=>{const i=e.clone(),n=o.f.DOWN.clone().applyQuaternion(t).multiplyScalar(6),s=i.clone().add(n).setY(6),r=o.f.UP.clone().applyQuaternion(t);return r.setY(-.5).normalize(),{position:s,direction:r}})(n,this.cameraData.pose.rotation);[e,t]=[i.position,i.direction]}const l=n.clone().add(t).setY(this.meshData.meshCenter.y);c.position=(0,v.r0)(e,l,this.minDollhouseDistance,this.maxDollhouseDistance),c.position=(0,v.m$)(c.position,l,A,w),c.rotation=(0,v.n0)(c.position,l),d=l.distanceTo(c.position)}return this.cameraModule.moveTo({transitionType:e,pose:c,transitionTime:t,projection:(0,l.AN)(this.cameraData.aspect()),focalDistance:d,rotationDuration:.5})}setDollhouseBounds(){const e=this.meshData.extendedBounds,t=e.min.distanceTo(e.max);this.minDollhouseDistance=Math.min(t/2,this.minDollhouseDistance),this.maxDollhouseDistance=Math.max(t,this.maxDollhouseDistance)}moveCameraToFloorplan(e,t,i,n){const s={},r=this.meshData.meshCenter,c=this.meshData.meshSize,d=Math.max(c.x,c.z),u=this.canvas.aspectRatio,h=this.getDefaultFloorplanZoom(this.meshData.meshSize),p=n&&n.zoom?this.canvas.height/(2*n.zoom):h,m=(0,l.aH)(this.canvas.width,this.canvas.height,p),f=this.getDefaultFloorplanZoom(this.meshData.extendedSize),g=(0,l.aH)(this.canvas.width,this.canvas.height,f);if(this.cameraModule.setBaseProjection(g),n&&n.position)s.position=n.position;else{const e=o.f.UP.clone().multiplyScalar(d);s.position=r.clone().add(e)}if(n&&n.rotation)s.rotation=n.rotation;else{const e=(new y.M).setPosition(s.position);e.lookAt(s.position,r,o.f.FORWARD),s.rotation=(new a.Quaternion).setFromRotationMatrix(e.asThreeMatrix4());if(u<1!==c.x/c.z<1){const e=(new a.Quaternion).setFromUnitVectors(o.f.UP,o.f.LEFT);s.rotation.multiply(e)}}const v=s.position.y-this.meshData.meshCenter.y;let b=Object.assign(Object.assign({},S),{easing:E.hl,transitionType:t,pose:s,transitionTime:i,projection:m,focalDistance:v});return e&&e in T&&(b=Object.assign(Object.assign({},T[e]),b)),this.cameraModule.moveTo(b)}moveCameraToOrthographic(e,t,i,n){const s=n&&n.zoom?n.zoom:this.getDefaultFloorplanZoom(this.meshData.extendedSize),r=(0,l.aH)(this.canvas.width,this.canvas.height,s,this._orthoMatrix);this.cameraModule.setBaseProjection(r);const a={easing:E.hl,transitionType:t,pose:n||{},transitionTime:i,projection:r,focalDistance:2};return this.cameraModule.moveTo(a)}getDefaultFloorplanZoom(e){const t=Math.max(e.x,e.z),i=Math.min(e.x,e.z),n=this.canvas.aspectRatio,s=Math.max(t,i/n),r=Math.max(i,t/n),a=n<1?s:r;return this.canvas.height/(1.2*a)}}},65152:(e,t,i)=>{"use strict";function n(e){try{const t=e.getExtension("WEBGL_debug_renderer_info");if(t)return{vendor:e.getParameter(t.UNMASKED_VENDOR_WEBGL),renderer:e.getParameter(t.UNMASKED_RENDERER_WEBGL)}}catch(e){}return{vendor:"Unknown",renderer:"Unknown"}}function s(e){return/Apple A(9|1\d)/.test(e.renderer)||/Adreno \(TM\) (512|530|540|[6-9]\d\d)/.test(e.renderer)||/Mali-G(7[1-9]|[8-9]\d)/.test(e.renderer)}i.d(t,{t:()=>n,W:()=>s})},29537:(e,t,i)=>{"use strict";i.d(t,{a:()=>n,Z:()=>l});var n,s=i(84428),r=i(18596),a=i(17878);class o extends s.Object3D{constructor(e){super(),this.anchor=this,this.update=e=>{this.anchor.position.copy(e.position),this.camera.quaternion.copy(e.rotation),this.camera.projectionMatrix.copy(e.projection.asThreeMatrix4()),this.camera.projectionMatrixInverse.copy(e.projection.asThreeMatrix4()),this.camera.projectionMatrixInverse.invert(),this.updateMatrixWorld(!0)},this.camera=new s.PerspectiveCamera(r.oR.fov,e,r.oR.near,r.oR.far),this.add(this.camera),this.camera.layers.mask=a.o.ALL.mask,this.name="CameraRig"}dispose(){this.remove(this.camera)}}!function(e){e[e.Root=0]="Root",e[e.CameraRig=1]="CameraRig"}(n||(n={}));class l{constructor(e,t,i,r){this.scene=e,this.threeRenderer=t,this.cameraData=i,this.useEffectComposer=r,this.ids=n,this.rendering=!1,this.composer=null,this.cameraRigStale=!0,this.canvasSizeChanged=!0,this.updateComposer=(()=>{const e=new s.Vector2;return()=>{this.canvasSizeChanged&&this.composer&&(this.composer.setPixelRatio(this.composer.renderer.getPixelRatio()),this.composer.renderer.getSize(e),this.composer.setSize(e.x,e.y),this.canvasSizeChanged=!1)}})()}add(...e){for(const t of e)this.addChild(n.Root,t)}remove(...e){for(const t of e)this.removeChild(n.Root,t)}addChild(e,t){switch(e){case n.Root:this.scene.add(t);break;case n.CameraRig:this.cameraRig.add(t);break;default:return!1}return!0}removeChild(e,t){switch(e){case n.Root:this.scene.remove(t);break;case n.CameraRig:this.cameraRig.remove(t);break;default:return!1}return!0}get camera(){return this.updateCameraRig(),this.cameraRig.camera}get effectComposer(){return this.composer}init(){this.cameraRig=new o(this.cameraData.aspect()),this.useEffectComposer&&Promise.all([i.e(525).then(i.bind(i,32903)),i.e(525).then(i.bind(i,86426))]).then((([e,t])=>{this.composer=new e.EffectComposer(this.threeRenderer),this.composer.addPass(new t.RenderPass(this.scene,this.cameraRig.camera)),this.cameraRigStale=!0})),this.cameraRigStale=!0}dispose(){this.cameraRig.dispose()}startRender(e){this.rendering=e}activate(e){this.scene.add(this.cameraRig),this.cameraDataCallback=()=>this.cameraRigStale=!0,this.cameraData.pose.onChanged(this.cameraDataCallback)}deactivate(e){this.scene.remove(this.cameraRig),this.cameraData.pose.removeOnChanged(this.cameraDataCallback)}beforeRender(){this.updateCameraRig(),this.updateComposer()}updateCameraRig(){this.cameraRigStale&&(this.cameraRig.update(this.cameraData.pose),this.cameraRigStale=!1)}render(e){this.rendering&&(this.composer?this.composer.render(e):(this.threeRenderer.clear(),this.threeRenderer.render(this.scene,this.cameraRig.camera)))}setCameraDirty(){this.cameraRigStale=!0,this.cameraRig.camera.updateProjectionMatrix()}onCanvasSizeChanged(){this.canvasSizeChanged=!0}}},3090:(e,t,i)=>{"use strict";i.d(t,{b:()=>s});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload=Object.assign({},e)}}},16535:(e,t,i)=>{"use strict";i.d(t,{v:()=>s,G:()=>r});var n=i(2224);class s extends n.y{constructor(e){super(e)}}class r extends n.y{constructor(e){super(e)}}},89195:(e,t,i)=>{"use strict";i.r(t),i.d(t,{MAX_RESOLUTION:()=>R,default:()=>D});var n=i(97542),s=i(5332),r=i(29537),a=i(84428),o=i(11677),l=i(16535),c=i(65152),d=i(88977);const u=(e,t)=>{switch(e){case d.Z.GL_TEXTURE_CUBE_MAP_POSITIVE_X:t.set(0,-Math.PI/2,0);break;case d.Z.GL_TEXTURE_CUBE_MAP_NEGATIVE_X:t.set(0,Math.PI/2,0);break;case d.Z.GL_TEXTURE_CUBE_MAP_POSITIVE_Y:t.set(Math.PI/2,Math.PI,0);break;case d.Z.GL_TEXTURE_CUBE_MAP_NEGATIVE_Y:t.set(-Math.PI/2,Math.PI,0);break;case d.Z.GL_TEXTURE_CUBE_MAP_POSITIVE_Z:t.set(0,-Math.PI,0);break;case d.Z.GL_TEXTURE_CUBE_MAP_NEGATIVE_Z:t.set(0,0,0)}};var h=i(13969),p=i.n(h),m=i(74696),f=i.n(m);const g={copyCubeMap:{uniforms:{tDiffuse:{type:"t",value:null},alpha:{type:"f",value:1}},vertexShader:p(),fragmentShader:f()}};var v=i(97178);const b={0:[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],1:[0,0,0,0,0,0,0,3e-6,229e-6,.005977,.060598,.24173,.382925,.24173,.060598,.005977,229e-6,3e-6,0,0,0,0,0,0,0],2:[0,0,1e-6,1e-5,78e-6,489e-6,.002403,.009245,.027835,.065591,.120978,.174666,.197413,.174666,.120978,.065591,.027835,.009245,.002403,489e-6,78e-6,1e-5,1e-6,0,0],3:[48e-6,169e-6,538e-6,.001532,.003907,.008921,.018247,.033432,.054867,.080658,.106212,.125283,.132372,.125283,.106212,.080658,.054867,.033432,.018247,.008921,.003907,.001532,538e-6,169e-6,48e-6],4:[.001133,.002316,.00445,.008033,.013627,.021724,.032542,.04581,.0606,.075333,.088001,.096603,.099654,.096603,.088001,.075333,.0606,.04581,.032542,.021724,.013627,.008033,.00445,.002316,.001133],5:[.004571,.00723,.010989,.016048,.022521,.03037,.039354,.049003,.058632,.067411,.074476,.079066,.080657,.079066,.074476,.067411,.058632,.049003,.039354,.03037,.022521,.016048,.010989,.00723,.004571],6:[.009379,.012899,.017256,.022453,.028417,.034983,.041888,.048784,.055264,.060893,.065262,.068032,.068981,.068032,.065262,.060893,.055264,.048784,.041888,.034983,.028417,.022453,.017256,.012899,.009379],7:[.014185,.01793,.022207,.02695,.032045,.037335,.042622,.047676,.052254,.056116,.059048,.06088,.061504,.06088,.059048,.056116,.052254,.047676,.042622,.037335,.032045,.02695,.022207,.01793,.014185]};class y{constructor(e){this.threeRenderer=e,this.cachedSize=new a.Vector2,this.renderToCubeMap=(()=>{let e,t,i,n,s,r=!1;const l=.5;return(c,d,u,h,p,m,f,g,v,b,y,E,S,T,O,_)=>{if(this.contextLost)return;r||(t=new a.OrthographicCamera(-.5,l,l,-.5,-200,200),t.position.z=150,e=new a.Scene,e.name="rttCube",e.add(t),i=new a.RawShaderMaterial({uniforms:{tDiffuse:{value:null},alpha:{value:1}},vertexShader:o.Z.basicTextured.vertexShader,fragmentShader:o.Z.basicTextured.fragmentShader,depthWrite:!1,depthTest:!1,side:a.DoubleSide}),n=new a.PlaneGeometry(1,1),s=new a.Mesh(n,i),s.position.z=0,e.add(s),r=!0);const N=n.getAttribute("uv");N.setUsage(a.DynamicDrawUsage),N.needsUpdate=!0;const A=N.array,w=p/u,I=m/h,k=f/u,P=g/h;A[0]=w,A[1]=I+P,A[2]=w+k,A[3]=I+P,A[4]=w,A[5]=I,A[6]=w+k,A[7]=I;const L=n.getAttribute("position");L.setUsage(a.DynamicDrawUsage),L.needsUpdate=!0;const C=L.array,R=v/d.width-l,D=b/d.height-l,M=y/d.width,x=E/d.height;C[0]=R,C[1]=D+x,C[3]=R+M,C[4]=D+x,C[6]=R,C[7]=D,C[9]=R+M,C[10]=D,i.uniforms.tDiffuse.value=c,i.blending=T||a.NoBlending,i.transparent=!!O,null==_&&(_=1),i.uniforms.alpha.value=_,d.viewport.set(0,0,d.width,d.height);const j=this.threeRenderer.getRenderTarget(),U=this.threeRenderer.autoClear,H=this.threeRenderer.xr.enabled;this.threeRenderer.xr.enabled=!1,this.threeRenderer.autoClear=!1,this.threeRenderer.setRenderTarget(d,S),this.threeRenderer.render(e,t),this.threeRenderer.setRenderTarget(j),this.threeRenderer.autoClear=U,this.threeRenderer.xr.enabled=H}})(),this.copyCubemap=(()=>{let e,t,i,n,s,r=!1;const o=new a.Euler,l=this;return(c,d,h,p,m)=>{if(this.contextLost)return;if(!r){const o=2,l=o/2;t=new a.OrthographicCamera(-l,l,l,-l,0,200),t.position.set(0,0,0),e=new a.Scene,e.name="copyCube",e.add(t),i=new a.RawShaderMaterial({uniforms:{tDiffuse:{value:null},alpha:{value:1}},vertexShader:g.copyCubeMap.vertexShader,fragmentShader:g.copyCubeMap.fragmentShader,depthWrite:!1,depthTest:!1,side:a.DoubleSide}),n=new a.BoxGeometry(o,o,o),s=new a.Mesh(n,i),e.add(s),r=!0}const f=l.threeRenderer.getRenderTarget(),v=l.threeRenderer.autoClear,b=l.threeRenderer.xr.enabled;l.threeRenderer.xr.enabled=!1,l.threeRenderer.autoClear=!1;for(let n=0;n<6;n++)u(n,o),s.rotation.copy(o),s.matrixWorldNeedsUpdate=!0,s.updateMatrixWorld(!0),i.uniforms.tDiffuse.value=c,i.blending=h||a.NoBlending,i.transparent=!!p,null==m&&(m=1),i.uniforms.alpha.value=m,d.viewport.set(0,0,d.width,d.height),l.threeRenderer.setRenderTarget(d,n),l.threeRenderer.render(e,t);l.threeRenderer.setRenderTarget(f),l.threeRenderer.autoClear=v,l.threeRenderer.xr.enabled=b}})(),this.blurCubemap=(()=>{const e=e=>{const t=new a.WebGLCubeRenderTarget(e);return t.texture.image={},t.texture.image.width=e,t.texture.image.height=e,{renderTarget:t,cubeCamera:new a.CubeCamera(.1,1e3,t)}};class t extends a.Mesh{}const i={512:e(512)},n=new a.Scene,s=new t(new a.BoxGeometry(1,1,1));n.add(s);const r={};return(t,o,l=3,c=.005)=>{const d=o.renderTarget;i[d.width]||(i[d.width]=e(d.width)),s.material=function(e){if(!r[e]){const t=new a.RawShaderMaterial({uniforms:a.UniformsUtils.clone(v.Z.blurCube.uniforms),vertexShader:v.Z.blurCube.vertexShader,fragmentShader:v.Z.blurCube.fragmentShader,side:a.BackSide});t.defines={};const i=b[`${e}`];for(const[e,n]of i.entries())t.defines[`KERNEL_${e+1}`]=0===n||1===n?n.toFixed(1):n;r[e]=t}return r[e]}(l);const u=i[d.width];s.material.uniforms.map.value=t,s.material.uniforms.dir.value.set(c,0),u.cubeCamera.update(this.renderer,n),s.material.uniforms.map.value=u.renderTarget.texture,s.material.uniforms.dir.value.set(0,c),o.update(this.renderer,n)}})();try{const e=this.threeRenderer.getContext();this.setupRendererProxy(),this.contextLost=e.isContextLost(),this._maxCubemapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),this._maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this._gpuInfo=(0,c.t)(e)}catch(e){throw new l.G("Unable to create a WebGL rendering context")}}setupRendererProxy(){const e=this.threeRenderer.getContext(),t=e.canvas,i=new Proxy(e,{get:(e,t)=>"canvas"===t?n:e[t]}),n={get clientHeight(){return t.clientHeight},get clientLeft(){return t.clientLeft},get clientTop(){return t.clientTop},get clientWidth(){return t.clientWidth},getBoundingClientRect:()=>t.getBoundingClientRect(),get height(){return t.height},get offsetHeight(){return t.offsetHeight},get offsetLeft(){return t.offsetLeft},get offsetTop(){return t.offsetTop},get offsetWidth(){return t.offsetWidth},get width(){return t.width}};this.threeRenderer.domElement=n,this.threeRenderer.getContext=function(){return i}}get renderer(){return this.threeRenderer}get maxCubemapSize(){return this._maxCubemapSize}get maxTextureSize(){return this._maxTextureSize}get gpuInfo(){return this._gpuInfo}getSize(){return this.threeRenderer.getSize(this.cachedSize)}getPixelRatio(){return this.threeRenderer.getPixelRatio()}dispose(){this.threeRenderer.dispose()}initSizedTexture2D(e,t){const i=new a.DataTexture(null,e,e);return t&&Object.assign(i,t),i.needsUpdate=!0,this.contextLost||this.threeRenderer.initTexture(i),i}initRenderTargetCube(e){const t=new a.WebGLCubeRenderTarget(e,{stencilBuffer:!1,depthBuffer:!1,generateMipmaps:!1});return t.texture.image={},t.texture.image.width=e,t.texture.image.height=e,t}uploadTexture2D(e,t,i,n){if(!this.contextLost){const s=new a.Texture;s.image=e,this.threeRenderer.copyTextureToTexture(new a.Vector2(i,n),s,t,0)}}fence(e){return new Promise(((t,i)=>{const n=this.contextLost?null:e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);if(null===n)return i();e.flush();const s=()=>{switch(e.getSyncParameter(n,e.SYNC_STATUS)){case e.TIMEOUT_EXPIRED:return void setTimeout(s,0);case e.WAIT_FAILED:return void i();case e.SIGNALED:return e.deleteSync(n),void t();default:return void setTimeout(s,0)}};setTimeout(s,0)}))}}var E=i(25985),S=i(56692),T=i(947),O=i(92901),_=i(12529);class N extends a.Mesh{constructor(e){super(new a.PlaneGeometry(2,2,1,1),new a.RawShaderMaterial({uniforms:a.UniformsUtils.clone(o.Z.screenSpaceColored.uniforms),vertexShader:o.Z.screenSpaceColored.vertexShader,fragmentShader:o.Z.screenSpaceColored.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1})),this._opacity=1,this.material.uniforms.color.value=new a.Color(e),this.renderOrder=_.z.colorOverlay,this.name="ScreenOverlayMesh"}set opacity(e){this.visible=e>0,this._opacity=e,this.material.uniforms.opacity.value=e}get opacity(){return this._opacity}dispose(){this.material.dispose(),this.geometry.dispose()}}class A{constructor(e,t){this.scene=e,this.cameraData=t}init(){this.blackoutOverlayMesh=new N(0)}dispose(){this.blackoutOverlayMesh.dispose()}render(e){this.blackoutOverlayMesh.opacity=this.cameraData.transition.blackoutProgress.value}activate(e){this.scene.addChild(this.scene.ids.CameraRig,this.blackoutOverlayMesh)}deactivate(e){this.scene.removeChild(this.scene.ids.CameraRig,this.blackoutOverlayMesh)}}var w=i(59370),I=i(34029),k=i(3090),P=i(2032),L=i(90365),C=i(92826);const R=3686400;class D extends n.Y{constructor(){super(...arguments),this.name="webgl-renderer",this.onContextLost=e=>{this.log.info(e),this._cwfRenderer.contextLost=!0,this.engine.broadcast(new O.zq(e)),e.preventDefault()},this.onContextRestored=e=>{var t;this.log.info(e),this._cwfRenderer.contextLost=!1,this.engine.broadcast(new O.Xq(e)),null===(t=this.canvas.parentNode)||void 0===t||t.insertBefore(this.canvas,this.canvas)},this.getPixelRatioFor=(e,t)=>{const i=window.devicePixelRatio||1;return e*t*i<=R?i:1}}async init(e,t){if(!("WebGLRenderingContext"in window))throw new l.v("WebGL not supported");let i;this.canvas=e.canvas,this.engine=t;try{const t={canvas:this.canvas,antialias:e.antialias,alpha:!0,powerPreference:"high-performance"};i=e.useWebGL2?new a.WebGLRenderer(t):new a.WebGL1Renderer(t),i.autoClear=!1,i.xr.enabled=!0}catch(e){throw new l.G("Unable to create a WebGL rendering context")}i.setOpaqueSort(this.painterSortStable),this._cwfRenderer=new y(i),[this.cameraData,this.settingsData]=await Promise.all([t.market.waitForData(E.M),t.market.waitForData(I.e)]);const n=new a.Scene;n.name="main",this.scene=new r.Z(n,i,this.cameraData,e.useEffectComposer),t.addComponent(this,this.scene),t.addComponent(this,new A(this.scene,this.cameraData));const o=await t.market.waitForData(s.W);this.setSize(o.width,o.height),this.bindings.push(t.subscribe(S.a,(e=>this.setSize(e.width,e.height))),t.commandBinder.addBinding(k.b,(async e=>(0,w.q9)(this.cameraData,e.worldPosition).screenPosition)),new C.r(this.canvas,"webglcontextlost",this.onContextLost),new C.r(this.canvas,"webglcontextrestored",this.onContextRestored)),this.webGlMemoryTracker=i.getContext().getExtension("GMAN_webgl_memory"),this.webGlMemoryTracker||this.log.warn("Unable to find WebGL memory tracker!"),t.broadcast(new P.em(L.Y.WebGLRenderer))}get gpuInfo(){return this._cwfRenderer.gpuInfo}get maxCubemapSize(){return this._cwfRenderer.maxCubemapSize}get maxTextureSize(){return this._cwfRenderer.maxTextureSize}get maxVaryings(){return this._cwfRenderer.renderer.capabilities.maxVaryings}getScene(){return this.scene}getCamera(){return this.scene.camera}get cwfRenderer(){return this._cwfRenderer}get textureManager(){return this._cwfRenderer}get threeRenderer(){return this.cwfRenderer.renderer}async renderOnce(){return this.scene.startRender(!0),this.engine.after(T.A.Render).then((()=>this.scene.startRender(!1)))}startRender(e=!0){this.scene.startRender(e),this.engine.broadcast(new O.Vx(this.cwfRenderer.getPixelRatio()))}setSize(e,t){const i=this.getPixelRatioFor(e,t);i!==this.cwfRenderer.getPixelRatio()&&(this.log.debug(`Setting pixel ratio to ${i}`),this.engine.broadcast(new O.Vx(i))),this.threeRenderer.xr.isPresenting&&this.log.error("setting size while in xr is a no no, it resets the viewport",e,t),this.threeRenderer.setPixelRatio(i),this.threeRenderer.setSize(e,t,!1),this.scene.setCameraDirty()}supportsInstancing(){const{threeRenderer:e,settingsData:t}=this;return 1!==t.getOverrideParam("noInstancing",0)&&(e.capabilities.isWebGL2||e.extensions.has("ANGLE_instanced_arrays"))}getCapabilities(){const{capabilities:e,extensions:t}=this.threeRenderer,i=e.isWebGL2;let n=!1;try{n=!!document.createElement("canvas").getContext("webgl2")}catch(e){}return{gl_v2:n,gl_max_textures:e.maxTextures,gl_max_texture_size:e.maxTextureSize,gl_max_cubemap_size:e.maxCubemapSize,gl_instancing:this.supportsInstancing(),gl_oes_texture_float:i||t.has("OES_texture_float"),gl_oes_texture_half_float:i||t.has("OES_texture_half_float"),gl_depth_texture:i||t.has("WEBGL_depth_texture"),gl_draw_buffers:i||t.has("WEBGL_draw_buffers"),gl_oes_fbo_render_mip_map:i||t.has("OES_fbo_render_mipmap"),gl_shader_texture_lod:i||t.has("EXT_shader_texture_lod"),gl_oes_vertex_array_obj:i||t.has("OES_vertex_array_object"),gl_ovr_multi_view:i&&t.has("OVR_multiview2"),gl_color_buffer_float:i&&t.has("EXT_color_buffer_float"),gl_astc_supported:t.has("WEBGL_compressed_texture_astc"),gl_etc1_supported:t.has("WEBGL_compressed_texture_etc1"),gl_etc2_supported:t.has("WEBGL_compressed_texture_etc"),gl_dxt_supported:t.has("WEBGL_compressed_texture_s3tc"),gl_bptc_supported:t.has("EXT_texture_compression_bptc"),gl_pvrtc_supported:t.has("WEBGL_compressed_texture_pvrtc")||t.has("WEBKIT_WEBGL_compressed_texture_pvrtc")}}estimatedGPUMemoryAllocated(){if(this.webGlMemoryTracker){return this.webGlMemoryTracker.getMemoryInfo().memory.total}return-1}painterSortStable(e,t){if(e.groupOrder!==t.groupOrder)return e.groupOrder-t.groupOrder;if(e.renderOrder!==t.renderOrder)return e.renderOrder-t.renderOrder;if(e.program!==t.program)return e.program.id-t.program.id;if(e.material.id!==t.material.id)return e.material.id-t.material.id;if(e.object.getSortKey&&t.object.getSortKey){const i=e.object.getSortKey()-t.object.getSortKey();if(0!==i)return i}return e.z!==t.z?e.z-t.z:e.id-t.id}}},92901:(e,t,i)=>{"use strict";i.d(t,{Vx:()=>s,zq:()=>r,Xq:()=>a});var n=i(98010);class s extends n.v{constructor(e){super(),this.pixelRatio=e}}class r extends n.v{constructor(e){super(),this.event=e}}class a extends n.v{constructor(e){super(),this.event=e}}},81456:(e,t,i)=>{"use strict";i.d(t,{j:()=>s});var n=i(19663);class s extends n.m{constructor(e){super(),this.id="XR_PRESENT",this.payload=Object.assign({},e)}}},40909:(e,t,i)=>{"use strict";i.d(t,{y_:()=>n,yK:()=>s,qV:()=>r,tK:()=>a,xK:()=>o,nE:()=>l});const n="features/meta_link",s=!1,r="mlink",a="features/xr_browser_lock",o=!1,l="xruntested"},11642:(e,t,i)=>{"use strict";i.d(t,{hX:()=>o,pl:()=>l,bk:()=>n});var n,s=i(31362),r=i(44578),a=i(45531);!function(e){e.webxr="webxr",e.unsupported="unsupported"}(n||(n={}));const o=e=>{const t=!!e.tryGetProperty("is_vr",!1),i=e.tryGetProperty(a.sX,!1),n=e.getOverrideParam("vr",1);return t&&!(!n||2===n&&!(0,s.Dt)())&&!i},l=async(e=!1)=>{const t=await r.Z.isSessionSupported("immersive-vr");return window.isSecureContext&&(e||(0,s.Ot)()||!(0,s.tq)())&&t?n.webxr:n.unsupported}},44578:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});const n=new(i(97998).Z)("vr-platform-select"),s=()=>{const e=void 0!==navigator&&"xr"in navigator&&void 0!==navigator.xr&&"isSessionSupported"in navigator.xr&&"requestSession"in navigator.xr;return window.isSecureContext&&e},r={isSessionSupported:async(e="immersive-vr")=>{var t;let i=!1;if(s())try{i=!!await(null===(t=null===navigator||void 0===navigator?void 0:navigator.xr)||void 0===t?void 0:t.isSessionSupported(e))}catch(e){n.info("WebXR disabled",e)}return n.debug(`WebXR session type: ${e} supported: ${i}`),i},apiExists:s}},61948:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(98010);class s extends n.v{constructor(e){super(),this.zoomLevel=e}}},33585:(e,t,i)=>{"use strict";i.d(t,{bj:()=>s,KB:()=>r,ob:()=>a,_N:()=>o,ts:()=>l});var n=i(19663);class s extends n.m{constructor(e){super(),this.payload={step:e}}}s.id="ZOOM_IN";class r extends n.m{constructor(e){super(),this.payload={step:e}}}r.id="ZOOM_OUT";class a extends n.m{}a.id="ZOOM_RESET";class o extends n.m{}o.id="ZOOM_MAX_VALUE";class l extends n.m{constructor(e){super(),this.payload={value:e}}}l.id="ZOOM_SET"},11677:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(84428),s=i(25848),r=i.n(s),a=i(22505),o=i.n(a),l=i(5725),c=i.n(l),d=i(47301),u=i.n(d);const h={basicTextured:{uniforms:{tDiffuse:{type:"t",value:null},alpha:{type:"f",value:1}},vertexShader:r(),fragmentShader:o()},screenSpaceColored:{uniforms:{color:{type:"v3",value:new n.Vector3(0,0,0)},opacity:{type:"f",value:1}},vertexShader:c(),fragmentShader:u()}}},90365:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n});const n={Navigation:Symbol("nav"),WebGLRenderer:Symbol("webgl-renderer"),Octree:Symbol("raycast-octree"),PanoTiles:Symbol("pano-tiles-preload"),Raycaster:Symbol("raycast"),Snapping:Symbol("snap"),StreamingTexture:Symbol("stream-textures"),StreamingMesh:Symbol("stream-mesh")}},2032:(e,t,i)=>{"use strict";i.d(t,{em:()=>l,bc:()=>c,z4:()=>d,PD:()=>u});var n=i(98010),s=i(89570),r=i(35895);const a=new(i(97998).Z)("symbols"),o=[];class l extends n.v{constructor(e){super(),this.symbol=e}}class c extends n.v{constructor(e){super(),this.payload=e}}class d extends n.v{constructor(e){super(),this.payload=e}}function u(e){return new s.V((0,r.k1)((()=>null),(()=>o.length=0)),e.messageBus.subscribe(c,(e=>{o.push(e.payload)})),e.messageBus.subscribe(d,(e=>{const t=o.findIndex((t=>t.symbol===e.payload.symbol&&t.callback===e.payload.callback));t>=0&&o.splice(t,1)})),e.messageBus.subscribe(l,(e=>{o.forEach((t=>{if(t.symbol===e.symbol)try{t.callback()}catch(t){a.warn("Error handling SymbolMessage",e,t)}}))})))}},83021:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});class n{constructor(e){this.size=e,this.index=0,this.count=0,this.buffer=[],this.sorted=!1,this.buffer=new Array(e)}push(e){this.buffer[this.index]=e,this.index=(this.index+1)%this.size,this.count++,this.sorted=!1}get topIndex(){return 0===this.index?this.size-1:this.index-1}pop(){if(this.count>0){const e=this.peek();return this.count--,0===this.index?this.index=this.size-1:this.index--,e}return null}peek(){return this.isEmpty()?null:this.buffer[this.topIndex]}isEmpty(){return 0===this.count}getList(){return this.count>=this.size?this.buffer:this.buffer.slice(0,this.count)}median(){const e=Math.floor(this.count/2),t=this.getList();return this.sorted||(t.sort(),t===this.buffer&&(this.sorted=!0)),t[e]}*[Symbol.iterator](){yield*this.buffer}clear(){this.count=0,this.index=0}}},72996:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});class n{constructor(e){this.matcher=e}static isValue(e){return new n(new s(e))}static isType(e){return new n(new r(e))}static isInstanceOf(e){return new n(new a(e))}static is(e){return new n(new o(e))}static isAny(){return new n(new l)}compare(e){return this.matcher.matches(e)}}class s{constructor(e){this.value=e}matches(e){return this.value===e}}class r{constructor(e){this.type=e}matches(e){return Object.getPrototypeOf(e).constructor===this.type}}class a{constructor(e){this.type=e}matches(e){if("object"==typeof e)return e instanceof this.type;const t=this.type;switch(typeof e){case"number":return t===Number;case"string":return t===String;case"boolean":return t===Boolean;case"function":return t===Function}return!1}}class o{constructor(e){this.predicate=e}matches(e){return this.predicate(e)}}class l{constructor(){}matches(){return!0}}},56367:(e,t,i)=>{"use strict";i.d(t,{s:()=>l,n:()=>c});var n=i(97998),s=i(18448),r=i(46950);const a=new n.Z("expiring-resource"),o=new WeakMap;function l(e,t){(0,s.y)(e,(e=>{e instanceof c&&(e.onStale=t)}))}class c{constructor(e,t){this.value=e,this.validUntil=t}refreshFrom(e){this.value=e.value,this.validUntil=e.validUntil;const t=o.get(this);t&&(t.resolve(),o.delete(this))}async get(){if(this.validUntil&&this.onStale){const e=Date.now();if(e+6e4+1e4>this.validUntil.getTime()){let t=o.get(this);t||(t=new r.Q,o.set(this,t),this.onStale()),e+6e4+1e3>this.validUntil.getTime()&&(a.info("Stale resource, waiting for refresh"),await t.nativePromise(),a.info("Refreshed resource"))}}return this.value}getCurrentValue(){return this.value}}},3968:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>r,FM:()=>a,UQ:()=>o});var n=i(84428);class s{constructor(e,t){this.raycast=(()=>{const e=new n.Vector3,t=new n.Box3;return(i,n,r,l)=>{const c=t.copy(this.bounds).expandByScalar(n);if(i.ray.intersectsBox(c))for(const t of this.children)if(t instanceof s)t.raycast(i,n,r,l);else if(t instanceof a){if(!1===(null==l?void 0:l(t)))continue;const s=e,a=i.ray.distanceSqToSegment(t.start,t.end,void 0,e),o=Math.sqrt(a);o<n&&r.push({distance:i.ray.origin.distanceTo(s),object:t,distanceToRay:o,point:s.clone(),isLineOctreeIntersection:!0})}else if(t instanceof o){if(!1===(null==l?void 0:l(t)))continue;const e=i.ray.distanceToPoint(t);e<n&&r.push({distance:i.ray.origin.distanceTo(t),object:t,distanceToRay:e,point:t.clone(),isLineOctreeIntersection:!0})}}})(),this.level=t,this.bounds=e.clone(),this.childNodes=[],this.children=[]}add(e){let t=!1;const i=e instanceof n.Line3?[e.start,e.end]:[e];if(this.level<4){0===this.childNodes.length&&this.buildChildNodes();for(const n of this.childNodes)i.every((e=>n.bounds.containsPoint(e)))&&(t=!0,n.add(e))}t||this.children.push(e)}remove(e){const t=e instanceof n.Line3?[e.start,e.end]:[e];for(let i=0;i<this.children.length;i++){const n=this.children[i];if(n instanceof s){if(t.every((e=>n.bounds.containsPoint(e)))&&n.remove(e))return!0}else if(n===e)return this.children.splice(i,1),!0}return!1}buildChildNodes(){const e=this.bounds.max.clone().sub(this.bounds.min).clone().multiplyScalar(.5);for(let t=0;t<2;t++)for(let i=0;i<2;i++)for(let r=0;r<2;r++){const a=this.bounds.min.x+e.x*r,o=a+e.x,l=this.bounds.min.y+e.y*t,c=l+e.y,d=this.bounds.min.z+e.z*i,u=d+e.z,h=new n.Box3(new n.Vector3(a,l,d),new n.Vector3(o,c,u)),p=new s(h,this.level+1);this.childNodes.push(p),this.children.push(p)}}spherecast(e,t){if(e.intersectsBox(this.bounds))for(const i of this.children)if(i instanceof s)i.spherecast(e,t);else if(i instanceof a){const s=i.closestPointToPoint(e.center,!0,new n.Vector3);s.distanceTo(e.center)<e.radius&&t.push(new o(s))}else i instanceof n.Vector3&&i.distanceTo(e.center)<e.radius&&t.push(i)}traverse(e){for(const t of this.children)t instanceof s?t.traverse(e):e(t)}}class r{constructor(e){this.pointCount=0,this.lineCount=0,this.root=new s(e,0)}add(e){e instanceof n.Line3?this.lineCount++:e instanceof n.Vector3&&this.pointCount++,this.root.add(e)}remove(e){e instanceof a?this.lineCount--:e instanceof o&&this.pointCount--,this.root.remove(e)}traverse(e){this.root.traverse(e)}raycast(e,t,i){const n=[];return this.root.raycast(e,t,n,i),n}}class a extends n.Line3{constructor(e,t){super(e,t),this.start=e,this.end=t,this.isSnapLine3=!0}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}clone(){return new a(this.start,this.end)}}class o extends n.Vector3{constructor(e){super(),this.point=e,this.isSnapVector3=!0,super.copy(e)}copy(e){return this.point.copy(e.point),this}clone(){return new o(this.point)}}},22427:(e,t,i)=>{"use strict";i.d(t,{H:()=>n});class n{constructor(){this.activePromise=Promise.resolve(new s)}async lock(){const e=new Promise((async e=>{(await this.activePromise).onUnlock((()=>e(new s)))})),t=this.activePromise;return this.activePromise=e,t}}class s{onUnlock(e){this.unlockCB=e}unlock(){this.unlockCB()}}},67944:(e,t,i)=>{"use strict";i.d(t,{Pp:()=>c,s1:()=>d,r0:()=>u,m$:()=>h,D7:()=>p,Ll:()=>m,n0:()=>f,fd:()=>g,Fe:()=>v,YN:()=>b,k2:()=>y,mY:()=>E,_U:()=>S,S3:()=>T,J2:()=>O});var n=i(84428),s=i(31546),r=i(90304),a=i(64186),o=i(21646),l=i(2569);const c=e=>!!e&&1===e.elements[15],d=e=>!!e&&(e.elements[15]>0&&e.elements[15]<1),u=((()=>{const e=new n.Object3D,t=new n.Vector3})(),(()=>{const e=new n.Vector3;return(t,i,n,s)=>(e.copy(t).sub(i),e.clampLength(n,s),i.clone().add(e))})()),h=(()=>{const e=new n.Vector3;return(t,i,n,s)=>{e.copy(i).sub(t);const r=Math.atan2(Math.sqrt(Math.pow(e.x,2)+Math.pow(e.z,2)),e.y),a=Math.min(Math.max(n,r),s);return Math.abs(r-a)>Number.EPSILON?p(t,i,r-a,!1):t}})(),p=(()=>{const e=new n.Vector3,t=new n.Vector3;return(i,n,s,a)=>(e.copy(n).sub(i),a?t.copy(r.f.UP):t.copy(e).applyAxisAngle(r.f.UP,-1*Math.PI/2).setY(0).normalize(),e.applyAxisAngle(t,s),n.clone().sub(e))})(),m=(()=>{const e=new n.Vector3,t=new n.Vector3;return(i,s,r)=>(e.copy(i).sub(s).normalize(),t.copy(i).sub(r).normalize(),(new n.Quaternion).setFromUnitVectors(e,t))})(),f=(()=>{const e=new s.M;return(t,i)=>(e.setPosition(t),e.lookAt(t,i,r.f.UP),(new n.Quaternion).setFromRotationMatrix(e.asThreeMatrix4()))})(),g=(()=>{const e=new n.Vector3;return(t,i,n)=>(e.copy(r.f.FORWARD).applyQuaternion(t).normalize(),e.clone().multiplyScalar(-1*n).add(i))})(),v=(()=>{const e=new n.Ray,t=new n.Vector3,i=new n.Vector3;return(n,s,a)=>(i.set(0,0,0),t.copy(r.f.FORWARD).applyQuaternion(s),e.set(n,t),e.intersectPlane(a,i))})(),b=(()=>{const e=new n.Vector3,t=new n.Vector3,i=new n.Vector3,s=new n.Vector3,a=[new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3],o=new n.Vector3,c=new n.Vector3,d=new n.Vector3,u=new n.Vector3,h=new n.Plane,p=new n.Vector3,m=new n.Ray,g=new n.Vector3,v=new n.Vector3;return({targetPosition:b,targetRotation:y,angleDown:E,box:S,fovY:T,aspectRatio:O})=>{const _="number"==typeof E?E:-1*y.angleTo((0,l.Rq)(y,new n.Quaternion));e.copy(r.f.FORWARD).applyQuaternion(y).setY(0),t.copy(e).setY(_).normalize(),s.copy(t).applyAxisAngle(r.f.UP,-Math.PI/2).setY(0).normalize(),i.copy(s).cross(t).normalize();let N=0;const A=S.max,w=S.min,I=[A,w];for(let e=0;e<2;e++){const t=I[e].x;for(let e=0;e<2;e++){const i=I[e].y;for(let e=0;e<2;e++){const n=I[e].z;a[N].set(t,i,n),N++}}}o.copy(w),d.copy(b).setY(w.y);let k=c.copy(o).sub(d).dot(t);a.forEach((e=>{if(e.y===A.y)return;const i=c.copy(e).sub(d).dot(t);i<k&&(o.copy(e),k=i)}));const P=Math.sign(o.dot(s));u.copy(o).setX(o.x===A.x?w.x:A.x),Math.sign(u.dot(s))!==P?h.set(p.set(0,0,-1*Math.sign(o.z)),Math.abs(o.z)):(u.copy(o).setZ(o.z===A.z?w.z:A.z),h.set(p.set(-1*Math.sign(o.x),0,0),Math.abs(o.x))),m.set(b,g.copy(t).multiplyScalar(-1)),m.intersectPlane(h,v);const L=Math.min(Math.abs(v&&v.dot(t)),k);let C=0,R=0;a.forEach((function(e){c.copy(e).sub(b);const t=Math.abs(c.dot(s)),n=Math.abs(c.dot(i));t>C&&(C=t),n>R&&(R=n)}));const D=C/Math.tan(T*O/2),M=R/Math.tan(T/2),x=Math.max(D,M)+Math.abs(L),j=b.clone().add(t.clone().multiplyScalar(1.1*-x));return{position:j,rotation:f(j,b)}}})(),y=((()=>{const e=new n.Matrix4})(),(()=>{const e=new n.Matrix4,t=new n.Vector4})(),(()=>{const e=new n.Vector3;return(t,i,n=r.f.UP)=>{const s=t.angleTo(i);return Math.sign(e.crossVectors(t,i).dot(n))*s}})()),E=((()=>{const e=new s.M,t=new n.Vector3})(),(e,t,i,n,s=1.5)=>{const r=1/e.elements[5];if(c(e))return s*n/(2*r);const a=t.distanceTo(i),o=Math.atan(r);return n*(s/(2*Math.tan(o)*a))}),S=function(){const e=new n.Vector3,t=new n.Matrix4;return(i,n,s)=>{const r=e.set(0,0,-i).applyMatrix4(n).z;return t.copy(n),t.invert(),e.set(2/s,0,r).applyMatrix4(t),e.x}}(),T=e=>1/e.elements[5],O=(()=>{const e=new n.Vector3;return(t,i,n)=>{const s=n.angleTo(r.f.UP),a=Math.abs(s-Math.PI);return s<.2||a<.2?(t.quaternion.setFromUnitVectors(r.f.FORWARD,n),!0):(t.lookAt(e.copy(i).add(n)),!1)}})();(()=>{const e=new n.Vector3,t=new n.Vector3(1e4,1e4,1e4),i=[new n.Line3,new n.Line3,new n.Line3,new n.Line3],s=[new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3]})()},44237:(e,t,i)=>{"use strict";i.d(t,{mB:()=>n});i(84428);const n=e=>!e||!Object.values(e).filter((e=>0!==e)).length},69505:(e,t,i)=>{"use strict";i.d(t,{Ue:()=>n,MN:()=>s,Id:()=>r,ZY:()=>a});const n=Math.PI/180,s=180/Math.PI;function r(e){return e*n}function a(e){return e*s}},49827:(e,t,i)=>{"use strict";i.d(t,{uZ:()=>n});const n=function(e,t,i){return Math.max(t,Math.min(e,i))}},64186:(e,t,i)=>{"use strict";i.d(t,{r6:()=>n,wo:()=>s});const n=(e,t,i=1e-5)=>Math.abs(e-t)<=i,s=(e,t,i=1e-5)=>((e,t,i=1e-5)=>n(e.x,t.x,i)&&n(e.y,t.y,i))(e,t,i)&&n(e.z,t.z,i)},93411:(e,t,i)=>{"use strict";function n(e,t,i){return(1-i)*e+i*t}i.d(t,{t:()=>n})},2569:(e,t,i)=>{"use strict";i.d(t,{ep:()=>d,tf:()=>u,r_:()=>h,zW:()=>p,xS:()=>m,cb:()=>f,rj:()=>g,jB:()=>v,et:()=>b,dS:()=>y,Z:()=>S,Rq:()=>T,Xe:()=>O,Xv:()=>_});var n=i(84428),s=i(31546),r=i(90304),a=i(49827),o=i(69505);const l=new n.Frustum,c=new s.M;new n.Sphere;var d;!function(e){e.fromVisionVector=function(e){return new n.Vector3(e.x,e.z,-e.y)},e.toVisionVector=function(e){return new n.Vector3(e.x,-e.z,e.y)},e.fromVisionQuaternion=function(e){return new n.Quaternion(e.x,e.z,-e.y,e.w).multiply((new n.Quaternion).setFromAxisAngle(new n.Vector3(0,1,0),(0,o.Id)(90)))},e.fromVisionCameraQuaternion=function(e){return new n.Quaternion(-e.x,-e.z,e.y,-e.w).multiply((new n.Quaternion).setFromAxisAngle(new n.Vector3(1,0,0),(0,o.Id)(90)))},e.toVisionQuaternion=function(e){const t=new n.Quaternion(e.x,e.y,e.z,e.w).multiply((new n.Quaternion).setFromAxisAngle(new n.Vector3(0,1,0),(0,o.Id)(-90)));return t.set(t.x,-t.z,t.y,t.w),t},e.toVisionCameraQuaternion=function(e){return new n.Quaternion(e.x,-e.z,e.y,e.w).multiply(new n.Quaternion(-.70710678118,0,0,.70710678118))}}(d||(d={}));const u=function(e){return Math.cos((0,o.Id)(e/2))};function h(e,t,i){return Math.abs(t-e)<=i?t:e+Math.sign(t-e)*i}const p=function(e,t){const i=new n.Vector3(0,0,-1);return i.clone().applyQuaternion(e).angleTo(i.clone().applyQuaternion(t))};function m(e,t,i){return c.identity().makeRotationFromQuaternion(t).setPosition(e),c.getInverse(c),c.premultiply(i.asThreeMatrix4()),l.setFromProjectionMatrix(c.asThreeMatrix4()),l}const f=(e,t,i,n)=>m(e,t,i).intersectsBox(n),g=e=>{const t=e.getSize(new n.Vector3),i=Math.max(t.x,t.y,t.z);return(new n.Box3).setFromCenterAndSize(e.getCenter(new n.Vector3),new n.Vector3(i,i,i))},v=(e,t)=>{if(t.length<8)throw new Error("getPointsFromBox3: Result array to small!");t[0].copy(e.min),t[1].copy(e.min),t[1].x=e.max.x,t[2].copy(e.min),t[2].y=e.max.y,t[3].copy(e.min),t[3].z=e.max.z,t[4].copy(e.max),t[5].copy(e.max),t[5].x=e.min.x,t[6].copy(e.max),t[6].y=e.min.y,t[7].copy(e.max),t[7].z=e.min.z},b=(e,t,i,n,s)=>(s-n)*((e-t)/(i-t))+n,y=(e,t,i,n,s)=>{const r=b(e,t,i,n,s);return(0,a.uZ)(r,n,s)};function E(e){return 0===e.x&&0===e.y&&0===e.z}const S=(()=>{const e=new n.Vector3,t=new n.Matrix4;return i=>E(i)?i.clone():(e.copy(r.f.FORWARD).applyQuaternion(i),t.lookAt(r.f.ZERO,e,r.f.UP),(new n.Quaternion).setFromRotationMatrix(t))})(),T=(()=>{const e=new n.Vector3,t=new n.Matrix4;return(i,n)=>E(i)?n.copy(i):(e.copy(r.f.FORWARD).applyQuaternion(i).setY(0).normalize(),t.lookAt(r.f.ZERO,e,r.f.UP),n.setFromRotationMatrix(t))})(),O=(()=>{const e=new n.Vector3,t=new n.Ray;return(i,s,r,a)=>(a=a||new n.Vector3,t.origin.copy(i),t.lookAt(s),a.copy(t.at(r,e)))})(),_=(()=>{const e=new n.Vector3,t=new n.Ray;return(i,s,r,a)=>(a=a||new n.Vector3,t.set(i,s),a.copy(t.at(r,e)))})()},66372:(e,t,i)=>{"use strict";function n(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)}i.d(t,{C:()=>n})},48917:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const n=e=>""+e;class s{constructor(e=n){this.mappingFunction=e,this.list=[],this.map={}}add(e){const t=this.mappingFunction(e);return!this.map[t]&&(this.list.push(e),this.map[t]=e,!0)}set(e){const t=this.mappingFunction(e);return this.map[t]?(this.map[t]=e,!0):(this.add(e),!0)}count(){return this.list.length}*[Symbol.iterator](){for(const e of this.list)yield e}getByIndex(e){return this.list[e]}get(e){return this.map[e]}copyToList(e){return e.push.apply(e,this.list),e}clear(){this.list=[],this.map={}}mapElements(e){return this.list.map(e)}}},59296:(e,t,i)=>{"use strict";function n(e){return{x:e.x,y:e.y,z:e.z}}function s(e){return{x:e.x||e._x,y:e.y||e._y,z:e.z||e._z,w:e.w||e._w}}i.d(t,{m:()=>n,J5:()=>s})},89557:(e,t,i)=>{"use strict";i.d(t,{z:()=>l});var n=i(23885),s=i(75287),r=i(97998),a=i(35895);const o=new r.Z("animation");class l extends s.T{constructor(e,t,i,s=n.vG,r=0){super(),this._easing=n.vG,void 0===t&&(t=e),void 0===i&&(this._active=!1,i=0,this._elapsed=0,this._duration=0),this.modifyAnimation(e,t,i,s,0,r)}get active(){return this._active}get duration(){return this._duration}get endValue(){return this._endValue}get easing(){return this._easing}get elapsed(){return this._elapsed}get delay(){return this._delay}tick(e){if(!this._active)return this.endValue;if(this._delay>0)return this._delay-=e,this.startValue;const t=(this._elapsed+e)/Math.max(this._duration,1e-5);return this.updateProgress(t),this.value}updateProgress(e){if(isNaN(e))return void o.error(`Invalid progress value: ${e}`);const t=Math.max(0,Math.min(e,1)),i=this.active,n=this.value;if(t>=1)return this.activate(!1),this.value=this._easing(1,this.startValue,this._endValue-this.startValue,1),this._elapsed=this.duration,this.commit(),void(this._onComplete&&this._onComplete.forEach((e=>e())));this.activate(!0),this.value=this._easing(t,this.startValue,this._endValue-this.startValue,1),this._elapsed=t*this.duration,n===this.value&&i===this.active||this.commit()}updateAbsolute(e){const t=e/Math.max(this._duration,1e-5);this.updateProgress(t)}modifyAnimation(e,t,i,s=n.vG,r=0,a=0){return this._easing=s,this._endValue=t,this._duration=i,this.activate(this._duration>=0&&e!==t),this._elapsed=r,this._delay=a,this.startValue=e,this.value=e,this.commit(),this}onComplete(e){return this._onComplete||(this._onComplete=[]),(0,a.k1)((()=>this._onComplete.push(e)),(()=>this._onComplete.splice(this._onComplete.indexOf(e),1)))}activate(e){this._active=e}copy(e){this._endValue=e.endValue,this._duration=e.duration,this._active=e.active,this._easing=e.easing,this._elapsed=e.elapsed,this.startValue=e.startValue,this.value=e.value,this.commit()}clone(){const e=new l(0);return e.copy(this),e}stop(e){this._active=!1,this._elapsed=this._duration,this.value=e,this._endValue=e,this.commit()}equals(e){return this._active===e._active&&this.duration===e.duration&&this.easing===e.easing&&this.elapsed===e.elapsed&&this.endValue===e.endValue&&this.startValue===e.startValue&&this.value===e.value}}},38042:(e,t,i)=>{"use strict";i.d(t,{bX:()=>n,E8:()=>s});const n=(e,t)=>{if(0!==e.length)for(let i=0;i<e.length;i++){e[i]===t&&e.splice(i,1)}};const s=(e=[],t=[])=>e.length===t.length&&(e=e.slice().sort(),t=t.slice().sort(),e.every(((e,i)=>t[i]===e)))},60542:(e,t,i)=>{"use strict";i.d(t,{g$:()=>n,LP:()=>s,lZ:()=>r});const n=16/9,s=1/n,r=function(e,t){return Math.min(Math.max(t/e,s),1)*e}},26306:(e,t,i)=>{"use strict";i.d(t,{h:()=>s,K:()=>r});class n{constructor(e){this.comparator=e,this.nodes=[]}push(e){return this.nodes.push(e),this.siftdown(0,this.nodes.length-1)}pop(){let e,t;return this.nodes.length&&(e=this.nodes.pop(),e)?(this.nodes.length?(t=this.nodes[0],this.nodes[0]=e,this.siftup(0)):t=e,t):null}peek(){return this.nodes[0]}contains(e){return-1!==this.nodes.indexOf(e)}replace(e){if(this.nodes.length){const t=this.nodes[0];return this.nodes[0]=e,this.siftup(0),t}return null}_pushpop(e,t,i){let n;const s=i||this.defaultCompare;return e.length&&s(e[0],t)<0&&(n=[e[0],t],t=n[0],e[0]=n[1],this._siftup(e,0,s)),t}pushpop(e){return this._pushpop(this.nodes,e,this.comparator)}_heapify(e,t){let i,n,s,r,a,o;const l=Math.floor(e.length/2),c=function(){for(o=[],s=0,a=l;0<=a?s<a:s>a;0<=a?s++:s--)o.push(s);return o}.apply(this).reverse(),d=[];for(n=0,r=c.length;n<r;n++)i=c[n],d.push(this._siftup(e,i,t));return d}heapify(){let e,t,i,n,s,r;const a=Math.floor(this.nodes.length/2),o=function(){for(r=[],i=0,s=a;0<=s?i<s:i>s;0<=s?i++:i--)r.push(i);return r}.apply(this).reverse(),l=[];for(t=0,n=o.length;t<n;t++)e=o[t],l.push(this.siftup(e));return l}updateItem(e){const t=this.nodes.indexOf(e);return-1===t?null:(this.siftdown(0,t),this.siftup(t))}clear(){return this.nodes=[]}empty(){return 0===this.nodes.length}size(){return this.nodes.length}clone(){const e=new n(this.comparator);return e.nodes=this.nodes.slice(0),e}toArray(){return this.nodes.slice(0)}insert(e){return this.push(e)}top(){return this.peek()}front(){return this.peek()}has(e){return this.contains(e)}copy(){return this.clone()}nlargest(e){let t,i,n;const s=this.nodes.slice(0,e);if(!s.length)return s;this._heapify(s,this.comparator);const r=this.nodes.slice(e);for(i=0,n=r.length;i<n;i++)t=r[i],this._pushpop(s,t,this.comparator);return s.sort(this.comparator).reverse()}defaultCompare(e,t){return e<t?-1:e>t?1:0}_siftdown(e,t,i,n){let s,r;const a=n||this.defaultCompare,o=e[i];for(;i>t&&(r=i-1>>1,s=e[r],a(o,s)<0);)e[i]=s,i=r;return e[i]=o}siftdown(e,t){return this._siftdown(this.nodes,e,t,this.comparator)}_siftup(e,t,i){let n,s;const r=i||this.defaultCompare,a=e.length,o=t,l=e[t];for(n=2*t+1;n<a;)s=n+1,s<a&&!(r(e[n],e[s])<0)&&(n=s),e[t]=e[n],n=2*(t=n)+1;return e[t]=l,this._siftdown(e,o,t,r)}siftup(e){return this._siftup(this.nodes,e,this.comparator)}}var s;function r(e){void 0===e.timeout&&(e.timeout=1/0);const t={data:e.start,g:0,heuristicValue:e.heuristic(e.start)};let i=t;t.f=t.heuristicValue;const r=new Set,l=new n(o),c=new Map;l.push(t),c.set(t.data,t);const d=Date.now();for(;l.size();){if(Date.now()-d>e.timeout)return{status:s.Timeout,cost:i.g,path:a(i)};const t=l.pop();if(c.delete(t.data),t&&e.isEnd(t.data))return{status:s.Success,cost:t.g,path:a(t)};r.add(t.data);const n=e.neighbors(t.data);for(const s of n){if(r.has(s))continue;const n=t.g+e.distance(t.data,s);let a=c.get(s),o=!1;if(void 0===a)a={data:s,g:0,heuristicValue:0,f:0},c.set(s,a);else{if(a.g<n)continue;o=!0}a.parent=t||void 0,a.g=n,a.heuristicValue=e.heuristic(s),a.f=n+a.heuristicValue,a.heuristicValue<i.heuristicValue&&(i=a),o?l.heapify():l.push(a)}}return{status:s.NoPath,cost:i.g,path:a(i)}}function a(e){if(void 0!==e.parent){const t=a(e.parent);return t.push(e.data),t}return[e.data]}function o(e,t){if(e.f&&t.f)return e.f-t.f;throw new Error('heapComparator() -> Property "f" is undefined.')}!function(e){e[e.Success=0]="Success",e[e.NoPath=1]="NoPath",e[e.Timeout=2]="Timeout"}(s||(s={}))},31362:(e,t,i)=>{"use strict";i.d(t,{dy:()=>o,tq:()=>l,jx:()=>c,_1:()=>u,Tt:()=>h,V5:()=>p,Kr:()=>m,Dt:()=>f,vU:()=>g,rI:()=>v,Ot:()=>b,Q0:()=>y,Jm:()=>E,J1:()=>S,yL:()=>T,SP:()=>O,UD:()=>_,Vf:()=>N,Hx:()=>A,rm:()=>w,O6:()=>I,Zx:()=>k,Qg:()=>P,PI:()=>L,ht:()=>C});var n=i(97998),s=i(44443),r=i(59279);const a=new n.Z("util-browser"),o=()=>{const e=window.innerWidth/window.innerHeight;return isFinite(e)?e:1},l=function(){const e=navigator.userAgent||navigator.vendor,t=new RegExp("(android|bbd+|meego).+mobile|android|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|\n    hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|\n    palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|\n    wap|windows ce|xda|xiino","i"),i=new RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|\n    amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|\n    br(e|v)w|bumb|bw-(n|u)|c55/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|\n    devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|\n    g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|\n    a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|\n    jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|lynx|\n    m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|\n    zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|\n    nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|\n    po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|\n    sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|\n    sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|\n    tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|\n    vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|\n    zeto|zte-","i");return(t.test(e)||i.test(e.substr(0,4))||u())&&!b()},c=/([\s\{\}\"\']|[^\x00-\x7F]|%[^0-9a-fA-F]{2})+/g,d=(e,t)=>{let i=window.navigator.userAgent.match(e);return i=i?i[1].split(t):[],{major:parseInt(i[0],10)||0,minor:parseInt(i[1],10)||0,patch:parseInt(i[2],10)||0}},u=()=>{const e=window.navigator.userAgent;return/iPad/.test(e)||p()&&navigator.maxTouchPoints>1},h=()=>{const e=window.navigator.userAgent;return/iPod|iPhone/.test(e)||p()&&navigator.maxTouchPoints>1},p=()=>{const e=window.navigator.platform;return/MAC/.test(e.toUpperCase())},m=()=>{const e=window.navigator.platform;return/WIN/.test(e.toUpperCase())},f=()=>-1!==window.navigator.userAgent.indexOf("Android"),g=()=>-1!==window.navigator.userAgent.indexOf("Firefox"),v=()=>{if(!g())throw new Error("Not a Firefox browser");return d(/Firefox\/((?:\d+\.?){1,3})/,".")},b=()=>-1!==window.navigator.userAgent.indexOf("OculusBrowser"),y=()=>{switch((0,r.eY)("bot",2)){case 0:return!1;case 1:return!0;case 2:return-1!==navigator.userAgent.indexOf("Googlebot");default:return!1}},E=()=>"ontouchstart"in window,S=()=>"share"in navigator&&(l()||u()),T=()=>window.parent!==window,O=()=>T()&&(()=>{const e=new URL(document.referrer);return s.yx.some((t=>t.test(e.hostname)))})(),_=()=>window.location.search.substr(1).split("&"),N=(e,t=!1)=>{if(!e)return;const i=`${window.location.origin}${window.location.pathname}?${e}`;t?window.history.pushState({},"",i):window.location.replace(i)},A=function(){const e=window.URL||window.webkitURL,t=document.createElement("a");return document.body.appendChild(t),t.style.display="none",(i,n)=>{const s=e.createObjectURL(i);t.href=s,t.download=n,t.click(),e.revokeObjectURL(s)}}(),w=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},I=function(){return!u()&&!h()&&!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},k=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},P=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};function L(e){try{return document.featurePolicy.allowsFeature(e)}catch(t){return a.warn(t),a.warn(`Feature Policy check failed, defaulting ${e} to false.`),!1}}const C=()=>{var e,t;return(e=>{const t={language:"en",region:void 0,script:void 0,ext:void 0},i=new RegExp([/^([a-z]{2,3})/,/(?:[_-]([ut]{1}[_-][a-z\-\_]+))?/,/(?:[_-]([a-z]{4}))?/,/(?:[_-]([a-z]{2}))?$/].map((e=>e.source)).join(""),"i").exec(e);if(i){const[,e,n,s,r]=i;Object.assign(t,{language:e,ext:n,script:s,region:r})}return t})((null===(t=null===(e=null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat())||void 0===e?void 0:e.resolvedOptions())||void 0===t?void 0:t.locale)||navigator.language).language||""}},41404:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});const n=function(e,t){const i=new RegExp(e+"=([^;]+)|$").exec(document.cookie);if(!i)return t;const n=i[1];return"boolean"==typeof t?"true"===n||"1"===n:"number"==typeof t?parseFloat(n):n}},15130:(e,t,i)=>{"use strict";function n(e){const t=document.createElement("input");t.type="text",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}i.d(t,{v:()=>n})},9133:(e,t,i)=>{"use strict";i.d(t,{U:()=>s,p:()=>r});const n=new Object,s=e=>{if(e){const t=e.valueOf();if(!isNaN(t))return e.toISOString()}return(new Date).toISOString()},r=(e,t=n)=>{if(e){const t=new Date(e);if(!isNaN(t.valueOf()))return t}return t===n?new Date:t}},80361:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});const n=(e,t=250)=>{let i;return(...n)=>{window.clearTimeout(i),i=window.setTimeout((()=>e.apply(null,n)),t)}}},78283:(e,t,i)=>{"use strict";i.d(t,{_F:()=>s,zy:()=>r,XJ:()=>a});const n=.3048,s=e=>e*n,r=e=>e/n,a=e=>{const t=e/n;let i=Math.floor(t),s=12*t%12;return 12===Math.round(s)?(i+=1,s=0):s=Math.round(s),{feet:i,inches:s}}},23885:(e,t,i)=>{"use strict";i.d(t,{vG:()=>r,FG:()=>a,hl:()=>o,to:()=>l,Q9:()=>c,w2:()=>d,qb:()=>u,Fs:()=>h,ad:()=>p,hN:()=>m,e3:()=>f,tf:()=>g,aB:()=>v});var n=i(69436),s=i.n(n);const r=function(e,t,i,n){return i*e/n+t},a=function(e,t,i,n){return i*(e/=n)*e+t},o=function(e,t,i,n){return-i*(e/=n)*(e-2)+t},l=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},c=function(e,t,i,n){return i*(e/=n)*e*e+t},d=function(e,t,i,n){return e/=n,i*(--e*e*e+1)+t},u=function(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},h=function(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t},p=function(e,t,i,n){return i*(1-Math.pow(2,-10*e/n))+t},m=function(e,t,i,n){return(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t)},f=(e,t,i,n,s)=>{let r=t;if(s>0){const t=(1-Math.max(s,0))*Math.abs(n);r=i<=t?0:e(i-t,0,1,t)}return r};function g(e,t,i,n){const r=new(s())(e,t,i,n);return(e,t,i,n)=>{const s=e/n;return t+i*r.solve(s)}}const v=function(e,t,i,n){return-4*i*Math.pow(e/n-(.5+t),2)+1}},54106:(e,t,i)=>{"use strict";i.d(t,{bX:()=>n,z6:()=>s});const n=e=>void 0!==e.pointerId,s=e=>void 0!==e.changedTouches},56512:(e,t,i)=>{"use strict";i.d(t,{qf:()=>r,A5:()=>l,GO:()=>c,fc:()=>u});var n=i(84428),s=i(90304);function r(e){if(0===e.length)throw Error("Can't merge empty list of geometries");if(1===e.length)return e[0];let t=0,i=0,s=0,r=0;const o=new n.Box3;for(const n of e)n.index&&(t+=n.index.count,i+=n.getAttribute("position").count,n.getAttribute("uv")&&(s+=n.getAttribute("uv").count),n.boundingBox&&(o.union(n.boundingBox),r++));const c=new n.BufferGeometry;r!==e.length||o.isEmpty()?c.computeBoundingBox():c.boundingBox=o,o.copy(l(c)),c.boundingSphere=o.getBoundingSphere(new n.Sphere);const d=a(new Float32Array(3*i),"position",e);c.setAttribute("position",new n.BufferAttribute(d,3));const u=function(e,t){let i=0,n=0;for(const s of t){const t=s.index;for(let s=0;s<t.array.length;s++)e[i+s]=t.array[s]+n;i+=t.array.length,n+=s.getAttribute("position").count}return e}(new Uint32Array(t),e);if(c.setIndex(new n.BufferAttribute(u,1)),s){const t=a(new Float32Array(2*s),"uv",e);c.setAttribute("uv",new n.BufferAttribute(t,2))}return c}function a(e,t,i){let n=0;for(const s of i){const i=s.getAttribute(t);e.set(i.array,n),n+=i.array.length}return e}const o=new n.Box3(s.f.ZERO,s.f.UNIT);function l(e){return e.boundingBox||e.computeBoundingBox(),e.boundingBox||o}function c(e,t){let i=1/0;const s=t.clone(),r=new n.Vector3,a=new n.Vector3(1/0,1/0,1/0);let o=-1;const l=new n.Triangle;return function(e,t){var i;const n=null===(i=e.index)||void 0===i?void 0:i.array,s=e.getAttribute("position");if(!s)return;const r=e.groups.length>0?e.groups:[{start:0,count:n?n.length:s.count,materialIndex:0}];let a=0;for(const e of r)for(let i=e.start;i<e.start+e.count;i+=3){let r=i,o=i+1,l=i+2;n&&(r=n[r],o=n[o],l=n[l]),t(s.getX(r),s.getY(r),s.getZ(r),s.getX(o),s.getY(o),s.getZ(o),s.getX(l),s.getY(l),s.getZ(l),a++,e.materialIndex||0)}}(e,((e,t,n,c,d,u,h,p,m,f)=>{l.a.set(e,t,n),l.b.set(c,d,u),l.c.set(h,p,m),l.closestPointToPoint(s,r);const g=s.distanceToSquared(r);g<i&&(a.copy(r),i=g,o=f)})),{point:a,distance:Math.sqrt(i),faceIndex:o}}const d=new n.PlaneGeometry(1,1);function u(){return d}},39880:(e,t,i)=>{"use strict";i.d(t,{gw:()=>s,Ig:()=>r,Y8:()=>a,XN:()=>o,Yv:()=>l,TH:()=>c,Pe:()=>d,DZ:()=>u,Q_:()=>h,O1:()=>p,$B:()=>m,ow:()=>f,aS:()=>g,lY:()=>v});var n=i(7689);const s=function(e){return new Promise(((t,i)=>{setTimeout(t,e)}))},r=e=>{let t,i=-1;return{promise:new Promise(((n,s)=>{t=n,i=window.setTimeout(n,e)})).then((()=>{i=-1})),cancel:()=>{-1!==i&&(window.clearTimeout(i),t())}}},a=function(e,t){if(0===e.length)return null;let i=0,n=0;for(let s of e)s=t?s[t]:s,i+=s,n++;return i/n},o=function(e){const t={};for(const i of e)t[i]=i;return t},l=function(e){return!e.replace(/\n/g,"").trim().length},c=function(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0},d=function(e,t,i=!0){if(0===e.length)return null;i&&e.sort((function(e,t){return e-t}));const n=t/100;return e[Math.floor(e.length*n)]},u=function(e){return[h(e.getMonth()+1),".",h(e.getDate()),".",e.getFullYear(),"_",h(e.getHours()),".",h(e.getMinutes()),".",h(e.getSeconds())].join("")},h=function(e,t=2,i="0",n=10){const s=e.toString(n),r=t-s.length+1;return r>0?new Array(r).join(i)+s:s},p=function(e){let t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t},m=e=>{const t=[];for(let i=0;i<e.length;i+=8192)t.push(String.fromCharCode.apply(null,e.subarray(i,i+8192)));return btoa(t.join(""))},f=(e=[])=>{const t={};for(const i of e)t[i]=!0;return t};const g=(e,t,i="...")=>e.length<=t?e:`${e.substr(0,t)}${i}`,v=(e,t,i)=>{if(!(Math.abs(e)<4294967295)||!(t<32)||!(i<32))throw new n.Z("argument out of range");const s=1&(e>>>t^e>>>i);return(e^=s<<t|s<<i)>>>0};(()=>{const e={}})()},88951:(e,t,i)=>{"use strict";i.d(t,{h:()=>s});const n=new(i(97998).Z)("passive-support"),s=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>{e=!0}});return window.addEventListener("testPassive",(()=>{}),t),window.removeEventListener("testPassive",(()=>{}),t),e}catch(e){return n.warn(`Passive Option for addEventListener is not supported, Safari zoom may not perform as expected: ${e}`),!1}})()},28714:(e,t,i)=>{"use strict";i.d(t,{U:()=>s});var n=i(84428);const s=new n.LoadingManager;s.setURLModifier((e=>new URL(e,document.baseURI).href))},73180:(e,t,i)=>{"use strict";i.d(t,{fp:()=>s,m8:()=>r});const n=new(i(97998).Z)("util-browser"),s=function(e,t){if(!("localStorage"in window))return t;let i;try{i=window.localStorage.getItem(e)}catch(e){return n.debug(e),t}return null===i?t:"boolean"==typeof t?"true"===i:"number"==typeof t?parseFloat(i):i},r=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){n.error(e)}}},97998:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});const n=window.navigationStart||Date.now();var s;!function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(s||(s={}));class r{constructor(e){this.timers={},this.handlers={[s.DEBUG]:console.debug,[s.INFO]:console.info,[s.WARN]:console.warn,[s.ERROR]:console.error};const t=e.split(new RegExp("/|\\\\"));this.prefix="["+t[t.length-1].replace(".js","")+"]"}message(e){if(r.level>=e&&console){return(this.handlers[e]?this.handlers[e]:console.log).bind(console,this.getPrefix())}return()=>{}}get debug(){return this.message(s.DEBUG)}get devInfo(){return()=>{}}get debugInfo(){return this.debug}get debugWarn(){return this.message(r.level>=s.DEBUG?s.WARN:s.DEBUG)}get info(){return this.message(s.INFO)}get warn(){return this.message(s.WARN)}get error(){return this.message(s.ERROR)}time(e){r.level>=s.DEBUG&&(this.timers[e]=Date.now())}timeEnd(e){if(r.level>=s.DEBUG){const t=this.timers[e];if(!t)return;const i=(Date.now()-t)/1e3;this.debug(e,i+"s")}}getPrefix(){const e=(Date.now()-n)/1e3+"s";return`${this.prefix} ${e}`}}r.level=s.INFO},18448:(e,t,i)=>{"use strict";function n(e){const t={};for(const i in e)t[e[i]]=i;return t}function s(e,t){if(null!==e&&"object"==typeof e)for(const i in e)t(e[i],i,e),s(e[i],t)}i.d(t,{S:()=>n,y:()=>s})},92558:(e,t,i)=>{"use strict";function n(e=11){let t="";const i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}function s(e,t){return function(e,t){return(e%t+t)%t}(r(e),t)}function r(e){let t,i=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n),i=(i<<5)-i+t,i|=0;return i}i.d(t,{fV:()=>n,Wm:()=>s,un:()=>r})},76721:(e,t,i)=>{"use strict";i.d(t,{m5:()=>r,an:()=>a});const n="referrer";let s="";function r(e){let t;try{t=new URL(e)}catch(t){return e}return t.searchParams.set(n,a()),t.href}function a(){return(function(){if(!window.document.referrer)return!1;let e;try{e=new URL(window.document.referrer)}catch(e){return!1}return e.origin===window.location.origin}()?function(){const e=new URL(window.location.href);if(!e.searchParams.has(n))return s;const t=e.searchParams.get(n)||"";try{new URL(t),s=t}catch(e){}return e.searchParams.delete(n),window.history.replaceState(null,"",e.href),s}():"")||window.document.referrer}},25307:(e,t,i)=>{"use strict";function n(e,t,i){const s=Math.ceil(t/2);return i(e)?t<=1?e:n(e+s,s,i):0===e?-1:n(Math.max(0,e-s),s,i)}function s(e,t){if(e<0)return-1;if(t(e))return e;const i=Math.ceil(e/2);return n(e-i,i,t)}i.d(t,{$:()=>s})},7162:(e,t,i)=>{"use strict";var n;i.d(t,{o:()=>n}),function(e){function t(e){return e.split(".").reduce(((e,t)=>{const i=parseInt(t,10);return isNaN(i)||e.push(i),e}),[])}function i(e,i){const n=t(e),s=t(i);for(let e=0;e<n.length;e++){if(e>=s.length)return 1;if(n[e]!==s[e])return n[e]>s[e]?1:-1}return s.length>n.length?-1:0}e.parse=t,e.gt=function(e,t){return 1===i(e,t)},e.gte=function(e,t){const n=i(e,t);return 0===n||1===n},e.lt=function(e,t){return-1===i(e,t)},e.eq=function(e,t){return 0===i(e,t)},e.compare=i}(n||(n={}))},87926:(e,t,i)=>{"use strict";i.d(t,{p:()=>o});var n=i(84428),s=i(97998),r=i(28714);const a=new s.Z("texture"),o=(e,t,i)=>{const s=new n.TextureLoader(r.U);return s.crossOrigin="anonymous",s.load(e,t,void 0,(t=>{a.error(`Failed to load ${e}`),i&&i(t)}))}},95912:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});const n=(e,t)=>{let i,n=Date.now()-t;return(...s)=>{const r=Date.now()-n,a=()=>{e.apply(null,s),n=Date.now()};if(i&&clearTimeout(i),r>=t)a();else{const e=t-r;i=window.setTimeout(a,e)}}}},44443:(e,t,i)=>{"use strict";i.d(t,{sU:()=>s,bf:()=>r,QY:()=>a,yx:()=>o,mM:()=>l,KK:()=>c,rI:()=>d,on:()=>u});var n=i(8575);const s=function(e="",t){let i,s,r;if(e.match(/^https?/)){const t=(0,n.Qc)(e);i=t.protocol+"//"+t.host,s=e,r=e.match(/[^/]*$/)[0]}else{if(t.match(/^https?/)){const e=(0,n.Qc)(t);i=e.protocol+"//"+e.host}else i=window.location.protocol+"//"+t;s=i+"/api/player/models/"+e,r=e}return{sid:r,urlBase:i,urlModel:s,urlFiles:s+(s.match(/\/$/)?"files":"/files"),urlThumb:s+(s.match(/\/$/)?"thumb":"/thumb")}},r=function(e,t={}){for(const i in t){const n=t[i];e+=(-1===e.indexOf("?")?"?":"&")+`${i}=${n}`}return e},a=e=>e.replace(/^https?:\/\/(?:www.)?/i,"").replace(/\/(.*)/,""),o=[/^([a-z0-9\-]*\.)*matterport\.com$/,/^([a-z0-9\-]*\.)*matterportvr\.cn$/,/^localhost$/];function l(e){const t=new URL(e).hostname;for(const e of o)if(t.match(e))return!0;return!1}const c=e=>{if(l(e)){return new URL(e).origin}return null};function d(e=window.location.href){let t=e;return l(t)&&(t=t.replace(/\/work\/(\?.*)?$/,"/show/$1")),new URL(t)}function u(e){["q","qK","tag","note","comment","pin-pos","cloudEdit"].forEach((t=>e.delete(t)))}},59279:(e,t,i)=>{"use strict";i.d(t,{FU:()=>n,kD:()=>s,eY:()=>r,O$:()=>a});i(1939);function n(){const e=new URLSearchParams(window.location.search),t={};return e.forEach(((e,i)=>{t[i]=e})),t}function s(){const e=new URLSearchParams(window.location.search);return new URLSearchParams(e.toString())}function r(e,t=null,i=typeof t){return a(new URLSearchParams(window.location.search).get(e),t,i)}function a(e,t=null,i=typeof t){return null===e?t:"boolean"===i?"true"===e||"1"===e:"number"===i?+e:e}},30128:(e,t,i)=>{"use strict";i.d(t,{D:()=>s});const n=[];for(let e=0;e<256;e++)n[e]=(e<16?"0":"")+e.toString(16);function s(){let e;const t=window.crypto||window.msCrypto;return e=t?t.getRandomValues(new Uint8Array(16)):new Uint8Array(16).map((()=>255*Math.random())),e[6]=15&e[6]|64,e[8]=63&e[8]|128,n[e[0]]+n[e[1]]+n[e[2]]+n[e[3]]+"-"+n[e[4]]+n[e[5]]+"-"+n[e[6]]+n[e[7]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]}},6735:(e,t,i)=>{"use strict";i.d(t,{y:()=>ct});const n=Symbol("analytics"),s=Symbol("annotations"),r=Symbol("apiv2"),a=Symbol("app-phase"),o=Symbol("attachments"),l=Symbol("automation-support"),c=Symbol("blur-data"),d=Symbol("blur-editor"),u=Symbol("blur-suggestions"),h=Symbol("camera"),p=Symbol("camera-start"),m=Symbol("canvas"),f=Symbol("container-data"),g=Symbol("controls-common"),v=Symbol("controls-dh"),b=Symbol("controls-fp"),y=Symbol("controls-inside"),E=Symbol("controls-zoom"),S=Symbol("current-pano"),T=Symbol("cursor-controller"),O=Symbol("cursors"),_=Symbol("cursor-mesh"),N=Symbol("deep-links"),A=Symbol("raycast-fat"),w=Symbol("floors"),I=Symbol("floors-state"),k=Symbol("raycast-floor"),P=Symbol("gui"),L=Symbol("input"),C=Symbol("interaction"),R=Symbol("label-data"),D=Symbol("label-render"),M=Symbol("layers"),x=Symbol("layers-tool"),j=Symbol("lines"),U=Symbol("locale"),H=Symbol("login-redirect"),F=Symbol("mattertag-data"),B=Symbol("mattertag-view"),V=Symbol("mattertag-mesh"),G=Symbol("measurement-mode"),W=Symbol("mesh-query"),z=Symbol("mesh-api-fixup"),K=Symbol("mesh-trim-data"),Y=Symbol("mesh-trim-editor-module"),$=Symbol("model-data"),q=Symbol("model-mesh"),Z=Symbol("model-rating"),Q=Symbol("mouse"),X=Symbol("navigation"),J=Symbol("notes"),ee=Symbol("object-tag-suggestions"),te=Symbol("object-tag-suggestions-data"),ie=Symbol("ordered-lists"),ne=Symbol("orthographic-controls"),se=Symbol("pins"),re=Symbol("plugin"),ae=(Symbol("plugin-config-data"),Symbol("plugin-config-data-module")),oe=Symbol("pre-renderer"),le=Symbol("react-three-fiber-external"),ce=Symbol("raycaster"),de=Symbol("rtt"),ue=Symbol("rooms"),he=Symbol("scan-info"),pe=Symbol("scene"),me=Symbol("scheduler"),fe=Symbol("screenshots"),ge=Symbol("sdk"),ve=Symbol("sdk-landing"),be=Symbol("search"),ye=Symbol("sensors"),Ee=Symbol("ses"),Se=Symbol("settings"),Te=Symbol("skybox"),Oe=Symbol("snapshots-editor"),_e=Symbol("snapshots-data"),Ne=Symbol("storage"),Ae=Symbol("sweep-data"),we=Symbol("pano"),Ie=Symbol("pucks"),ke=Symbol("path"),Pe=Symbol("sweep-pin-mesh"),Le=Symbol("sweep-pin"),Ce=Symbol("portal"),Re=Symbol("portal-nav"),De=Symbol("sweep-viewdata"),Me=Symbol("tags"),xe=Symbol("tours-controls"),je=Symbol("tours-data"),Ue=Symbol("tools"),He=Symbol("transform-gizmo"),Fe=Symbol("trash"),Be=Symbol("users"),Ve=Symbol("mode-change"),Ge=Symbol("mode"),We=Symbol("video"),ze=Symbol("vision-catalog"),Ke=Symbol("webgl-renderer"),Ye=(Symbol("webvr"),Symbol("webxr")),$e=Symbol("dwell-analytics"),qe=Symbol("model-mesh-quality"),Ze=Symbol("quick-menus"),Qe=Symbol("show-analytics"),Xe=Symbol("hotkeys-sc"),Je=Symbol("password"),et=Symbol("showcase-settings"),tt=Symbol("showcase-start"),it=Symbol("showcase-webgl-context-loss"),nt=Symbol("analytics-ws"),st=Symbol("app-switch"),rt=Symbol("cloud-control"),at=Symbol("error-ui"),ot=Symbol("view-ui"),lt=Symbol("edit-ui"),ct={ANALYTICS:n,ANALYTICS_WORKSHOP:nt,ANNOTATIONS:s,API:r,APP_SWITCH:st,APP_PHASE:a,ATTACHMENTS:o,AUTOMATION_SUPPORT:l,BLUR_DATA:c,BLUR_EDITOR:d,BLUR_SUGGESTIONS:u,CAMERA:h,CAMERA_START:p,CANVAS:m,CONTAINER_DATA:f,CLOUD_CONTROL:rt,CONTROLS_INSIDE:y,CONTROLS_DOLLHOUSE:v,CONTROLS_FLOORPLAN:b,CONTROLS_COMMON:g,CONTROLS_ZOOM:E,CURRENT_PANO_MARKER:S,CURSOR_CONTROLLER:T,CURSORS:O,CURSOR_MESH:_,DEEP_LINKS:N,DWELL_ANALYTICS:$e,ERROR_UI:at,FAT_RAYCAST:A,FLOORS:w,FLOORS_VIEWDATA:I,FLOOR_RAYCAST:k,GUI:P,INPUT:L,INTERACTION_MODE:C,LOADING_GUI:Symbol("init-ui"),LOCALE:U,LOGIN_REDIRECT:H,LABEL_DATA:R,LABEL_RENDERER:D,LAYERS:M,LAYERS_TOOL:x,LINES:j,MATTERTAG_DATA:F,MATTERTAG_VIEWDATA:B,MATTERTAG_MESH:V,MEASUREMENT_MODE:G,MESH_API_FIXUP:z,MESH_QUERY:W,MESH_TRIM_DATA:K,MESH_TRIM_EDITOR:Y,MODEL_DATA:$,MODEL_MESH:q,MODEL_MESH_QUALITY:qe,MODEL_RATING:Z,MOUSE_CURSOR:Q,NAVIGATION:X,NOTES:J,OBJECT_TAG_SUGGESTIONS:ee,OBJECT_TAG_SUGGESTIONS_DATA:te,ORDERED_LISTS:ie,ORTHOGRAPHIC_CONTROLS:ne,PINS:se,PLUGIN:re,PLUGIN_CONFIG_DATA_MODULE:ae,PRE_RENDER:oe,QUICK_MENUS:Ze,RAYCASTER:ce,REACT_THREE_FIBER_EXTERNAL:le,RENDER_TO_TEXTURE:de,ROOMS:ue,SCAN_INFO:he,SCENE:pe,SCHEDULER:me,SCREENSHOTS:fe,SDK:ge,SDK_LANDING:ve,SEARCH:be,SENSORS:ye,SES:Ee,SETTINGS:Se,SKYBOX:Te,SHOWCASE_ANALYTICS:Qe,SHOWCASE_GUI:ot,SHOWCASE_HOTKEYS:Xe,SHOWCASE_PASSWORD:Je,SHOWCASE_START:tt,SHOWCASE_SETTINGS:et,SHOWCASE_WEBGL_CONTEXT_LOSS:it,SNAPSHOTS_DATA:_e,SNAPSHOTS_EDITOR:Oe,STORAGE:Ne,SWEEP_DATA:Ae,SWEEP_PANO:we,SWEEP_PATH:ke,SWEEP_PIN:Pe,SWEEP_PIN_NAVIGATION:Le,SWEEP_PORTAL:Ce,SWEEP_PORTAL_NAVIGATION:Re,SWEEP_PUCKS:Ie,SWEEP_VIEWDATA:De,TAGS:Me,TOOLS:Ue,TOUR_CONTROLS:xe,TOUR_DATA:je,TRANSFORM_GIZMO:He,TRASH:Fe,USERS:Be,VIEWMODE_CHANGE:Ve,VIEWMODE:Ge,VIDEO_RECORDER:We,VISION_CATALOG:ze,WEBGL_RENDERER:Ke,WEBXR:Ye,WORKSHOP_GUI:lt,ROOM_BOUNDS:Symbol("room-bounds"),ROOM_BOUND_EDITOR:Symbol("room-bounds-editor")}},57956:(e,t,i)=>{"use strict";i.d(t,{y:()=>o.y,m:()=>a});var n=i(46950);const s=new(i(97998).Z)("module-loader");var r;!function(e){e[e.Registered=0]="Registered",e[e.Loading=1]="Loading",e[e.Initialized=2]="Initialized",e[e.Unloaded=3]="Unloaded"}(r||(r={}));class a{constructor(){this.symbolMap=new Map}registerModule(e,t){if(this.symbolMap.has(e))throw Error(`Type ${String(e)} already registered`);this.symbolMap.set(e,{es6ModulePromise:t,ctorPromise:new n.Q,initPromise:new n.Q,state:r.Registered})}moduleRegistered(e){return this.symbolMap.has(e)}moduleLoaded(e){const t=this.symbolMap.get(e);return!!t&&![r.Registered,r.Unloaded].includes(t.state)}getModule(e){const t=this.symbolMap.get(e);if(!t)throw Error(`Trying to get ${String(e)} before it was registered!`);if(t.state===r.Unloaded)throw Error(`${String(e)} module unloaded`);return t.initPromise.nativePromise()}getModuleSync(e){const t=this.symbolMap.get(e);return t?t.state!==r.Initialized?null:t.module:null}loadModule(e,t,i={}){const n=this.symbolMap.get(t);if(!n)throw Error(`${String(t)} not found`);if(n.state===r.Initialized)return n;if(n.state!==r.Registered&&n.state!==r.Unloaded)throw Error(`${String(t)} already loading`);n.state=r.Loading;const a=String(t);return n.es6ModulePromise(a).then((a=>{if(!a.default)throw new Error(`${String(t)} has no default export during module loading`);const o=new a.default;n.ctorPromise.resolve(o).then((()=>{const t=Date.now();let a=!1;setTimeout((()=>{a||s.debug(`${o.name} init took over 2 seconds`)}),2e3),o.init(i,e).then((()=>{s.debug(`${o.name} init took ${(Date.now()-t)/1e3} secs.`),a=!0,n.state=r.Initialized,n.module=o,n.initPromise.resolve(o)})).catch((e=>{n.initPromise.reject(e)}))}))})).catch((e=>{s.error(`Failed to load es6Module for ${String(t)}: ${e}`),n.initPromise.reject(e)})),n}whenQueueEmpties(e){const t=[],i=new Map;for(const[e,n]of this.symbolMap)n.state===r.Loading&&(t.push(n.initPromise),i.set(e,n.initPromise));for(const[t,n]of i){const i=setTimeout((()=>s.debugInfo("still loading",t)),e);n.then((()=>clearTimeout(i)))}return n.Q.all(t).nativePromise()}unloadModule(e){const t=this.symbolMap.get(e);if(!t)throw Error("Attempting to unload unregistered module");if(t.state===r.Unloaded||t.state===r.Registered)throw Error("Attempting to unload not-loaded module");t.state=r.Unloaded,t.ctorPromise=new n.Q,t.initPromise=new n.Q,t.module=void 0}}var o=i(6735)},73123:(e,t,i)=>{"use strict";function n(e={},t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}i.d(t,{q:()=>n})},88931:(e,t,i)=>{"use strict";i.d(t,{M:()=>n});class n{constructor(){this.libraryCache=new Map}load(e,t){const i=this.libraryCache.get(e)||new s(e,t);return this.libraryCache.set(e,i),i.library}}class s{constructor(e,t){this._libraryPromise=new Promise(((e,t)=>{this.libraryResolver=e,this.libraryRejecter=t})),this.fetch(e,t)}async fetch(e,t){let i;try{const t=new Request(e),n=new URL(t.url);if(!n.hostname.endsWith(window.location.hostname)&&!n.host.endsWith("matterport.com")&&!n.host.endsWith("matterportvr.cn"))return void this.libraryRejecter(`Request made for ${n.href} does not have the same origin as the request origin ${window.location.origin}`);i=await fetch(new Request(e,{}))}catch(e){return void this.libraryRejecter(e)}if(!i.ok)return void this.libraryRejecter("Script not found.");const n={},s=await i.text();if(new Function(s).call(n),t&&t in window){const e=window[t]||{};Object.assign(n,e),delete window[t]}this.libraryResolver(n)}get library(){return this._libraryPromise}}},81346:(e,t,i)=>{"use strict";var n;i.d(t,{f:()=>s}),function(e){e.i360="360",e.AddLink="add-link",e.Arrows="arrows",e.Attach="attach",e.Back="back",e.Blocked="blocked",e.BlurOutline="blur-outline",e.BrushOutline="brush-outline",e.Checkmark="checkmark",e.ChevronLeft="chevron-left",e.ChevronRight="chevron-right",e.Close="close",e.CommentLarge="comment-large",e.CommentOutline="comment-outline",e.Comment="comment",e.Delete="delete",e.Dock="dock",e.Dollhouse="dollhouse",e.Download="download",e.DpadDown="dpad-down",e.DpadLeft="dpad-left",e.DpadRight="dpad-right",e.DpadUp="dpad-up",e.DragEdit="drag-edit",e.DrawLines="draw-lines",e.EditFloorplan="edit-floorplan",e.Email="email",e.Error="error",e.EscapeKey="escape-key",e.Expand="expand",e.ExtLink="ext-link",e.EyeHide="eye-hide",e.EyeShow="eye-show",e.Facebook="facebook",e.File="file",e.Filter="filter",e.FingerDrag="finger-drag",e.FloorControlsAll="floor-controls-all",e.FloorControls="floor-controls",e.Floorplan="floorplan",e.FullscreenExit="fullscreen-exit",e.Fullscreen="fullscreen",e.Fullscreen2="fullscreen2",e.Help="help",e.HlrBadge="hlr-badge",e.Hlr="hlr",e.Info="info",e.Keyboard="keyboard",e.Layers="layers",e.Link="link",e.Linkedin="linkedin",e.List="list",e.Location="location",e.MagnifyingGlass="magnifying-glass",e.MediaMix="media-mix",e.MeshTrim="mesh-trim",e.Mesh="mesh",e.Minus="minus",e.MoreVert="more-vert",e.Notes="notes",e.PanoramaDisable="panorama-disable",e.Panorama="panorama",e.PaperClip="paper-clip",e.PauseOutline="pause-outline",e.Pause="pause",e.Photo_2d="photo-2d",e.Photo_360="photo-360",e.PhotoAdd="photo-add",e.Pin="pin",e.Pinterest="pinterest",e.PlayUnicode="play-unicode",e.Play="play",e.Plus="plus",e.Position_3d="position-3d",e.PressHold="press-hold",e.PublicBuildingsApartment="public_buildings_apartment",e.PublicBuildingsArchway="public_buildings_archway",e.PublicBuildingsBuildingCircleArrowRight="public_buildings_building-circle-arrow-right",e.PublicBuildingsBuildingCircleCheck="public_buildings_building-circle-check",e.PublicBuildingsBuildingCircleExclamation="public_buildings_building-circle-exclamation",e.PublicBuildingsBuildingCircleXmark="public_buildings_building-circle-xmark",e.PublicBuildingsBuildingColumns="public_buildings_building-columns",e.PublicBuildingsBuildingFlag="public_buildings_building-flag",e.PublicBuildingsBuildingLock="public_buildings_building-lock",e.PublicBuildingsBuildingShield="public_buildings_building-shield",e.PublicBuildingsBuildingUser="public_buildings_building-user",e.PublicBuildingsBuildingWheat="public_buildings_building-wheat",e.PublicBuildingsBuilding="public_buildings_building",e.PublicBuildingsBuildings="public_buildings_buildings",e.PublicBuildingsCabin="public_buildings_cabin",e.PublicBuildingsCampground="public_buildings_campground",e.PublicBuildingsCarBuilding="public_buildings_car-building",e.PublicBuildingsCastle="public_buildings_castle",e.PublicBuildingsChimney="public_buildings_chimney",e.PublicBuildingsChurch="public_buildings_church",e.PublicBuildingsCity="public_buildings_city",e.PublicBuildingsFarm="public_buildings_farm",e.PublicBuildingsFence="public_buildings_fence",e.PublicBuildingsFerrisWheel="public_buildings_ferris-wheel",e.PublicBuildingsFort="public_buildings_fort",e.PublicBuildingsGarage="public_buildings_garage",e.PublicBuildingsHospital="public_buildings_hospital",e.PublicBuildingsHotel="public_buildings_hotel",e.PublicBuildingsHouseBuilding="public_buildings_house-building",e.PublicBuildingsHouseCrack="public_buildings_house-crack",e.PublicBuildingsHouseDay="public_buildings_house-day",e.PublicBuildingsHouseFire="public_buildings_house-fire",e.PublicBuildingsHouseFlag="public_buildings_house-flag",e.PublicBuildingsHouseFloodWater="public_buildings_house-flood-water",e.PublicBuildingsHouseHeart="public_buildings_house-heart",e.PublicBuildingsHouseLock="public_buildings_house-lock",e.PublicBuildingsHouseMedical="public_buildings_house-medical",e.PublicBuildingsHouseNight="public_buildings_house-night",e.PublicBuildingsHouse="public_buildings_house",e.PublicBuildingsIndustry="public_buildings_industry",e.PublicBuildingsLandmark="public_buildings_landmark",e.PublicBuildingsMonument="public_buildings_monument",e.PublicBuildingsMosque="public_buildings_mosque",e.PublicBuildingsMountainCity="public_buildings_mountain-city",e.PublicBuildingsPlaceOfWorship="public_buildings_place-of-worship",e.PublicBuildingsRollerCoaster="public_buildings_roller-coaster",e.PublicBuildingsSchool="public_buildings_school",e.PublicBuildingsStore="public_buildings_store",e.PublicBuildingsSynagogue="public_buildings_synagogue",e.PublicBuildingsTent="public_buildings_tent",e.PublicBuildingsToilet="public_buildings_toilet",e.PublicBuildingsToriiGate="public_buildings_torii-gate",e.PublicBuildingsTowerObservation="public_buildings_tower-observation",e.PublicBuildingsTree="public_buildings_tree",e.PublicBuildingsWarehouse="public_buildings_warehouse",e.PublicCharacters_0="public_characters_0",e.PublicCharacters_1="public_characters_1",e.PublicCharacters_2="public_characters_2",e.PublicCharacters_3="public_characters_3",e.PublicCharacters_4="public_characters_4",e.PublicCharacters_5="public_characters_5",e.PublicCharacters_6="public_characters_6",e.PublicCharacters_7="public_characters_7",e.PublicCharacters_8="public_characters_8",e.PublicCharacters_9="public_characters_9",e.PublicCharactersA="public_characters_a",e.PublicCharactersB="public_characters_b",e.PublicCharactersC="public_characters_c",e.PublicCharactersCircle_0="public_characters_circle-0",e.PublicCharactersCircle_1="public_characters_circle-1",e.PublicCharactersCircle_2="public_characters_circle-2",e.PublicCharactersCircle_3="public_characters_circle-3",e.PublicCharactersCircle_4="public_characters_circle-4",e.PublicCharactersCircle_5="public_characters_circle-5",e.PublicCharactersCircle_6="public_characters_circle-6",e.PublicCharactersCircle_7="public_characters_circle-7",e.PublicCharactersCircle_8="public_characters_circle-8",e.PublicCharactersCircle_9="public_characters_circle-9",e.PublicCharactersCircleA="public_characters_circle-a",e.PublicCharactersCircleB="public_characters_circle-b",e.PublicCharactersCircleC="public_characters_circle-c",e.PublicCharactersCircleD="public_characters_circle-d",e.PublicCharactersCircleE="public_characters_circle-e",e.PublicCharactersCircleF="public_characters_circle-f",e.PublicCharactersCircleG="public_characters_circle-g",e.PublicCharactersCircleH="public_characters_circle-h",e.PublicCharactersCircleI="public_characters_circle-i",e.PublicCharactersCircleJ="public_characters_circle-j",e.PublicCharactersCircleK="public_characters_circle-k",e.PublicCharactersCircleL="public_characters_circle-l",e.PublicCharactersCircleM="public_characters_circle-m",e.PublicCharactersCircleN="public_characters_circle-n",e.PublicCharactersCircleO="public_characters_circle-o",e.PublicCharactersCircleP="public_characters_circle-p",e.PublicCharactersCircleQ="public_characters_circle-q",e.PublicCharactersCircleR="public_characters_circle-r",e.PublicCharactersCircleS="public_characters_circle-s",e.PublicCharactersCircleT="public_characters_circle-t",e.PublicCharactersCircleU="public_characters_circle-u",e.PublicCharactersCircleV="public_characters_circle-v",e.PublicCharactersCircleW="public_characters_circle-w",e.PublicCharactersCircleX="public_characters_circle-x",e.PublicCharactersCircleY="public_characters_circle-y",e.PublicCharactersCircleZ="public_characters_circle-z",e.PublicCharactersD="public_characters_d",e.PublicCharactersE="public_characters_e",e.PublicCharactersF="public_characters_f",e.PublicCharactersG="public_characters_g",e.PublicCharactersH="public_characters_h",e.PublicCharactersI="public_characters_i",e.PublicCharactersJ="public_characters_j",e.PublicCharactersK="public_characters_k",e.PublicCharactersL="public_characters_l",e.PublicCharactersM="public_characters_m",e.PublicCharactersN="public_characters_n",e.PublicCharactersO="public_characters_o",e.PublicCharactersP="public_characters_p",e.PublicCharactersQ="public_characters_q",e.PublicCharactersR="public_characters_r",e.PublicCharactersS="public_characters_s",e.PublicCharactersSquare_0="public_characters_square-0",e.PublicCharactersSquare_1="public_characters_square-1",e.PublicCharactersSquare_2="public_characters_square-2",e.PublicCharactersSquare_3="public_characters_square-3",e.PublicCharactersSquare_4="public_characters_square-4",e.PublicCharactersSquare_5="public_characters_square-5",e.PublicCharactersSquare_6="public_characters_square-6",e.PublicCharactersSquare_7="public_characters_square-7",e.PublicCharactersSquare_8="public_characters_square-8",e.PublicCharactersSquare_9="public_characters_square-9",e.PublicCharactersSquareA="public_characters_square-a",e.PublicCharactersSquareB="public_characters_square-b",e.PublicCharactersSquareC="public_characters_square-c",e.PublicCharactersSquareD="public_characters_square-d",e.PublicCharactersSquareE="public_characters_square-e",e.PublicCharactersSquareF="public_characters_square-f",e.PublicCharactersSquareG="public_characters_square-g",e.PublicCharactersSquareH="public_characters_square-h",e.PublicCharactersSquareI="public_characters_square-i",e.PublicCharactersSquareJ="public_characters_square-j",e.PublicCharactersSquareK="public_characters_square-k",e.PublicCharactersSquareL="public_characters_square-l",e.PublicCharactersSquareM="public_characters_square-m",e.PublicCharactersSquareN="public_characters_square-n",e.PublicCharactersSquareO="public_characters_square-o",e.PublicCharactersSquareP="public_characters_square-p",e.PublicCharactersSquareQ="public_characters_square-q",e.PublicCharactersSquareR="public_characters_square-r",e.PublicCharactersSquareS="public_characters_square-s",e.PublicCharactersSquareT="public_characters_square-t",e.PublicCharactersSquareU="public_characters_square-u",e.PublicCharactersSquareV="public_characters_square-v",e.PublicCharactersSquareW="public_characters_square-w",e.PublicCharactersSquareX="public_characters_square-x",e.PublicCharactersSquareXmark="public_characters_square-xmark",e.PublicCharactersSquareY="public_characters_square-y",e.PublicCharactersSquareZ="public_characters_square-z",e.PublicCharactersT="public_characters_t",e.PublicCharactersU="public_characters_u",e.PublicCharactersV="public_characters_v",e.PublicCharactersW="public_characters_w",e.PublicCharactersX="public_characters_x",e.PublicCharactersY="public_characters_y",e.PublicCharactersZ="public_characters_z",e.PublicFurnitureBath="public_furniture_bath",e.PublicFurnitureBedAlt="public_furniture_bed-alt",e.PublicFurnitureBedBunk="public_furniture_bed-bunk",e.PublicFurnitureBedEmpty="public_furniture_bed-empty",e.PublicFurnitureBed="public_furniture_bed",e.PublicFurnitureBlender="public_furniture_blender",e.PublicFurnitureBlinds="public_furniture_blinds",e.PublicFurnitureCabinetFiling="public_furniture_cabinet-filing",e.PublicFurnitureCashRegister="public_furniture_cash-register",e.PublicFurnitureChairOffice="public_furniture_chair-office",e.PublicFurnitureChair="public_furniture_chair",e.PublicFurnitureChargingStation="public_furniture_charging-station",e.PublicFurnitureComputerClassic="public_furniture_computer-classic",e.PublicFurnitureComputerSpeaker="public_furniture_computer-speaker",e.PublicFurnitureCouch="public_furniture_couch",e.PublicFurnitureDryerAlt="public_furniture_dryer-alt",e.PublicFurnitureDryer="public_furniture_dryer",e.PublicFurnitureDumbbell="public_furniture_dumbbell",e.PublicFurnitureDumpster="public_furniture_dumpster",e.PublicFurnitureFaucet="public_furniture_faucet",e.PublicFurnitureFax="public_furniture_fax",e.PublicFurnitureHotTub="public_furniture_hot-tub",e.PublicFurnitureInventory="public_furniture_inventory",e.PublicFurnitureLampDesk="public_furniture_lamp-desk",e.PublicFurnitureLampFloor="public_furniture_lamp-floor",e.PublicFurnitureLamp="public_furniture_lamp",e.PublicFurnitureLaptop="public_furniture_laptop",e.PublicFurnitureLightCeiling="public_furniture_light-ceiling",e.PublicFurnitureLoveseat="public_furniture_loveseat",e.PublicFurnitureMicrowave="public_furniture_microwave",e.PublicFurniturePiano="public_furniture_piano",e.PublicFurniturePodium="public_furniture_podium",e.PublicFurniturePresentation="public_furniture_presentation",e.PublicFurnitureProjector="public_furniture_projector",e.PublicFurnitureRadio="public_furniture_radio",e.PublicFurnitureRefrigerator="public_furniture_refrigerator",e.PublicFurnitureShower="public_furniture_shower",e.PublicFurnitureShredder="public_furniture_shredder",e.PublicFurnitureSink="public_furniture_sink",e.PublicFurnitureSolarPanel="public_furniture_solar-panel",e.PublicFurnitureSpeaker="public_furniture_speaker",e.PublicFurnitureSpeakers="public_furniture_speakers",e.PublicFurnitureToilet="public_furniture_toilet",e.PublicFurnitureTrashAlt="public_furniture_trash-alt",e.PublicFurnitureTurntable="public_furniture_turntable",e.PublicFurnitureTvRetro="public_furniture_tv-retro",e.PublicFurnitureTv="public_furniture_tv",e.PublicFurnitureTypewriter="public_furniture_typewriter",e.PublicObjectsAbacus="public_objects_abacus",e.PublicObjectsAlarmClock="public_objects_alarm-clock",e.PublicObjectsAlbumCollection="public_objects_album-collection",e.PublicObjectsBackpack="public_objects_backpack",e.PublicObjectsBagsShopping="public_objects_bags-shopping",e.PublicObjectsBell="public_objects_bell",e.PublicObjectsBicycle="public_objects_bicycle",e.PublicObjectsBinoculars="public_objects_binoculars",e.PublicObjectsBlanket="public_objects_blanket",e.PublicObjectsBook="public_objects_book",e.PublicObjectsBooks="public_objects_books",e.PublicObjectsBoot="public_objects_boot",e.PublicObjectsBox="public_objects_box",e.PublicObjectsBreadLoaf="public_objects_bread-loaf",e.PublicObjectsBriefcaseMedical="public_objects_briefcase-medical",e.PublicObjectsBriefcase="public_objects_briefcase",e.PublicObjectsBroom="public_objects_broom",e.PublicObjectsBrush="public_objects_brush",e.PublicObjectsBullhorn="public_objects_bullhorn",e.PublicObjectsBurgerSoda="public_objects_burger-soda",e.PublicObjectsCalculator="public_objects_calculator",e.PublicObjectsCalendar="public_objects_calendar",e.PublicObjectsCamera="public_objects_camera",e.PublicObjectsCar="public_objects_car",e.PublicObjectsCarrot="public_objects_carrot",e.PublicObjectsCheeseSwiss="public_objects_cheese-swiss",e.PublicObjectsChess="public_objects_chess",e.PublicObjectsClipboardCheck="public_objects_clipboard-check",e.PublicObjectsClipboardList="public_objects_clipboard-list",e.PublicObjectsClipboard="public_objects_clipboard",e.PublicObjectsCoffeePot="public_objects_coffee-pot",e.PublicObjectsCompass="public_objects_compass",e.PublicObjectsCookie="public_objects_cookie",e.PublicObjectsCorn="public_objects_corn",e.PublicObjectsCroissant="public_objects_croissant",e.PublicObjectsDice="public_objects_dice",e.PublicObjectsDrumstick="public_objects_drumstick",e.PublicObjectsEgg="public_objects_egg",e.PublicObjectsFish="public_objects_fish",e.PublicObjectsFlask="public_objects_flask",e.PublicObjectsFlowerTulip="public_objects_flower-tulip",e.PublicObjectsGamepad="public_objects_gamepad",e.PublicObjectsGem="public_objects_gem",e.PublicObjectsGift="public_objects_gift",e.PublicObjectsGifts="public_objects_gifts",e.PublicObjectsGlassCitrus="public_objects_glass-citrus",e.PublicObjectsGlass="public_objects_glass",e.PublicObjectsGlasses="public_objects_glasses",e.PublicObjectsGlobeStand="public_objects_globe-stand",e.PublicObjectsGraduationCap="public_objects_graduation-cap",e.PublicObjectsGuitar="public_objects_guitar",e.PublicObjectsHammer="public_objects_hammer",e.PublicObjectsHatChef="public_objects_hat-chef",e.PublicObjectsIceCream="public_objects_ice-cream",e.PublicObjectsIceSkate="public_objects_ice-skate",e.PublicObjectsKey="public_objects_key",e.PublicObjectsKnifeKitchen="public_objects_knife-kitchen",e.PublicObjectsLightbulbOn="public_objects_lightbulb-on",e.PublicObjectsLightbulbSlash="public_objects_lightbulb-slash",e.PublicObjectsLightbulb="public_objects_lightbulb",e.PublicObjectsMagnet="public_objects_magnet",e.PublicObjectsMailbox="public_objects_mailbox",e.PublicObjectsMap="public_objects_map",e.PublicObjectsMeat="public_objects_meat",e.PublicObjectsMedal="public_objects_medal",e.PublicObjectsMicrophone="public_objects_microphone",e.PublicObjectsMobile="public_objects_mobile",e.PublicObjectsMoneyBillWave="public_objects_money-bill-wave",e.PublicObjectsMugTea="public_objects_mug-tea",e.PublicObjectsMug="public_objects_mug",e.PublicObjectsNewspaper="public_objects_newspaper",e.PublicObjectsPaintRoller="public_objects_paint-roller",e.PublicObjectsPalette="public_objects_palette",e.PublicObjectsPen="public_objects_pen",e.PublicObjectsPhone="public_objects_phone",e.PublicObjectsPizzaSlice="public_objects_pizza-slice",e.PublicObjectsPumpSoap="public_objects_pump-soap",e.PublicObjectsRulerTriangle="public_objects_ruler-triangle",e.PublicObjectsRuler="public_objects_ruler",e.PublicObjectsSalad="public_objects_salad",e.PublicObjectsSandwich="public_objects_sandwich",e.PublicObjectsShovel="public_objects_shovel",e.PublicObjectsSteak="public_objects_steak",e.PublicObjectsSunglasses="public_objects_sunglasses",e.PublicObjectsTurkey="public_objects_turkey",e.PublicObjectsUtensils="public_objects_utensils",e.PublicObjectsVial="public_objects_vial",e.PublicObjectsWallet="public_objects_wallet",e.PublicObjectsWrench="public_objects_wrench",e.PublicPeopleBaby="public_people_baby",e.PublicPeopleChildDress="public_people_child-dress",e.PublicPeopleChildReaching="public_people_child-reaching",e.PublicPeopleChild="public_people_child",e.PublicPeopleChildren="public_people_children",e.PublicPeopleCircleUser="public_people_circle-user",e.PublicPeopleClipboardUser="public_people_clipboard-user",e.PublicPeopleFaceAngry="public_people_face-angry",e.PublicPeopleFaceAnguished="public_people_face-anguished",e.PublicPeopleFaceAstonished="public_people_face-astonished",e.PublicPeopleFaceBeamHandOverMouth="public_people_face-beam-hand-over-mouth",e.PublicPeopleFaceConfounded="public_people_face-confounded",e.PublicPeopleFaceConfused="public_people_face-confused",e.PublicPeopleFaceDiagonalMouth="public_people_face-diagonal-mouth",e.PublicPeopleFaceDisappointed="public_people_face-disappointed",e.PublicPeopleFaceDizzy="public_people_face-dizzy",e.PublicPeopleFaceExpressionless="public_people_face-expressionless",e.PublicPeopleFaceEyesXmarks="public_people_face-eyes-xmarks",e.PublicPeopleFaceFearful="public_people_face-fearful",e.PublicPeopleFaceFrownSlight="public_people_face-frown-slight",e.PublicPeopleFaceFrown="public_people_face-frown",e.PublicPeopleFaceGlasses="public_people_face-glasses",e.PublicPeopleFaceGrimace="public_people_face-grimace",e.PublicPeopleFaceGrinBeamSweat="public_people_face-grin-beam-sweat",e.PublicPeopleFaceGrinBeam="public_people_face-grin-beam",e.PublicPeopleFaceGrinHearts="public_people_face-grin-hearts",e.PublicPeopleFaceGrinSquintTears="public_people_face-grin-squint-tears",e.PublicPeopleFaceGrinSquint="public_people_face-grin-squint",e.PublicPeopleFaceGrinStars="public_people_face-grin-stars",e.PublicPeopleFaceGrinTears="public_people_face-grin-tears",e.PublicPeopleFaceGrinTongueSquint="public_people_face-grin-tongue-squint",e.PublicPeopleFaceGrinTongueWink="public_people_face-grin-tongue-wink",e.PublicPeopleFaceGrinTongue="public_people_face-grin-tongue",e.PublicPeopleFaceGrinWide="public_people_face-grin-wide",e.PublicPeopleFaceGrinWink="public_people_face-grin-wink",e.PublicPeopleFaceGrin="public_people_face-grin",e.PublicPeopleFaceHandOverMouth="public_people_face-hand-over-mouth",e.PublicPeopleFaceHushed="public_people_face-hushed",e.PublicPeopleFaceIcicles="public_people_face-icicles",e.PublicPeopleFaceKiss="public_people_face-kiss",e.PublicPeopleFaceLaugh="public_people_face-laugh",e.PublicPeopleFaceMask="public_people_face-mask",e.PublicPeopleFaceMehBlank="public_people_face-meh-blank",e.PublicPeopleFaceMeh="public_people_face-meh",e.PublicPeopleFaceMonocle="public_people_face-monocle",e.PublicPeopleFaceNauseated="public_people_face-nauseated",e.PublicPeopleFaceParty="public_people_face-party",e.PublicPeopleFacePensive="public_people_face-pensive",e.PublicPeopleFacePersevering="public_people_face-persevering",e.PublicPeopleFacePleading="public_people_face-pleading",e.PublicPeopleFacePouting="public_people_face-pouting",e.PublicPeopleFaceRaisedEyebrow="public_people_face-raised-eyebrow",e.PublicPeopleFaceRelieved="public_people_face-relieved",e.PublicPeopleFaceRollingEyes="public_people_face-rolling-eyes",e.PublicPeopleFaceSadCry="public_people_face-sad-cry",e.PublicPeopleFaceSadSweat="public_people_face-sad-sweat",e.PublicPeopleFaceSadTear="public_people_face-sad-tear",e.PublicPeopleFaceScream="public_people_face-scream",e.PublicPeopleFaceSleeping="public_people_face-sleeping",e.PublicPeopleFaceSleepy="public_people_face-sleepy",e.PublicPeopleFaceSmileBeam="public_people_face-smile-beam",e.PublicPeopleFaceSmileHalo="public_people_face-smile-halo",e.PublicPeopleFaceSmileHearts="public_people_face-smile-hearts",e.PublicPeopleFaceSmileRelaxed="public_people_face-smile-relaxed",e.PublicPeopleFaceSmileUpsideDown="public_people_face-smile-upside-down",e.PublicPeopleFaceSmileWink="public_people_face-smile-wink",e.PublicPeopleFaceSmile="public_people_face-smile",e.PublicPeopleFaceSmirking="public_people_face-smirking",e.PublicPeopleFaceSpiralEyes="public_people_face-spiral-eyes",e.PublicPeopleFaceSunglasses="public_people_face-sunglasses",e.PublicPeopleFaceSurprise="public_people_face-surprise",e.PublicPeopleFaceThermometer="public_people_face-thermometer",e.PublicPeopleFaceThinking="public_people_face-thinking",e.PublicPeopleFaceTired="public_people_face-tired",e.PublicPeopleFaceTissue="public_people_face-tissue",e.PublicPeopleFaceUnamused="public_people_face-unamused",e.PublicPeopleFaceVomit="public_people_face-vomit",e.PublicPeopleFaceWeary="public_people_face-weary",e.PublicPeopleFaceWoozy="public_people_face-woozy",e.PublicPeopleFaceWorried="public_people_face-worried",e.PublicPeopleFaceZipper="public_people_face-zipper",e.PublicPeopleFamilyDress="public_people_family-dress",e.PublicPeopleFamilyPants="public_people_family-pants",e.PublicPeopleFamily="public_people_family",e.PublicPeopleFileUser="public_people_file-user",e.PublicPeopleFolderUser="public_people_folder-user",e.PublicPeopleHeadSideBrain="public_people_head-side-brain",e.PublicPeopleHeadSideCoughSlash="public_people_head-side-cough-slash",e.PublicPeopleHeadSideCough="public_people_head-side-cough",e.PublicPeopleHeadSideGoggles="public_people_head-side-goggles",e.PublicPeopleHeadSideHeadphones="public_people_head-side-headphones",e.PublicPeopleHeadSideHeart="public_people_head-side-heart",e.PublicPeopleHeadSideMask="public_people_head-side-mask",e.PublicPeopleHeadSideMedical="public_people_head-side-medical",e.PublicPeopleHeadSideVirus="public_people_head-side-virus",e.PublicPeopleHeadSide="public_people_head-side",e.PublicPeoplePeople="public_people_people",e.PublicPeoplePersonBiking="public_people_person-biking",e.PublicPeoplePersonBooth="public_people_person-booth",e.PublicPeoplePersonBreastfeeding="public_people_person-breastfeeding",e.PublicPeoplePersonCane="public_people_person-cane",e.PublicPeoplePersonCarryBox="public_people_person-carry-box",e.PublicPeoplePersonDigging="public_people_person-digging",e.PublicPeoplePersonDollyEmpty="public_people_person-dolly-empty",e.PublicPeoplePersonDolly="public_people_person-dolly",e.PublicPeoplePersonDress="public_people_person-dress",e.PublicPeoplePersonDrowning="public_people_person-drowning",e.PublicPeoplePersonFalling="public_people_person-falling",e.PublicPeoplePersonHalfDress="public_people_person-half-dress",e.PublicPeoplePersonHiking="public_people_person-hiking",e.PublicPeoplePersonMilitaryPointing="public_people_person-military-pointing",e.PublicPeoplePersonPinball="public_people_person-pinball",e.PublicPeoplePersonPraying="public_people_person-praying",e.PublicPeoplePersonPregnant="public_people_person-pregnant",e.PublicPeoplePersonRunning="public_people_person-running",e.PublicPeoplePersonSeatReclined="public_people_person-seat-reclined",e.PublicPeoplePersonSeat="public_people_person-seat",e.PublicPeoplePersonShelter="public_people_person-shelter",e.PublicPeoplePersonSkating="public_people_person-skating",e.PublicPeoplePersonSkiing="public_people_person-skiing",e.PublicPeoplePersonSwimming="public_people_person-swimming",e.PublicPeoplePersonToDoor="public_people_person-to-door",e.PublicPeoplePersonWalkingLuggage="public_people_person-walking-luggage",e.PublicPeoplePersonWalkingWithCane="public_people_person-walking-with-cane",e.PublicPeoplePersonWalking="public_people_person-walking",e.PublicPeoplePerson="public_people_person",e.PublicPeopleRestroom="public_people_restroom",e.PublicPeopleSquareUser="public_people_square-user",e.PublicPeopleStreetView="public_people_street-view",e.PublicPeopleUserAstronaut="public_people_user-astronaut",e.PublicPeopleUserCheck="public_people_user-check",e.PublicPeopleUserChef="public_people_user-chef",e.PublicPeopleUserClock="public_people_user-clock",e.PublicPeopleUserCowboy="public_people_user-cowboy",e.PublicPeopleUserCrown="public_people_user-crown",e.PublicPeopleUserDoctor="public_people_user-doctor",e.PublicPeopleUserGear="public_people_user-gear",e.PublicPeopleUserGraduate="public_people_user-graduate",e.PublicPeopleUserGroup="public_people_user-group",e.PublicPeopleUserHeadset="public_people_user-headset",e.PublicPeopleUserHelmetSafety="public_people_user-helmet-safety",e.PublicPeopleUserInjured="public_people_user-injured",e.PublicPeopleUserLarge="public_people_user-large",e.PublicPeopleUserLock="public_people_user-lock",e.PublicPeopleUserMinus="public_people_user-minus",e.PublicPeopleUserMusic="public_people_user-music",e.PublicPeopleUserNurse="public_people_user-nurse",e.PublicPeopleUserPen="public_people_user-pen",e.PublicPeopleUserPilot="public_people_user-pilot",e.PublicPeopleUserPlus="public_people_user-plus",e.PublicPeopleUserPolice="public_people_user-police",e.PublicPeopleUserShield="public_people_user-shield",e.PublicPeopleUserSlash="public_people_user-slash",e.PublicPeopleUserUnlock="public_people_user-unlock",e.PublicPeopleUser="public_people_user",e.PublicPeopleUsers="public_people_users",e.PublicPeopleWheelchair="public_people_wheelchair",e.PublicSymbolsArrowAltCircleDown="public_symbols_arrow-alt-circle-down",e.PublicSymbolsArrowAltCircleLeft="public_symbols_arrow-alt-circle-left",e.PublicSymbolsArrowAltCircleRight="public_symbols_arrow-alt-circle-right",e.PublicSymbolsArrowAltCircleUp="public_symbols_arrow-alt-circle-up",e.PublicSymbolsArrowAltDown="public_symbols_arrow-alt-down",e.PublicSymbolsArrowAltLeft="public_symbols_arrow-alt-left",e.PublicSymbolsArrowAltRight="public_symbols_arrow-alt-right",e.PublicSymbolsArrowAltUp="public_symbols_arrow-alt-up",e.PublicSymbolsAward="public_symbols_award",e.PublicSymbolsBadgeCheck="public_symbols_badge-check",e.PublicSymbolsBadgeDollar="public_symbols_badge-dollar",e.PublicSymbolsBadge="public_symbols_badge",e.PublicSymbolsBan="public_symbols_ban",e.PublicSymbolsBell="public_symbols_bell",e.PublicSymbolsBoltSlash="public_symbols_bolt-slash",e.PublicSymbolsBolt="public_symbols_bolt",e.PublicSymbolsBookmark="public_symbols_bookmark",e.PublicSymbolsCheckCircle="public_symbols_check-circle",e.PublicSymbolsCheck="public_symbols_check",e.PublicSymbolsCircle="public_symbols_circle",e.PublicSymbolsClock="public_symbols_clock",e.PublicSymbolsClub="public_symbols_club",e.PublicSymbolsCube="public_symbols_cube",e.PublicSymbolsCubes="public_symbols_cubes",e.PublicSymbolsDeaf="public_symbols_deaf",e.PublicSymbolsDiamond="public_symbols_diamond",e.PublicSymbolsDollarSign="public_symbols_dollar-sign",e.PublicSymbolsExclamationCircle="public_symbols_exclamation-circle",e.PublicSymbolsExclamationSquare="public_symbols_exclamation-square",e.PublicSymbolsExclamationTriangle="public_symbols_exclamation-triangle",e.PublicSymbolsExclamation="public_symbols_exclamation",e.PublicSymbolsEyeSlash="public_symbols_eye-slash",e.PublicSymbolsEye="public_symbols_eye",e.PublicSymbolsFile="public_symbols_file",e.PublicSymbolsFingerprint="public_symbols_fingerprint",e.PublicSymbolsFireAlt="public_symbols_fire-alt",e.PublicSymbolsFlagAlt="public_symbols_flag-alt",e.PublicSymbolsFolder="public_symbols_folder",e.PublicSymbolsGenderless="public_symbols_genderless",e.PublicSymbolsHeart="public_symbols_heart",e.PublicSymbolsHexagon="public_symbols_hexagon",e.PublicSymbolsHourglass="public_symbols_hourglass",e.PublicSymbolsImage="public_symbols_image",e.PublicSymbolsInfoCircle="public_symbols_info-circle",e.PublicSymbolsInfoSquare="public_symbols_info-square",e.PublicSymbolsLayerGroup="public_symbols_layer-group",e.PublicSymbolsLink="public_symbols_link",e.PublicSymbolsLocationArrow="public_symbols_location-arrow",e.PublicSymbolsLockOpen="public_symbols_lock-open",e.PublicSymbolsLock="public_symbols_lock",e.PublicSymbolsMapMarkerAlt="public_symbols_map-marker-alt",e.PublicSymbolsMapMarkerCheck="public_symbols_map-marker-check",e.PublicSymbolsMapMarkerExclamation="public_symbols_map-marker-exclamation",e.PublicSymbolsMapMarkerMinus="public_symbols_map-marker-minus",e.PublicSymbolsMapMarkerPlus="public_symbols_map-marker-plus",e.PublicSymbolsMapMarkerQuestion="public_symbols_map-marker-question",e.PublicSymbolsMapMarkerSmile="public_symbols_map-marker-smile",e.PublicSymbolsMars="public_symbols_mars",e.PublicSymbolsMoon="public_symbols_moon",e.PublicSymbolsOctagon="public_symbols_octagon",e.PublicSymbolsPaperclip="public_symbols_paperclip",e.PublicSymbolsParkingCircle="public_symbols_parking-circle",e.PublicSymbolsParking="public_symbols_parking",e.PublicSymbolsPause="public_symbols_pause",e.PublicSymbolsPlay="public_symbols_play",e.PublicSymbolsQuestionCircle="public_symbols_question-circle",e.PublicSymbolsQuestionSquare="public_symbols_question-square",e.PublicSymbolsQuestion="public_symbols_question",e.PublicSymbolsRecycle="public_symbols_recycle",e.PublicSymbolsRedo="public_symbols_redo",e.PublicSymbolsShapes="public_symbols_shapes",e.PublicSymbolsShield="public_symbols_shield",e.PublicSymbolsSmokingBan="public_symbols_smoking-ban",e.PublicSymbolsSmoking="public_symbols_smoking",e.PublicSymbolsSpade="public_symbols_spade",e.PublicSymbolsSquare="public_symbols_square",e.PublicSymbolsStar="public_symbols_star",e.PublicSymbolsTachometer="public_symbols_tachometer",e.PublicSymbolsTag="public_symbols_tag",e.PublicSymbolsTemperatureDown="public_symbols_temperature-down",e.PublicSymbolsTemperatureFrigid="public_symbols_temperature-frigid",e.PublicSymbolsTemperatureHigh="public_symbols_temperature-high",e.PublicSymbolsTemperatureHot="public_symbols_temperature-hot",e.PublicSymbolsTemperatureLow="public_symbols_temperature-low",e.PublicSymbolsTemperatureUp="public_symbols_temperature-up",e.PublicSymbolsText="public_symbols_text",e.PublicSymbolsThermometerEmpty="public_symbols_thermometer-empty",e.PublicSymbolsThermometerFull="public_symbols_thermometer-full",e.PublicSymbolsThermometerHalf="public_symbols_thermometer-half",e.PublicSymbolsThermometerQuarter="public_symbols_thermometer-quarter",e.PublicSymbolsThermometerThreeQuarters="public_symbols_thermometer-three-quarters",e.PublicSymbolsThumbtack="public_symbols_thumbtack",e.PublicSymbolsTint="public_symbols_tint",e.PublicSymbolsTransgenderAlt="public_symbols_transgender-alt",e.PublicSymbolsTransgender="public_symbols_transgender",e.PublicSymbolsTrashAlt="public_symbols_trash-alt",e.PublicSymbolsTriangle="public_symbols_triangle",e.PublicSymbolsUsdCircle="public_symbols_usd-circle",e.PublicSymbolsUsdSquare="public_symbols_usd-square",e.PublicSymbolsVenusMars="public_symbols_venus-mars",e.PublicSymbolsVenus="public_symbols_venus",e.PublicSymbolsVideo="public_symbols_video",e.PublicSymbolsVolumeDown="public_symbols_volume-down",e.PublicSymbolsVolumeMute="public_symbols_volume-mute",e.PublicSymbolsVolumeOff="public_symbols_volume-off",e.PublicSymbolsVolumeSlash="public_symbols_volume-slash",e.PublicSymbolsVolumeUp="public_symbols_volume-up",e.PublicSymbolsVolume="public_symbols_volume",e.PublicSymbolsWater="public_symbols_water",e.PublicSymbolsWaveform="public_symbols_waveform",e.PublicSymbolsWifiSlash="public_symbols_wifi-slash",e.PublicSymbolsWifi="public_symbols_wifi",e.PublicSymbolsYenSign="public_symbols_yen-sign",e.Question="question",e.Reorder="reorder",e.Reply="reply",e.Restart="restart",e.Revert="revert",e.RotateLeft="rotate-left",e.RotateRight="rotate-right",e.Rotate="rotate",e.Rotation_3d="rotation-3d",e.Scale_3d="scale-3d",e.Settings="settings",e.Share="share",e.Share2="share2",e.SimpleTagPin="simple-tag-pin",e.SimpleTagSmall="simple-tag-small",e.SimpleTag="simple-tag",e.Snap="snap",e.StartLocation="start-location",e.StemHeight="stem-height",e.TapeMeasure="tape-measure",e.TogglePencil="toggle-pencil",e.Toolbar_360View="toolbar-360-view",e.ToolbarEditVr="toolbar-edit-vr",e.ToolbarHlr="toolbar-hlr",e.ToolbarLabels="toolbar-labels",e.ToolbarMattertags="toolbar-mattertags",e.ToolbarMeasurements="toolbar-measurements",e.ToolbarMoreHoriz="toolbar-more-horiz",e.ToolbarPhotos="toolbar-photos",e.ToolbarPluginConfig="toolbar-plugin-config",e.ToolbarScanMgmt="toolbar-scan-mgmt",e.ToolbarStartLocation="toolbar-start-location",e.Transitions="transitions",e.TrimKeep="trim-keep",e.TrimRemove="trim-remove",e.Twitter="twitter",e.User="user",e.Vr="vr",e.ZoomReset="zoom-reset"}(n||(n={}));const s={[n.i360]:"61697",[n.AddLink]:"61698",[n.Arrows]:"61699",[n.Attach]:"61700",[n.Back]:"61701",[n.Blocked]:"61702",[n.BlurOutline]:"61703",[n.BrushOutline]:"61704",[n.Checkmark]:"61705",[n.ChevronLeft]:"61706",[n.ChevronRight]:"61707",[n.Close]:"61708",[n.CommentLarge]:"57344",[n.CommentOutline]:"61709",[n.Comment]:"61710",[n.Delete]:"61711",[n.Dock]:"61712",[n.Dollhouse]:"61713",[n.Download]:"61714",[n.DpadDown]:"61715",[n.DpadLeft]:"61716",[n.DpadRight]:"61717",[n.DpadUp]:"61718",[n.DragEdit]:"61719",[n.DrawLines]:"61720",[n.EditFloorplan]:"61721",[n.Email]:"61722",[n.Error]:"61723",[n.EscapeKey]:"61724",[n.Expand]:"61725",[n.ExtLink]:"61726",[n.EyeHide]:"61727",[n.EyeShow]:"61728",[n.Facebook]:"61729",[n.File]:"61730",[n.Filter]:"61731",[n.FingerDrag]:"61732",[n.FloorControlsAll]:"61733",[n.FloorControls]:"61734",[n.Floorplan]:"61735",[n.FullscreenExit]:"61736",[n.Fullscreen]:"61737",[n.Fullscreen2]:"61738",[n.Help]:"61739",[n.HlrBadge]:"61740",[n.Hlr]:"61741",[n.Info]:"61742",[n.Keyboard]:"61743",[n.Layers]:"61744",[n.Link]:"61745",[n.Linkedin]:"61746",[n.List]:"61747",[n.Location]:"61748",[n.MagnifyingGlass]:"61749",[n.MediaMix]:"61750",[n.MeshTrim]:"61751",[n.Mesh]:"61752",[n.Minus]:"61753",[n.MoreVert]:"61754",[n.Notes]:"61755",[n.PanoramaDisable]:"61756",[n.Panorama]:"61757",[n.PaperClip]:"61758",[n.PauseOutline]:"61759",[n.Pause]:"61760",[n.Photo_2d]:"61761",[n.Photo_360]:"61762",[n.PhotoAdd]:"61763",[n.Pin]:"61764",[n.Pinterest]:"61765",[n.PlayUnicode]:"61766",[n.Play]:"61767",[n.Plus]:"61768",[n.Position_3d]:"61769",[n.PressHold]:"61770",[n.PublicBuildingsApartment]:"61771",[n.PublicBuildingsArchway]:"61772",[n.PublicBuildingsBuildingCircleArrowRight]:"61773",[n.PublicBuildingsBuildingCircleCheck]:"61774",[n.PublicBuildingsBuildingCircleExclamation]:"61775",[n.PublicBuildingsBuildingCircleXmark]:"61776",[n.PublicBuildingsBuildingColumns]:"61777",[n.PublicBuildingsBuildingFlag]:"61778",[n.PublicBuildingsBuildingLock]:"61779",[n.PublicBuildingsBuildingShield]:"61780",[n.PublicBuildingsBuildingUser]:"61781",[n.PublicBuildingsBuildingWheat]:"61782",[n.PublicBuildingsBuilding]:"61783",[n.PublicBuildingsBuildings]:"61784",[n.PublicBuildingsCabin]:"61785",[n.PublicBuildingsCampground]:"61786",[n.PublicBuildingsCarBuilding]:"61787",[n.PublicBuildingsCastle]:"61788",[n.PublicBuildingsChimney]:"61789",[n.PublicBuildingsChurch]:"61790",[n.PublicBuildingsCity]:"61791",[n.PublicBuildingsFarm]:"61792",[n.PublicBuildingsFence]:"61793",[n.PublicBuildingsFerrisWheel]:"61794",[n.PublicBuildingsFort]:"61795",[n.PublicBuildingsGarage]:"61796",[n.PublicBuildingsHospital]:"61797",[n.PublicBuildingsHotel]:"61798",[n.PublicBuildingsHouseBuilding]:"61799",[n.PublicBuildingsHouseCrack]:"61800",[n.PublicBuildingsHouseDay]:"61801",[n.PublicBuildingsHouseFire]:"61802",[n.PublicBuildingsHouseFlag]:"61803",[n.PublicBuildingsHouseFloodWater]:"61804",[n.PublicBuildingsHouseHeart]:"61805",[n.PublicBuildingsHouseLock]:"61806",[n.PublicBuildingsHouseMedical]:"61807",[n.PublicBuildingsHouseNight]:"61808",[n.PublicBuildingsHouse]:"61809",[n.PublicBuildingsIndustry]:"61810",[n.PublicBuildingsLandmark]:"61811",[n.PublicBuildingsMonument]:"61812",[n.PublicBuildingsMosque]:"61813",[n.PublicBuildingsMountainCity]:"61814",[n.PublicBuildingsPlaceOfWorship]:"61815",[n.PublicBuildingsRollerCoaster]:"61816",[n.PublicBuildingsSchool]:"61817",[n.PublicBuildingsStore]:"61818",[n.PublicBuildingsSynagogue]:"61819",[n.PublicBuildingsTent]:"61820",[n.PublicBuildingsToilet]:"61821",[n.PublicBuildingsToriiGate]:"61822",[n.PublicBuildingsTowerObservation]:"61823",[n.PublicBuildingsTree]:"61824",[n.PublicBuildingsWarehouse]:"61825",[n.PublicCharacters_0]:"61826",[n.PublicCharacters_1]:"61827",[n.PublicCharacters_2]:"61828",[n.PublicCharacters_3]:"61829",[n.PublicCharacters_4]:"61830",[n.PublicCharacters_5]:"61831",[n.PublicCharacters_6]:"61832",[n.PublicCharacters_7]:"61833",[n.PublicCharacters_8]:"61834",[n.PublicCharacters_9]:"61835",[n.PublicCharactersA]:"61836",[n.PublicCharactersB]:"61837",[n.PublicCharactersC]:"61838",[n.PublicCharactersCircle_0]:"61839",[n.PublicCharactersCircle_1]:"61840",[n.PublicCharactersCircle_2]:"61841",[n.PublicCharactersCircle_3]:"61842",[n.PublicCharactersCircle_4]:"61843",[n.PublicCharactersCircle_5]:"61844",[n.PublicCharactersCircle_6]:"61845",[n.PublicCharactersCircle_7]:"61846",[n.PublicCharactersCircle_8]:"61847",[n.PublicCharactersCircle_9]:"61848",[n.PublicCharactersCircleA]:"61849",[n.PublicCharactersCircleB]:"61850",[n.PublicCharactersCircleC]:"61851",[n.PublicCharactersCircleD]:"61852",[n.PublicCharactersCircleE]:"61853",[n.PublicCharactersCircleF]:"61854",[n.PublicCharactersCircleG]:"61855",[n.PublicCharactersCircleH]:"61856",[n.PublicCharactersCircleI]:"61857",[n.PublicCharactersCircleJ]:"61858",[n.PublicCharactersCircleK]:"61859",[n.PublicCharactersCircleL]:"61860",[n.PublicCharactersCircleM]:"61861",[n.PublicCharactersCircleN]:"61862",[n.PublicCharactersCircleO]:"61863",[n.PublicCharactersCircleP]:"61864",[n.PublicCharactersCircleQ]:"61865",[n.PublicCharactersCircleR]:"61866",[n.PublicCharactersCircleS]:"61867",[n.PublicCharactersCircleT]:"61868",[n.PublicCharactersCircleU]:"61869",[n.PublicCharactersCircleV]:"61870",[n.PublicCharactersCircleW]:"61871",[n.PublicCharactersCircleX]:"61872",[n.PublicCharactersCircleY]:"61873",[n.PublicCharactersCircleZ]:"61874",[n.PublicCharactersD]:"61875",[n.PublicCharactersE]:"61876",[n.PublicCharactersF]:"61877",[n.PublicCharactersG]:"61878",[n.PublicCharactersH]:"61879",[n.PublicCharactersI]:"61880",[n.PublicCharactersJ]:"61881",[n.PublicCharactersK]:"61882",[n.PublicCharactersL]:"61883",[n.PublicCharactersM]:"61884",[n.PublicCharactersN]:"61885",[n.PublicCharactersO]:"61886",[n.PublicCharactersP]:"61887",[n.PublicCharactersQ]:"61888",[n.PublicCharactersR]:"61889",[n.PublicCharactersS]:"61890",[n.PublicCharactersSquare_0]:"61891",[n.PublicCharactersSquare_1]:"61892",[n.PublicCharactersSquare_2]:"61893",[n.PublicCharactersSquare_3]:"61894",[n.PublicCharactersSquare_4]:"61895",[n.PublicCharactersSquare_5]:"61896",[n.PublicCharactersSquare_6]:"61897",[n.PublicCharactersSquare_7]:"61898",[n.PublicCharactersSquare_8]:"61899",[n.PublicCharactersSquare_9]:"61900",[n.PublicCharactersSquareA]:"61901",[n.PublicCharactersSquareB]:"61902",[n.PublicCharactersSquareC]:"61903",[n.PublicCharactersSquareD]:"61904",[n.PublicCharactersSquareE]:"61905",[n.PublicCharactersSquareF]:"61906",[n.PublicCharactersSquareG]:"61907",[n.PublicCharactersSquareH]:"61908",[n.PublicCharactersSquareI]:"61909",[n.PublicCharactersSquareJ]:"61910",[n.PublicCharactersSquareK]:"61911",[n.PublicCharactersSquareL]:"61912",[n.PublicCharactersSquareM]:"61913",[n.PublicCharactersSquareN]:"61914",[n.PublicCharactersSquareO]:"61915",[n.PublicCharactersSquareP]:"61916",[n.PublicCharactersSquareQ]:"61917",[n.PublicCharactersSquareR]:"61918",[n.PublicCharactersSquareS]:"61919",[n.PublicCharactersSquareT]:"61920",[n.PublicCharactersSquareU]:"61921",[n.PublicCharactersSquareV]:"61922",[n.PublicCharactersSquareW]:"61923",[n.PublicCharactersSquareX]:"61924",[n.PublicCharactersSquareXmark]:"61925",[n.PublicCharactersSquareY]:"61926",[n.PublicCharactersSquareZ]:"61927",[n.PublicCharactersT]:"61928",[n.PublicCharactersU]:"61929",[n.PublicCharactersV]:"61930",[n.PublicCharactersW]:"61931",[n.PublicCharactersX]:"61932",[n.PublicCharactersY]:"61933",[n.PublicCharactersZ]:"61934",[n.PublicFurnitureBath]:"61935",[n.PublicFurnitureBedAlt]:"61936",[n.PublicFurnitureBedBunk]:"61937",[n.PublicFurnitureBedEmpty]:"61938",[n.PublicFurnitureBed]:"61939",[n.PublicFurnitureBlender]:"61940",[n.PublicFurnitureBlinds]:"61941",[n.PublicFurnitureCabinetFiling]:"61942",[n.PublicFurnitureCashRegister]:"61943",[n.PublicFurnitureChairOffice]:"61944",[n.PublicFurnitureChair]:"61945",[n.PublicFurnitureChargingStation]:"61946",[n.PublicFurnitureComputerClassic]:"61947",[n.PublicFurnitureComputerSpeaker]:"61948",[n.PublicFurnitureCouch]:"61949",[n.PublicFurnitureDryerAlt]:"61950",[n.PublicFurnitureDryer]:"61951",[n.PublicFurnitureDumbbell]:"61952",[n.PublicFurnitureDumpster]:"61953",[n.PublicFurnitureFaucet]:"61954",[n.PublicFurnitureFax]:"61955",[n.PublicFurnitureHotTub]:"61956",[n.PublicFurnitureInventory]:"61957",[n.PublicFurnitureLampDesk]:"61958",[n.PublicFurnitureLampFloor]:"61959",[n.PublicFurnitureLamp]:"61960",[n.PublicFurnitureLaptop]:"61961",[n.PublicFurnitureLightCeiling]:"61962",[n.PublicFurnitureLoveseat]:"61963",[n.PublicFurnitureMicrowave]:"61964",[n.PublicFurniturePiano]:"61965",[n.PublicFurniturePodium]:"61966",[n.PublicFurniturePresentation]:"61967",[n.PublicFurnitureProjector]:"61968",[n.PublicFurnitureRadio]:"61969",[n.PublicFurnitureRefrigerator]:"61970",[n.PublicFurnitureShower]:"61971",[n.PublicFurnitureShredder]:"61972",[n.PublicFurnitureSink]:"61973",[n.PublicFurnitureSolarPanel]:"61974",[n.PublicFurnitureSpeaker]:"61975",[n.PublicFurnitureSpeakers]:"61976",[n.PublicFurnitureToilet]:"61977",[n.PublicFurnitureTrashAlt]:"61978",[n.PublicFurnitureTurntable]:"61979",[n.PublicFurnitureTvRetro]:"61980",[n.PublicFurnitureTv]:"61981",[n.PublicFurnitureTypewriter]:"61982",[n.PublicObjectsAbacus]:"61983",[n.PublicObjectsAlarmClock]:"61984",[n.PublicObjectsAlbumCollection]:"61985",[n.PublicObjectsBackpack]:"61986",[n.PublicObjectsBagsShopping]:"61987",[n.PublicObjectsBell]:"61988",[n.PublicObjectsBicycle]:"61989",[n.PublicObjectsBinoculars]:"61990",[n.PublicObjectsBlanket]:"61991",[n.PublicObjectsBook]:"61992",[n.PublicObjectsBooks]:"61993",[n.PublicObjectsBoot]:"61994",[n.PublicObjectsBox]:"61995",[n.PublicObjectsBreadLoaf]:"61996",[n.PublicObjectsBriefcaseMedical]:"61997",[n.PublicObjectsBriefcase]:"61998",[n.PublicObjectsBroom]:"61999",[n.PublicObjectsBrush]:"62000",[n.PublicObjectsBullhorn]:"62001",[n.PublicObjectsBurgerSoda]:"62002",[n.PublicObjectsCalculator]:"62003",[n.PublicObjectsCalendar]:"62004",[n.PublicObjectsCamera]:"62005",[n.PublicObjectsCar]:"62006",[n.PublicObjectsCarrot]:"62007",[n.PublicObjectsCheeseSwiss]:"62008",[n.PublicObjectsChess]:"62009",[n.PublicObjectsClipboardCheck]:"62010",[n.PublicObjectsClipboardList]:"62011",[n.PublicObjectsClipboard]:"62012",[n.PublicObjectsCoffeePot]:"62013",[n.PublicObjectsCompass]:"62014",[n.PublicObjectsCookie]:"62015",[n.PublicObjectsCorn]:"62016",[n.PublicObjectsCroissant]:"62017",[n.PublicObjectsDice]:"62018",[n.PublicObjectsDrumstick]:"62019",[n.PublicObjectsEgg]:"62020",[n.PublicObjectsFish]:"62021",[n.PublicObjectsFlask]:"62022",[n.PublicObjectsFlowerTulip]:"62023",[n.PublicObjectsGamepad]:"62024",[n.PublicObjectsGem]:"62025",[n.PublicObjectsGift]:"62026",[n.PublicObjectsGifts]:"62027",[n.PublicObjectsGlassCitrus]:"62028",[n.PublicObjectsGlass]:"62029",[n.PublicObjectsGlasses]:"62030",[n.PublicObjectsGlobeStand]:"62031",[n.PublicObjectsGraduationCap]:"62032",[n.PublicObjectsGuitar]:"62033",[n.PublicObjectsHammer]:"62034",[n.PublicObjectsHatChef]:"62035",[n.PublicObjectsIceCream]:"62036",[n.PublicObjectsIceSkate]:"62037",[n.PublicObjectsKey]:"62038",[n.PublicObjectsKnifeKitchen]:"62039",[n.PublicObjectsLightbulbOn]:"62040",[n.PublicObjectsLightbulbSlash]:"62041",[n.PublicObjectsLightbulb]:"62042",[n.PublicObjectsMagnet]:"62043",[n.PublicObjectsMailbox]:"62044",[n.PublicObjectsMap]:"62045",[n.PublicObjectsMeat]:"62046",[n.PublicObjectsMedal]:"62047",[n.PublicObjectsMicrophone]:"62048",[n.PublicObjectsMobile]:"62049",[n.PublicObjectsMoneyBillWave]:"62050",[n.PublicObjectsMugTea]:"62051",[n.PublicObjectsMug]:"62052",[n.PublicObjectsNewspaper]:"62053",[n.PublicObjectsPaintRoller]:"62054",[n.PublicObjectsPalette]:"62055",[n.PublicObjectsPen]:"62056",[n.PublicObjectsPhone]:"62057",[n.PublicObjectsPizzaSlice]:"62058",[n.PublicObjectsPumpSoap]:"62059",[n.PublicObjectsRulerTriangle]:"62060",[n.PublicObjectsRuler]:"62061",[n.PublicObjectsSalad]:"62062",[n.PublicObjectsSandwich]:"62063",[n.PublicObjectsShovel]:"62064",[n.PublicObjectsSteak]:"62065",[n.PublicObjectsSunglasses]:"62066",[n.PublicObjectsTurkey]:"62067",[n.PublicObjectsUtensils]:"62068",[n.PublicObjectsVial]:"62069",[n.PublicObjectsWallet]:"62070",[n.PublicObjectsWrench]:"62071",[n.PublicPeopleBaby]:"62072",[n.PublicPeopleChildDress]:"62073",[n.PublicPeopleChildReaching]:"62074",[n.PublicPeopleChild]:"62075",[n.PublicPeopleChildren]:"62076",[n.PublicPeopleCircleUser]:"62077",[n.PublicPeopleClipboardUser]:"62078",[n.PublicPeopleFaceAngry]:"62079",[n.PublicPeopleFaceAnguished]:"62080",[n.PublicPeopleFaceAstonished]:"62081",[n.PublicPeopleFaceBeamHandOverMouth]:"62082",[n.PublicPeopleFaceConfounded]:"62083",[n.PublicPeopleFaceConfused]:"62084",[n.PublicPeopleFaceDiagonalMouth]:"62085",[n.PublicPeopleFaceDisappointed]:"62086",[n.PublicPeopleFaceDizzy]:"62087",[n.PublicPeopleFaceExpressionless]:"62088",[n.PublicPeopleFaceEyesXmarks]:"62089",[n.PublicPeopleFaceFearful]:"62090",[n.PublicPeopleFaceFrownSlight]:"62091",[n.PublicPeopleFaceFrown]:"62092",[n.PublicPeopleFaceGlasses]:"62093",[n.PublicPeopleFaceGrimace]:"62094",[n.PublicPeopleFaceGrinBeamSweat]:"62095",[n.PublicPeopleFaceGrinBeam]:"62096",[n.PublicPeopleFaceGrinHearts]:"62097",[n.PublicPeopleFaceGrinSquintTears]:"62098",[n.PublicPeopleFaceGrinSquint]:"62099",[n.PublicPeopleFaceGrinStars]:"62100",[n.PublicPeopleFaceGrinTears]:"62101",[n.PublicPeopleFaceGrinTongueSquint]:"62102",[n.PublicPeopleFaceGrinTongueWink]:"62103",[n.PublicPeopleFaceGrinTongue]:"62104",[n.PublicPeopleFaceGrinWide]:"62105",[n.PublicPeopleFaceGrinWink]:"62106",[n.PublicPeopleFaceGrin]:"62107",[n.PublicPeopleFaceHandOverMouth]:"62108",[n.PublicPeopleFaceHushed]:"62109",[n.PublicPeopleFaceIcicles]:"62110",[n.PublicPeopleFaceKiss]:"62111",[n.PublicPeopleFaceLaugh]:"62112",[n.PublicPeopleFaceMask]:"62113",[n.PublicPeopleFaceMehBlank]:"62114",[n.PublicPeopleFaceMeh]:"62115",[n.PublicPeopleFaceMonocle]:"62116",[n.PublicPeopleFaceNauseated]:"62117",[n.PublicPeopleFaceParty]:"62118",[n.PublicPeopleFacePensive]:"62119",[n.PublicPeopleFacePersevering]:"62120",[n.PublicPeopleFacePleading]:"62121",[n.PublicPeopleFacePouting]:"62122",[n.PublicPeopleFaceRaisedEyebrow]:"62123",[n.PublicPeopleFaceRelieved]:"62124",[n.PublicPeopleFaceRollingEyes]:"62125",[n.PublicPeopleFaceSadCry]:"62126",[n.PublicPeopleFaceSadSweat]:"62127",[n.PublicPeopleFaceSadTear]:"62128",[n.PublicPeopleFaceScream]:"62129",[n.PublicPeopleFaceSleeping]:"62130",[n.PublicPeopleFaceSleepy]:"62131",[n.PublicPeopleFaceSmileBeam]:"62132",[n.PublicPeopleFaceSmileHalo]:"62133",[n.PublicPeopleFaceSmileHearts]:"62134",[n.PublicPeopleFaceSmileRelaxed]:"62135",[n.PublicPeopleFaceSmileUpsideDown]:"62136",[n.PublicPeopleFaceSmileWink]:"62137",[n.PublicPeopleFaceSmile]:"62138",[n.PublicPeopleFaceSmirking]:"62139",[n.PublicPeopleFaceSpiralEyes]:"62140",[n.PublicPeopleFaceSunglasses]:"62141",[n.PublicPeopleFaceSurprise]:"62142",[n.PublicPeopleFaceThermometer]:"62143",[n.PublicPeopleFaceThinking]:"62144",[n.PublicPeopleFaceTired]:"62145",[n.PublicPeopleFaceTissue]:"62146",[n.PublicPeopleFaceUnamused]:"62147",[n.PublicPeopleFaceVomit]:"62148",[n.PublicPeopleFaceWeary]:"62149",[n.PublicPeopleFaceWoozy]:"62150",[n.PublicPeopleFaceWorried]:"62151",[n.PublicPeopleFaceZipper]:"62152",[n.PublicPeopleFamilyDress]:"62153",[n.PublicPeopleFamilyPants]:"62154",[n.PublicPeopleFamily]:"62155",[n.PublicPeopleFileUser]:"62156",[n.PublicPeopleFolderUser]:"62157",[n.PublicPeopleHeadSideBrain]:"62158",[n.PublicPeopleHeadSideCoughSlash]:"62159",[n.PublicPeopleHeadSideCough]:"62160",[n.PublicPeopleHeadSideGoggles]:"62161",[n.PublicPeopleHeadSideHeadphones]:"62162",[n.PublicPeopleHeadSideHeart]:"62163",[n.PublicPeopleHeadSideMask]:"62164",[n.PublicPeopleHeadSideMedical]:"62165",[n.PublicPeopleHeadSideVirus]:"62166",[n.PublicPeopleHeadSide]:"62167",[n.PublicPeoplePeople]:"62168",[n.PublicPeoplePersonBiking]:"62169",[n.PublicPeoplePersonBooth]:"62170",[n.PublicPeoplePersonBreastfeeding]:"62171",[n.PublicPeoplePersonCane]:"62172",[n.PublicPeoplePersonCarryBox]:"62173",[n.PublicPeoplePersonDigging]:"62174",[n.PublicPeoplePersonDollyEmpty]:"62175",[n.PublicPeoplePersonDolly]:"62176",[n.PublicPeoplePersonDress]:"62177",[n.PublicPeoplePersonDrowning]:"62178",[n.PublicPeoplePersonFalling]:"62179",[n.PublicPeoplePersonHalfDress]:"62180",[n.PublicPeoplePersonHiking]:"62181",[n.PublicPeoplePersonMilitaryPointing]:"62182",[n.PublicPeoplePersonPinball]:"62183",[n.PublicPeoplePersonPraying]:"62184",[n.PublicPeoplePersonPregnant]:"62185",[n.PublicPeoplePersonRunning]:"62186",[n.PublicPeoplePersonSeatReclined]:"62187",[n.PublicPeoplePersonSeat]:"62188",[n.PublicPeoplePersonShelter]:"62189",[n.PublicPeoplePersonSkating]:"62190",[n.PublicPeoplePersonSkiing]:"62191",[n.PublicPeoplePersonSwimming]:"62192",[n.PublicPeoplePersonToDoor]:"62193",[n.PublicPeoplePersonWalkingLuggage]:"62194",[n.PublicPeoplePersonWalkingWithCane]:"62195",[n.PublicPeoplePersonWalking]:"62196",[n.PublicPeoplePerson]:"62197",[n.PublicPeopleRestroom]:"62198",[n.PublicPeopleSquareUser]:"62199",[n.PublicPeopleStreetView]:"62200",[n.PublicPeopleUserAstronaut]:"62201",[n.PublicPeopleUserCheck]:"62202",[n.PublicPeopleUserChef]:"62203",[n.PublicPeopleUserClock]:"62204",[n.PublicPeopleUserCowboy]:"62205",[n.PublicPeopleUserCrown]:"62206",[n.PublicPeopleUserDoctor]:"62207",[n.PublicPeopleUserGear]:"62208",[n.PublicPeopleUserGraduate]:"62209",[n.PublicPeopleUserGroup]:"62210",[n.PublicPeopleUserHeadset]:"62211",[n.PublicPeopleUserHelmetSafety]:"62212",[n.PublicPeopleUserInjured]:"62213",[n.PublicPeopleUserLarge]:"62214",[n.PublicPeopleUserLock]:"62215",[n.PublicPeopleUserMinus]:"62216",[n.PublicPeopleUserMusic]:"62217",[n.PublicPeopleUserNurse]:"62218",[n.PublicPeopleUserPen]:"62219",[n.PublicPeopleUserPilot]:"62220",[n.PublicPeopleUserPlus]:"62221",[n.PublicPeopleUserPolice]:"62222",[n.PublicPeopleUserShield]:"62223",[n.PublicPeopleUserSlash]:"62224",[n.PublicPeopleUserUnlock]:"62225",[n.PublicPeopleUser]:"62226",[n.PublicPeopleUsers]:"62227",[n.PublicPeopleWheelchair]:"62228",[n.PublicSymbolsArrowAltCircleDown]:"62229",[n.PublicSymbolsArrowAltCircleLeft]:"62230",[n.PublicSymbolsArrowAltCircleRight]:"62231",[n.PublicSymbolsArrowAltCircleUp]:"62232",[n.PublicSymbolsArrowAltDown]:"62233",[n.PublicSymbolsArrowAltLeft]:"62234",[n.PublicSymbolsArrowAltRight]:"62235",[n.PublicSymbolsArrowAltUp]:"62236",[n.PublicSymbolsAward]:"62237",[n.PublicSymbolsBadgeCheck]:"62238",[n.PublicSymbolsBadgeDollar]:"62239",[n.PublicSymbolsBadge]:"62240",[n.PublicSymbolsBan]:"62241",[n.PublicSymbolsBell]:"62242",[n.PublicSymbolsBoltSlash]:"62243",[n.PublicSymbolsBolt]:"62244",[n.PublicSymbolsBookmark]:"62245",[n.PublicSymbolsCheckCircle]:"62246",[n.PublicSymbolsCheck]:"62247",[n.PublicSymbolsCircle]:"62248",[n.PublicSymbolsClock]:"62249",[n.PublicSymbolsClub]:"62250",[n.PublicSymbolsCube]:"62251",[n.PublicSymbolsCubes]:"62252",[n.PublicSymbolsDeaf]:"62253",[n.PublicSymbolsDiamond]:"62254",[n.PublicSymbolsDollarSign]:"62255",[n.PublicSymbolsExclamationCircle]:"62256",[n.PublicSymbolsExclamationSquare]:"62257",[n.PublicSymbolsExclamationTriangle]:"62258",[n.PublicSymbolsExclamation]:"62259",[n.PublicSymbolsEyeSlash]:"62260",[n.PublicSymbolsEye]:"62261",[n.PublicSymbolsFile]:"62262",[n.PublicSymbolsFingerprint]:"62263",[n.PublicSymbolsFireAlt]:"62264",[n.PublicSymbolsFlagAlt]:"62265",[n.PublicSymbolsFolder]:"62266",[n.PublicSymbolsGenderless]:"62267",[n.PublicSymbolsHeart]:"62268",[n.PublicSymbolsHexagon]:"62269",[n.PublicSymbolsHourglass]:"62270",[n.PublicSymbolsImage]:"62271",[n.PublicSymbolsInfoCircle]:"62272",[n.PublicSymbolsInfoSquare]:"62273",[n.PublicSymbolsLayerGroup]:"62274",[n.PublicSymbolsLink]:"62275",[n.PublicSymbolsLocationArrow]:"62276",[n.PublicSymbolsLockOpen]:"62277",[n.PublicSymbolsLock]:"62278",[n.PublicSymbolsMapMarkerAlt]:"62279",[n.PublicSymbolsMapMarkerCheck]:"62280",[n.PublicSymbolsMapMarkerExclamation]:"62281",[n.PublicSymbolsMapMarkerMinus]:"62282",[n.PublicSymbolsMapMarkerPlus]:"62283",[n.PublicSymbolsMapMarkerQuestion]:"62284",[n.PublicSymbolsMapMarkerSmile]:"62285",[n.PublicSymbolsMars]:"62286",[n.PublicSymbolsMoon]:"62287",[n.PublicSymbolsOctagon]:"62288",[n.PublicSymbolsPaperclip]:"62289",[n.PublicSymbolsParkingCircle]:"62290",[n.PublicSymbolsParking]:"62291",[n.PublicSymbolsPause]:"62292",[n.PublicSymbolsPlay]:"62293",[n.PublicSymbolsQuestionCircle]:"62294",[n.PublicSymbolsQuestionSquare]:"62295",[n.PublicSymbolsQuestion]:"62296",[n.PublicSymbolsRecycle]:"62297",[n.PublicSymbolsRedo]:"62298",[n.PublicSymbolsShapes]:"62299",[n.PublicSymbolsShield]:"62300",[n.PublicSymbolsSmokingBan]:"62301",[n.PublicSymbolsSmoking]:"62302",[n.PublicSymbolsSpade]:"62303",[n.PublicSymbolsSquare]:"62304",[n.PublicSymbolsStar]:"62305",[n.PublicSymbolsTachometer]:"62306",[n.PublicSymbolsTag]:"62307",[n.PublicSymbolsTemperatureDown]:"62308",[n.PublicSymbolsTemperatureFrigid]:"62309",[n.PublicSymbolsTemperatureHigh]:"62310",[n.PublicSymbolsTemperatureHot]:"62311",[n.PublicSymbolsTemperatureLow]:"62312",[n.PublicSymbolsTemperatureUp]:"62313",[n.PublicSymbolsText]:"62314",[n.PublicSymbolsThermometerEmpty]:"62315",[n.PublicSymbolsThermometerFull]:"62316",[n.PublicSymbolsThermometerHalf]:"62317",[n.PublicSymbolsThermometerQuarter]:"62318",[n.PublicSymbolsThermometerThreeQuarters]:"62319",[n.PublicSymbolsThumbtack]:"62320",[n.PublicSymbolsTint]:"62321",[n.PublicSymbolsTransgenderAlt]:"62322",[n.PublicSymbolsTransgender]:"62323",[n.PublicSymbolsTrashAlt]:"62324",[n.PublicSymbolsTriangle]:"62325",[n.PublicSymbolsUsdCircle]:"62326",[n.PublicSymbolsUsdSquare]:"62327",[n.PublicSymbolsVenusMars]:"62328",[n.PublicSymbolsVenus]:"62329",[n.PublicSymbolsVideo]:"62330",[n.PublicSymbolsVolumeDown]:"62331",[n.PublicSymbolsVolumeMute]:"62332",[n.PublicSymbolsVolumeOff]:"62333",[n.PublicSymbolsVolumeSlash]:"62334",[n.PublicSymbolsVolumeUp]:"62335",[n.PublicSymbolsVolume]:"62336",[n.PublicSymbolsWater]:"62337",[n.PublicSymbolsWaveform]:"62338",[n.PublicSymbolsWifiSlash]:"62339",[n.PublicSymbolsWifi]:"62340",[n.PublicSymbolsYenSign]:"62341",[n.Question]:"62342",[n.Reorder]:"62343",[n.Reply]:"62344",[n.Restart]:"62345",[n.Revert]:"62346",[n.RotateLeft]:"62347",[n.RotateRight]:"62348",[n.Rotate]:"62349",[n.Rotation_3d]:"62350",[n.Scale_3d]:"62351",[n.Settings]:"62352",[n.Share]:"62353",[n.Share2]:"62354",[n.SimpleTagPin]:"62355",[n.SimpleTagSmall]:"62356",[n.SimpleTag]:"62357",[n.Snap]:"62358",[n.StartLocation]:"62359",[n.StemHeight]:"62360",[n.TapeMeasure]:"62361",[n.TogglePencil]:"62362",[n.Toolbar_360View]:"62363",[n.ToolbarEditVr]:"62364",[n.ToolbarHlr]:"62365",[n.ToolbarLabels]:"62366",[n.ToolbarMattertags]:"62367",[n.ToolbarMeasurements]:"62368",[n.ToolbarMoreHoriz]:"62369",[n.ToolbarPhotos]:"62370",[n.ToolbarPluginConfig]:"62371",[n.ToolbarScanMgmt]:"62372",[n.ToolbarStartLocation]:"62373",[n.Transitions]:"62374",[n.TrimKeep]:"62375",[n.TrimRemove]:"62376",[n.Twitter]:"62377",[n.User]:"62378",[n.Vr]:"62379",[n.ZoomReset]:"62380"}},75182:(e,t,i)=>{"use strict";i.d(t,{g:()=>s});var n=i(81346);const s=Object.keys(n.f).sort(((e,t)=>e.localeCompare(t)))},47457:(e,t,i)=>{"use strict";i.d(t,{UQ:()=>p,_m:()=>g,jL:()=>v,zx:()=>m.zx,hE:()=>b,xz:()=>A,do:()=>Pe,qE:()=>m.qE,Wu:()=>m.Wu,XZ:()=>w,Q5:()=>Ce,gQ:()=>I,JO:()=>_.I,xG:()=>Me,w0:()=>k,HC:()=>P,jr:()=>_e,oi:()=>ve,rR:()=>Ge,no:()=>Ue,u:()=>be.u});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r);const o=(0,s.createContext)({intersectionRef:null,GroupRenderer:()=>null,ItemRenderer:()=>null,itemRendererProps:{},toggleGroup:()=>{},isCollapsed:()=>!1,collapsible:!0});function l({item:e,itemHeight:t,renderItem:i,renderItemProps:s={}}){const r=i;return(0,n.jsx)("div",Object.assign({className:"mp-nova-vlist-item",style:{height:t}},{children:(0,n.jsx)(r,Object.assign({item:e},s))}))}function c({items:e,itemHeight:t,intersectionRef:i,renderItem:r,itemKeyProp:a,renderItemProps:o,forceRender:c}){const d=(0,s.useRef)(null),[u,h]=(0,s.useState)(!1);(0,s.useEffect)((()=>{if(!d.current||!i)return;const e=new IntersectionObserver((e=>{h(e[0].isIntersecting)}),{root:i});return e.observe(d.current),()=>{e.disconnect()}}),[d,i]);const p=u||c;return(0,n.jsx)("div",Object.assign({className:"mp-nova-vlist-chunk",ref:d,style:{height:e.length*t}},{children:p&&e.map(((e,i)=>(0,n.jsx)(l,{index:i,item:e,itemHeight:t,renderItem:r,renderItemProps:o},function(e,t){return e[t]}(e,a))))}))}function d({items:e,chunkSize:t=50,itemHeight:i=40,itemKeyProp:r="id",renderItem:o,renderItemProps:l,intersectionRef:d,style:u,showItemWithIndex:h=-1}){const[p,m]=(0,s.useState)(null),f=(0,s.useCallback)((e=>{null!==e&&m(e)}),[]),g=[];for(let s=0;s<e.length;s+=t){const a=h>=s&&h<s+t;g.push((0,n.jsx)(c,{itemHeight:i,intersectionRef:d||p,renderItem:o,renderItemProps:l,items:e.slice(s,s+t),itemKeyProp:r,forceRender:a},s))}return(0,n.jsx)("div",Object.assign({className:a()("mp-nova-vlist",{"mp-nova-vlist-scrollable":!d}),ref:f,style:u},{children:(0,n.jsx)("div",Object.assign({className:"mp-nova-vlist-chunks"},{children:g}))}))}let u=0;function h({group:e,index:t,itemHeight:i,showItemWithIndex:r,active:l}){const{GroupRenderer:c,EmptyRenderer:h,ItemRenderer:p,itemRendererProps:m={},isCollapsed:f,intersectionRef:g}=(0,s.useContext)(o),v=(0,s.useRef)(null),b=(0,s.useMemo)((()=>(u++,`${"AccordionPanel"}-${u}`)),[]),y=f(e.id);let E,S={};e.items.length>0?(S={height:y?"0":e.items.length*i+"px"},E=(0,n.jsx)(d,{intersectionRef:g,renderItem:p,renderItemProps:m,items:e.items,itemHeight:i,showItemWithIndex:r})):(S={height:y?"0":`${i}px`},E=h?(0,n.jsx)(h,{group:e}):(0,n.jsx)(p,Object.assign({item:null},m)));const T=a()("mp-nova-accordion-panel",{active:l,collapsed:y});return(0,n.jsxs)("section",Object.assign({role:"region",className:T,"aria-labelledby":b},{children:[(0,n.jsx)("div",Object.assign({id:b},{children:(0,n.jsx)(c,{group:e})})),(0,n.jsx)("div",Object.assign({className:"mp-accordion-panel-contents",style:S,ref:v},{children:E}))]}))}const p=(0,s.forwardRef)((({className:e,data:t,itemHeight:i,renderEmpty:r,renderGroup:l,renderItem:c,renderItemProps:d,activeGroupId:u,collapsedIds:p={},collapseEmptyGroups:m=!1,onToggleCollapse:f,preventCollapsing:g},v)=>{const b=(0,s.useRef)(null),[y,E]=(0,s.useState)(-1),[S,T]=(0,s.useState)(null);const O=(0,s.useCallback)((e=>void 0!==p[e]?p[e]:m&&function(e){const i=t.find((t=>t.id===e));return!!i&&0===i.items.length}(e)),[p,m,t]);(0,s.useImperativeHandle)(v,(()=>({focusGroupItem:(e,t)=>{O(e)&&_(e),T(e),E(t)}})),[]);const _=e=>{if(f){const t=!O(e);f(e,t)}},N=b.current?b.current.parentNode:null,A=a()("mp-nova-accordion",e);return(0,n.jsx)("div",Object.assign({className:A,ref:b},{children:(0,n.jsx)(o.Provider,Object.assign({value:{intersectionRef:N,GroupRenderer:l,EmptyRenderer:r,ItemRenderer:c,itemRendererProps:d,toggleGroup:_,isCollapsed:O,collapsible:!g}},{children:t.map(((e,t)=>(0,n.jsx)(h,{itemHeight:i,index:t,group:e,active:e.id===u,showItemWithIndex:e.id===S?y:-1},e.id)))}))}))}));var m=i(86902);function f({collapsed:e,onClick:t,style:i}){const s=a()("mp-nova-accordion-toggle",{collapsed:e});return(0,n.jsx)(m.zx,{className:s,icon:"dpad-up",onClick:t,style:i})}function g({id:e,title:t,selectable:i=!1,selected:r=!1,onSelect:l,actions:c,className:d,onClick:u}){const{toggleGroup:h,isCollapsed:p,collapsible:m}=(0,s.useContext)(o),g=p(e)&&m,v=a()("mp-nova-accordion-header",d,{collapsed:g,collapsible:m}),y=(0,n.jsxs)(b,{children:[c,m&&(0,n.jsx)(f,{collapsed:g,onClick:t=>{t.stopPropagation(),h(e)}})]});return(0,n.jsx)(P,{id:e,className:v,onClick:()=>{let t=!1;u&&(t=u(g)),m&&!t&&h(e)},actions:y,title:t,selectable:i,selected:r,onSelect:l,variant:"header"})}function v({children:e,actions:t,header:i,layout:s="vertical",style:r,text:o,title:l,className:c}){const d=a()("mp-nova-banner",`mp-nova-banner-${s}`,c);return(0,n.jsxs)("div",Object.assign({className:d,style:r},{children:[i&&(0,n.jsx)("div",Object.assign({className:"mp-nova-banner-header"},{children:i})),l&&(0,n.jsx)("div",Object.assign({className:"mp-nova-banner-title"},{children:l})),o&&(0,n.jsx)("div",Object.assign({className:"mp-nova-banner-text"},{children:o})),t&&(0,n.jsx)("div",Object.assign({className:"mp-nova-banner-actions"},{children:t})),e]}))}function b({children:e,spacing:t,className:i}){const s=a()("mp-nova-btn-group",i,{[`mp-nova-btn-group-${t}`]:void 0!==t});return(0,n.jsx)("div",Object.assign({className:s},{children:e}))}var y=i(73935),E=i(54484),S=i(77294),T=i(37056);function O({target:e,isOpen:t,className:i,onClose:r,xOffset:o=0,yOffset:l,arrow:c=!1,placement:d="bottom-start",theme:u,children:h}){const[p,m]=(0,s.useState)(null),[f,g]=(0,s.useState)(null),{styles:v,attributes:b}=(0,S.D)(e,p,{placement:d,strategy:"fixed",modifiers:[{name:"arrow",options:{element:f,padding:4}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:l?[o,l]:[o,4]}}]}),O=(0,E.Z)(e);(0,s.useEffect)((()=>{const i=t=>{if(e&&p){const i=t.composedPath(),n=!i.includes(e),s=!i.includes(p);n&&s&&r()}};return t&&p?window.addEventListener("click",i,{capture:!0}):window.removeEventListener("click",i,{capture:!0}),()=>{window.removeEventListener("click",i,{capture:!0})}}),[p,e,t,r]);const _=(0,s.useCallback)((e=>{var t;return e?(null===(t=e.props.className)||void 0===t?void 0:t.includes("mp-nova-menu-item"))?e:(0,n.jsx)("div",Object.assign({className:"mp-nova-menu-item"},{children:e})):null}),[]),N=a()("mp-nova-menu",i,{[`mp-nova-menu-${u}`]:void 0!==u}),A=b.popper?b.popper["data-popper-placement"]:void 0;return(0,n.jsx)(n.Fragment,{children:(0,y.createPortal)(t&&h&&(0,n.jsxs)("div",Object.assign({style:Object.assign({},v.popper)},b.popper,{ref:m,className:N,onClick:r},{children:[(0,n.jsx)("div",Object.assign({className:"mp-nova-menu-items"},{children:s.Children.map(h,_)})),c&&(0,n.jsx)(T.c,{ref:g,style:v.arrow,placement:A,size:"medium",theme:u})]})),O)})}var _=i(13727),N=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const A=(0,s.forwardRef)(((e,t)=>{var{className:i,buttonClassName:r,buttonDataAttribute:o,children:l,menuClassName:c,onClick:d,onMenuToggled:u,menuXOffset:h,menuYOffset:p,menuTheme:f,menuPlacement:g,menuArrow:v,label:b,icon:y,tooltip:E,caret:S}=e,T=N(e,["className","buttonClassName","buttonDataAttribute","children","menuClassName","onClick","onMenuToggled","menuXOffset","menuYOffset","menuTheme","menuPlacement","menuArrow","label","icon","tooltip","caret"]);const A=(0,s.useRef)(null),[w,I]=(0,s.useState)(!1);(0,s.useImperativeHandle)(t,(()=>({closeMenu:()=>{I(!1),u&&u(!1)}})),[u]);const k=(0,s.useCallback)((e=>{null==e||e.stopPropagation(),I(!1),u&&u(!1)}),[u]),P=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),d&&d(e),I(!w),u&&u(!w)}),[w,d,u]),L=void 0===b&&void 0!==y&&!S,C=S?w?"dpad-up":"dpad-down":void 0;return(0,n.jsxs)("div",Object.assign({className:a()("mp-nova-button-menu",i),ref:A},{children:[(0,n.jsxs)(m.zx,Object.assign({},T,{onClick:P,className:a()("mp-button-menu-button",r,{"is-open":w,"mp-nova-btn-icon":L}),dataAttribute:o,tooltip:w?void 0:E,active:w},{children:[y&&(0,n.jsx)(_.I,{name:y}),b&&(0,n.jsx)("span",Object.assign({className:"mp-nova-btn-label"},{children:b})),C&&(0,n.jsx)(_.I,{name:C})]})),(0,n.jsx)(O,Object.assign({target:A.current,isOpen:w,xOffset:h,yOffset:p,placement:g,arrow:v,theme:f,className:c,onClose:k},{children:l}))]}))}));function w({id:e,label:t,ariaLabel:i,className:r,defaultChecked:o=!1,disabled:l=!1,onChange:c,onClick:d}){const[u,h]=(0,s.useState)(!!o);(0,s.useEffect)((()=>{h(!!o)}),[o]);const p=a()(r,"mp-nova-checkbox",{"mp-nova-disabled":l},{"mp-nova-active":u});return(0,n.jsxs)("label",Object.assign({className:p,htmlFor:e,onClick:d},{children:[(0,n.jsx)("input",{className:"mp-nova-checkbox-input",id:e,type:"checkbox",disabled:l,checked:u,onChange:e=>{c&&c(e),h((e=>!e))},"aria-checked":u,"aria-disabled":l,"aria-label":i||t}),(0,n.jsx)("span",{className:"mp-nova-checkbox-checkmark"}),(0,n.jsx)("span",Object.assign({className:"mp-nova-checkbox-label"},{children:t}))]}))}const I=({className:e="",itemHeight:t,message:i})=>{const s=a()("nova-empty-list-item",{[`${e}`]:!!e}),r={height:t||void 0};return(0,n.jsx)("div",Object.assign({className:s,style:r},{children:i&&(0,n.jsx)("p",Object.assign({className:"message"},{children:i}))}))};i(75182);function k({className:e="",children:t}){const i=a()("mp-nova-list-controls",e);return(0,n.jsx)("div",Object.assign({className:i},{children:t}))}const P=(0,s.forwardRef)((({title:e,className:t,variant:i,actions:s,badge:r,decals:o,active:l=!1,selected:c=!1,disabled:d=!1,selectable:u=!1,onSelect:h,id:p,onClick:m,onMouseEnter:f,onMouseLeave:g},v)=>{const b=a()("mp-nova-list-item",t,{[`mp-nova-list-item-${i}`]:void 0!==i,"mp-nova-disabled":d,"mp-nova-multi-select":u,interactive:!!m,selected:c,active:l});return(0,n.jsxs)("div",Object.assign({className:b,onClick:m,onMouseEnter:f,onMouseLeave:g,"data-id":p,ref:v},{children:[u&&(0,n.jsx)(w,{id:`mp-list-checkbox-${p}`,defaultChecked:c,onChange:h,onClick:e=>e.stopPropagation()}),r&&(0,n.jsx)("span",Object.assign({className:"mp-list-item-badge"},{children:r})),(0,n.jsxs)("span",Object.assign({className:"mp-list-item-title"},{children:[(0,n.jsx)("span",Object.assign({className:"mp-list-item-text"},{children:e})),o&&(0,n.jsx)("span",Object.assign({className:"mp-list-item-decals"},{children:o}))]})),s&&(0,n.jsx)("span",Object.assign({className:"mp-list-item-actions"},{children:s}))]}))}));"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;function L(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function C(e){return"nodeType"in e}function R(e){var t,i;return e?L(e)?e:C(e)&&null!=(t=null==(i=e.ownerDocument)?void 0:i.defaultView)?t:window:window}function D(e){return e?L(e)?e.document:C(e)?function(e){const{Document:t}=R(e);return e instanceof t}(e)?e:!L(t=e)&&t instanceof R(t).HTMLElement?e.ownerDocument:document:document:document;var t}function M(e){return(t,...i)=>i.reduce(((t,i)=>{const n=Object.entries(i);for(const[i,s]of n){const n=t[i];null!=n&&(t[i]=n+e*s)}return t}),{...t})}const x=M(1),j=M(-1);function U(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=R(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:i}=e.touches[0];return{x:t,y:i}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:i}=e.changedTouches[0];return{x:t,y:i}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}var H;!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(H||(H={}));Map;const F=Object.freeze({x:0,y:0});const B={ignoreTransform:!1};function V(e,t=B){let i=e.getBoundingClientRect();if(t.ignoreTransform){const{getComputedStyle:t}=R(e),{transform:n,transformOrigin:s}=t(e);n&&(i=function(e,t,i){let n,s,r,a,o;if(t.startsWith("matrix3d("))n=t.slice(9,-1).split(/, /),s=+n[0],r=+n[5],a=+n[12],o=+n[13];else{if(!t.startsWith("matrix("))return e;n=t.slice(7,-1).split(/, /),s=+n[0],r=+n[3],a=+n[4],o=+n[5]}const l=e.left-a-(1-s)*parseFloat(i),c=e.top-o-(1-r)*parseFloat(i.slice(i.indexOf(" ")+1)),d=s?e.width/s:e.width,u=r?e.height/r:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(i,n,s))}const{top:n,left:s,width:r,height:a,bottom:o,right:l}=i;return{top:n,left:s,width:r,height:a,bottom:o,right:l}}function G(e){return V(e,{ignoreTransform:!0})}var W;function z(e){const t={x:0,y:0},i={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=i.y,isRight:e.scrollLeft>=i.x,maxScroll:i,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(W||(W={}));function K(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:i,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:i,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}var Y,$,q,Z;!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Y||(Y={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}($||($={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(q||(q={})),function(e){e.Optimized="optimized"}(Z||(Z={}));q.WhileDragging,Z.Optimized;class Q{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,i){var n;null==(n=this.target)||n.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function X(e,t){const i=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(i**2+n**2)>t:"x"in t&&"y"in t?i>t.x&&n>t.y:"x"in t?i>t.x:"y"in t&&n>t.y}var J,ee;function te(e){e.preventDefault()}function ie(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(J||(J={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(ee||(ee={}));const ne={start:[ee.Space,ee.Enter],cancel:[ee.Esc],end:[ee.Space,ee.Enter]},se=(e,{currentCoordinates:t})=>{switch(e.code){case ee.Right:return{...t,x:t.x+25};case ee.Left:return{...t,x:t.x-25};case ee.Down:return{...t,y:t.y+25};case ee.Up:return{...t,y:t.y-25}}};class re{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.coordinates=F,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Q(D(t)),this.windowListeners=new Q(R(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(J.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const i=G(e.node.current),n={x:i.left,y:i.top};this.coordinates=n,t(n)}handleKeyDown(e){if(function(e){if(!e)return!1;const{KeyboardEvent:t}=R(e.target);return t&&e instanceof t}(e)){const{coordinates:t}=this,{active:i,context:n,options:s}=this.props,{keyboardCodes:r=ne,coordinateGetter:a=se,scrollBehavior:o="smooth"}=s,{code:l}=e;if(r.end.includes(l))return void this.handleEnd(e);if(r.cancel.includes(l))return void this.handleCancel(e);const c=a(e,{active:i,context:n.current,currentCoordinates:t});if(c){const i={x:0,y:0},{scrollableAncestors:s}=n.current;for(const n of s){const s=e.code,r=j(c,t),{isTop:a,isRight:l,isLeft:d,isBottom:u,maxScroll:h,minScroll:p}=z(n),m=K(n),f={x:Math.min(s===ee.Right?m.right-m.width/2:m.right,Math.max(s===ee.Right?m.left:m.left+m.width/2,c.x)),y:Math.min(s===ee.Down?m.bottom-m.height/2:m.bottom,Math.max(s===ee.Down?m.top:m.top+m.height/2,c.y))},g=s===ee.Right&&!l||s===ee.Left&&!d,v=s===ee.Down&&!u||s===ee.Up&&!a;if(g&&f.x!==c.x){if(s===ee.Right&&n.scrollLeft+r.x<=h.x||s===ee.Left&&n.scrollLeft+r.x>=p.x)return void n.scrollBy({left:r.x,behavior:o});i.x=s===ee.Right?n.scrollLeft-h.x:n.scrollLeft-p.x,n.scrollBy({left:-i.x,behavior:o});break}if(v&&f.y!==c.y){if(s===ee.Down&&n.scrollTop+r.y<=h.y||s===ee.Up&&n.scrollTop+r.y>=p.y)return void n.scrollBy({top:r.y,behavior:o});i.y=s===ee.Down?n.scrollTop-h.y:n.scrollTop-p.y,n.scrollBy({top:-i.y,behavior:o});break}}this.handleMove(e,x(c,i))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ae(e){return Boolean(e&&"distance"in e)}function oe(e){return Boolean(e&&"delay"in e)}re.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=ne,onActivation:i})=>{const{code:n}=e.nativeEvent;return!!t.start.includes(n)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}}];class le{constructor(e,t,i=function(e){const{EventTarget:t}=R(e);return e instanceof t?e:D(e)}(e.event.target)){var n;this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:r}=s;this.props=e,this.events=t,this.document=D(r),this.documentListeners=new Q(this.document),this.listeners=new Q(i),this.windowListeners=new Q(R(r)),this.initialCoordinates=null!=(n=U(s))?n:F,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.DragStart,te),this.windowListeners.add(J.VisibilityChange,this.handleCancel),this.windowListeners.add(J.ContextMenu,te),this.documentListeners.add(J.Keydown,this.handleKeydown),t){if(ae(t))return;if(oe(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(J.Click,ie,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(J.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:n,props:s}=this,{onMove:r,options:{activationConstraint:a}}=s;if(!n)return;const o=null!=(t=U(e))?t:F,l=j(n,o);if(!i&&a){if(oe(a))return X(l,a.tolerance)?this.handleCancel():void 0;if(ae(a))return null!=a.tolerance&&X(l,a.tolerance)?this.handleCancel():X(l,a.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),r(o)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===ee.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const ce={move:{name:"pointermove"},end:{name:"pointerup"}};class de extends le{constructor(e){const{event:t}=e,i=D(t.target);super(e,ce,i)}}de.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!(!e.isPrimary||0!==e.button)&&(null==t||t({event:e}),!0)}];const ue={move:{name:"mousemove"},end:{name:"mouseup"}};var he;!function(e){e[e.RightClick=2]="RightClick"}(he||(he={}));(class extends le{constructor(e){super(e,ue,D(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button!==he.RightClick&&(null==t||t({event:e}),!0)}];const pe={move:{name:"touchmove"},end:{name:"touchend"}};(class extends le{constructor(e){super(e,pe)}static setup(){return window.addEventListener(pe.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(pe.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:i}=e;return!(i.length>1)&&(null==t||t({event:e}),!0)}}];ee.Down,ee.Right,ee.Up,ee.Left;const me=9,fe=13,ge=27,ve=(0,s.forwardRef)((({text:e,name:t,label:i,type:r="text",readonly:o,autofocus:l,placeholder:c,className:d,maxLength:u,onInput:h,onBlur:p,onFocus:m,onKeyDown:f,onKeyUp:g,onReturn:v,onCancel:b,onPaste:y},E)=>{const S=(0,s.useRef)(null),[T,O]=(0,s.useState)(e),[_,N]=(0,s.useState)(!!l),[A,w]=(0,s.useState)(!1),I=(0,s.useId)(),k=t||I;(0,s.useImperativeHandle)(E,(()=>({focus:()=>{var e,t;S.current===document.activeElement&&(null===(e=S.current)||void 0===e||e.blur()),null===(t=S.current)||void 0===t||t.focus()},blur:()=>{var e;null===(e=S.current)||void 0===e||e.blur()}})),[S]),(0,s.useEffect)((()=>(O(e),w(!1),()=>{})),[e]),(0,s.useEffect)((()=>(S.current&&l&&S.current.focus(),()=>{})),[l,S]),(0,s.useEffect)((()=>(A&&v&&S.current&&S.current.blur(),()=>{})),[A,S,v]);const P=(0,s.useCallback)((e=>{const t=e.target;O(t.value),h(t.value)}),[h,O]),L=(0,s.useCallback)((e=>{const t=e.target.value;A&&v?(w(!1),v(t)):p&&p(t),N(!1)}),[p,v,A]),C=(0,s.useCallback)((e=>{m&&m(e),N(!0)}),[m]),R=(0,s.useCallback)((e=>{e.stopPropagation();const t=e.which||e.keyCode;t===fe&&w(!0);const i=[me,fe,ge];if("keydown"===e.type&&!i.includes(t))return!1;const n=e.target.value;switch(u&&n.length>u&&e.preventDefault(),t){case ge:b&&b()}return!1}),[b,u]),D=(0,s.useCallback)((e=>{let t=!1;f&&(t=f(e)),t||R(e)}),[R,f]),M=(0,s.useCallback)((e=>{let t=e.clipboardData.getData("text/plain").trim();u&&(t=t.substring(0,Math.min(u,t.length))),y&&y(t)}),[y,u]),x=a()("mp-text-input",d,{focused:_}),j=i&&(_||!(""===T)),U=_?"":c;return(0,n.jsxs)("div",Object.assign({className:x},{children:[j&&(0,n.jsx)("label",Object.assign({className:"mp-text-input-label",htmlFor:k},{children:i})),(0,n.jsx)("input",{ref:S,className:"mp-input",name:k,type:r,value:T,placeholder:U,maxLength:u,onInput:P,onBlur:L,onFocus:C,onKeyPress:R,onKeyDown:D,onKeyUp:g,onPaste:M,readOnly:o})]}))}));var be=i(97372);function ye({isSelected:e,isActive:t,option:i,onSelect:r,onHover:o,tooltip:l}){const[c,d]=(0,s.useState)(null),u=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),r(i,e)}),[r,i]),h=(0,s.useCallback)((()=>{o(i)}),[o,i]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",Object.assign({ref:l?d:null,className:a()("nova-select-option",i.className,{"is-selected":e,"is-active":t,disabled:!!i.disabled}),onClick:u,onMouseEnter:h},{children:[i.icon&&(0,n.jsx)(_.I,{className:"select-menu-icon",name:i.icon,style:i.iconStyle}),(0,n.jsx)("span",Object.assign({className:"nova-select-option-text"},{children:i.text}))]})),l&&(0,n.jsx)(be.u,{target:c,title:l})]})}const Ee=Object.freeze({white:"#FFF",moonrock:"#F5F4F3",mirror:"#DADADA",sine:"#B5B4B3",cosine:"#999",tangent:"#6D6D6D",lens:"#444",portal:"#222",laser:"#FF3158"}),Se=Object.freeze({neutron:"#5C7FFF",naiad:"#8BBBFF",neptune:"#385DFF",triton:"#0000EA",proton:"#00A170",sputnik:"#00CC8C",earth:"#007D57",iss:"#006644",electron:"#FFBB00",ring:"#FFDD55",saturn:"#C99100",titan:"#906900",gamma:"#FA5300",deimos:"#FF9955",mars:"#C74200",phobos:"#AA3300"}),Te=(Object.freeze({heliosphere:"#CA003D",mesosphere:"#990033",exosphere:"#660022",thermosphere:"#D22288",troposphere:"#A727D7",noosphere:"#7733F3",atmosphere:"#1A298C",stratosphere:"#1333CC",hydrosphere:"#1444FF",biosphere:"#006EE1",geosphere:"#0090C0",ecosphere:"#00AFAA",lithosphere:"#00705D",athenosphere:"#004844"}),Object.freeze({primary:Ee,semantic:Se}),(0,s.forwardRef)((({className:e,children:t},i)=>{const r=(0,s.useRef)(null);return(0,s.useImperativeHandle)(i,(()=>({scrollToSelector:e=>{if(r.current){const t=r.current.querySelector(e);t?t.scrollIntoView():r.current.scrollTop=0}},getScroller:()=>(null==r?void 0:r.current)||void 0})),[r]),(0,n.jsx)("div",Object.assign({ref:r,className:e},{children:t}))}))),Oe=({group:e,options:t,renderOption:i,observer:r})=>{const[a,o]=(0,s.useState)(null);return(0,s.useEffect)((()=>{if(a)return null==r||r.observe(a),()=>{null==r||r.unobserve(a)}}),[r,a,e.id]),(0,n.jsxs)("div",Object.assign({className:"nova-select-menu-group","data-group-container-id":e.id},{children:[(0,n.jsx)("div",Object.assign({className:"nova-select-menu-group-header"},{children:e.displayText})),(0,n.jsx)("div",Object.assign({ref:o,className:"nova-select-menu-grouped-options","data-group-id":e.id},{children:t.map(i)}))]}),e.id)};var _e;!function(e){e.JUSTIFY="justify",e.LEFT="left",e.RIGHT="right"}(_e||(_e={}));const Ne=(0,s.forwardRef)((({children:e,target:t,className:i,isOpen:r,onClose:o,onChange:l,options:c=[],selectedOptionId:d="",focusedOptionId:u="",setFocusedOptionId:h,autoFocus:p,filterText:m,onKeyDown:f,align:g=_e.JUSTIFY,groups:v,includeUngrouped:b=!1,getNoResultsText:T,scrollbarComponent:O=Te,onGroupIntersected:_},N)=>{const[A,w]=(0,s.useState)(),[I,k]=(0,s.useState)(null),[P,L]=(0,s.useState)(),[C,R]=(0,s.useState)(0),D=(0,s.useDeferredValue)(c),M=(0,s.useDeferredValue)(m),{styles:x,attributes:j}=(0,S.D)(t,I,{placement:g===_e.RIGHT?"bottom-end":"bottom-start",strategy:"fixed",modifiers:[{name:"flip"},{name:"hide"},{name:"offset",options:{offset:[0,4]}}]}),[U,H]=(0,s.useState)(!1),F=(0,E.Z)(t);(0,s.useImperativeHandle)(N,(()=>({scrollToGroupId:e=>{A&&(null==A?void 0:A.scrollToSelector)&&(null==A||A.scrollToSelector(`[data-group-container-id="${e}"]`,"top",!0))}})),[A]);const B=g===_e.JUSTIFY,V=(0,s.useCallback)(((e,t)=>{l(e,t)}),[l]),G=(0,s.useCallback)((e=>{h&&h(e.id)}),[h]),W=(0,s.useCallback)((()=>{H(!0)}),[H]),z=(0,s.useCallback)((()=>{H(!1)}),[H]);(0,s.useLayoutEffect)((()=>{if(B&&r&&t){const{width:e}=t.getBoundingClientRect();R(e)}return()=>{}}),[r,B,t]),(0,s.useEffect)((()=>{const e=e=>{if(t&&I){const i=e.composedPath(),n=!i.includes(t),s=!i.includes(I);n&&s&&o()}};return r&&I?window.addEventListener("click",e,{capture:!0}):window.removeEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[I,t,r,o]),(0,s.useEffect)((()=>(r&&p&&I&&I.focus(),()=>{})),[p,r,I]);const K=(0,s.useMemo)((()=>M?D.filter((e=>-1!==e.text.toLowerCase().indexOf(M.toLowerCase()))):D),[D,M]),Y=B?Math.min(C,380):void 0,$=(0,s.useMemo)((()=>{if(v){const e=v.map((e=>e.id));return K.reduce(((t,i)=>{let n=i.group&&e.includes(i.group)&&i.group;return!n&&b&&(n="_ungrouped"),n&&(t[n]||(t[n]=[]),t[n].push(i)),t}),{})}return null}),[v,K,b]);(0,s.useEffect)((()=>{if(!A||!_)return;const e=A.getScroller();if(!e)return;const t=new IntersectionObserver((e=>{if((e=e.filter((e=>e.isIntersecting)).sort(((e,t)=>t.intersectionRatio-e.intersectionRatio))).length>0){const t=e[0].target,{groupId:i}=t.dataset;_(i)}}),{root:e,threshold:[.1,.9]});return L(t),()=>{t.disconnect()}}),[A,L,_]);const q=O,Z=e=>(0,n.jsx)(ye,{option:e,isSelected:e.id===d,isActive:e.id===u,onSelect:V,onHover:G,tooltip:e.tooltip},e.id),Q=K.length,X=r&&(Q||""!==m);return(0,n.jsx)(n.Fragment,{children:(0,y.createPortal)(X&&(0,n.jsx)("div",Object.assign({style:Object.assign(Object.assign({},x.popper),{width:Y})},j.popper,{ref:k,tabIndex:-1,onKeyDown:f,className:a()("nova-select-menu",i,{"has-focus":U}),onFocus:W,onBlur:z},{children:(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)(q,Object.assign({className:"nova-select-items-wrap",ref:w},{children:(0,n.jsxs)(s.Suspense,Object.assign({fallback:"Loading..."},{children:[0===Q&&""!==m&&T&&(0,n.jsx)("span",Object.assign({className:"nova-select-no-results"},{children:T(m||"")})),v&&$?v.map(((e,t)=>$[e.id]?(0,n.jsx)(Oe,{group:e,renderOption:Z,options:$[e.id],observer:P},e.id):null)):K.map(Z)]}))}))]})})),F)})})),Ae=({items:e=[],focusedItemId:t,selectedItemId:i,onItemFocused:n,onItemSelected:r,onCancel:a})=>{const o=(0,s.useMemo)((()=>e.map((e=>e.id))),[e]),l=e.length;(0,s.useEffect)((()=>{n(e.length>0?e[0].id:"")}),[e,n]);const c=(0,s.useCallback)(((e=!1)=>{let s=(o.indexOf(t||i||"")+(e?1:-1))%l;s<0&&(s=l-1),n(o[s])}),[t,i,n,o,l]);return(0,s.useCallback)((e=>{let i=!1;switch(e.code){case"ArrowDown":c(!0),i=!0;break;case"ArrowUp":c(!1),i=!0;break;case"Escape":a(),i=!0;break;case"Enter":t&&(r(t),i=!0)}return i&&e.preventDefault(),i}),[t,c,r,a])};var we=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const Ie=(0,s.forwardRef)(((e,t)=>{var{options:i=[],onChange:r,clearOnSelect:o=!1,insertOnSelect:l=!1,onBlur:c,onFocus:d,onKeyDown:u,onKeyUp:h,onPaste:p}=e,m=we(e,["options","onChange","clearOnSelect","insertOnSelect","onBlur","onFocus","onKeyDown","onKeyUp","onPaste"]);const[f,g]=(0,s.useState)(null),v=(0,s.useRef)(null),b=(0,s.useRef)(null),[y,E]=(0,s.useState)(""),[S,T]=(0,s.useState)(""),[O,_]=(0,s.useState)(!1);(0,s.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=v.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=v.current)||void 0===e||e.blur()},clear:()=>{E("")}})),[v,E]);const N=(0,s.useMemo)((()=>y?i.filter((e=>-1!==e.text.toLowerCase().indexOf(y.toLowerCase()))):i),[i,y]),A=(0,s.useCallback)((e=>{const t="string"==typeof e;t&&0===e.trim().length||(r(e),_(!1),o?E(""):!t&&l&&E(e.text),cancelAnimationFrame(b.current||0),b.current=requestAnimationFrame((()=>{var e;null===(e=v.current)||void 0===e||e.focus()})))}),[r,o,l]),w=(0,s.useCallback)((e=>{if(e){const t=N.find((t=>t.id===e));t&&A(t)}}),[A,N]),I=(0,s.useCallback)((()=>{var e;_(!1),null===(e=v.current)||void 0===e||e.blur()}),[v]),k=Ae({items:N,focusedItemId:S,onItemFocused:T,onItemSelected:w,onCancel:I}),P=(0,s.useCallback)((e=>{let t=!1;return u&&(t=u(e)),t||(t=k(e)),t}),[u,k]),L=(0,s.useCallback)((e=>{_(!0),d&&d(e)}),[d]),C=(0,s.useCallback)((e=>{c&&c(e),I()}),[c,I]),R=(0,s.useCallback)((e=>{p&&p(e),E(e)}),[p,E]),D=(0,s.useCallback)((e=>{w(e.id)}),[w]);return(0,n.jsxs)("div",Object.assign({className:a()("nova-typeahead-input"),ref:g},{children:[(0,n.jsx)(ve,Object.assign({},m,{ref:v,text:y,onInput:E,onReturn:A,onCancel:I,onFocus:L,onBlur:C,onKeyDown:P,onKeyUp:h,onPaste:R})),(0,n.jsx)(Ne,{options:N,target:f,isOpen:O,onClose:I,onChange:D,filterText:y,focusedOptionId:S,setFocusedOptionId:T,autoFocus:!1})]}))}));var ke=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const Pe=(0,s.forwardRef)(((e,t)=>{var{className:i,buttonClassName:r="button-select-anchor",onChange:o,selectedOptionId:l="",options:c=[],children:d,placeholder:u,placeholderIcon:h,selectMenuClassName:p,onClick:f,align:g=_e.LEFT,groups:v,filterText:b,allowClear:y,onClear:E,getNoResultsText:S,scrollbarComponent:T,selectMenuRef:O,onGroupIntersected:N}=e,A=ke(e,["className","buttonClassName","onChange","selectedOptionId","options","children","placeholder","placeholderIcon","selectMenuClassName","onClick","align","groups","filterText","allowClear","onClear","getNoResultsText","scrollbarComponent","selectMenuRef","onGroupIntersected"]);const w=(0,s.useRef)(null),[I,k]=(0,s.useState)(!1),[P,L]=(0,s.useState)("");(0,s.useImperativeHandle)(t,(()=>({closeMenu:()=>{k(!1)}})),[]);const C=(0,s.useCallback)((e=>{null==e||e.stopPropagation(),k(!1),L("")}),[]),R=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),f&&f(e),k(!I)}),[I,f]),D=(0,s.useCallback)(((e,t)=>{o(e,t),C()}),[C,o]),M=(0,s.useCallback)((e=>{const t=c.find((t=>t.id===e));t&&D(t,void 0)}),[c,D]),x=Ae({items:c,focusedItemId:P,selectedItemId:l,onItemFocused:L,onItemSelected:M,onCancel:C}),j=(0,s.useMemo)((()=>l&&c.find((e=>e.id===l))),[l,c]),U=(0,s.useCallback)((e=>{e.stopPropagation(),E&&E()}),[E]);return(0,n.jsxs)("div",Object.assign({className:a()("nova-button-select",i),ref:w},{children:[(0,n.jsxs)(m.zx,Object.assign({},A,{onClick:R,className:a()(r,{"is-open":I}),onKeyDown:x},{children:[j&&(0,n.jsxs)(n.Fragment,{children:[j.icon&&(0,n.jsx)(_.I,{className:"select-menu-icon",name:j.icon,style:j.iconStyle}),(0,n.jsx)("span",Object.assign({className:"selection-text"},{children:j.text}))]}),!j&&u&&(0,n.jsxs)(n.Fragment,{children:[h&&(0,n.jsx)(_.I,{className:"select-menu-icon",name:h}),(0,n.jsx)("span",Object.assign({className:"select-placeholder"},{children:u}))]}),y&&l&&(0,n.jsx)(_.I,{name:"close",className:"select-button-clear mp-nova-btn mp-nova-btn-light mp-nova-btn-icon",onClick:U}),(0,n.jsx)(_.I,{className:"select-caret",name:"dpad-down"})]})),(0,n.jsx)(Ne,Object.assign({ref:O,target:w.current,isOpen:I,className:p,onClose:C,onChange:D,onKeyDown:x,selectedOptionId:l,focusedOptionId:P,setFocusedOptionId:L,align:g,options:c,autoFocus:!1,groups:v,filterText:b,getNoResultsText:S,scrollbarComponent:T,onGroupIntersected:N},{children:d}))]}))}));var Le=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const Ce=e=>{var{selectedColor:t,options:i,onChange:r,noSelectionText:o="Choose a color...",selectMenuClassName:l}=e,c=Le(e,["selectedColor","options","onChange","noSelectionText","selectMenuClassName"]);const d=(0,s.useMemo)((()=>i.map((e=>Object.assign(Object.assign({},e),{icon:"simple-tag",iconStyle:{color:`${e.value}`}})))),[i]),u=(0,s.useCallback)((e=>{r(e.id)}),[r]);return(0,n.jsx)(Pe,Object.assign({className:"nova-color-select",options:d,onChange:u,selectMenuClassName:a()("color-select-menu",l),selectedOptionId:t},c))};var Re=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const De=e=>e.stopPropagation(),Me=e=>{var{selectedIcon:t,options:i,onChange:r,noSelectionText:o="Choose an icon...",recentIconIds:l,groups:c,searchPlaceholder:d,selectMenuClassName:u}=e,h=Re(e,["selectedIcon","options","onChange","noSelectionText","recentIconIds","groups","searchPlaceholder","selectMenuClassName"]);const p=(0,s.useRef)(null),[f,g]=(0,s.useState)(""),[v,b]=(0,s.useState)(c.length>0?c[0].id:void 0),y=(0,s.useRef)(null),E=(0,s.useMemo)((()=>i.map((e=>Object.assign(Object.assign({},e),{icon:e.id})))),[i]),S=(0,s.useCallback)((e=>{r(e.id)}),[r]),T=(0,s.useCallback)(((e,t)=>{var i;null===(i=y.current)||void 0===i||i.scrollToGroupId(t)}),[]),O=(0,s.useCallback)((e=>{var t;e.stopPropagation(),g(""),null===(t=p.current)||void 0===t||t.focus()}),[]),N=(0,s.useCallback)((e=>{b(e)}),[b]),A=(0,s.useMemo)((()=>c.map((e=>e.id))),[c]),w=100/Math.max(c.length,1);return(0,n.jsx)(Pe,Object.assign({className:"nova-icon-select",options:E,onChange:S,selectMenuClassName:a()("icon-select-menu",u),selectedOptionId:t,align:_e.JUSTIFY,filterText:f,showGroupings:!0,groups:c,selectMenuRef:y,onGroupIntersected:N},h,{children:(0,n.jsxs)("header",Object.assign({onClick:De},{children:[c&&(0,n.jsxs)("div",Object.assign({className:"nova-button-tabs"},{children:[c.map((e=>(0,n.jsx)(m.zx,{icon:e.icon,tooltip:e.displayText,onClick:T,onClickArgs:[e.id],className:v===e.id?"nova-button-tabs-selected":""},e.id))),v&&(0,n.jsx)("div",{className:"nova-button-tabs-indicator",style:{width:`${w}%`,transform:`translateX(${100*A.indexOf(v)}%)`}})]})),(0,n.jsxs)("div",Object.assign({className:"search-input-wrap"},{children:[(0,n.jsx)(_.I,{name:"magnifying-glass"}),(0,n.jsx)(ve,{ref:p,text:f,onInput:g,placeholder:d,autofocus:!0}),!!f&&(0,n.jsx)(_.I,{name:"close",onClick:O})]}))]}))}))};var xe=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const je=(0,s.forwardRef)(((e,t)=>{var{allowSelect:i,isSelected:r,isFocused:o,onClick:l,onFocus:c,onRemoveClick:d,className:u,size:h="standard",theme:p="light"}=e,f=xe(e,["allowSelect","isSelected","isFocused","onClick","onFocus","onRemoveClick","className","size","theme"]);const g=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=g.current)||void 0===e||e.focus()}})),[g]);const v=(0,s.useCallback)((()=>{d&&d(f)}),[d,f]),b=(0,s.useCallback)((e=>{var t;null===(t=g.current)||void 0===t||t.focus(),l&&l(f,e)}),[l,f]),y=(0,s.useCallback)((e=>{c&&c(f)}),[c,f]),E=void 0!==f.count;return(0,n.jsxs)("div",Object.assign({className:a()("nova-token",`token-size-${h}`,`token-theme-${p}`,u,{"is-selected":r,"is-focused":o,"has-count":E,"can-select":i,"can-remove":!!d}),title:f.text,onClick:b,onFocus:y,tabIndex:0,ref:g,"data-token-id":f.id},{children:[i&&r&&(0,n.jsx)(_.I,{size:_.J.SMALL,name:"checkmark"}),(0,n.jsx)("div",Object.assign({className:"token-text"},{children:f.text})),E&&(0,n.jsx)("div",Object.assign({className:"token-count"},{children:f.count})),!!d&&(0,n.jsx)(m.zx,{onClick:v,icon:"close",size:"small"})]}))})),Ue=({tokens:e,className:t,allowSelect:i,maxVisibleTruncated:r,selectedTokenIds:o=[],onTokenClick:l,tokenSize:c,tokenTheme:d})=>{const[u,h]=(0,s.useState)(!1),p=(0,s.useCallback)(((e,t)=>{h(!u)}),[h,u]),m=!!r,f=(0,s.useMemo)((()=>m&&e.length-r),[e,r,m]),g=(0,s.useMemo)((()=>u?e:e.slice(0,r)),[e,r,u]);return g.length>0?(0,n.jsxs)("div",Object.assign({className:a()("nova-token-list",t,{"is-viewing-all":u})},{children:[g.map((e=>(0,s.createElement)(je,Object.assign({},e,{isSelected:e.isSelected||o.includes(e.id),key:e.id,onClick:l,allowSelect:i,size:c,theme:d})))),m&&e.length>r&&(0,n.jsx)(je,{className:"view-more-btn",onClick:p,size:c,theme:d,id:"_token_list_view_more_btn",text:u?`Hide ${f}...`:`View ${f} more...`})]})):null};var He=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};const Fe=function*(){let e=0;for(;;)yield e++}(),Be=["Backspace","Delete","ArrowLeft","ArrowRight"],Ve=()=>{},Ge=(0,s.forwardRef)(((e,t)=>{var{initialTokens:i=[],options:r=[],placeholder:o="+ Add",onChange:l,maxTokens:c,maxTokensValidationMsg:d="Maximum tokens added",helpMessage:u,tokenDisplayName:h="Token",validateNewToken:p=Ve}=e,m=He(e,["initialTokens","options","placeholder","onChange","maxTokens","maxTokensValidationMsg","helpMessage","tokenDisplayName","validateNewToken"]);const f=(0,s.useRef)(null),g=(0,s.useRef)(null),[v,b]=(0,s.useState)(),[y,E]=(0,s.useState)(i),[S,T]=(0,s.useState)(),[O,_]=(0,s.useState)(!1),N=(0,s.useMemo)((()=>y.findIndex((e=>e.id===v))),[v,y]);(0,s.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=g.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=g.current)||void 0===e||e.blur()}})),[g]);const A=(0,s.useCallback)((()=>{var e;null===(e=g.current)||void 0===e||e.focus()}),[g]),w=(0,s.useCallback)((e=>y.some((t=>e===t.text))?`${h} "${e}" would duplicate an existing value.`:void 0),[y,h]),I=(0,s.useCallback)((e=>{const t=w(e)||p(e);return T(t),!t}),[p,w,T]),k=(0,s.useCallback)((e=>{var t;let i=!1;"string"==typeof e?(i=I(e),i&&E([...y,{text:e,id:`new_token_${Fe.next().value}`}])):(i=!0,E([...y,e])),i&&(null===(t=g.current)||void 0===t||t.clear())}),[y,I]),P=(0,s.useCallback)((e=>{E(y.filter((t=>t.id!==e)))}),[y]),L=(0,s.useCallback)((e=>{if(f.current){f.current.querySelector(`[data-token-id="${e}"]`).focus()}}),[f]),C=(0,s.useCallback)((e=>{var t,i,n;e.stopPropagation();const s=y.length-1,r=e.code,a="Backspace"===r||"Delete"===r,o="ArrowLeft"===r,l="ArrowRight"===r;if(v){if(a){P(v),b("");const e=N-1;e>-1&&L(y[e].id)}else if(l)if(N===s)A();else{L(y[N+1].id)}else if(o){const e=N-1;-1===e?null===(i=(t=document.activeElement).blur)||void 0===i||i.call(t):L(y[e].id)}}else y.length>0&&(a||o)&&L(y[y.length-1].id);"Escape"===r&&(null===(n=f.current)||void 0===n||n.blur())}),[P,v,y,N,A,L]),R=(0,s.useCallback)((e=>{const{selectionStart:t,selectionEnd:i}=e.target,n=0===t&&t===i;return e.stopPropagation(),Be.includes(e.code)&&n&&C(e),!1}),[C]),D=(0,s.useCallback)((e=>{const{value:t}=e.target;I(t)}),[I]),M=(0,s.useCallback)((e=>{I(e)}),[I]),x=(0,s.useCallback)((e=>{P(e.id)}),[P]),j=(0,s.useCallback)((e=>{const{id:t}=e;b(t),_(!0)}),[]),U=(0,s.useCallback)((()=>{b(""),_(!0)}),[]),H=(0,s.useCallback)((()=>{_(!1),b("")}),[]);(0,s.useEffect)((()=>(l&&l(y),()=>{})),[y,l]);const F=(0,s.useMemo)((()=>{const e=y.map((e=>e.id));return r.filter((t=>!e.includes(t.id)))}),[r,y]),B=void 0!==c&&y.length>=c,V=B&&d?d:S||u;return(0,n.jsxs)("div",Object.assign({className:a()("nova-token-input",{"has-focus":O,"has-warning":B,"has-error":!!S}),onKeyDown:C,onBlur:H,ref:f},{children:[(0,n.jsxs)("div",Object.assign({className:"nova-token-input-container"},{children:[y.map((e=>(0,n.jsx)(je,Object.assign({isFocused:e.id===v,onFocus:j,onRemoveClick:x},e),e.id))),!B&&(0,n.jsx)(Ie,Object.assign({},m,{ref:g,options:F,onChange:k,placeholder:o,onFocus:U,onBlur:H,onKeyDown:R,onKeyUp:D,onPaste:M}))]})),(0,n.jsxs)("div",Object.assign({className:"nova-input-help"},{children:[(0,n.jsxs)("span",Object.assign({className:"nova-input-counter"},{children:[y.length,void 0!==c&&c>0&&(0,n.jsxs)(n.Fragment,{children:["/",c]})]})),V&&(0,n.jsx)("span",Object.assign({className:"nova-helper-text"},{children:V}))]}))]}))}))},86902:(e,t,i)=>{"use strict";i.d(t,{zx:()=>u,qE:()=>s,Wu:()=>n});var n,s,r=i(85893),a=i(94184),o=i.n(a),l=i(67294),c=i(13727),d=i(97372);function u({ariaLabel:e,children:t,className:i,dataAttribute:n,id:s,disabled:a=!1,dimmed:u=!1,active:h=!1,icon:p,reverse:m,label:f,onClick:g,onClickArgs:v,onKeyDown:b,size:y,style:E,theme:S="light",tooltip:T,tooltipOptions:O={},variant:_}){const[N,A]=(0,l.useState)(null),w=void 0===f&&void 0===t,I=p&&(f||t),k=o()(i,"mp-nova-btn",{[`mp-nova-btn-${_}`]:void 0!==_},{[`mp-nova-btn-${S}`]:void 0!==S},{[`mp-nova-btn-${y}`]:void 0!==y},{"mp-nova-btn-icon":w},{"mp-nova-btn-multi":I},{"mp-nova-btn-reverse":m},{"mp-nova-btn-disabled":a},{"mp-nova-btn-dimmed":u},{"mp-nova-btn-active":h}),P=(0,l.useCallback)((e=>{e.stopPropagation(),b&&b(e)}),[b]),L=(0,l.useCallback)((e=>{const t=v&&Array.isArray(v)?v:[];g&&g.apply(this,[e,...t])}),[g,v]),C=e||f||("string"==typeof T?T:void 0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",Object.assign({"aria-label":C,className:k,onClick:L,disabled:a,"aria-disabled":a,ref:T?A:null,style:E,onKeyDown:P,tabIndex:-1,id:s,"data-attribute":n},{children:[p&&(0,r.jsx)(c.I,{name:p}),f&&(0,r.jsx)("span",Object.assign({className:"mp-nova-btn-label"},{children:f})),!f&&t]})),T&&(0,r.jsx)(d.u,Object.assign({target:N,title:T,disabled:a},O))]})}!function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e.FAB="fab"}(n||(n={})),function(e){e.SMALL="small",e.LARGE="large"}(s||(s={}))},13727:(e,t,i)=>{"use strict";i.d(t,{I:()=>o,J:()=>l});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r);const o=(0,s.forwardRef)((({name:e,style:t,size:i,className:s,onClick:r},o)=>{const l=a()("nova-icon",`icon-${e}`,s,{[`nova-icon-${i}`]:void 0!==i});return(0,n.jsx)("span",{className:l,style:t,onClick:r,ref:o})}));var l;!function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(l||(l={}))},37056:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});var n=i(85893),s=i(67294),r=i(94184),a=i.n(r);const o=(0,s.forwardRef)((({theme:e,style:t,size:i="small",placement:s="top"},r)=>{const o=a()("nova-popper-arrow",{[`nova-theme-${e}`]:void 0!==e,[`nova-size-${i}`]:void 0!==i});return(0,n.jsx)("div",{className:o,style:t,"data-popper-placement":s,ref:r})}))},97372:(e,t,i)=>{"use strict";i.d(t,{u:()=>m});var n=i(85893),s=i(67294),r=i(73935),a=i(54484),o=i(77294),l=i(94184),c=i.n(l),d=i(37056);const u="PointerEvent"in window,h=u?"pointerenter":"mouseenter",p=u?"pointerleave":"mouseleave",m=({children:e,offset:t,placement:i="top",strategy:l="fixed",target:u,title:m,className:f,trigger:g="hover",size:v="small",theme:b,onToggle:y,disabled:E})=>{const[S,T]=(0,s.useState)(null),[O,_]=(0,s.useState)(null),[N,A]=(0,s.useState)("static"===g),w=t||("small"===v?[0,8]:[0,14]),{styles:I,attributes:k}=(0,o.D)(u,S,{placement:i,strategy:l,modifiers:[{name:"arrow",options:{element:O,padding:"small"===v?4:6}},{name:"flip"},{name:"hide"},{name:"offset",options:{offset:w}}]}),P=(0,a.Z)(u),L=(0,s.useCallback)((()=>{A(!0),y&&y(!0)}),[y]),C=(0,s.useCallback)((()=>{A(!1),y&&y(!1)}),[y]),R=(0,s.useCallback)((e=>{e.stopPropagation(),C()}),[C]);if((0,s.useEffect)((()=>{A("static"===g)}),[g]),(0,s.useEffect)((()=>{if(u&&"hover"===g)return E||u.addEventListener(h,L),u.addEventListener(p,C),()=>{E||u.removeEventListener(h,L),u.removeEventListener(p,C)}}),[u,E,g,L,C]),(0,s.useEffect)((()=>{const e=e=>{if(u&&S){const t=e.composedPath(),i=!t.includes(u),n=!t.includes(S);i&&n&&C()}};return N&&g?window.addEventListener("click",e,{capture:!0}):window.removeEventListener("click",e,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0})}}),[u,S,N,g,C]),!N)return null;const D=c()("nova-tooltip",f,{[`nova-tooltip-${b}`]:void 0!==b,[`nova-tooltip-${v}`]:void 0!==v}),M=k.popper?k.popper["data-popper-placement"]:void 0;return(0,n.jsx)(n.Fragment,{children:(0,r.createPortal)((0,n.jsxs)("div",Object.assign({className:D,ref:T,role:"tooltip",style:I.popper},k.popper,{onClick:"static"===g?R:void 0},{children:[m||e,(0,n.jsx)(d.c,{ref:_,style:I.arrow,placement:M,size:v,theme:b})]})),P)})}},54484:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(67294);function s(e){return(0,n.useMemo)((()=>{const t=e?e.getRootNode():document;return t.querySelector("#react-overlay-root")||t.body||t.firstElementChild}),[e])}},56382:(e,t,i)=>{"use strict";i.d(t,{a_:()=>v,t1:()=>o,HF:()=>a,ht:()=>b.h,V0:()=>E});var n=i(70371);class s extends Error{constructor(e,t,i){super(e),this.status=t,this.type=i,Error.captureStackTrace&&Error.captureStackTrace(this,s)}}class r extends s{constructor(e){super(`Cannot request OEmbed data because no configuration matches the url ${e}`,200,"OEmbedUrl")}}class a extends s{constructor(e="unknown provider"){super(`Content from OEmbed provider ${e} is not currently supported`,200,"OEmbedProvider")}}class o extends s{constructor(e="unknown provider"){super(`Content from ${e} is type "link", which Link content is not currently supported`,200,"OEmbedLink")}}function l(e){const t={width:"360",maxwidth:"360",maxheight:"640",url:e,native:"true",autoplay:"true"};if(e.includes("flickr")||e.includes("flic.kr")){const e=Math.max(window.screen.height,window.screen.width);t.maxwidth=t.maxheight=t.width=`${e}`}return{queryParams:new URLSearchParams(t),headers:{responseType:"json"}}}const c=/^https:\/\/www.instagram.com/;const d=/^https:\/\/www.facebook.com/,u=/^https:\/\/www.facebook.com\/(.*\/)?(posts\/|activity\/|photo\.php|photos\/|permalink\.php|media\/set|questions\/|notes\/)/,h=/^https:\/\/www.facebook.com\/(video\.php|.*\/videos\/)/;const p=[{testUrl:function(e){return c.test(e)},request:async function(e,t,i,n){const{queryParams:r,headers:a}=l(e);i&&n&&r.append("access_token",`${i}|${n}`);const o=new URL(`https://graph.facebook.com/v10.0/instagram_oembed?${r.toString()}`);try{return await t.get(o.toString(),a)}catch(e){const t=e;throw new s(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:function(e){return d.test(e)},request:async function(e,t,i,n){const{queryParams:r,headers:a}=l(e);i&&n&&r.append("access_token",`${i}|${n}`);const o=function(e){return u.test(e)?"https://graph.facebook.com/v10.0/oembed_post":h.test(e)?"https://graph.facebook.com/v10.0/oembed_video":"https://graph.facebook.com/v10.0/oembed_page"}(e),c=new URL(`${o}?${r.toString()}`);try{return await t.get(c.toString(),a)}catch(e){const t=e;throw new s(t.error.message,t.status_code,t.error.type)}},apiKeys:["instagramAppId","instagramClientToken"]},{testUrl:()=>!0,request:async function(e,t,i){const{queryParams:n,headers:r}=l(e);i&&n.append("key",i);const a=new URL(`https://api.embed.ly/1/oembed?${n.toString()}`);try{return await t.get(a.toString(),r)}catch(e){const t=e;throw new s(t.error_message,t.status_code,t.type)}},apiKeys:["embedlyKey"]}];const m={[n.z.GoogleMaps]:function(e,t){return e.thumbnail_url&&(e.thumbnail_url=`${e.thumbnail_url}&key=${t.googleMapsApiKey}`),e}};async function f(e,t,i){const s=i.embedlyKey;if(s){const i=function(e,t){if(e.includes("i.embed.ly")||e.startsWith("blob:"))return e;const i=Math.max(window.screen.height,window.screen.width),n=`&url=${encodeURIComponent(e)}&width=${i}&height=${i}`;return`https://i.embed.ly/1/display/resize?key=${t}${n}`}(e,s);return t.get(i,{responseType:"arraybuffer"}).then((e=>{return t=e,new Promise((e=>{t||Promise.resolve(null);const i=t=>{const i=t.target,s={width:i.naturalWidth,height:i.naturalHeight,url:o,type:n.h.PHOTO,version:""};e(s)},s=new Uint8Array(t),r=new Blob([s]),a=new Image;a.addEventListener("load",(e=>i(e)));const o=URL.createObjectURL(r);a.src=o}));var t}))}return null}const g={[n.z.Behance]:!1,[n.z.FaceBook]:!1,[n.z.GoogleMaps]:"googleMapsApiKey",[n.z.Instagram]:["instagramAppId","instagramClientToken"],[n.z.LinkedIn]:!1,[n.z.MixCloud]:!1,[n.z.Pinterest]:!1,[n.z.Reddit]:!0,[n.z.TikTok]:!0,[n.z.Twitter]:!0,[n.z.Twitch]:!1};class v{constructor(e,t){this.cache={},this.queue=e,this.apiKeys=t}async getOEmbedData(e){const t=this.cache[e];if(t&&t.type!==n.h.LINK)return Promise.resolve(t);let i,a;try{a=await function(e,t,i){for(const n of p)if(n.testUrl(e)){const s=n.apiKeys.map((e=>i[e]));return n.request(e,t,...s)}throw new r(e)}(e,this.queue,this.apiKeys)}catch(e){if(![401,404,501].includes(e.status))throw e;i=e}if(!a||a.type===n.h.PHOTO){const t=(null==a?void 0:a.url)||e;try{const i=await f(t,this.queue,this.apiKeys);if(i)return this.cache[e]=i,i}catch(e){if(!a)throw i||e}}if(!a)throw i||s;return this.cache[e]=a,this.validate(a)}clearCache(){this.cache={}}validate(e){if(!((e,t)=>{const i=void 0===e.provider_name?void 0:g[e.provider_name.toLowerCase()];return"string"==typeof i?!!t[i]:Array.isArray(i)?i.every((e=>!!t[e])):!1!==i})(e,this.apiKeys))throw new a(e.provider_name);if(e.type===n.h.LINK)throw new o(e.provider_name);return function(e,t){if(void 0!==e.provider_name){const i=m[e.provider_name.toLowerCase()];if(i)return i(e,t)}return e}(e,this.apiKeys)}}var b=i(66131);const y=/[^]*youtube.com\/shorts\//gi,E=e=>{if(y.test(e)){return`https://youtube.com/watch?v=${e.replace(y,"").replace(/\?(.*)/g,"")}`}return e}},66131:(e,t,i)=>{"use strict";var n;i.d(t,{h:()=>n}),function(e){e.PHOTO="photo",e.VIDEO="video",e.LINK="link",e.RICH="rich"}(n||(n={}))},70371:(e,t,i)=>{"use strict";var n;i.d(t,{h:()=>s.h,z:()=>n}),function(e){e.Behance="behance",e.DailyMotion="dailymotion",e.FaceBook="facebook",e.Flickr="flickr",e.Giphy="giphy",e.GoogleMaps="google maps",e.Instagram="instagram",e.LinkedIn="linkedin",e.Matterport="matterport",e.MixCloud="mixcloud",e.Pinterest="pinterest",e.Reddit="reddit",e.SoundCloud="soundcloud",e.SketchFab="sketchfab",e.Spotify="spotify",e.Tenor="tenor",e.TikTok="tiktok",e.Twitch="twitch",e.Twitter="twitter",e.Tumblr="tumblr",e.Vimeo="vimeo",e.YouTube="youtube"}(n||(n={}));var s=i(66131)},53261:(e,t,i)=>{"use strict";var n,s;i.d(t,{ru:()=>n,gO:()=>a}),function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.HIGHEST=3]="HIGHEST"}(n||(n={})),function(e){e[e.PENDING=0]="PENDING",e[e.SENDING=1]="SENDING",e[e.FAILED=2]="FAILED",e[e.DONE=3]="DONE"}(s||(s={}));const r=new WeakMap;class a{constructor({retries:e=0,concurrency:t=6}={}){this.totalBytesDownloaded=0,this.queue=[],this.retries=e,this.concurrency=t}get(e,t){return this.request("GET",e,t)}head(e,t){return this.request("HEAD",e,t)}options(e,t){return this.request("OPTIONS",e,t)}post(e,t){return this.request("POST",e,t)}put(e,t){return this.request("PUT",e,t)}patch(e,t){return this.request("PATCH",e,t)}delete(e,t){return this.request("DELETE",e,t)}request(e,t,i){const n=new o(e,t,i);if(null==i?void 0:i.signal){const e=()=>{this.queue.includes(n)&&(n.status===s.SENDING&&n.abort(),this.dequeue(n),n.onFail(new DOMException("Aborted","AbortError")))};i.signal.addEventListener("abort",e),r.set(n,(()=>{var t;null===(t=i.signal)||void 0===t||t.removeEventListener("abort",e),r.delete(n)}))}return this.enqueue(n),n.promise}update(){let e;for(;e=this.getNextPendingRequest();)this.sendRequest(e);for(;e=this.getNextOverflowingGet();)e.abort(),e.status=s.PENDING;this.updateTimeout=null}enqueue(e){let t=0;for(t=0;t<this.queue.length;t++){if(this.queue[t].priority<e.priority)break}this.queue.splice(t,0,e),this.updateTimeout||(this.updateTimeout=window.setTimeout((()=>{this.update()}),1))}dequeue(e){var t;null===(t=r.get(e))||void 0===t||t();const i=this.queue.indexOf(e);if(-1===i)throw new Error("Can't dequeue request not in queue");this.queue.splice(i,1),this.update()}getNextPendingRequest(){for(let e=0;e<this.queue.length&&e<this.concurrency;e++){const t=this.queue[e];if(t.status===s.PENDING)return t}return null}getNextOverflowingGet(){for(let e=this.concurrency;e<this.queue.length;e++){const t=this.queue[e];if(t.status===s.SENDING&&t.priority!==n.HIGHEST&&"GET"===t.method)return t}return null}shouldRetryStatusCode(e){return!a.doNotRetryStatusCodes[e]}sendRequest(e){e.status=s.SENDING,e.send().then((t=>{e.status=s.DONE,this.dequeue(e),e.contentLength&&e.contentLength>0&&(this.totalBytesDownloaded+=Number(e.contentLength)),e.onDone(t)})).catch((t=>{const i=null!==e.maxRetries?e.maxRetries:this.retries;let n=e.sendAttempts<i;if("object"==typeof t){const e=t.status_code||0;n=n&&this.shouldRetryStatusCode(e)}n?(e.status=s.PENDING,this.update(),console.warn(`Retried ${e.url}`),console.warn(t)):(e.status=s.FAILED,this.dequeue(e),console.warn(`Failed ${e.url}`),e.onFail(t))}))}}a.doNotRetryStatusCodes={400:!0,401:!0,403:!0,404:!0,405:!0,406:!0,410:!0,411:!0,414:!0,415:!0,421:!0,431:!0,451:!0};class o{constructor(e,t,i={}){this.sendAttempts=0,this.status=s.PENDING,this.contentLength=0,this.isAborting=!1,this.url=t,this.method=e,this.auth=i.auth||null,this.withCredentials=i.withCredentials||!1,this.priority=i.priority||n.MEDIUM,this.responseType=i.responseType||null,this.body=i.body||null,this.headers=i.headers||{},this.maxRetries=i.maxRetries||null,this.onProgress=i.onProgress,this.promise=new Promise(((e,t)=>{this.onDone=e,this.onFail=t}))}send(){const e=this.xhr=function(e,t,i){let n;if("undefined"!=typeof XMLHttpRequest)n=new XMLHttpRequest,n.withCredentials=i;else{if("undefined"==typeof XDomainRequest)throw new Error("No XMLHTTPRequest or XDomainRequest... are you trying to run me in node? :(");n=new XDomainRequest}return n.open(e,t,!0),n}(this.method,this.url,this.withCredentials);if(this.responseType)if("arraybuffer"===this.responseType||"text"===this.responseType||"json"===this.responseType||"blob"===this.responseType)e.responseType=this.responseType;else{if("image"!==this.responseType)throw new Error('reponseType can only be one of "arraybuffer", "text", "json", "blob", "image"');e.responseType="blob"}"json"===this.responseType&&e.setRequestHeader("Accept","application/json"),this.auth&&"string"==typeof this.auth&&e.setRequestHeader("Authorization",this.auth);for(const t in this.headers)e.setRequestHeader(t,this.headers[t]);return this.body&&"object"==typeof this.body&&(this.body instanceof FormData||(this.body=JSON.stringify(this.body),e.setRequestHeader("Content-Type","application/json"))),this.onProgress&&(e.onprogress=this.onProgress),new Promise(((t,i)=>{e.onreadystatechange=()=>{if(4===e.readyState){if(200===e.status||201===e.status||204===e.status)return this.parseResponse(this.xhr).then((e=>{t(e)}));if(!this.isAborting)return this.parseResponse(this.xhr).then((t=>{i(Object.assign({status_code:e.status},t))})).catch((()=>{i({status_code:e.status})}));this.isAborting=!1}},e.onerror=function(e){i(e)},e.send(this.body),this.sendAttempts++}))}parseResponse(e){return new Promise(((t,i)=>{var n;try{if(!e)throw new Error(`No request received. Trying ${this.method} on ${this.url} and expecting ${this.responseType}, but request was ${this.xhr}`);let i=e.response;if(this.contentLength=parseInt(null!==(n=e.getResponseHeader("Content-Length"))&&void 0!==n?n:"0",10),"json"===this.responseType&&"object"!=typeof i)t(JSON.parse(e.responseText));else if(200!==e.status&&201!==e.status&&204!==e.status||"image"!==this.responseType)t(i);else{const e=URL.createObjectURL(i);i=new Image,i.src=e,i.crossOrigin="Anonymous",i.onload=function(){URL.revokeObjectURL(e),t(i)}}}catch(e){i({error:"Payload was not valid JSON"})}}))}abort(){if(null===this.xhr)throw new Error("Cannot abort unsent Request");this.isAborting=!0,this.xhr.abort()}}},22819:(e,t,i)=>{"use strict";i.d(t,{U7:()=>h,fE:()=>c,HE:()=>l,OR:()=>m,RS:()=>u,tK:()=>n,pP:()=>s,HX:()=>p,MJ:()=>d});i(93153);var n,s,r,a,o=i(88931);!function(e){const t=new o.M;e.connect=async function(e,i,n){let s;try{s=await e.connect()}finally{e.cancelConnecting()}return function(e,t,i,n){return new t(i,e).build(n)}(n,await async function(e){if(!e)throw new Error("Unabled to load the sdk");try{const i=await t.load(e,"sdk-client");if(i&&i.SdkBuilder&&"function"==typeof i.SdkBuilder)return i.SdkBuilder}catch(e){}throw Error(`Could not load the sdk from ${e}`)}(s.scriptUrl),i.getFactory(s),s.serializedInterface)}}(n||(n={})),function(e){e.CONNECT="postmessage.connect"}(s||(s={})),function(e){e.HANDSHAKE="postmessage.handshake",e.ACCEPT="postmessage.accept",e.REJECT="postmessage.reject"}(r||(r={}));class l{constructor(e,t={}){this.type=s.CONNECT,this.payload={bootstrapVersion:e,options:{auth:t.auth,provider:t.provider}}}}class c{constructor(e){this.receiver=e,this.messageType=r.ACCEPT}notify(e,t,i){const{sourceId:n,scriptUrl:s,targetId:r,targetOrigin:a}=e,o=e.interface;this.receiver.accept(n,s,o,r,a)}}class d{constructor(e){this.receiver=e,this.messageType=r.REJECT}notify(e,t,i){this.receiver.reject(e.reason)}}!function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.HANDSHAKE=2]="HANDSHAKE",e[e.CONNECTED=3]="CONNECTED",e[e.REJECTED=4]="REJECTED"}(a||(a={}));class u{constructor(){this.type=r.HANDSHAKE,this.payload={}}}class h{constructor(e,t,i,n,s){this.type=r.ACCEPT,this.payload={scriptUrl:e,interface:t,sourceId:i,targetId:n,targetOrigin:s},this.interface=t}}class p{constructor(e){this.type=r.REJECT,this.payload={reason:e},this.reason=e}}class m{constructor(e){this.receiver=e,this.messageType=s.CONNECT}notify(e,t){this.receiver.onConnectionReceived(e,t)}}},31693:(e,t,i)=>{"use strict";var n;i(69675);!function(e){e[e.POSTMESSAGE=1]="POSTMESSAGE"}(n||(n={}))},29199:(e,t,i)=>{"use strict"},54028:(e,t,i)=>{"use strict"},93153:(e,t,i)=>{"use strict";i.d(t,{UX:()=>m,tY:()=>g,Ej:()=>f,l:()=>h,R9:()=>c,TY:()=>l});class n{constructor(e){this.messageReceiver=e}notify(e,t){this.messageReceiver.onMessageReceived(e,t)}}var s=i(98955);class r{listen(){}stopListening(){}send(){throw Error("The sdk has been disconnected and can't make any new calls")}}class a{constructor(e,t,i){this.sourceId=e,this.targetId=t,this.messageBridge=i,this.observers=new s.X}static toFilteredMessenger(e,t,i){const n=new o(e.sourceId,e.targetId,e,t);for(const t of i)for(const i of e.observers.getValuesAtKey(t))n.addObserver(i);return n}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new n(e);this.messageBridge.listen(t)}dispose(){this.messageBridge.stopListening(),this.messageBridge=new r}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e){const t=this.sourceId,i=this.targetId;this.messageBridge.send(Object.assign(Object.assign({},e),{fromId:t,toId:i,timestamp:Date.now()}))}onMessageReceived(e,t){if(!this.filterMessageId(e))return;const i=e.type,n=this.observers.getValuesAtKey(i);if(n)for(const i of n){const n=e.payload||e;i.notify(n,t,e.timestamp)}}filterMessageId(e){const t=e.toId,i=e.fromId;return t instanceof Array?t.indexOf(this.sourceId)>-1:(void 0===t||t===this.sourceId)&&i===this.targetId}}class o extends a{constructor(e,t,i,n){super(e,t,new r),this.messenger=i,this.sendFilter=n,this.errorBridge=new r}send(e){this.sendFilter.includes(e.type)?this.messenger.send(e):this.errorBridge.send()}}class l{constructor(e,t){this.sourceId=e,this.listenerBridge=t,this.observers=new s.X}init(){const e=new class{constructor(e){this.messenger=e}onMessageReceived(e,t){this.messenger.onMessageReceived(e,t)}}(this),t=new n(e);this.listenerBridge.listen(t)}dispose(){this.listenerBridge.stopListening()}addObserver(e){this.observers.add(e.messageType,e)}removeObserver(e){this.observers.remove(e.messageType,e)}send(e,t,i,n){i.send(Object.assign(Object.assign({},e),{fromId:this.sourceId,toId:t,timestamp:Date.now()}),n)}onMessageReceived(e,t){const i=e.type,n=this.observers.getValuesAtKey(i);if(n)for(const i of n){const n=e.payload||e;i.notify(n,t,e.timestamp)}}}class c{constructor(e){this.targetWindow=e,this.messageObserver=null,this.onMessage=e=>{if(this.messageObserver){const t=e.data;this.messageObserver.notify(Object.assign({},t),{id:t.fromId,origin:e.origin,source:e.source},e.data.timestamp)}}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetWindow.addEventListener("message",this.onMessage))}stopListening(){this.targetWindow.removeEventListener("message",this.onMessage),this.messageObserver=null}}class d{constructor(e,t="*"){this.targetWindow=e,this.targetOrigin=t}send(e,t){this.targetWindow.postMessage(e,this.targetOrigin)}}class u{constructor(e,t,i="*"){this.sourceWindow=e,this.listener=new c(e),this.sender=new d(t,i)}listen(e){this.listener.listen(e)}stopListening(){this.listener.stopListening()}send(e){this.sender.send(e,this.sourceWindow)}}class h{constructor(e,t,i,n,s="*"){this.sourceId=e,this.sourceWindow=t,this.targetId=i,this.targetWindow=n,this.targetOrigin=s}createMessenger(){const e=new u(this.sourceWindow,this.targetWindow,this.targetOrigin);return new a(this.sourceId,this.targetId,e)}}class p{constructor(e,t){this.source=e,this.target=t,this.messageObserver=null}listen(e){this.messageObserver||(this.messageObserver=e,this.source.addObserver(e))}stopListening(){this.messageObserver&&this.source.removeObserver(this.messageObserver)}send(e){const t=this.target;t&&t.post(Object.assign({},e),this.source)}}class m{constructor(e,t,i,n){this.sourceId=e,this.sourceNode=t,this.targetId=i,this.targetNode=n}createMessenger(){const e=new p(this.sourceNode,this.targetNode);return new a(this.sourceId,this.targetId,e)}}class f{constructor(e){this.origin=e,this.observers=new Set}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}post(e,t){for(const i of this.observers)i.notify(e,t)}}class g{constructor(e){this.targetNode=e,this.messageObserver=null,this.onMessage=(e,t)=>{this.messageObserver&&this.messageObserver.notify({payload:Object.assign({},e.payload),type:e.type},{id:e.fromId,source:t},e.timestamp)}}listen(e){this.messageObserver||(this.messageObserver=e,this.targetNode.addObserver({notify:(e,t)=>{this.onMessage(e,t)}}))}stopListening(){this.messageObserver=null}}},69675:(e,t,i)=>{"use strict";var n;!function(e){e.LOADED="inject.loaded",e.SETUP="inject.setup",e.RESOLVE="inject.resolve"}(n||(n={}));i(98955)},96135:(e,t,i)=>{"use strict";var n,s,r,a,o,l,c,d,u,h,p,m,f,g,v;i.d(t,{kJ:()=>a,Uv:()=>c,AR:()=>d,LM:()=>p,pz:()=>m}),function(e){let t,i,n;!function(e){e.PHASE_CHANGE="application.phasechange"}(t=e.Event||(e.Event={})),function(e){e.UNINITIALIZED="appphase.uninitialized",e.WAITING="appphase.waiting",e.LOADING="appphase.loading",e.STARTING="appphase.starting",e.PLAYING="appphase.playing",e.ERROR="appphase.error"}(i=e.Phase||(e.Phase={})),function(e){e.UNKNOWN="application.unknown",e.WEBVR="application.webvr",e.SHOWCASE="application.showcase",e.WORKSHOP="application.workshop"}(n=e.Application||(e.Application={}))}(n||(n={})),function(e){let t,i;!function(e){e.MOVE="camera.move"}(t=e.Event||(e.Event={})),function(e){e.FORWARD="FORWARD",e.LEFT="LEFT",e.RIGHT="RIGHT",e.BACK="BACK",e.UP="UP",e.DOWN="DOWN"}(i=e.Direction||(e.Direction={}))}(s||(s={})),function(e){let t;!function(e){e.CHANGE_START="floors.changestart",e.CHANGE_END="floors.changeend"}(t=e.Event||(e.Event={}))}(r||(r={})),function(e){let t;!function(e){e.SUCCESS="astar.status.success",e.NO_PATH="astar.status.no_path",e.TIMEOUT="astar.status.timeout",e.NO_START_VERTEX="astar.status.no_start",e.NO_END_VERTEX="astar.status.no_end"}(t=e.AStarStatus||(e.AStarStatus={}))}(a||(a={})),function(e){let t;!function(e){e.POSITION_UPDATED="label.positionupdated"}(t=e.Event||(e.Event={}))}(o||(o={})),function(e){let t,i;!function(e){e.WINDOW="link.creationpolicy.window",e.REFERRER="link.creationpolicy.referrer",e.MATTERPORT="link.creationpolicy.matterport"}(t=e.CreationPolicy||(e.CreationPolicy={})),function(e){e.DEFAULT="link.openpolicy.deafult",e.NEW_WINDOW="link.openpolicy.newwindow",e.SAME_FRAME="link.openpolicy.sameframe",e.CURRENT_WINDOW="link.openpolicy.current"}(i=e.OpenPolicy||(e.OpenPolicy={}))}(l||(l={})),function(e){let t,i,n,s,r;!function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(t=e.Transition||(e.Transition={})),function(e){e.NAVIGATION="tag.link.nav",e.MODEL="tag.link.model",e.EXT_LINK="tag.link.ext"}(i=e.LinkType||(e.LinkType={})),function(e){e.NONE="tag.chunk.none",e.TEXT="tag.chunk.text",e.LINK="tag.chunk.link"}(n=e.DescriptionChunkType||(e.DescriptionChunkType={})),function(e){e.HOVER="tag.hover",e.CLICK="tag.click",e.LINK_OPEN="tag.linkopen"}(s=e.Event||(e.Event={})),function(e){e.NONE="mattertag.media.none",e.PHOTO="mattertag.media.photo",e.VIDEO="mattertag.media.video",e.RICH="mattertag.media.rich"}(r=e.MediaType||(e.MediaType={}))}(c||(c={})),function(e){let t,i,n;!function(e){e.INSIDE="mode.inside",e.OUTSIDE="mode.outside",e.DOLLHOUSE="mode.dollhouse",e.FLOORPLAN="mode.floorplan",e.TRANSITIONING="mode.transitioning"}(t=e.Mode||(e.Mode={})),function(e){e.CHANGE_START="viewmode.changestart",e.CHANGE_END="viewmode.changeend"}(i=e.Event||(e.Event={})),function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(n=e.TransitionType||(e.TransitionType={}))}(d||(d={})),function(e){let t;!function(e){e.MODEL_LOADED="model.loaded"}(t=e.Event||(e.Event={}))}(u||(u={})),function(e){let t;!function(e){e.NONE="intersectedobject.none",e.MODEL="intersectedobject.model",e.TAG="intersectedobject.tag",e.SWEEP="intersectedobject.sweep",e.UNKNOWN="intersectedobject.unknown"}(t=e.Colliders||(e.Colliders={}))}(h||(h={})),function(e){let t,i;!function(e){e.CAMERA="sensor.sensortype.camera"}(t=e.SensorType||(e.SensorType={})),function(e){e.SPHERE="sensor.sourcetype.sphere",e.BOX="sensor.sourcetype.box",e.CYLINDER="sensor.sourcetype.cylinder"}(i=e.SourceType||(e.SourceType={}))}(p||(p={})),function(e){let t,i,n,s;!function(e){e.ENTER="sweep.enter",e.EXIT="sweep.exit"}(t=e.Event||(e.Event={})),function(e){e.INSTANT="transition.instant",e.FLY="transition.fly",e.FADEOUT="transition.fade"}(i=e.Transition||(e.Transition={})),function(e){e.ALIGNED="aligned",e.UNALIGNED="unaligned"}(n=e.Alignment||(e.Alignment={})),function(e){e.UNPLACED="unplaced",e.AUTO="auto",e.MANUAL="manual"}(s=e.Placement||(e.Placement={}))}(m||(m={})),function(e){let t;!function(e){e.UNKNOWN="tag.attachment.unknown",e.APPLICATION="tag.attachment.application",e.AUDIO="tag.attachment.audio",e.IMAGE="tag.attachment.image",e.MODEL="tag.attachment.model",e.PDF="tag.attachment.pdf",e.RICH="tag.attachment.rich",e.TEXT="tag.attachment.text",e.VIDEO="tag.attachment.video",e.ZIP="tag.attachment.zip",e.SANDBOX="tag.attachment.sandbox"}(t=e.AttachmentType||(e.AttachmentType={}))}(f||(f={})),function(e){let t,i;!function(e){e.STARTED="tour.started",e.STOPPED="tour.stopped",e.ENDED="tour.ended",e.STEPPED="tour.stepped"}(t=e.Event||(e.Event={})),function(e){e.INACTIVE="tour.inactive",e.ACTIVE="tour.active",e.STOP_SCHEDULED="tour.stopscheduled"}(i=e.PlayState||(e.PlayState={}))}(g||(g={})),function(e){let t,i,n;!function(e){e.OBJ_LOADER="mp.objLoader",e.FBX_LOADER="mp.fbxLoader",e.DAE_LOADER="mp.daeLoader",e.GLTF_LOADER="mp.gltfLoader",e.SCROLLING_TUBE="mp.scrollingTube",e.TRANSFORM_CONTROLS="mp.transformControls",e.LIGHTS_COMPONENT="mp.lights",e.POINT_LIGHT="mp.pointLight",e.DIRECTIONAL_LIGHT="mp.directionalLight",e.AMBIENT_LIGHT="mp.ambientLight",e.CAMERA="mp.camera",e.INPUT="mp.input",e.XR="mp.xr"}(t=e.Component||(e.Component={})),function(e){e.CLICK="INTERACTION.CLICK",e.HOVER="INTERACTION.HOVER",e.DRAG="INTERACTION.DRAG",e.DRAG_BEGIN="INTERACTION.DRAG_BEGIN",e.DRAG_END="INTERACTION.DRAG_END",e.POINTER_MOVE="INTERACTION.POINTER_MOVE",e.POINTER_BUTTON="INTERACTION.POINTER_BUTTON",e.SCROLL="INTERACTION.SCROLL",e.KEY="INTERACTION.KEY",e.LONG_PRESS_START="INTERACTION.LONG_PRESS_START",e.LONG_PRESS_END="INTERACTION.LONG_PRESS_END",e.MULTI_SWIPE="INTERACTION.MULTI_SWIPE",e.MULTI_SWIPE_END="INTERACTION.MULTI_SWIPE_END",e.PINCH="INTERACTION.PINCH",e.PINCH_END="INTERACTION.PINCH_END",e.ROTATE="INTERACTION.ROTATE",e.ROTATE_END="INTERACTION.ROTATE_END"}(i=e.InteractionType||(e.InteractionType={})),function(e){e.INPUT="input",e.OUTPUT="output",e.EVENT="event",e.EMIT="emit"}(n=e.PathType||(e.PathType={}))}(v||(v={}));i(32597),i(6667),i(16782)},6667:(e,t,i)=>{"use strict";var n;i.d(t,{M:()=>n}),function(e){e[e.DOWN=0]="DOWN",e[e.PRESSED=1]="PRESSED",e[e.UP=2]="UP"}(n||(n={}))},32597:(e,t,i)=>{"use strict";var n;i.d(t,{R:()=>n}),function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.RETURN=13]="RETURN",e[e.SHIFT=16]="SHIFT",e[e.CONTROL=17]="CONTROL",e[e.ALT=18]="ALT",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.HASH=35]="HASH",e[e.LEFTARROW=37]="LEFTARROW",e[e.UPARROW=38]="UPARROW",e[e.RIGHTARROW=39]="RIGHTARROW",e[e.DOWNARROW=40]="DOWNARROW",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.AT=64]="AT",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.SEMICOLON=186]="SEMICOLON",e[e.PLUSEQUALS=187]="PLUSEQUALS",e[e.COMMA=188]="COMMA",e[e.DASHUNDERSCORE=189]="DASHUNDERSCORE",e[e.PERIOD=190]="PERIOD",e[e.OPENBRACKET=219]="OPENBRACKET"}(n||(n={}))},34028:(e,t,i)=>{"use strict";var n;i.d(t,{c:()=>n}),function(e){e.OUTPUT="output",e.INPUT="input",e.EVENT="event",e.EMIT="emit"}(n||(n={}))},16782:(e,t,i)=>{"use strict";var n,s;i.d(t,{M:()=>n,r:()=>s}),function(e){e[e.PRIMARY=0]="PRIMARY",e[e.MIDDLE=1]="MIDDLE",e[e.SECONDARY=2]="SECONDARY",e[e.BACK=3]="BACK",e[e.FORWARD=4]="FORWARD",e[e.COUNT=5]="COUNT"}(n||(n={})),function(e){e[e.NONE=0]="NONE",e[e.PRIMARY=1]="PRIMARY",e[e.SECONDARY=4]="SECONDARY",e[e.MIDDLE=2]="MIDDLE",e[e.BACK=8]="BACK",e[e.FORWARD=16]="FORWARD",e[e.ALL=31]="ALL"}(s||(s={}))},41927:(e,t,i)=>{"use strict";var n;i.d(t,{_:()=>n}),function(e){e.MOUSE="mouse",e.TOUCH="touch",e.PEN="pen",e.GAMEPAD="gamepad"}(n||(n={}))},98955:(e,t,i)=>{"use strict";i.d(t,{X:()=>n});class n{constructor(){this.values={}}add(e,t){this.getValuesAtKey(e).push(t)}remove(e,t){const i=this.values[e];if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}}removeKey(e){delete this.values[e]}getValuesAtKey(e){const t=this.values[e]||[];return this.values[e]=t,t}valuesPerKey(e){return this.getValuesAtKey(e).length}find(e,t){return this.values[e]&&this.values[e].find(t)}get keys(){return Object.keys(this.values)}hasKey(e){return e in this.values}has(e,t){return this.hasKey(e)&&this.values[e].includes(t)}*[Symbol.iterator](){for(const e in this.values)for(const t of this.values[e])yield[e,t]}}},37519:(e,t,i)=>{"use strict";function n(e){return"number"==typeof e&&!isNaN(e)}i.d(t,{hj:()=>n})},29708:(e,t,i)=>{"use strict";function n(e,t){return Object.values(e).includes(t)}i.d(t,{p:()=>n})},40731:(e,t,i)=>{"use strict";i.d(t,{u:()=>s});var n=i(37519);function s(e){if(e&&"object"==typeof e&&"x"in e&&"y"in e&&"z"in e){const t=e;return(0,n.hj)(t.x)&&(0,n.hj)(t.y)&&(0,n.hj)(t.z)}return!1}},42238:function(e,t,i){var n;!function(s,r){"use strict";var a="function",o="undefined",l="object",c="model",d="name",u="type",h="vendor",p="version",m="architecture",f="console",g="mobile",v="tablet",b="smarttv",y="wearable",E={extend:function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},S={rgx:function(e,t){for(var i,n,s,o,c,d,u=0;u<t.length&&!c;){var h=t[u],p=t[u+1];for(i=n=0;i<h.length&&!c;)if(c=h[i++].exec(e))for(s=0;s<p.length;s++)d=c[++n],typeof(o=p[s])===l&&o.length>0?2==o.length?typeof o[1]==a?this[o[0]]=o[1].call(this,d):this[o[0]]=o[1]:3==o.length?typeof o[1]!==a||o[1].exec&&o[1].test?this[o[0]]=d?d.replace(o[1],o[2]):r:this[o[0]]=d?o[1].call(this,d,o[2]):r:4==o.length&&(this[o[0]]=d?o[3].call(this,d.replace(o[1],o[2])):r):this[o]=d||r;u+=2}},str:function(e,t){for(var i in t)if(typeof t[i]===l&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(E.has(t[i][n],e))return"?"===i?r:i}else if(E.has(t[i],e))return"?"===i?r:i;return e}},T={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},O={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[d,p],[/(opios)[\/\s]+([\w\.]+)/i],[[d,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[d,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[d,p],[/(konqueror)\/([\w\.]+)/i],[[d,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[d,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[d,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[d,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[d,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[d,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[d,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[d,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[d,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[d,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[d,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[d,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[d,"Brave"],p],[/(whale)\/([\w\.]+)/i],[[d,"Whale"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[d,p],[/(QQ)\/([\d\.]+)/i],[d,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[d,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[d,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[d,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[d],[/(LBBROWSER)/i],[d],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[d,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[d,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[d,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[d,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[d,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[d,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[d,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[d,p],[/(dolfin)\/([\w\.]+)/i],[[d,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[d,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[d,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[d,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[d,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,d],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[d,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[p,S.str,T.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,E.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,h,[u,v]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[h,"Apple"],[u,v]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[h,"Apple"],[u,b]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,c,[u,v]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[c,[h,"Amazon"],[u,v]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[c,S.str,T.device.amazon.model],[h,"Amazon"],[u,g]],[/android.+aft([bms])\sbuild/i],[c,[h,"Amazon"],[u,b]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,h,[u,g]],[/\((ip[honed|\s\w*]+);/i],[c,[h,"Apple"],[u,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,c,[u,g]],[/\(bb10;\s(\w+)/i],[c,[h,"BlackBerry"],[u,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[h,"Asus"],[u,v]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[c,"Xperia Tablet"],[u,v]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,"Sony"],[u,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,c,[u,f]],[/android.+;\s(shield)\sbuild/i],[c,[h,"Nvidia"],[u,f]],[/(playstation\s[34portablevi]+)/i],[c,[h,"Sony"],[u,f]],[/(sprint\s(\w+))/i],[[h,S.str,T.device.sprint.vendor],[c,S.str,T.device.sprint.model],[u,g]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[c,/_/g," "],[u,g]],[/(nexus\s9)/i],[c,[h,"HTC"],[u,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[c,[h,"Huawei"],[u,g]],[/android.+(bah2?-a?[lw]\d{2})/i],[c,[h,"Huawei"],[u,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[h,c,[u,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[h,"Microsoft"],[u,f]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,"Microsoft"],[u,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[h,"Motorola"],[u,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[h,"Motorola"],[u,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,E.trim],[c,E.trim],[u,b]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,"Samsung"],[u,b]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[u,b]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],c,[u,v]],[/smart-tv.+(samsung)/i],[h,[u,b],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[h,"Samsung"],c,[u,g]],[/sie-(\w*)/i],[c,[h,"Siemens"],[u,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[h,"Nokia"],c,[u,g]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[h,"Acer"],[u,v]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[h,"LG"],[u,v]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],c,[u,v]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[h,"LG"],c,[u,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[h,"LG"],[u,g]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[h,c,[u,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[h,"Lenovo"],[u,v]],[/(lenovo)[_\s-]?([\w-]+)/i],[h,c,[u,g]],[/linux;.+((jolla));/i],[h,c,[u,g]],[/((pebble))app\/[\d\.]+\s/i],[h,c,[u,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,c,[u,g]],[/crkey/i],[[c,"Chromecast"],[h,"Google"],[u,b]],[/android.+;\s(glass)\s\d/i],[c,[h,"Google"],[u,y]],[/android.+;\s(pixel c)[\s)]/i],[c,[h,"Google"],[u,v]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[c,[h,"Google"],[u,g]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[c,/_/g," "],[h,"Xiaomi"],[u,g]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[c,/_/g," "],[h,"Xiaomi"],[u,v]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[h,"Meizu"],[u,g]],[/(mz)-([\w-]{2,})/i],[[h,"Meizu"],c,[u,g]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[c,[h,"OnePlus"],[u,g]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[h,"RCA"],[u,v]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[c,[h,"Dell"],[u,v]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[h,"Verizon"],[u,v]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[h,"Barnes & Noble"],c,[u,v]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[h,"NuVision"],[u,v]],[/android.+;\s(k88)\sbuild/i],[c,[h,"ZTE"],[u,v]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[h,"Swiss"],[u,g]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[h,"Swiss"],[u,v]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[h,"Zeki"],[u,v]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[h,"Dragon Touch"],c,[u,v]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[h,"Insignia"],[u,v]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[h,"NextBook"],[u,v]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[h,"Voice"],c,[u,g]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[h,"LvTel"],c,[u,g]],[/android.+;\s(PH-1)\s/i],[c,[h,"Essential"],[u,g]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[h,"Envizen"],[u,v]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[h,c,[u,v]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[c,[h,"MachSpeed"],[u,v]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[h,c,[u,v]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[h,"Rotor"],[u,v]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[h,c,[u,v]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[c,[u,g]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[c,[u,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,E.lowerize],h,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,b]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[h,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[d,[p,S.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[p,S.str,T.os.windows.version]],[/\((bb)(10);/i],[[d,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[d,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[d,"Symbian"],p],[/\((series40);/i],[d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"],p],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[d,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[d,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[d,p],[/(haiku)\s(\w+)/i],[d,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[d,p]]},_=function(e,t){if("object"==typeof e&&(t=e,e=r),!(this instanceof _))return new _(e,t).getResult();var i=e||(s&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:""),n=t?E.extend(O,t):O;return this.getBrowser=function(){var e={name:r,version:r};return S.rgx.call(e,i,n.browser),e.major=E.major(e.version),e},this.getCPU=function(){var e={architecture:r};return S.rgx.call(e,i,n.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return S.rgx.call(e,i,n.device),e},this.getEngine=function(){var e={name:r,version:r};return S.rgx.call(e,i,n.engine),e},this.getOS=function(){var e={name:r,version:r};return S.rgx.call(e,i,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};_.VERSION="0.7.23",_.BROWSER={NAME:d,MAJOR:"major",VERSION:p},_.CPU={ARCHITECTURE:m},_.DEVICE={MODEL:c,VENDOR:h,TYPE:u,CONSOLE:f,MOBILE:g,SMARTTV:b,TABLET:v,WEARABLE:y,EMBEDDED:"embedded"},_.ENGINE={NAME:d,VERSION:p},_.OS={NAME:d,VERSION:p},typeof t!==o?(e.exports&&(t=e.exports=_),t.UAParser=_):(n=function(){return _}.call(t,i,t,e))===r||(e.exports=n);var N=s&&(s.jQuery||s.Zepto);if(N&&!N.ua){var A=new _;N.ua=A.getResult(),N.ua.get=function(){return A.getUA()},N.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var i in t)N.ua[i]=t[i]}}}("object"==typeof window?window:this)},69436:e=>{function t(e,t,i,n){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=i,this.p2y=n}e.exports=t,t.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},t.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},t.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},t.prototype.solveCurveX=function(e,t){var i,n,s,r,a;for(void 0===t&&(t=1e-6),s=e,a=0;a<8;a++){if(r=this.sampleCurveX(s)-e,Math.abs(r)<t)return s;var o=this.sampleCurveDerivativeX(s);if(Math.abs(o)<1e-6)break;s-=r/o}if((s=e)<(i=0))return i;if(s>(n=1))return n;for(;i<n;){if(r=this.sampleCurveX(s),Math.abs(r-e)<t)return s;e>r?i=s:n=s,s=.5*(n-i)+i}return s},t.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},52511:function(e,t,i){var n;e=i.nmd(e),function(s){t&&t.nodeType,e&&e.nodeType;var r="object"==typeof i.g&&i.g;r.global!==r&&r.window!==r&&r.self;var a,o=2147483647,l=36,c=/^xn--/,d=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function f(e){throw RangeError(h[e])}function g(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function v(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+g((e=e.replace(u,".")).split("."),t).join(".")}function b(e){for(var t,i,n=[],s=0,r=e.length;s<r;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<r?56320==(64512&(i=e.charCodeAt(s++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),s--):n.push(t);return n}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,i){var n=0;for(e=i?p(e/700):e>>1,e+=p(e/t);e>455;n+=l)e=p(e/35);return p(n+36*e/(e+38))}function T(e){var t,i,n,s,r,a,c,d,u,h,m,g=[],v=e.length,b=0,E=128,T=72;for((i=e.lastIndexOf("-"))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&f("not-basic"),g.push(e.charCodeAt(n));for(s=i>0?i+1:0;s<v;){for(r=b,a=1,c=l;s>=v&&f("invalid-input"),((d=(m=e.charCodeAt(s++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:l)>=l||d>p((o-b)/a))&&f("overflow"),b+=d*a,!(d<(u=c<=T?1:c>=T+26?26:c-T));c+=l)a>p(o/(h=l-u))&&f("overflow"),a*=h;T=S(b-r,t=g.length+1,0==r),p(b/t)>o-E&&f("overflow"),E+=p(b/t),b%=t,g.splice(b++,0,E)}return y(g)}function O(e){var t,i,n,s,r,a,c,d,u,h,g,v,y,T,O,_=[];for(v=(e=b(e)).length,t=128,i=0,r=72,a=0;a<v;++a)(g=e[a])<128&&_.push(m(g));for(n=s=_.length,s&&_.push("-");n<v;){for(c=o,a=0;a<v;++a)(g=e[a])>=t&&g<c&&(c=g);for(c-t>p((o-i)/(y=n+1))&&f("overflow"),i+=(c-t)*y,t=c,a=0;a<v;++a)if((g=e[a])<t&&++i>o&&f("overflow"),g==t){for(d=i,u=l;!(d<(h=u<=r?1:u>=r+26?26:u-r));u+=l)O=d-h,T=l-h,_.push(m(E(h+O%T,0))),d=p(O/T);_.push(m(E(d,0))),r=S(i,y,n==s),i=0,++n}++i,++t}return _.join("")}a={version:"1.3.2",ucs2:{decode:b,encode:y},decode:T,encode:O,toASCII:function(e){return v(e,(function(e){return d.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?T(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return a}.call(t,i,t,e))||(e.exports=n)}()},27225:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,n,s){i=i||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(i);var o=1e3;s&&"number"==typeof s.maxKeys&&(o=s.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var c=0;c<l;++c){var d,u,h,p,m=e[c].replace(a,"%20"),f=m.indexOf(n);f>=0?(d=m.substr(0,f),u=m.substr(f+1)):(d=m,u=""),h=decodeURIComponent(d),p=decodeURIComponent(u),t(r,h)?Array.isArray(r[h])?r[h].push(p):r[h]=[r[h],p]:r[h]=p}return r}},44066:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,n,s){return i=i||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(s){var r=encodeURIComponent(t(s))+n;return Array.isArray(e[s])?e[s].map((function(e){return r+encodeURIComponent(t(e))})).join(i):r+encodeURIComponent(t(e[s]))})).join(i):s?encodeURIComponent(t(s))+n+encodeURIComponent(t(e)):""}},36254:(e,t,i)=>{"use strict";t.decode=t.parse=i(27225),t.encode=t.stringify=i(44066)},8575:(e,t,i)=>{"use strict";var n=i(52511),s=i(62502);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=y;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(c),u=["%","/","?",";","#"].concat(d),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=i(36254);function y(e,t,i){if(e&&s.isObject(e)&&e instanceof r)return e;var n=new r;return n.parse(e,t,i),n}r.prototype.parse=function(e,t,i){if(!s.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",c=e.split(o);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(o);if(y=y.trim(),!i&&1===e.split("#").length){var E=l.exec(y);if(E)return this.path=y,this.href=y,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=a.exec(y);if(S){var T=(S=S[0]).toLowerCase();this.protocol=T,y=y.substr(S.length)}if(i||S||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===y.substr(0,2);!O||S&&g[S]||(y=y.substr(2),this.slashes=!0)}if(!g[S]&&(O||S&&!v[S])){for(var _,N,A=-1,w=0;w<h.length;w++){-1!==(I=y.indexOf(h[w]))&&(-1===A||I<A)&&(A=I)}-1!==(N=-1===A?y.lastIndexOf("@"):y.lastIndexOf("@",A))&&(_=y.slice(0,N),y=y.slice(N+1),this.auth=decodeURIComponent(_)),A=-1;for(w=0;w<u.length;w++){var I;-1!==(I=y.indexOf(u[w]))&&(-1===A||I<A)&&(A=I)}-1===A&&(A=y.length),this.host=y.slice(0,A),y=y.slice(A),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var P=this.hostname.split(/\./),L=(w=0,P.length);w<L;w++){var C=P[w];if(C&&!C.match(p)){for(var R="",D=0,M=C.length;D<M;D++)C.charCodeAt(D)>127?R+="x":R+=C[D];if(!R.match(p)){var x=P.slice(0,w),j=P.slice(w+1),U=C.match(m);U&&(x.push(U[1]),j.unshift(U[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=x.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=n.toASCII(this.hostname));var H=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+H,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!f[T])for(w=0,L=d.length;w<L;w++){var B=d[w];if(-1!==y.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),y=y.split(B).join(V)}}var G=y.indexOf("#");-1!==G&&(this.hash=y.substr(G),y=y.slice(0,G));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var z=this.search||"";this.path=H+z}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,a="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+r+(i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+n},r.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(s.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var i=new r,n=Object.keys(this),a=0;a<n.length;a++){var o=n[a];i[o]=this[o]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var d=l[c];"protocol"!==d&&(i[d]=e[d])}return v[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!v[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var p=u[h];i[p]=e[p]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||g[e.protocol])i.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),i.pathname=m.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var f=i.pathname||"",b=i.search||"";i.path=f+b}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var y=i.pathname&&"/"===i.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=E||y||i.host&&e.pathname,T=S,O=i.pathname&&i.pathname.split("/")||[],_=(m=e.pathname&&e.pathname.split("/")||[],i.protocol&&!v[i.protocol]);if(_&&(i.hostname="",i.port=null,i.host&&(""===O[0]?O[0]=i.host:O.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),S=S&&(""===m[0]||""===O[0])),E)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,O=m;else if(m.length)O||(O=[]),O.pop(),O=O.concat(m),i.search=e.search,i.query=e.query;else if(!s.isNullOrUndefined(e.search)){if(_)i.hostname=i.host=O.shift(),(k=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=k.shift(),i.host=i.hostname=k.shift());return i.search=e.search,i.query=e.query,s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!O.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var N=O.slice(-1)[0],A=(i.host||e.host||O.length>1)&&("."===N||".."===N)||""===N,w=0,I=O.length;I>=0;I--)"."===(N=O[I])?O.splice(I,1):".."===N?(O.splice(I,1),w++):w&&(O.splice(I,1),w--);if(!S&&!T)for(;w--;w)O.unshift("..");!S||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),A&&"/"!==O.join("/").substr(-1)&&O.push("");var k,P=""===O[0]||O[0]&&"/"===O[0].charAt(0);_&&(i.hostname=i.host=P?"":O.length?O.shift():"",(k=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=k.shift(),i.host=i.hostname=k.shift()));return(S=S||i.host&&O.length)&&!P&&O.unshift(""),O.length?i.pathname=O.join("/"):(i.pathname=null,i.path=null),s.isNull(i.pathname)&&s.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},r.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},42473:e=>{"use strict";var t=function(){};e.exports=t},55512:(e,t,i)=>{var n,s;void 0===(s="function"==typeof(n=function(){"use strict";const e=6406,t=6407,i=6408,n=6409,s=6410,r=6402,a=34041,o=33321,l=36756,c=33325,d=33326,u=33330,h=33329,p=33338,m=33337,f=33340,g=33339,v=33323,b=36757,y=33327,E=33328,S=33336,T=33335,O=33332,_=33331,N=33334,A=33333,w=32849,I=35905,k=36194,P=36758,L=35898,C=35901,R=34843,D=34837,M=36221,x=36239,j=36215,U=36233,H=36209,F=36227,B=32856,V=35907,G=36759,W=32855,z=32854,K=32857,Y=34842,$=34836,q=36220,Z=36238,Q=36975,X=36214,J=36232,ee=36226,te=36208,ie=33189,ne=33190,se=36012,re=36013,ae=35056,oe=5121,le=5123,ce=5125,de=5126,ue=32819,he=32820,pe=33635,me=5131,fe=36193,ge=35906;let ve;function be(be){if(!ve){const be={};be[e]={bytesPerElement:[1,2,2,4],type:[oe,me,fe,de]},be[n]={bytesPerElement:[1,2,2,4],type:[oe,me,fe,de]},be[s]={bytesPerElement:[2,4,4,8],type:[oe,me,fe,de]},be[t]={bytesPerElement:[3,6,6,12,2],type:[oe,me,fe,de,pe]},be[i]={bytesPerElement:[4,8,8,16,2,2],type:[oe,me,fe,de,ue,he]},be[ge]={bytesPerElement:[4,8,8,16,2,2],type:[oe,me,fe,de,ue,he]},be[r]={bytesPerElement:[2,4],type:[ce,le]},be[a]={bytesPerElement:[4]},be[o]={bytesPerElement:[1]},be[l]={bytesPerElement:[1]},be[c]={bytesPerElement:[2]},be[d]={bytesPerElement:[4]},be[u]={bytesPerElement:[1]},be[h]={bytesPerElement:[1]},be[O]={bytesPerElement:[2]},be[_]={bytesPerElement:[2]},be[N]={bytesPerElement:[4]},be[A]={bytesPerElement:[4]},be[v]={bytesPerElement:[2]},be[b]={bytesPerElement:[2]},be[y]={bytesPerElement:[4]},be[E]={bytesPerElement:[8]},be[S]={bytesPerElement:[2]},be[T]={bytesPerElement:[2]},be[p]={bytesPerElement:[4]},be[m]={bytesPerElement:[4]},be[f]={bytesPerElement:[8]},be[g]={bytesPerElement:[8]},be[w]={bytesPerElement:[3]},be[I]={bytesPerElement:[3]},be[k]={bytesPerElement:[2]},be[P]={bytesPerElement:[3]},be[L]={bytesPerElement:[4]},be[C]={bytesPerElement:[4]},be[R]={bytesPerElement:[6]},be[D]={bytesPerElement:[12]},be[M]={bytesPerElement:[3]},be[x]={bytesPerElement:[3]},be[j]={bytesPerElement:[6]},be[U]={bytesPerElement:[6]},be[H]={bytesPerElement:[12]},be[F]={bytesPerElement:[12]},be[B]={bytesPerElement:[4]},be[V]={bytesPerElement:[4]},be[G]={bytesPerElement:[4]},be[W]={bytesPerElement:[2]},be[z]={bytesPerElement:[2]},be[K]={bytesPerElement:[4]},be[Y]={bytesPerElement:[8]},be[$]={bytesPerElement:[16]},be[q]={bytesPerElement:[4]},be[Z]={bytesPerElement:[4]},be[Q]={bytesPerElement:[4]},be[X]={bytesPerElement:[8]},be[J]={bytesPerElement:[8]},be[ee]={bytesPerElement:[16]},be[te]={bytesPerElement:[16]},be[ie]={bytesPerElement:[2]},be[ne]={bytesPerElement:[4]},be[se]={bytesPerElement:[4]},be[ae]={bytesPerElement:[4]},be[re]={bytesPerElement:[4]},ve=be}return ve[be]}function ye(e,t,i){return function(n,s,r){return((n+e-1)/e|0)*((s+t-1)/t|0)*i*r}}function Ee(e,t,i){return function(n,s,r){return(Math.max(n,e)*Math.max(s,t)/i|0)*r}}const Se=33777,Te=33778,Oe=33779,_e=36196,Ne=35840,Ae=35841,we=35842,Ie=35843,ke=37488,Pe=37489,Le=37490,Ce=37491,Re=37492,De=37493,Me=37494,xe=37495,je=37496,Ue=37497,He=37808,Fe=37809,Be=37810,Ve=37811,Ge=37812,We=37813,ze=37814,Ke=37815,Ye=37816,$e=37817,qe=37818,Ze=37819,Qe=37820,Xe=37821,Je=37840,et=37841,tt=37842,it=37843,nt=37844,st=37845,rt=37846,at=37847,ot=37848,lt=37849,ct=37850,dt=37851,ut=37852,ht=37853,pt=35916,mt=35917,ft=35918,gt=35919,vt=36492,bt=36493,yt=36494,Et=36495,St=36283,Tt=36284,Ot=36285,_t=36286,Nt=new Map([[33776,ye(4,4,8)],[Se,ye(4,4,8)],[Te,ye(4,4,16)],[Oe,ye(4,4,16)],[_e,ye(4,4,8)],[Ne,Ee(8,8,2)],[we,Ee(8,8,2)],[Ae,Ee(16,8,4)],[Ie,Ee(16,8,4)],[ke,ye(4,4,8)],[Pe,ye(4,4,8)],[Re,ye(4,4,8)],[De,ye(4,4,8)],[Me,ye(4,4,8)],[xe,ye(4,4,8)],[Le,ye(4,4,16)],[Ce,ye(4,4,16)],[je,ye(4,4,16)],[Ue,ye(4,4,16)],[He,ye(4,4,16)],[Je,ye(4,4,16)],[Fe,ye(5,4,16)],[et,ye(5,4,16)],[Be,ye(5,5,16)],[tt,ye(5,5,16)],[Ve,ye(6,5,16)],[it,ye(6,5,16)],[Ge,ye(6,6,16)],[nt,ye(6,6,16)],[We,ye(8,5,16)],[st,ye(8,5,16)],[ze,ye(8,6,16)],[rt,ye(8,6,16)],[Ke,ye(8,8,16)],[at,ye(8,8,16)],[Ye,ye(10,5,16)],[ot,ye(10,5,16)],[$e,ye(10,6,16)],[lt,ye(10,6,16)],[qe,ye(10,8,16)],[ct,ye(10,8,16)],[Ze,ye(10,10,16)],[dt,ye(10,10,16)],[Qe,ye(12,10,16)],[ut,ye(12,10,16)],[Xe,ye(12,12,16)],[ht,ye(12,12,16)],[pt,ye(4,4,8)],[mt,ye(4,4,8)],[ft,ye(4,4,16)],[gt,ye(4,4,16)],[vt,ye(4,4,16)],[bt,ye(4,4,16)],[yt,ye(4,4,16)],[Et,ye(4,4,16)],[St,ye(4,4,8)],[Tt,ye(4,4,8)],[Ot,ye(4,4,16)],[_t,ye(4,4,16)]]);function At(e,t){const i=be(e);if(!i)throw"unknown internal format";if(i.type){const n=i.type.indexOf(t);if(n<0)throw new Error(`unsupported type ${t} for internalformat ${e}`);return i.bytesPerElement[n]}return i.bytesPerElement[0]}function wt(e,t,i,n,s){return t*i*n*At(e,s)}function It(e,t,i,n,s){const r=Nt.get(e);return r?r(t,i,n):wt(e,t,i,n,s)}function kt(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer}function Pt(e){return kt(e)||e instanceof ArrayBuffer}function Lt(e){return{samples:e.getParameter(e.SAMPLES),depthBits:e.getParameter(e.DEPTH_BITS),contextAttributes:e.getContextAttributes()}}function Ct(e,t){const{samples:i,depthBits:n,contextAttributes:s}=t,{width:r,height:a}=e.canvas,o=r*a*4,l=s.depth?1:0,c=s.stencil?1:0;return o+o*i+o*l*Math.min(c+n>16?4:2,4)}function Rt(e){return"number"==typeof e}const Dt=new Set;function Mt(e,t,i={}){if(Dt.has(e))return e;Dt.add(e);const n=i.origGLErrorFn||e.getError;function s(e){const t=Lt(e),n={baseContext:e,config:i,apis:{gman_webgl_memory:{ctx:{getMemoryInfo(){const i=Ct(e,t);return{memory:{...d,drawingbuffer:i,total:i+d.buffer+d.texture+d.renderbuffer},resources:{...u}}}}}},resources:{},memory:{texture:0,buffer:0,renderbuffer:0},bindings:new Map,defaultVertexArray:{},webglObjectToMemory:new Map},s=new Set(["webgl","webgl2","webgl_lose_context"]);function r(){n.bindings.clear(),n.webglObjectToMemory.clear(),n.webglObjectToMemory.set(n.defaultVertexArray,{}),n.currentVertexArray=n.defaultVertexArray,[n.resources,n.memory].forEach((function(e){for(let t in e)e[t]=0}))}function o(){r(),n.isContextLost=!0;for(const[e,{ctx:t,origFuncs:i}]of[...Object.entries(n.apis)])if(!s.has(e)&&i){Dt.delete(t);for(const[e,n]of Object.entries(i))t[e]=n;delete a[e]}}function l(){n.isContextLost=!1}return e.canvas&&(e.canvas.addEventListener("webglcontextlost",o),e.canvas.addEventListener("webglcontextrestored",l)),r(),n}const r=i.sharedState||s(e);i.sharedState=r;const{apis:a,baseContext:o,bindings:l,config:c,memory:d,resources:u,webglObjectToMemory:h}=r,p={};function m(){}function f(e,t,i){if(e[i||`create${t[0].toUpperCase()}${t.substr(1)}`])return u[t]=0,function(e,i,n,s){if(r.isContextLost)return null;++u[t],h.set(s,{size:0})}}function g(t,i=m,n){const s=n||`delete${t[0].toUpperCase()}${t.substr(1)}`;if(e[s])return function(e,n,s){if(r.isContextLost)return;const[a]=s,o=h.get(a);o&&(--u[t],i(a,o),h.delete(a))}}function v(e,t,i,n,s){if(r.isContextLost)return;const a=l.get(e);if(!a)throw new Error(`no renderbuffer bound to ${e}`);const o=h.get(a);if(!o)throw new Error(`unknown renderbuffer ${a}`);const c=It(i,n,s,1)*t;d.renderbuffer-=o.size,o.size=c,d.renderbuffer+=c}const b=34963,y=5121,E=34067,S=35866,T=34069,O=33084,_=33085,N=new Set([T,34070,34071,34072,34073,34074]);function A(e){return N.has(e)}function w(e){e=A(e)?E:e;const t=l.get(e);if(!t)throw new Error(`no texture bound to ${e}`);const i=h.get(t);if(!i)throw new Error(`unknown texture ${t}`);return i}function I(e,t,i,n,s,r,a,o){const l=e.size,c=It(n,s,r,a,o),u=A(t)?t-T:0;e.mips=e.mips||[],e.mips[i]=e.mips[i]||[];const h=e.mips[i][u]||{};e.size-=h.size||0,h.size=c,h.internalFormat=n,h.type=o,h.width=s,h.height=r,h.depth=a,e.mips[i][u]=h,e.size+=c,d.texture-=l,d.texture+=e.size}function k(e,t,i,n,s,r){const a=w(e),o=e===E?6:1,l=e===E?T:e;for(let c=0;c<t;++c){for(let e=0;e<o;++e)I(a,l+e,c,i,n,s,r);n=Math.ceil(Math.max(n/2,1)),s=Math.ceil(Math.max(s/2,1)),r=e===S?r:Math.ceil(Math.max(r/2,1))}}function P(e,t,i){if(r.isContextLost)return;const[n]=i;r.currentVertexArray=n||r.defaultVertexArray}function L(e,t){if(!r.isContextLost)switch(e){case b:h.get(r.currentVertexArray).elementArrayBuffer=t;break;default:l.set(e,t)}}const C={},R={bufferData(e,t,i){if(r.isContextLost)return;const[n,s,,a=0,o]=i;let c;switch(n){case b:c=h.get(r.currentVertexArray).elementArrayBuffer;break;default:c=l.get(n)}if(!c)throw new Error(`no buffer bound to ${n}`);let u=0;if(void 0!==o)u=o*s.BYTES_PER_ELEMENT;else if(Pt(s))u=s.byteLength;else{if(!Rt(s))throw new Error(`unsupported bufferData src type ${s}`);u=s}const p=h.get(c);if(!p)throw new Error(`unknown buffer ${c}`);d.buffer-=p.size,p.size=u,d.buffer+=u},bindVertexArray:P,bindVertexArrayOES:P,bindBuffer(e,t,i){const[n,s]=i;L(n,s)},bindBufferBase(e,t,i){const[n,s,r]=i;L(n,r)},bindBufferRange(e,t,i){const[n,s,r,a,o]=i;L(n,r)},bindRenderbuffer(e,t,i){if(r.isContextLost)return;const[n,s]=i;l.set(n,s)},bindTexture(e,t,i){if(r.isContextLost)return;const[n,s]=i;l.set(n,s)},copyTexImage2D(e,t,i){if(r.isContextLost)return;const[n,s,a,o,l,c,d,u]=i;I(w(n),n,s,a,c,d,1,y)},createBuffer:f(e,"buffer"),createFramebuffer:f(e,"framebuffer"),createRenderbuffer:f(e,"renderbuffer"),createProgram:f(e,"program"),createQuery:f(e,"query"),createShader:f(e,"shader"),createSampler:f(e,"sampler"),createTexture:f(e,"texture"),createTransformFeedback:f(e,"transformFeedback"),createVertexArray:f(e,"vertexArray"),createVertexArrayOES:f(e,"vertexArray","createVertexArrayOES"),compressedTexImage2D(e,t,i){if(r.isContextLost)return;const[n,s,a,o,l]=i;I(w(n),n,s,a,o,l,1,y)},compressedTexImage3D(e,t,i){if(r.isContextLost)return;const[n,s,a,o,l,c]=i;I(w(n),n,s,a,o,l,c,y)},deleteBuffer:g("buffer",(function(e,t){d.buffer-=t.size})),deleteFramebuffer:g("framebuffer"),deleteProgram:g("program"),deleteQuery:g("query"),deleteRenderbuffer:g("renderbuffer",(function(e,t){d.renderbuffer-=t.size})),deleteSampler:g("sampler"),deleteShader:g("shader"),deleteSync:g("sync"),deleteTexture:g("texture",(function(e,t){d.texture-=t.size})),deleteTransformFeedback:g("transformFeedback"),deleteVertexArray:g("vertexArray"),deleteVertexArrayOES:g("vertexArray",m,"deleteVertexArrayOES"),fenceSync:function(e){if(!r.isContextLost&&e.fenceSync)return u.sync=0,function(e,t,i,n){++u.sync,h.set(n,{size:0})}}(e),generateMipmap(e,t,i){if(r.isContextLost)return;const[n]=i,s=w(n),a=s.parameters&&s.parameters.get(O)||0,o=s.parameters&&s.parameters.get(_)||1024;let{width:l,height:c,depth:d,internalFormat:u,type:h}=s.mips[a][0],p=a+1;const m=n===E?6:1,f=n===E?T:n;for(;p<=o&&(1!==l||1!==c||1!==d&&n!==S);){l=Math.ceil(Math.max(l/2,1)),c=Math.ceil(Math.max(c/2,1)),d=n===S?d:Math.ceil(Math.max(d/2,1));for(let e=0;e<m;++e)I(s,f+e,p,u,l,c,d,h);++p}},getSupportedExtensions(e,t,i,n){r.isContextLost||n.push("GMAN_webgl_memory")},renderbufferStorage(e,t,i){const[n,s,r,a]=i;v(n,1,s,r,a)},renderbufferStorageMultisample(e,t,i){const[n,s,r,a,o]=i;v(n,s,r,a,o)},texImage2D(e,t,i){if(r.isContextLost)return;let n,s,a,[o,l,c]=i;if(6==i.length){const e=i[5];n=e.width,s=e.height,a=i[4]}else n=i[3],s=i[4],a=i[7];I(w(o),o,l,c,n,s,1,a)},texImage3D(e,t,i){if(r.isContextLost)return;let[n,s,a,o,l,c,d,u,h]=i;I(w(n),n,s,a,o,l,c,h)},texParameteri(e,t,i){if(r.isContextLost)return;let[n,s,a]=i;const o=w(n);o.parameters=o.parameters||new Map,o.parameters.set(s,a)},texStorage2D(e,t,i){let[n,s,r,a,o]=i;k(n,s,r,a,o,1)},texStorage3D(e,t,i){let[n,s,r,a,o,l]=i;k(n,s,r,a,o,l)}},D={getExtension(e,t){if(r.isContextLost)return null;const s=e[t];e[t]=function(...t){const r=t[0].toLowerCase(),o=a[r];if(o)return o.ctx;const l=s.call(e,...t);return l&&Mt(l,r,{...i,origGLErrorFn:n}),l}}};function M(e,t){const i=e[t],s=C[t]||m,r=R[t]||m;if(s===m&&R===m)return;e[t]=function(...n){s(e,t,n);const a=i.call(e,...n);return r(e,t,n,a),a};const a=D[t];a&&a(e,t,n)}for(const t in e)"function"==typeof e[t]&&(p[t]=e[t],M(e,t));a[t.toLowerCase()]={ctx:e,origFuncs:p}}function xt(e){const t=e.prototype.getContext;e.prototype.getContext=function(e,...i){const n=t.call(this,e,...i);return n&&n.bindTexture&&(Mt(n,e,{}),n.getExtension("GMAN_webgl_memory")),n}}"undefined"!=typeof HTMLCanvasElement&&xt(HTMLCanvasElement),"undefined"!=typeof OffscreenCanvas&&xt(OffscreenCanvas)})?n.call(t,i,t,e):n)||(e.exports=s)},88880:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform samplerCube map;uniform vec2 dir;varying vec3 vWorldPosition;vec3 sphereToUnit(float x,float y){return vec3(sin(x)*cos(y),cos(x),sin(x)*sin(y));}vec2 unitToSphere(vec3 unit){return vec2(atan(sqrt(pow(unit.x,2.)+pow(unit.z,2.)),unit.y),atan(unit.z,unit.x));}void main(){vec2 coord=unitToSphere(vWorldPosition);vec4 sum=textureCube(map,sphereToUnit(coord.x-12.*dir.x,coord.y-12.*dir.y))*KERNEL_1;sum+=textureCube(map,sphereToUnit(coord.x-11.*dir.x,coord.y-11.*dir.y))*KERNEL_2;sum+=textureCube(map,sphereToUnit(coord.x-10.*dir.x,coord.y-10.*dir.y))*KERNEL_3;sum+=textureCube(map,sphereToUnit(coord.x-9.*dir.x,coord.y-9.*dir.y))*KERNEL_4;sum+=textureCube(map,sphereToUnit(coord.x-8.*dir.x,coord.y-8.*dir.y))*KERNEL_5;sum+=textureCube(map,sphereToUnit(coord.x-7.*dir.x,coord.y-7.*dir.y))*KERNEL_6;sum+=textureCube(map,sphereToUnit(coord.x-6.*dir.x,coord.y-6.*dir.y))*KERNEL_7;sum+=textureCube(map,sphereToUnit(coord.x-5.*dir.x,coord.y-5.*dir.y))*KERNEL_8;sum+=textureCube(map,sphereToUnit(coord.x-4.*dir.x,coord.y-4.*dir.y))*KERNEL_9;sum+=textureCube(map,sphereToUnit(coord.x-3.*dir.x,coord.y-3.*dir.y))*KERNEL_10;sum+=textureCube(map,sphereToUnit(coord.x-2.*dir.x,coord.y-2.*dir.y))*KERNEL_11;sum+=textureCube(map,sphereToUnit(coord.x-1.*dir.x,coord.y-1.*dir.y))*KERNEL_12;sum+=textureCube(map,sphereToUnit(coord.x,coord.y))*KERNEL_13;sum+=textureCube(map,sphereToUnit(coord.x+1.*dir.x,coord.y+1.*dir.y))*KERNEL_14;sum+=textureCube(map,sphereToUnit(coord.x+2.*dir.x,coord.y+2.*dir.y))*KERNEL_15;sum+=textureCube(map,sphereToUnit(coord.x+3.*dir.x,coord.y+3.*dir.y))*KERNEL_16;sum+=textureCube(map,sphereToUnit(coord.x+4.*dir.x,coord.y+4.*dir.y))*KERNEL_17;sum+=textureCube(map,sphereToUnit(coord.x+5.*dir.x,coord.y+5.*dir.y))*KERNEL_18;sum+=textureCube(map,sphereToUnit(coord.x+6.*dir.x,coord.y+6.*dir.y))*KERNEL_19;sum+=textureCube(map,sphereToUnit(coord.x+7.*dir.x,coord.y+7.*dir.y))*KERNEL_20;sum+=textureCube(map,sphereToUnit(coord.x+8.*dir.x,coord.y+8.*dir.y))*KERNEL_21;sum+=textureCube(map,sphereToUnit(coord.x+9.*dir.x,coord.y+9.*dir.y))*KERNEL_22;sum+=textureCube(map,sphereToUnit(coord.x+10.*dir.x,coord.y+10.*dir.y))*KERNEL_23;sum+=textureCube(map,sphereToUnit(coord.x+11.*dir.x,coord.y+11.*dir.y))*KERNEL_24;sum+=textureCube(map,sphereToUnit(coord.x+12.*dir.x,coord.y+12.*dir.y))*KERNEL_25;gl_FragColor=sum;}"},67230:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPosition;void main(){vWorldPosition=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},66367:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform samplerCube map;uniform float opacity;varying vec3 vWorldPosition;void main(){vec4 color=textureCube(map,vec3(-vWorldPosition.x,vWorldPosition.yz));gl_FragColor=vec4(color.rgb,opacity);}"},34912:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPosition;void main(){vWorldPosition=position;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},65849:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform vec3 color;uniform float opacity;uniform float maxDistance;varying vec3 vWorldPosition;void main(){float distanceToCamera=distance(cameraPosition,vWorldPosition);float distanceBucketed=1.-clamp(distanceToCamera/maxDistance,0.,1.);if(opacity<1.){discard;}gl_FragColor=vec4(distanceBucketed,distanceBucketed,distanceBucketed,1.);}"},62397:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPosition;void main(){vWorldPosition=(modelMatrix*vec4(position,1.)).xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},73209:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform sampler2D map;uniform float opacity;uniform vec4 colorOverlay;varying vec2 vUv;vec4 white=vec4(0.8,0.8,0.8,1.);vec4 black=vec4(0.,0.,0.,1.);void main(){vec4 colorFromTexture=texture2D(map,vUv);float whiteness=1.-smoothstep(0.1,0.2,opacity);colorFromTexture=mix(colorFromTexture,vec4(colorOverlay.rgb,1.),colorOverlay.a);colorFromTexture=mix(colorFromTexture,white,whiteness);gl_FragColor=vec4(colorFromTexture.rgb,opacity);}"},23059:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec2 vUv;void main(){vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},56547:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;\n#define MAX_TRIMS_PER_FLOOR  10\n#ifdef PANO_TEXTURE\nuniform vec3 pano0Position;uniform samplerCube pano0Map;varying vec3 pano0SweepDirection;uniform float panoOpacity;\n#endif\n#ifdef PANO_TEXTURE_TRANSITION\nuniform float progress;uniform vec3 pano1Position;uniform samplerCube pano1Map;varying vec3 pano1SweepDirection;\n#endif\n#ifdef PANO_OVERLAY\nuniform samplerCube overlay0Map;varying vec3 overlay0WorldPos;\n#endif\n#ifdef PANO_OVERLAY_TRANSITION\nuniform samplerCube overlay1Map;varying vec3 overlay1WorldPos;\n#endif\n#ifdef MESH_PREVIEW_SPHERE\nuniform vec3 meshPreviewCenter;uniform float meshPreviewSize;\n#endif\n#ifdef MESH_TEXTURE\nvarying vec2 vUv;uniform sampler2D map;uniform float meshOpacity;uniform float opacity;varying vec3 worldPos;\n#ifdef MESH_TRIM_VERTEX\nvarying vec3 trimPos[MAX_TRIMS_PER_FLOOR];uniform bool meshTrimsDiscardContents[MAX_TRIMS_PER_FLOOR];uniform bool hasKeepVolume;\n#endif\n#ifdef MESH_TRIM_PIXEL\nuniform mat4 meshTrimMatrices[MAX_TRIMS_PER_FLOOR];uniform bool meshTrimsDiscardContents[MAX_TRIMS_PER_FLOOR];uniform bool hasKeepVolume;\n#endif\n#ifdef FLOOR_TRIM_VERTEX\nvarying float floorHeightPercent;\n#endif\n#ifdef FLOOR_TRIM_PIXEL\nuniform float floorTrimHeight;\n#endif\n#endif\n#ifdef COLOR_OVERLAY\nuniform vec4 colorOverlay;\n#endif\n#ifdef WIREFRAME\nvarying vec3 vBarycentric;uniform float time;uniform float thickness;uniform float secondThickness;uniform float dashRepeats;uniform float dashLength;uniform bool dashOverlap;uniform bool dashEnabled;uniform bool dashAnimate;uniform bool fillEnabled;uniform bool insideAltColor;uniform bool dualStroke;uniform bool squeeze;uniform float squeezeMin;uniform float squeezeMax;uniform float wireframeOpacity;uniform vec3 stroke;uniform vec3 fill;float aastep(float threshold,float dist){float afwidth=fwidth(dist)*0.5;return smoothstep(threshold-afwidth,threshold+afwidth,dist);}float computeScreenSpaceWireframe(vec3 barycentric,float lineWidth){vec3 dist=fwidth(barycentric);vec3 smoothed=smoothstep(dist*((lineWidth*0.5)-0.5),dist*((lineWidth*0.5)+0.5),barycentric);return 1.-min(min(smoothed.x,smoothed.y),smoothed.z);}vec4 getStyledWireframe(vec3 barycentric){float PI=3.14159265359;float d=min(min(barycentric.x,barycentric.y),barycentric.z);float positionAlong=max(barycentric.x,barycentric.y);if(barycentric.y<barycentric.x&&barycentric.y<barycentric.z){positionAlong=1.-positionAlong;}float computedThickness=thickness;if(squeeze){computedThickness*=mix(squeezeMin,squeezeMax,(1.-sin(positionAlong*PI)));}if(dashEnabled){float offset=1./dashRepeats*dashLength/2.;if(!dashOverlap){offset+=1./dashRepeats/2.;}if(dashAnimate){offset+=time*0.22;}float pattern=fract((positionAlong+offset)*dashRepeats);computedThickness*=1.-aastep(dashLength,pattern);}float edge=computeScreenSpaceWireframe(barycentric,computedThickness);vec4 outColor=vec4(0.,0.,0.,0.);if(!fillEnabled){outColor=vec4(stroke,edge);if(insideAltColor&&!gl_FrontFacing){outColor.rgb=fill;}}else{outColor.a=1.;if(dualStroke){float inner=1.-aastep(secondThickness,d);vec3 wireColor=mix(fill,stroke,abs(inner-edge));outColor.rgb=wireColor;}else{outColor.rgb=mix(fill,stroke,edge);}}outColor.a*=wireframeOpacity;return outColor;}\n#endif\n#ifdef FLAT_SHADING\nvarying vec3 vNormal;\n#endif\nvoid main(){\n#ifdef PANO_TEXTURE_TRANSITION\nvec4 colorFromPano0=textureCube(pano0Map,pano0SweepDirection.xyz);vec4 colorFromPano1=textureCube(pano1Map,pano1SweepDirection.xyz);\n#ifdef PANO_OVERLAY_TRANSITION\nvec4 colorFromOverlay0=textureCube(overlay0Map,overlay0WorldPos.xyz);vec4 colorFromOverlay1=textureCube(overlay1Map,overlay1WorldPos.xyz);colorFromPano0.rgb=mix(colorFromPano0.rgb,colorFromOverlay0.rgb,colorFromOverlay0.a);colorFromPano1.rgb=mix(colorFromPano1.rgb,colorFromOverlay1.rgb,colorFromOverlay1.a);\n#endif\nvec4 color=mix(colorFromPano0,colorFromPano1,progress);color.a=panoOpacity;\n#elif defined(PANO_TEXTURE)\nvec4 color=textureCube(pano0Map,pano0SweepDirection.xyz);\n#ifdef PANO_OVERLAY\nvec4 colorFromOverlay0=textureCube(overlay0Map,overlay0WorldPos.xyz);color.rgb=mix(color.rgb,colorFromOverlay0.rgb,colorFromOverlay0.a);\n#endif\ncolor.a=panoOpacity;\n#else\nvec4 color=vec4(0.,0.,0.,0.);\n#endif\n#ifdef MESH_TEXTURE\nvec4 colorFromTexture=texture2D(map,vUv);\n#endif\n#ifdef MESH_PREVIEW_SPHERE\nfloat previewDistance=distance(worldPos.xyz,meshPreviewCenter.xyz);float inSphere=step(previewDistance,meshPreviewSize);colorFromTexture+=colorFromTexture*(0.2*inSphere);color=mix(color,colorFromTexture,max(meshOpacity,inSphere));\n#elif defined(MESH_TEXTURE)\ncolor=mix(color,colorFromTexture,meshOpacity);\n#endif\n#ifdef FLAT_SHADING\nfloat ao=0.9-abs(vNormal.y)*0.1-abs(vNormal.x)*0.05+abs(vNormal.z)*0.05;color.rgb=vec3(ao,ao*1.025,ao*1.05);\n#endif\n#ifdef COLOR_OVERLAY\ncolor=mix(color,vec4(colorOverlay.rgb,1.),colorOverlay.a);\n#endif\n#ifdef WIREFRAME\nvec4 colorFromWireframe=getStyledWireframe(vBarycentric);color=mix(color,vec4(colorFromWireframe.rgb,1.),colorFromWireframe.a);\n#endif\n#ifdef MESH_TEXTURE\ncolor.a=opacity;\n#if defined(FLOOR_TRIM_VERTEX) || defined(FLOOR_TRIM_PIXEL)\nif(floorHeightPercent>floorTrimHeight){discard;}\n#endif\n#if defined(MESH_TRIM_VERTEX) || defined(MESH_TRIM_PIXEL)\nbool isWithinVolume=false;bool doKeepFragment=true;bool enabled=true;vec4 worldPos4=vec4(worldPos.xyz,1);vec3 compare=vec3(0.5);\n#pragma unroll_loop_start\nfor(int i=0;i<10;i++){\n#ifdef MESH_TRIM_VERTEX\nenabled=!all(equal(trimPos[UNROLLED_LOOP_INDEX],vec3(0.)));if(enabled){if(all(lessThan(abs(trimPos[UNROLLED_LOOP_INDEX]),compare))){isWithinVolume=true;if(meshTrimsDiscardContents[UNROLLED_LOOP_INDEX]){doKeepFragment=false;}}}\n#endif\n#ifdef MESH_TRIM_PIXEL\nenabled=meshTrimMatrices[UNROLLED_LOOP_INDEX][3][3]>0.;if(enabled){if(all(lessThan(abs((meshTrimMatrices[UNROLLED_LOOP_INDEX]*worldPos4).xyz),compare))){isWithinVolume=true;if(meshTrimsDiscardContents[UNROLLED_LOOP_INDEX]){doKeepFragment=false;}}}\n#endif\n}\n#pragma unroll_loop_end\nif(!isWithinVolume&&hasKeepVolume){discard;}else if(isWithinVolume&&!doKeepFragment){discard;}\n#endif\n#endif\ngl_FragColor=color;}"},82981:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;\n#define MAX_TRIMS_PER_FLOOR  10\n#ifdef PANO_TEXTURE\nuniform vec3 pano0Position;uniform mat4 pano0Matrix1;uniform mat4 pano0Matrix2;varying vec3 pano0SweepDirection;\n#endif\n#ifdef PANO_TEXTURE_TRANSITION\nuniform vec3 pano1Position;uniform mat4 pano1Matrix1;uniform mat4 pano1Matrix2;varying vec3 pano1SweepDirection;\n#endif\n#ifdef PANO_OVERLAY\nvarying vec3 overlay0WorldPos;uniform mat4 overlay0Matrix;\n#endif\n#ifdef PANO_OVERLAY_TRANSITION\nvarying vec3 overlay1WorldPos;uniform mat4 overlay1Matrix;\n#endif\n#ifdef MESH_PREVIEW_SPHERE\n#endif\n#ifdef MESH_TEXTURE\nvarying vec2 vUv;varying vec3 worldPos;\n#ifdef MESH_TRIM_VERTEX\nuniform mat4 meshTrimMatrices[MAX_TRIMS_PER_FLOOR];varying vec3 trimPos[MAX_TRIMS_PER_FLOOR];\n#endif\n#ifdef FLOOR_TRIM_VERTEX\nuniform float floorHeightMin;uniform float floorHeightMax;varying float floorHeightPercent;\n#endif\n#endif\n#ifdef WIREFRAME\nattribute vec3 barycentric;varying vec3 vBarycentric;\n#endif\n#ifdef FLAT_SHADING\nvarying vec3 vNormal;\n#endif\nvoid main(){vec4 worldPosition=modelMatrix*vec4(position,1.);\n#ifdef MESH_TEXTURE\nvUv=uv;worldPos=worldPosition.xyz;\n#ifdef MESH_TRIM_VERTEX\n#pragma unroll_loop_start\nfor(int i=0;i<10;i++){trimPos[UNROLLED_LOOP_INDEX]=(meshTrimMatrices[UNROLLED_LOOP_INDEX]*vec4(worldPos,1.)).xyz;}\n#pragma unroll_loop_end\n#endif\n#ifdef FLOOR_TRIM_VERTEX\nfloorHeightPercent=(worldPos.y-floorHeightMin)/(floorHeightMax-floorHeightMin);\n#endif\n#endif\n#ifdef WIREFRAME\nvBarycentric=barycentric;\n#endif\n#ifdef FLAT_SHADING\nvNormal=normal;\n#endif\n#ifdef PANO_TEXTURE\nvec3 positionLocalToPanoCenter0=worldPosition.xyz-pano0Position;pano0SweepDirection=(pano0Matrix2*pano0Matrix1*vec4(positionLocalToPanoCenter0,1.)).xyz;\n#ifdef PANO_OVERLAY\noverlay0WorldPos=(overlay0Matrix*vec4(positionLocalToPanoCenter0,1.)).xyz;\n#endif\n#endif\n#ifdef PANO_TEXTURE_TRANSITION\nvec3 positionLocalToPanoCenter1=worldPosition.xyz-pano1Position;pano1SweepDirection=(pano1Matrix2*pano1Matrix1*vec4(positionLocalToPanoCenter1,1.)).xyz;\n#ifdef PANO_OVERLAY_TRANSITION\noverlay1WorldPos=(overlay1Matrix*vec4(positionLocalToPanoCenter1,1.)).xyz;\n#endif\n#endif\nvec4 projectedPosition=projectionMatrix*modelViewMatrix*vec4(position,1.);gl_Position=projectedPosition;}"},72742:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;\n#ifdef INSTANCED\nvarying float alpha;varying vec3 color;\n#else\nuniform float alpha;uniform vec3 color;\n#endif\nuniform sampler2D bg;uniform sampler2D mask;varying vec2 vUv;varying vec2 vUvOffset;varying float vUvScale;varying float vStrokeWidth;float ring(vec2 pos,float radius,float thick){return mix(1.,0.,smoothstep(thick,thick+(thick*0.5),abs(length(vUv-pos)-radius)));}vec4 crop(vec4 texColor,vec2 xy,float size){texColor*=step(size,1.-xy.x);texColor*=step(size,xy.x);texColor*=step(size,1.-xy.y);texColor*=step(size,xy.y);return texColor;}vec2 center=vec2(0.5,0.5);void main(){vec4 bgColor=texture2D(bg,vUv);if(bgColor.a*alpha<0.1){discard;}float iconScale=1.75;vec2 maskUV=(vUv-0.5)*iconScale+0.5;vec4 maskColor=texture2D(mask,(maskUV*vUvScale)+vUvOffset);maskColor.rgb=vec3(1.);float padding=0.22;maskColor=crop(maskColor,vUv,padding);vec3 mappedColor=mix(color,maskColor.rgb,maskColor.a);const vec3 frameColor=vec3(1.,1.,1.);float frame=ring(center,0.5,vStrokeWidth);mappedColor=mix(mappedColor,frameColor,frame);gl_FragColor=vec4(mappedColor,bgColor.a*alpha);}"},27670:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec2 instanceUvOffset;attribute float instanceUvScale;attribute float instanceStrokeWidth;varying vec2 vUv;varying vec2 vUvOffset;varying float vUvScale;varying float vStrokeWidth;\n#ifdef INSTANCED\nattribute mat4 instanceMatrix;attribute float instanceAlpha;attribute vec3 instanceColor;varying float alpha;varying vec3 color;\n#endif\nvoid main(){vUv=uv;vUvOffset=instanceUvOffset;vUvScale=instanceUvScale;vStrokeWidth=instanceStrokeWidth;\n#ifdef INSTANCED\nalpha=instanceAlpha;color=instanceColor;gl_Position=projectionMatrix*modelViewMatrix*instanceMatrix*vec4(position,1.);\n#else\ngl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n#endif\n}"},747:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;varying vec2 vUv;void main(){float dist=length(vUv);float alpha=(1.-smoothstep(0.95,1.,dist))*0.3;gl_FragColor=vec4(1.,1.,1.,alpha);}"},50929:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec2 vUv;void main(){vUv=(uv*2.)-1.;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);gl_Position.z*=1.00001;}"},79652:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvoid main(){gl_FragColor=vec4(1.,1.,1.,alpha);}"},24819:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;uniform vec2 resolution;\n#ifdef INSTANCED\nattribute mat4 instanceMatrix;attribute vec3 stemVector;attribute vec4 pinHeadMatrixCol0;attribute vec4 pinHeadMatrixCol1;attribute vec4 pinHeadMatrixCol2;attribute vec4 pinHeadMatrixCol3;attribute float instanceAlpha;varying float alpha;\n#else\nuniform mat4 pinHeadMatrix;\n#endif\n#define PI  3.1415926538\nvoid main(){\n#ifdef INSTANCED\nvec3 pos=position*stemVector;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix*instanceMatrix;mat4 pinHeadMatrix=mat4(pinHeadMatrixCol0,pinHeadMatrixCol1,pinHeadMatrixCol2,pinHeadMatrixCol3);alpha=instanceAlpha;\n#else\nvec3 pos=position;mat4 modelViewProjMatrix=projectionMatrix*modelViewMatrix;\n#endif\nvec3 fromOrigin=(vec3(0.,0.,0.)-pos);if(length(fromOrigin)<1e-6){gl_Position=modelViewProjMatrix*vec4(pos,1.);}else{mat4 noteViewProj=projectionMatrix*viewMatrix*pinHeadMatrix;vec4 noteNDC=noteViewProj*vec4(0.,0.,0.,1.);noteNDC.xyz/=abs(noteNDC.w);vec4 discEdgeNDC=noteViewProj*vec4(0.5,0.,0.,1.);discEdgeNDC.xyz/=abs(discEdgeNDC.w);float noteSizeNDC=length(discEdgeNDC.xy-noteNDC.xy);vec4 anchorNDC=modelViewProjMatrix*vec4(0.,0.,0.,1.);anchorNDC.xyz/=abs(anchorNDC.w);vec4 vectorNDC=modelViewProjMatrix*vec4(pos,1.);vectorNDC.xyz/=abs(vectorNDC.w);vectorNDC-=anchorNDC;float lineLengthNDC=length(vectorNDC.xy);float vertDot=abs(dot(normalize(vectorNDC.xy),vec2(0,1)));float angle=acos(vertDot)/(PI/2.);float aspect=mix(resolution.x/resolution.y,1.,angle);vec2 vector2d=normalize(vectorNDC.xy)*max(lineLengthNDC-noteSizeNDC*aspect,0.);vectorNDC.xy=vector2d.xy;vectorNDC+=anchorNDC;gl_Position=vec4(vectorNDC.xyz,1.);}}"},74696:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;varying vec3 vWorldPos;uniform float alpha;uniform samplerCube tDiffuse;void main(){vec4 texColor=textureCube(tDiffuse,vWorldPos);gl_FragColor=vec4(texColor.rgb,texColor.a*alpha);}"},13969:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;varying vec3 vWorldPos;void main(){vWorldPos=vec3(-position.x,-position.y,position.z);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);}"},22505:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;varying vec2 vUv;uniform sampler2D tDiffuse;\n#ifdef INSTANCED\nvarying float alpha;\n#else\nuniform float alpha;\n#endif\nvoid main(){vec4 texColor=texture2D(tDiffuse,vUv);gl_FragColor=vec4(texColor.rgb,texColor.a*alpha);}"},25848:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;\n#ifdef INSTANCED\nattribute mat4 instanceMatrix;attribute float instanceAlpha;varying float alpha;\n#endif\nvarying vec2 vUv;void main(){vUv=uv;\n#ifdef INSTANCED\nmat4 mvp=projectionMatrix*modelViewMatrix*instanceMatrix;alpha=instanceAlpha;\n#else\nmat4 mvp=projectionMatrix*modelViewMatrix;\n#endif\ngl_Position=mvp*vec4(position,1.);}"},47301:e=>{e.exports="precision highp float;precision highp int;uniform mat4 viewMatrix;uniform vec3 cameraPosition;uniform vec3 color;uniform float opacity;void main(){gl_FragColor=vec4(color,opacity);}"},5725:e=>{e.exports="precision highp float;precision highp int;uniform mat4 modelMatrix;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat4 viewMatrix;uniform mat3 normalMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;void main(){gl_Position=vec4(position,1.);}"},49329:(e,t,i)=>{e.exports=i(60516).Observable},60516:(e,t)=>{"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}t.Observable=void 0;var r=function(){return"function"==typeof Symbol},a=function(e){return r()&&Boolean(Symbol[e])},o=function(e){return a(e)?Symbol[e]:"@@"+e};r()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var l=o("iterator"),c=o("observable"),d=o("species");function u(e,t){var i=e[t];if(null!=i){if("function"!=typeof i)throw new TypeError(i+" is not a function");return i}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[d])&&(t=void 0),void 0!==t?t:T}function p(e){return e instanceof T}function m(e){m.log?m.log(e):setTimeout((function(){throw e}))}function f(e){Promise.resolve().then((function(){try{e()}catch(e){m(e)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var i=u(t,"unsubscribe");i&&i.call(t)}}catch(e){m(e)}}function v(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function b(e,t,i){e._state="running";var n=e._observer;try{var s=u(n,t);switch(t){case"next":s&&s.call(n,i);break;case"error":if(v(e),!s)throw i;s.call(n,i);break;case"complete":v(e),s&&s.call(n)}}catch(e){m(e)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function y(e,t,i){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:i}],void f((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var i=0;i<t.length&&(b(e,t[i].type,t[i].value),"closed"!==e._state);++i);}}(e)}))):void b(e,t,i);e._queue.push({type:t,value:i})}}var E=function(){function e(t,n){i(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var s=new S(this);try{this._cleanup=n.call(void 0,s)}catch(e){s.error(e)}"initializing"===this._state&&(this._state="ready")}return s(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(v(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(t){i(this,e),this._subscription=t}return s(e,[{key:"next",value:function(e){y(this._subscription,"next",e)}},{key:"error",value:function(e){y(this._subscription,"error",e)}},{key:"complete",value:function(){y(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),T=function(){function e(t){if(i(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return s(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new E(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(i,n){if("function"==typeof e)var s=t.subscribe({next:function(t){try{e(t,r)}catch(e){n(e),s.unsubscribe()}},error:n,complete:i});else n(new TypeError(e+" is not a function"));function r(){s.unsubscribe(),i()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(i){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return i.error(e)}i.next(t)},error:function(e){i.error(e)},complete:function(){i.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(i){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return i.error(e)}i.next(t)},error:function(e){i.error(e)},complete:function(){i.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var i=h(this),n=arguments.length>1,s=!1,r=arguments[1],a=r;return new i((function(i){return t.subscribe({next:function(t){var r=!s;if(s=!0,!r||n)try{a=e(a,t)}catch(e){return i.error(e)}else a=t},error:function(e){i.error(e)},complete:function(){if(!s&&!n)return i.error(new TypeError("Cannot reduce an empty sequence"));i.next(a),i.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var s=h(this);return new s((function(t){var n,r=0;return function e(a){n=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){r===i.length?(n=void 0,t.complete()):e(s.from(i[r++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var i=h(this);return new i((function(n){var s=[],r=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return n.error(e)}var r=i.from(t).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=s.indexOf(r);e>=0&&s.splice(e,1),a()}});s.push(r)},error:function(e){n.error(e)},complete:function(){a()}});function a(){r.closed&&0===s.length&&n.complete()}return function(){s.forEach((function(e){return e.unsubscribe()})),r.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var i="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var n=u(t,c);if(n){var s=n.call(t);if(Object(s)!==s)throw new TypeError(s+" is not an object");return p(s)&&s.constructor===i?s:new i((function(e){return s.subscribe(e)}))}if(a("iterator")&&(n=u(t,l)))return new i((function(e){f((function(){if(!e.closed){var i=!0,s=!1,r=void 0;try{for(var a,o=n.call(t)[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var l=a.value;if(e.next(l),e.closed)return}}catch(e){s=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}e.complete()}}))}));if(Array.isArray(t))return new i((function(e){f((function(){if(!e.closed){for(var i=0;i<t.length;++i)if(e.next(t[i]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var s="function"==typeof this?this:e;return new s((function(e){f((function(){if(!e.closed){for(var t=0;t<i.length;++t)if(e.next(i[t]),e.closed)return;e.complete()}}))}))}},{key:d,get:function(){return this}}]),e}();t.Observable=T,r()&&Object.defineProperty(T,Symbol("extensions"),{value:{symbol:c,hostReportError:m},configurable:!0})},63437:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteExternalAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteExternalAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemoveFileAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ParentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeFileAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"attachmentId"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}},{kind:"Argument",name:{kind:"Name",value:"parentType"},value:{kind:"Variable",name:{kind:"Name",value:"parentType"}}},{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FileAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bytes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mimeType"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageFileAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageWidth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageHeight"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ExternalAttachmentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExternalAttachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}}],loc:{start:0,end:1125}};t.loc.source={body:"\n# Deletes a single external attachment\nmutation DeleteExternalAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  deleteExternalAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\n# Removes a file attachment association from the annotation it is attached to.\n# Can delete the file attachment completely if the 'cascadeDelete' flag is set to true (not currently used)\nmutation RemoveFileAttachment($modelId: ID!, $attachmentId: ID!, $parentType: ParentType!, $parentId: ID!) {\n  removeFileAttachment(modelId: $modelId, , attachmentId: $attachmentId, parentType: $parentType, parentId: $parentId)\n}\n\nfragment FileAttachmentDetails on FileAttachment {\n  id\n  created\n  filename\n  url\n  validUntil\n  bytes\n  mimeType\n  ...on ImageFileAttachment {\n      imageWidth\n      imageHeight\n  }\n}\n\n# common External Attachment properties\nfragment ExternalAttachmentDetails on ExternalAttachment {\n  id\n  created\n  modified\n  thumbnailUrl\n  url\n  mediaType\n  width\n  height\n  parentDetails { type, parent { id } }\n  category\n  validUntil\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.DeleteExternalAttachment=r(t,"DeleteExternalAttachment"),e.exports.RemoveFileAttachment=r(t,"RemoveFileAttachment"),e.exports.FileAttachmentDetails=r(t,"FileAttachmentDetails"),e.exports.ExternalAttachmentDetails=r(t,"ExternalAttachmentDetails")},36159:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCommentAttachments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"externalAttachments"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ExternalAttachmentDetails"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fileAttachments"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addCommentAttachments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}},{kind:"Argument",name:{kind:"Name",value:"externalAttachments"},value:{kind:"Variable",name:{kind:"Name",value:"externalAttachments"}}},{kind:"Argument",name:{kind:"Name",value:"fileAttachments"},value:{kind:"Variable",name:{kind:"Name",value:"fileAttachments"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentAttachments"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"commentId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommentPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"commentId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CommentDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Comment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CommentAttachments"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Comment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}],loc:{start:0,end:1211}};n.loc.source={body:'#import "./attachments.gql"\n\n# Add comment attachments\nmutation AddCommentAttachments($modelId: ID!, $parentId: ID!, $externalAttachments: [ExternalAttachmentDetails!], $fileAttachments: [ID!]) {\n  addCommentAttachments(modelId: $modelId, , commentId: $parentId,\n                        externalAttachments: $externalAttachments,\n                        fileAttachments: $fileAttachments) {\n    ...CommentAttachments\n  }\n}\n\n# Deletes a single comment\nmutation DeleteComment ($modelId: ID!, $commentId: ID!) {\n  deleteComment(modelId: $modelId, , commentId: $commentId)\n}\n\n# Update a single comment\nmutation PatchComment($modelId: ID!, $commentId: ID!, $data: CommentPatch!) {\n  patchComment(modelId: $modelId, , commentId: $commentId, patch: $data) {\n    ...CommentDetails\n  }\n}\n\n# common Comment properties\nfragment CommentDetails on Comment {\n  id\n  created\n  modified\n  edited\n  text\n  createdBy { id, firstName, lastName, email }\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n}\n\n# Attachments on a Comment\nfragment CommentAttachments on Comment {\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(63437).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.AddCommentAttachments=l(n,"AddCommentAttachments"),e.exports.DeleteComment=l(n,"DeleteComment"),e.exports.PatchComment=l(n,"PatchComment"),e.exports.CommentDetails=l(n,"CommentDetails"),e.exports.CommentAttachments=l(n,"CommentAttachments")},8699:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFloors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloorDetails"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FloorDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelFloor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"units"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchFloor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"floorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FloorPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchFloor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"floorId"},value:{kind:"Variable",name:{kind:"Name",value:"floorId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:390}};t.loc.source={body:"query GetFloors($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    floors { ...FloorDetails }\n  }\n}\n\nfragment FloorDetails on ModelFloor {\n  id\n  meshId\n  classification\n  label\n  sequence\n  dimensions {\n    areaFloor\n    units\n  }\n}\n\nmutation PatchFloor($modelId: ID!, $floorId: ID!, $data: FloorPatch!) {\n  patchFloor(modelId: $modelId, , floorId: $floorId, patch: $data) {\n    id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetFloors=r(t,"GetFloors"),e.exports.FloorDetails=r(t,"FloorDetails"),e.exports.PatchFloor=r(t,"PatchFloor")},32082:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHighlightReel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlightReelDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHighlightReelSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PutActiveReel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"elements"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReelElementInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mode"}},type:{kind:"NamedType",name:{kind:"Name",value:"HighlightReelMode"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"putActiveReel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"elements"},value:{kind:"Variable",name:{kind:"Name",value:"elements"}}},{kind:"Argument",name:{kind:"Name",value:"mode"},value:{kind:"Variable",name:{kind:"Name",value:"mode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlightReelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HighlightReel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"overrides"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transitionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panAngle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1079}};t.loc.source={body:'query GetHighlightReel($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    activeHighlightReel {\n      ...HighlightReelDetails\n    }\n  }\n}\n\nquery GetHighlightReelSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    views(types: ["matterport.model.default", "matterport.model.layered", "matterport.user.view"]) {\n      id\n      model {\n      \tactiveHighlightReel { \n          reel {\n            asset {\n              ... on Photo {\n              \tsnapshotLocation {\n                  anchor {\n                    id\n                  }\n                }\n              }                          \n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nmutation PutActiveReel($modelId: ID!, $elements: [ReelElementInput!], $mode: HighlightReelMode) {\n  putActiveReel(modelId: $modelId, elements: $elements, mode: $mode) {\n    id\n  }\n}\n\nfragment HighlightReelDetails on HighlightReel {\n  id\n  label\n  mode\n  reel {\n    overrides {\n      transitionType\n      panDirection\n      panAngle\n    }\n    asset {\n      ... on Photo {\n        id\n      }\n    }\n    title\n    description\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetHighlightReel=r(t,"GetHighlightReel"),e.exports.GetHighlightReelSweeps=r(t,"GetHighlightReelSweeps"),e.exports.PutActiveReel=r(t,"PutActiveReel"),e.exports.HighlightReelDetails=r(t,"HighlightReelDetails")},61341:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLabels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelDetails"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelPatch"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LabelDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Label"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:1068}};t.loc.source={body:"# Read all labels for the given model\nquery GetLabels($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    labels (includeDisabled: $includeDisabled) {\n      ...LabelDetails\n    }\n  }\n}\n\n# Create a new label\nmutation AddLabel ($modelId: ID!, $labelId: ID, $data: LabelDetails!, $includeLayers: Boolean!) {\n  addLabel(modelId: $modelId, labelId: $labelId, label: $data) {\n    ...LabelDetails\n  }\n}\n\n# Update a single label\nmutation PatchLabel ($modelId: ID!, $labelId: ID!, $data: LabelPatch!, $includeLayers: Boolean!) {\n  patchLabel(modelId: $modelId, , labelId: $labelId, patch: $data) {\n    ...LabelDetails\n  }\n}\n\n# Deletes a single label\nmutation DeleteLabel ($modelId: ID!, ,$labelId: ID!, $includeLayers: Boolean!) {\n  deleteLabel(modelId: $modelId, labelId: $labelId)\n}\n\n# Default Label properties used by Showcase and Workshop\nfragment LabelDetails on Label {\n  id\n  position { x y z }\n  floor { id meshId }\n  room { id meshId }\n  layer @include(if: $includeLayers) { id }\n  label\n  enabled\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetLabels=r(t,"GetLabels"),e.exports.AddLabel=r(t,"AddLabel"),e.exports.PatchLabel=r(t,"PatchLabel"),e.exports.DeleteLabel=r(t,"DeleteLabel"),e.exports.LabelDetails=r(t,"LabelDetails")},61033:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ViewLayerDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelViewLayer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visible"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LayerDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelLayer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}],loc:{start:0,end:191}};t.loc.source={body:"fragment ViewLayerDetails on ModelViewLayer {\n  layer {\n    ...LayerDetails\n  }\n  position\n  visible\n}\n\nfragment LayerDetails on ModelLayer {\n  id\n  created\n  modified\n  type\n  name\n  label\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.ViewLayerDetails=r(t,"ViewLayerDetails"),e.exports.LayerDetails=r(t,"LayerDetails")},69430:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLayers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewLayerDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CopyInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"generateIds"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"layer"},name:{kind:"Name",value:"addLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"Variable",name:{kind:"Name",value:"generateIds"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerLabel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visible"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"position"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"layerLabel"}}},{kind:"Argument",name:{kind:"Name",value:"visible"},value:{kind:"Variable",name:{kind:"Name",value:"visible"}}},{kind:"Argument",name:{kind:"Name",value:"position"},value:{kind:"Variable",name:{kind:"Name",value:"position"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemoveLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DuplicateLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visible"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CopyInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"layer"},name:{kind:"Name",value:"addLayer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"visible"},value:{kind:"Variable",name:{kind:"Name",value:"visible"}}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LayerDetails"},directives:[]}]}}]}}],loc:{start:0,end:1024}};n.loc.source={body:'#import "./layer-fragments.gql"\n\nquery GetLayers($viewId: ID!) {\n  view(id: $viewId) {\n    id\n    layers {\n      ...ViewLayerDetails\n    }\n  }\n}\n\nmutation AddLayer($viewId: ID!, $label: String, $position: Int, $copyDataFrom: [CopyInput!], $generateIds: Boolean) {\n  layer: addLayer(id: $viewId, label: $label, position: $position, copyDataFrom: $copyDataFrom, generateIds: $generateIds) {\n    ...LayerDetails\n  }\n}\n\nmutation PatchLayer($viewId: ID!, $layerId: ID!, $layerLabel: String, $visible: Boolean, $position: Int) {\n  patchLayer(id: $viewId, layerId: $layerId, label: $layerLabel, visible: $visible, position: $position) {\n    ...LayerDetails\n  }\n}\n\nmutation RemoveLayer($viewId: ID!, $layerId: ID!) {\n  removeLayer(id:$viewId, layerId: $layerId)\n}\n\nmutation DuplicateLayer($viewId: ID!, $label: String!, $visible: Boolean, $copyDataFrom: [CopyInput!]) {\n  layer: addLayer(\n    id: $viewId\n    label: $label\n    visible: $visible\n    copyDataFrom: $copyDataFrom\n    generateIds: true,\n  ) {\n    ...LayerDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(61033).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.GetLayers=l(n,"GetLayers"),e.exports.AddLayer=l(n,"AddLayer"),e.exports.PatchLayer=l(n,"PatchLayer"),e.exports.RemoveLayer=l(n,"RemoveLayer"),e.exports.DuplicateLayer=l(n,"DuplicateLayer")},22001:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntryDetails"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrderedListByName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntryDetails"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntryDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddOrderedListWithLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entries"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EntryInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOrderedList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"entries"},value:{kind:"Variable",name:{kind:"Name",value:"entries"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntryDetails"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OrderedListDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OrderedList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntryDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EntryDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:1324}};t.loc.source={body:"\n# get the ordered lists for the specified model\nquery GetOrderedLists($modelId: ID!) {\n  model(id: $modelId) {\n    orderedLists(ids: []) {\n      label\n      id\n      entries {\n        ...EntryDetails\n      }\n    }\n  }\n}\n\n# get an ordered list by name for the specified view\nquery GetOrderedListByName($modelId: ID!, $label: String!) {\n  model(id: $modelId) {\n    orderedLists(label: $label) {\n      label\n      id\n      entries {\n        ...EntryDetails\n      }\n    }\n  }\n}\n\n# add a new ordered list\nmutation AddOrderedList($modelId: ID!, $label: String!, $description: String!, $entries: [EntryInput!]) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, entries: $entries) {\n    id\n    label\n    entries {\n      ...EntryDetails\n    }\n  }\n}\n\nmutation AddOrderedListWithLayer($modelId: ID!, $label: String!, $description: String!, $layerId: ID!, $entries: [EntryInput!]) {\n  addOrderedList(modelId: $modelId, , label: $label, description: $description, layerId: $layerId, entries: $entries) {\n    id\n    label\n    entries {\n      ...EntryDetails\n    }\n  }\n}\n\n# Default OrderedList properties used by Showcase and Workshop\nfragment OrderedListDetails on OrderedList {\n  id\n  label\n  entries {\n    ...EntryDetails\n  }\n}\n\n# Default Entry properties\nfragment EntryDetails on Entry {\n  id\n  type\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetOrderedLists=r(t,"GetOrderedLists"),e.exports.GetOrderedListByName=r(t,"GetOrderedListByName"),e.exports.AddOrderedList=r(t,"AddOrderedList"),e.exports.AddOrderedListWithLayer=r(t,"AddOrderedListWithLayer"),e.exports.OrderedListDetails=r(t,"OrderedListDetails"),e.exports.EntryDetails=r(t,"EntryDetails")},82686:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMattertags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RefreshTagFileAttachments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MattertagDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertag"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMattertag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMattertag"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"mattertagId"},value:{kind:"Variable",name:{kind:"Name",value:"mattertagId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MattertagDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mattertag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchorPosition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stemNormal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"media"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExternalAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fileAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FileAttachmentDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"objectAnnotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"defaultKeywords"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"keywords"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]}]}}],loc:{start:0,end:1529}};n.loc.source={body:'#import "./attachments.gql"\n\n# read all mattertags for the specified model\nquery GetMattertags($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      ...MattertagDetails\n    }\n  }\n}\n\n# refresh file attachment expiring resources for all mattertags\nquery RefreshTagFileAttachments($modelId: ID!, $includeDisabled: Boolean!) {\n  model(id: $modelId) {\n    id,\n    mattertags(includeDisabled: $includeDisabled) {\n      id\n      fileAttachments { ...FileAttachmentDetails }\n    }\n  }\n}\n\n# add a new mattertag\nmutation AddMattertag($modelId:ID!, $mattertagId: ID, $data: MattertagDetails!) {\n  addMattertag(modelId: $modelId, mattertagId: $mattertagId, mattertag: $data) {\n    id\n    created\n    modified\n  }\n}\n\n# delete an existing tag by id\nmutation DeleteMattertag($modelId: ID!, $mattertagId: ID!) {\n  deleteMattertag(modelId: $modelId, mattertagId: $mattertagId)\n}\n\n# common Mattertag properties used by Showcase and Workshop\nfragment MattertagDetails on Mattertag {\n  id\n  label\n  description\n  color\n  enabled\n  floor { id, meshId }\n  room { id, meshId }\n  layer @include(if: $includeLayers) { id } \n  anchorPosition { x y z }\n  stemEnabled\n  stemNormal { x, y, z }\n  stemLength\n  media\n  mediaType\n  created\n  modified\n  externalAttachments { ...ExternalAttachmentDetails }\n  fileAttachments { ...FileAttachmentDetails }\n  objectAnnotation {\n    id\n    classification {\n      defaultKeywords\n    }\n  }\n  keywords\n  icon\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(63437).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.GetMattertags=l(n,"GetMattertags"),e.exports.RefreshTagFileAttachments=l(n,"RefreshTagFileAttachments"),e.exports.AddMattertag=l(n,"AddMattertag"),e.exports.DeleteMattertag=l(n,"DeleteMattertag"),e.exports.MattertagDetails=l(n,"MattertagDetails")},77285:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMeasurements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"path"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPathPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteMeasurement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pathId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMeasurementPath"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"pathId"},value:{kind:"Variable",name:{kind:"Name",value:"pathId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeasurementDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeasurementPath"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lineType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:903}};t.loc.source={body:"\nquery GetMeasurements($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id,\n    measurementPaths(includeDisabled: $includeDisabled) {\n      ...MeasurementDetails\n    }\n  }\n}\n\nmutation AddMeasurement($modelId: ID!, $data: MeasurementPathDetails!) {\n  addMeasurementPath(modelId: $modelId, path: $data) {\n    id\n  }\n}\n\nmutation PatchMeasurement($modelId: ID!, $pathId: ID!, $data: MeasurementPathPatch!) {\n  patchMeasurementPath(modelId: $modelId, , pathId: $pathId, patch: $data) {\n    id\n  }\n}\n\nmutation DeleteMeasurement($modelId: ID!, $pathId: ID!) {\n  deleteMeasurementPath(modelId: $modelId, , pathId: $pathId)\n}\n\nfragment MeasurementDetails on MeasurementPath {\n  id\n  lineType\n  label\n  enabled\n  points {\n    position { x y z }\n    floor { id meshId }\n    room { id meshId }\n  }\n  layer @include(if: $includeLayers) { id }\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetMeasurements=r(t,"GetMeasurements"),e.exports.AddMeasurement=r(t,"AddMeasurement"),e.exports.PatchMeasurement=r(t,"PatchMeasurement"),e.exports.DeleteMeasurement=r(t,"DeleteMeasurement"),e.exports.MeasurementDetails=r(t,"MeasurementDetails")},15899:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelAvailableAssets"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"meshes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"formats"},value:{kind:"StringValue",value:"dam",block:!1}},{kind:"Argument",name:{kind:"Name",value:"resolutions"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"50k",block:!1},{kind:"StringValue",value:"500k",block:!1}]}},{kind:"Argument",name:{kind:"Name",value:"compressions"},value:{kind:"EnumValue",value:"none"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeshDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"textures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextureDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tilesets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TilesetDetails"},directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"lod"},name:{kind:"Name",value:"policy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"StringValue",value:"spaces.chunked.mesh.lod",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelStatus"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Model"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MeshDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mesh"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextureDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Texture"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quality"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TilesetDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tileset"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetDepth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tilesetPreset"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"published"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contact"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ModelOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dollhouseLabelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorSelectEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorplanEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highlightReelEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labelsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"measurements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"socialSharingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"spaceSearchEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourButtonsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourDollhousePanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourFastTransitionsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanAngle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourPanSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionSpeed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourTransitionTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tourZoomDuration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unitType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlBrandingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vrEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublicationOptions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelPublicationOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contactPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelSummary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"presentedBy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUrl"},arguments:[],directives:[]}]}}],loc:{start:0,end:1538}};t.loc.source={body:'fragment ModelAvailableAssets on Model {\n  assets {\n    meshes(formats: "dam", resolutions: ["50k", "500k"], compressions: none) { ...MeshDetails }\n    textures { ...TextureDetails }\n    tilesets { ...TilesetDetails }\n  }\n  lod: policy(name: "spaces.chunked.mesh.lod") {\n    ... on PolicyOptions {\n      options\n    }\n  }\n}\n\nfragment ModelStatus on Model {\n  state\n}\n\nfragment MeshDetails on Mesh {\n  id\n  status\n  filename\n  format\n  resolution\n  url\n  validUntil\n}\n\nfragment TextureDetails on Texture {\n  id\n  status\n  format\n  resolution\n  quality\n  urlTemplate\n  validUntil\n}\n\nfragment TilesetDetails on Tileset {\n  status\n  tilesetVersion\n  url\n  urlTemplate\n  validUntil\n  tilesetDepth\n  tilesetPreset\n}\n\nfragment PublicationDetails on ModelPublicationDetails {\n  address\n  published\n  lastPublished\n  presentedBy\n  summary\n  externalUrl\n  contact {\n    name\n    email\n    phoneNumber\n  }\n}\n\nfragment ModelOptions on ModelOptions {\n  backgroundColor\n  dollhouseEnabled\n  dollhouseLabelsEnabled\n  floorSelectEnabled\n  floorplanEnabled\n  highlightReelEnabled\n  labelsEnabled\n  measurements\n  socialSharingEnabled\n  spaceSearchEnabled\n  tourButtonsEnabled\n  tourDollhousePanSpeed\n  tourFastTransitionsEnabled\n  tourPanAngle\n  tourPanDirection\n  tourPanSpeed\n  tourTransitionSpeed\n  tourTransitionTime\n  tourZoomDuration\n  unitType\n  urlBrandingEnabled\n  vrEnabled\n}\n\nfragment PublicationOptions on ModelPublicationOptions {\n  contactEmail\n  contactName\n  contactPhone\n  modelName\n  modelSummary\n  presentedBy\n  address\n  externalUrl\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.ModelAvailableAssets=r(t,"ModelAvailableAssets"),e.exports.ModelStatus=r(t,"ModelStatus"),e.exports.MeshDetails=r(t,"MeshDetails"),e.exports.TextureDetails=r(t,"TextureDetails"),e.exports.TilesetDetails=r(t,"TilesetDetails"),e.exports.PublicationDetails=r(t,"PublicationDetails"),e.exports.ModelOptions=r(t,"ModelOptions"),e.exports.PublicationOptions=r(t,"PublicationOptions")},64927:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelOptions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationOptions"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelOptions"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discoverable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"demo"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelStatus"},directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelOptions"},directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelAvailableAssets"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelImage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetStartLocations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"views"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"matterport.model.default",block:!1},{kind:"StringValue",value:"matterport.model.layered",block:!1},{kind:"StringValue",value:"matterport.user.view",block:!1}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchModel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"patch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ModelPatch"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchModel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"patch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1099}};n.loc.source={body:'#import "./model-fragments.gql"\n#import "./photo-fragments.gql"\n\nquery GetModelOptions($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    publication {\n      options { ...PublicationOptions }\n    }\n    options { ...ModelOptions }\n  }\n}\n\nquery GetModelDetails($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    name\n    organization\n    visibility\n    discoverable\n    created\n    demo\n    ...ModelStatus\n    image { ...PhotoDetails }\n    publication { ...PublicationDetails }\n    options { ...ModelOptions }\n    ...ModelAvailableAssets\n  }\n}\n\nquery GetModelImage($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    image { ...PhotoDetails }\n  }\n}\n\nquery GetStartLocations($modelId: ID!) {\n  model(id: $modelId) {\n    views(types: ["matterport.model.default", "matterport.model.layered", "matterport.user.view"]) {\n      id\n      model {\n        image { \n          snapshotLocation {\n            anchor {\n              id\n            }\n          }\n        } \n      }\n    }\n  }\n}\n\n\nmutation PatchModel($modelId: ID!, $patch: ModelPatch!) {\n  patchModel(id: $modelId, , patch: $patch) {\n    id\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(15899).definitions)),n.definitions=n.definitions.concat(r(i(23888).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function c(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetModelOptions=c(n,"GetModelOptions"),e.exports.GetModelDetails=c(n,"GetModelDetails"),e.exports.GetModelImage=c(n,"GetModelImage"),e.exports.GetStartLocations=c(n,"GetStartLocations"),e.exports.PatchModel=c(n,"PatchModel")},44571:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetNotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NoteDetails"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"note"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddNoteComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommentDetails"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addNoteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}},{kind:"Argument",name:{kind:"Name",value:"comment"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NotePatch"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}},{kind:"Argument",name:{kind:"Name",value:"patch"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReopenNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reopenNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"noteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"noteId"},value:{kind:"Variable",name:{kind:"Name",value:"noteId"}}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NoteDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchorPosition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stemNormal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stemLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastCommentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentDetails"},directives:[]}]}}]}}]}}],loc:{start:0,end:1621}};n.loc.source={body:'#import "./attachments.gql"\n#import "./comments.gql"\n\n# read all notes for the specified model\nquery GetNotes($modelId: ID!, $ids: [ID!], $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id\n    notes(ids: $ids) {\n      ...NoteDetails\n    }\n  }\n}\n\n# Create a new note\nmutation AddNote($modelId: ID!, $data: NoteDetails!, $includeLayers: Boolean!) {\n  addNote(modelId: $modelId, , note: $data) {\n    ...NoteDetails\n  }\n}\n\n# Add a comment to the note\nmutation AddNoteComment($modelId: ID!, $noteId: ID!, $data: CommentDetails!) {\n  addNoteComment(modelId: $modelId, , noteId: $noteId, comment: $data) {\n    ...CommentDetails\n  }\n}\n\n# Deletes a single note\nmutation DeleteNote ($modelId: ID!, $noteId: ID!) {\n  deleteNote(modelId: $modelId, , noteId: $noteId)\n}\n\n# Update a single note\nmutation PatchNote($modelId: ID!, $noteId: ID!, $data: NotePatch!, $includeLayers: Boolean!) {\n  patchNote(modelId: $modelId, , noteId: $noteId, patch: $data) {\n    ...NoteDetails\n  }\n}\n\n# Reopen a note\nmutation ReopenNote ($modelId: ID!, $noteId: ID!) {\n  reopenNote(modelId: $modelId, , noteId: $noteId)\n}\n\n# Resolve a note\nmutation ResolveNote($modelId: ID!, $noteId: ID!) {\n  resolveNote(modelId: $modelId, , noteId: $noteId)\n}\n\n# common Note properties\nfragment NoteDetails on Note {\n  id\n  createdBy { id, firstName, lastName, email }\n  color\n  enabled\n  floor { id, meshId }\n  room { id, meshId }\n  layer @include(if: $includeLayers) { id }\n  anchorPosition { x, y, z }\n  stemEnabled\n  stemNormal { x, y, z }\n  stemLength\n  resolution\n  created\n  modified\n  lastCommentAt\n  comments {\n    results { ...CommentDetails }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(63437).definitions)),n.definitions=n.definitions.concat(r(i(36159).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function c(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetNotes=c(n,"GetNotes"),e.exports.AddNote=c(n,"AddNote"),e.exports.AddNoteComment=c(n,"AddNoteComment"),e.exports.DeleteNote=c(n,"DeleteNote"),e.exports.PatchNote=c(n,"PatchNote"),e.exports.ReopenNote=c(n,"ReopenNote"),e.exports.ResolveNote=c(n,"ResolveNote"),e.exports.NoteDetails=c(n,"NoteDetails")},23888:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PhotoDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"thumbnailUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"thumbnail"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"presentationUrl"},name:{kind:"Name",value:"resizeUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"resolution"},value:{kind:"EnumValue",value:"presentation"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"snapshotLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"zoom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floorVisibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:535}};t.loc.source={body:"\nfragment PhotoDetails on Photo {\n  id\n  label\n  classification\n  category\n  height\n  width\n  created\n  modified\n  status\n  filename\n  format\n  url\n  resolutions\n  type\n  origin\n  validUntil\n  thumbnailUrl: resizeUrl(resolution: thumbnail)\n  presentationUrl: resizeUrl(resolution: presentation)\n  snapshotLocation {\n    viewMode\n    position { x y z }\n    rotation { x y z w }\n    zoom\n    floorVisibility {\n      id\n      meshId\n      sequence\n    }\n    anchor {\n      id\n      pano {\n        id\n        placement\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.PhotoDetails=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(t,"PhotoDetails")},19642:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSnapshots"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PatchPhoto"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchPhoto"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"photoId"},value:{kind:"Variable",name:{kind:"Name",value:"photoId"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePhoto"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePhoto"},arguments:[{kind:"Argument",name:{kind:"Name",value:"modelId"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"photoId"},value:{kind:"Variable",name:{kind:"Name",value:"photoId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadHighlightReelSnapshot"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contents"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SnapshotLocationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"snapshot"},name:{kind:"Name",value:"uploadHighlightReelSnapshot"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"contents"},value:{kind:"Variable",name:{kind:"Name",value:"contents"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"snapshotLocation"},value:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadModelSnapshot"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contents"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SnapshotLocationInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photoType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PhotoType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"snapshot"},name:{kind:"Name",value:"uploadModelSnapshot"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"contents"},value:{kind:"Variable",name:{kind:"Name",value:"contents"}}},{kind:"Argument",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}},{kind:"Argument",name:{kind:"Name",value:"snapshotLocation"},value:{kind:"Variable",name:{kind:"Name",value:"snapshotLocation"}}},{kind:"Argument",name:{kind:"Name",value:"photoType"},value:{kind:"Variable",name:{kind:"Name",value:"photoType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}}],loc:{start:0,end:1048}};n.loc.source={body:'#import "./photo-fragments.gql"\nquery GetSnapshots($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    assets {\n      photos { ...PhotoDetails }\n    }\n  }\n}\n\nmutation PatchPhoto($modelId: ID!, $photoId: ID!, $label: String!) {\n  patchPhoto(modelId: $modelId, photoId: $photoId, label: $label) {\n    ...PhotoDetails\n  }\n}\n\nmutation DeletePhoto($modelId: ID!, $photoId: ID!) {\n  deletePhoto(modelId: $modelId, photoId: $photoId)\n}\n\nmutation UploadHighlightReelSnapshot($modelId: ID!, $contents: FileUpload!, $label: String!, $snapshotLocation: SnapshotLocationInput!) {\n  snapshot: uploadHighlightReelSnapshot(id: $modelId, contents: $contents, label: $label, snapshotLocation: $snapshotLocation) {\n    ...PhotoDetails\n  }\n}\n\nmutation UploadModelSnapshot($modelId: ID!, $contents: FileUpload!, $label: String!, $snapshotLocation: SnapshotLocationInput!, $photoType: PhotoType!) {\n  snapshot: uploadModelSnapshot(id: $modelId, contents: $contents, label: $label, snapshotLocation: $snapshotLocation, photoType: $photoType) {\n    ...PhotoDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}n.definitions=n.definitions.concat(i(23888).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.GetSnapshots=l(n,"GetSnapshots"),e.exports.PatchPhoto=l(n,"PatchPhoto"),e.exports.DeletePhoto=l(n,"DeletePhoto"),e.exports.UploadHighlightReelSnapshot=l(n,"UploadHighlightReelSnapshot"),e.exports.UploadModelSnapshot=l(n,"UploadModelSnapshot")},82591:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelViewPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"Variable",name:{kind:"Name",value:"includeDisabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activeHighlightReel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlightReelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NoteDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"layers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewLayerDetails"},directives:[]}]}}]}}]}}],loc:{start:0,end:1051}};n.loc.source={body:'# Prefetch all data that changes for a view in one go.  Allows us to do an atomic view change and know that the data\n# is good.\n\n#import "./layer-fragments.gql"\n#import "./mattertags.gql"\n#import "./lists.gql"\n#import "./labels.gql"\n#import "./measurements.gql"\n#import "./notes.gql"\n#import "./highlights.gql"\n#import "./photo-fragments.gql"\n\nquery GetModelViewPrefetch($modelId: ID!, $includeDisabled: Boolean!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    id\n    mattertags(includeDisabled: $includeDisabled) {\n      ...MattertagDetails\n    }\n    orderedLists(ids: []) {\n      ...OrderedListDetails\n    }\n    labels(includeDisabled: $includeDisabled) {\n      ...LabelDetails\n    }\n    measurementPaths(includeDisabled: $includeDisabled) {\n      ...MeasurementDetails\n    }\n    activeHighlightReel {\n      ...HighlightReelDetails\n    }\n    notes(ids: []) {\n      ...NoteDetails\n    }\n    image { \n      ...PhotoDetails \n    }    \n  }\n  view (id: $modelId) {\n    layers @include(if: $includeLayers) {\n      ...ViewLayerDetails\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(61033).definitions)),n.definitions=n.definitions.concat(r(i(82686).definitions)),n.definitions=n.definitions.concat(r(i(22001).definitions)),n.definitions=n.definitions.concat(r(i(61341).definitions)),n.definitions=n.definitions.concat(r(i(77285).definitions)),n.definitions=n.definitions.concat(r(i(44571).definitions)),n.definitions=n.definitions.concat(r(i(32082).definitions)),n.definitions=n.definitions.concat(r(i(23888).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetModelViewPrefetch=function(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}(n,"GetModelViewPrefetch")},54161:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPrefetch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelStatus"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ModelAvailableAssets"},directives:[]},{kind:"Field",name:{kind:"Name",value:"floors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloorDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PhotoDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tags"},value:{kind:"StringValue",value:"showcase",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ModelOptions"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationDetails"},directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublicationOptions"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discoverable"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1068}};n.loc.source={body:'# Make sure the following imports do not import files themselves, it seems\n# to mess up the platform side parsing. That is why you see these \n# -fragment.gql files below.\n\n#import "./model-fragments.gql"\n#import "./photo-fragments.gql"\n#import "./floors.gql"\n#import "./rooms.gql"\n#import "./sweeps.gql"\n#import "./view-fragments.gql"\n\n# Preloaded model data to be embedded into Showcase HTML page,\n# only load data that is required for Showcase to start,\n# not varied by user, and safe for long-term-cache type behavior.\n# Includes the default view.\n# (ie. NO Mattertags)\nquery GetModelPrefetch($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    ...ModelStatus\n    ...ModelAvailableAssets\n    floors { ...FloorDetails }\n    image { ...PhotoDetails }\n    locations(tags:"showcase") { ...AnchorLocationDetails }\n    name\n    options { ...ModelOptions }\n    organization\n    publication {\n      ...PublicationDetails\n      options { ...PublicationOptions }\n    }\n    rooms { ...RoomDetails }\n    views {\n      ...ViewDetails\n    }\n    visibility\n    discoverable\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(15899).definitions)),n.definitions=n.definitions.concat(r(i(23888).definitions)),n.definitions=n.definitions.concat(r(i(8699).definitions)),n.definitions=n.definitions.concat(r(i(86400).definitions)),n.definitions=n.definitions.concat(r(i(5860).definitions)),n.definitions=n.definitions.concat(r(i(54800).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetModelPrefetch=function(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}(n,"GetModelPrefetch")},86400:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRooms"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RoomDetails"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RoomDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelRoom"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"depth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"areaFloor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]}]}}],loc:{start:0,end:266}};t.loc.source={body:"\nquery GetRooms ($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    rooms {\n      ...RoomDetails\n    }\n  }\n}\n\nfragment RoomDetails on ModelRoom {\n  id\n  meshId\n  floor {\n    id\n    meshId\n  }\n  dimensions {\n    height\n    width\n    depth\n    areaFloor\n  }\n  tags\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetRooms=r(t,"GetRooms"),e.exports.RoomDetails=r(t,"RoomDetails")},5860:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetShowcaseSweeps"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tags"},value:{kind:"StringValue",value:"showcase",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnchorLocationDetails"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SkyboxPanorama"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileResolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tileUrlTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validUntil"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SkyboxUrlDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PanoramicImageLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolutions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skyboxes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxDetails"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AnchorLocationDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AnchorLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"index"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"floor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"room"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meshId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"neighbors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pano"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sweepUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rotation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"z"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"w"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SkyboxUrlDetails"},directives:[]}]}}]}}],loc:{start:0,end:954}};t.loc.source={body:'\nquery GetSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    id,\n    locations {\n      ...AnchorLocationDetails\n    }\n  }\n}\n\nquery GetShowcaseSweeps($modelId: ID!) {\n  model(id: $modelId) {\n    id,\n    locations(tags: "showcase") {\n      ...AnchorLocationDetails\n    }\n  }\n}\n\nfragment SkyboxDetails on SkyboxPanorama {\n  # TODO(PL-5928) all SkyboxDetail results have the same non-unique id,\n  # using it as a map key will yield unexpected results\n  # id\n  resolution\n  status\n  urlTemplate\n  tileResolution\n  tileCount\n  tileUrlTemplate\n  validUntil\n}\n\nfragment SkyboxUrlDetails on PanoramicImageLocation {\n  id\n  resolutions\n  skyboxes { ...SkyboxDetails }\n}\n\nfragment AnchorLocationDetails on AnchorLocation {\n  id\n  index\n  floor { id, meshId }\n  room { id, meshId }\n  neighbors\n  tags\n  position { x y z }\n  pano {\n    id\n    sweepUuid\n    label\n    placement\n    source\n    position { x y z }\n    rotation { x y z w }\n    ...SkyboxUrlDetails\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetSweeps=r(t,"GetSweeps"),e.exports.GetShowcaseSweeps=r(t,"GetShowcaseSweeps"),e.exports.SkyboxDetails=r(t,"SkyboxDetails"),e.exports.SkyboxUrlDetails=r(t,"SkyboxUrlDetails"),e.exports.AnchorLocationDetails=r(t,"AnchorLocationDetails")},26965:e=>{var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCurrentUserModelAccess"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"userId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modelAccess"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emails"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}},{kind:"Argument",name:{kind:"Name",value:"emails"},value:{kind:"Variable",name:{kind:"Name",value:"emails"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modelAccess"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetModelPolicies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFlag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyOptions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyValue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PolicyFeature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:915}};t.loc.source={body:"# get access for the current user\nquery GetCurrentUserModelAccess($modelId: ID!, $userId: ID!) {\n  model(id: $modelId) {\n    id\n    organization\n    users(ids: [$userId]) {\n      results {\n        modelAccess\n      }\n    }\n  }\n}\n\n# get users with access to the specified model\nquery GetUsers($modelId: ID!, $search: String, $ids: [ID!], $emails: [String!]) {\n  model(id: $modelId) {\n    users(search: $search, ids: $ids, emails: $emails) {\n      results {\n        id\n        email\n        firstName\n        lastName\n        modelAccess\n      }\n    }\n  }\n}\n\n# get model policies available to all users\nquery GetModelPolicies($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    policies {\n      name\n      ...on PolicyFlag {\n        enabled\n      }\n      ...on PolicyOptions {\n        options\n      }\n      ...on PolicyValue {\n        value\n      }\n      ...on PolicyFeature {\n        availability\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function r(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.GetCurrentUserModelAccess=r(t,"GetCurrentUserModelAccess"),e.exports.GetUsers=r(t,"GetUsers"),e.exports.GetModelPolicies=r(t,"GetModelPolicies")},54800:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ViewDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModelView"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}}],loc:{start:0,end:88}};t.loc.source={body:"fragment ViewDetails on ModelView {\n  id\n  type\n  name\n  enabled\n  created\n  modified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}t.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}})),e.exports=t,e.exports.ViewDetails=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(t,"ViewDetails")},54232:(e,t,i)=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMergeDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeDiff"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"src"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"typesModified"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddUserView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteUserView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RenameUserView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetUserViewEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"patchView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CopyViewDataToLayer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"layerId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CopyInput"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"copyViewData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"Argument",name:{kind:"Name",value:"layerId"},value:{kind:"Variable",name:{kind:"Name",value:"layerId"}}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"Variable",name:{kind:"Name",value:"copyDataFrom"}}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DuplicateUserView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}},{kind:"Argument",name:{kind:"Name",value:"userDataLayer"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"masks"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}}]}},{kind:"Argument",name:{kind:"Name",value:"copyDataFrom"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HighlightReel"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Label"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Mattertag"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MeasurementPath"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"Note"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ObjectAnnotation"}}]},{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"viewId"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"OrderedList"}}]}]}},{kind:"Argument",name:{kind:"Name",value:"generateIds"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ViewDetails"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMutator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"src"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"viewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mergeTypes"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergeableType"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMutator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"src"},value:{kind:"Variable",name:{kind:"Name",value:"viewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revert"},arguments:[{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"Variable",name:{kind:"Name",value:"mergeTypes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSessionDiff"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeLayers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"model"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"modelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"base"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.model.default",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LabelDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MattertagDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeasurementDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"view"},name:{kind:"Name",value:"view"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"matterport.workshop.session",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"model"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mattertags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"measurementPaths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeDisabled"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"orderedLists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OrderedListDetails"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:3660}};n.loc.source={body:'#import "./labels.gql"\n#import "./lists.gql"\n#import "./mattertags.gql"\n#import "./measurements.gql"\n#import "./view-fragments.gql"\n\n# Gets the data types that have changed between a view and the base model\nquery GetMergeDiff($viewId: ID!) {\n  model(id: $viewId) {\n    id\n    mergeDiff {\n      src\n      dest\n      typesModified\n    }\n  }\n}\n\n# Get available views for a model\nquery GetViews($modelId: ID!) {\n  model(id: $modelId) {\n    id\n    views {\n      ...ViewDetails\n    }\n  }\n}\n\n# Adds a new User View using the base Model ID.\n# By default, it masks view-based data layer items\nmutation AddUserView($modelId: ID!, $name: String!) {\n  addView(\n    id: $modelId,\n    name: $name,\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    }\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Deletes a User View using the base Model ID and the viewId to delete\nmutation DeleteUserView($modelId: ID!, $viewId: ID!) {\n  deleteView(id: $modelId, viewId: $viewId)\n}\n\nmutation RenameUserView($viewId: ID!, $name: String!) {\n  patchView(id: $viewId, name: $name) {\n    name\n  }\n}\n\nmutation SetUserViewEnabled($viewId: ID!, $enabled: Boolean) {\n  patchView(id: $viewId, enabled: $enabled) {\n    enabled\n  }\n}\n\n# This returns a view id\nmutation CopyViewDataToLayer($viewId: ID!, $layerId: ID, $copyDataFrom: [CopyInput!]) {\n  copyViewData(\n    id: $viewId\n    layerId: $layerId\n    copyDataFrom: $copyDataFrom\n    generateIds: true\n  ) {\n    id\n  }\n}\n\nmutation DuplicateUserView($modelId: ID!, $viewId: ID!, $name: String!, $enabled: Boolean) {\n addView(\n    id: $modelId\n    name: $name\n    enabled: $enabled\n    userDataLayer: {\n      masks: [\n        { type: HighlightReel },\n        { type: Label },\n        { type: Mattertag },\n        { type: MeasurementPath },\n        { type: Note },\n        { type: ObjectAnnotation },\n        { type: OrderedList },\n      ]\n    },\n    copyDataFrom: [\n      { viewId: $viewId, type: HighlightReel },\n      { viewId: $viewId, type: Label },\n      { viewId: $viewId, type: Mattertag },\n      { viewId: $viewId, type: MeasurementPath },\n      { viewId: $viewId, type: Note },\n      { viewId: $viewId, type: ObjectAnnotation },\n      { viewId: $viewId, type: OrderedList },\n    ]\n    generateIds: true,\n  ) {\n    ...ViewDetails\n  }\n}\n\n# Merges the given view into the base model view\nmutation PublishView($viewId: ID!) {\n  mergeMutator(src: $viewId) {\n    merge {\n      id\n    }\n  }\n}\n\n# Resets the provided view to be the same as the base model view\nmutation RevertView($viewId: ID!, $mergeTypes: [MergeableType!]) {\n  mergeMutator(src: $viewId) {\n    revert(types: $mergeTypes ) {\n      id\n    }\n  }\n}\n\n# Gets the data that has changed between the Workshop session and base model\nquery GetSessionDiff($modelId: ID!, $includeLayers: Boolean!) {\n  model(id: $modelId) {\n    base: view(type: "matterport.model.default") {\n      id\n      model {\n        labels(includeDisabled: true) { ...LabelDetails }\n        mattertags(includeDisabled: true) { ...MattertagDetails }\n        measurementPaths(includeDisabled: true) { ...MeasurementDetails }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n    view: view(type: "matterport.workshop.session") {\n      id\n      model {\n        labels(includeDisabled: true) { id modified }\n        mattertags(includeDisabled: true) { id modified }\n        measurementPaths(includeDisabled: true) { id modified }\n        orderedLists(ids: []) { ...OrderedListDetails }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}n.definitions=n.definitions.concat(r(i(61341).definitions)),n.definitions=n.definitions.concat(r(i(22001).definitions)),n.definitions=n.definitions.concat(r(i(82686).definitions)),n.definitions=n.definitions.concat(r(i(77285).definitions)),n.definitions=n.definitions.concat(r(i(54800).definitions));var o={};function l(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function c(e,t){var i={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=o[t]||new Set,s=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var a=r;r=new Set,a.forEach((function(e){s.has(e)||(s.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var n=l(e,t);n&&i.definitions.push(n)})),i}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.GetMergeDiff=c(n,"GetMergeDiff"),e.exports.GetViews=c(n,"GetViews"),e.exports.AddUserView=c(n,"AddUserView"),e.exports.DeleteUserView=c(n,"DeleteUserView"),e.exports.RenameUserView=c(n,"RenameUserView"),e.exports.SetUserViewEnabled=c(n,"SetUserViewEnabled"),e.exports.CopyViewDataToLayer=c(n,"CopyViewDataToLayer"),e.exports.DuplicateUserView=c(n,"DuplicateUserView"),e.exports.PublishView=c(n,"PublishView"),e.exports.RevertView=c(n,"RevertView"),e.exports.GetSessionDiff=c(n,"GetSessionDiff")},84428:e=>{"use strict";e.exports=THREE}},o={};function l(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=a,l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"==typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"==typeof i.then)return i}var s=Object.create(null);l.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>i[e]));return r.default=()=>i,l.d(s,r),s},l.d=(e,t)=>{for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,i)=>(l.f[i](e,t),t)),[])),l.u=e=>"js/"+e+".js",l.miniCssF=e=>"css/"+({66:"control-kit",136:"late",143:"font",316:"menus",321:"core",324:"scene",376:"vr",458:"showcase",519:"ses",521:"late-stream",525:"sdk-bundle",662:"roombounds",718:"encoders",833:"split",932:"lib-lottie"}[e]||e)+".css",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},n="mp_webgl:",l.l=(e,t,s,r)=>{if(i[e])i[e].push(t);else{var a,o;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+s){a=u;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.setAttribute("data-webpack",n+s),a.src=e),i[e]=[t];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var s=i[e];if(delete i[e],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),o&&document.head.appendChild(a)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),l.j=458,(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e+"../"})(),s=e=>new Promise(((t,i)=>{var n=l.miniCssF(e),s=l.p+n;if(((e,t)=>{for(var i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var s=(a=i[n]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===e||s===t))return a}var r=document.getElementsByTagName("style");for(n=0;n<r.length;n++){var a;if((s=(a=r[n]).getAttribute("data-href"))===e||s===t)return a}})(n,s))return t();((e,t,i,n)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onerror=s.onload=r=>{if(s.onerror=s.onload=null,"load"===r.type)i();else{var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=o,s.parentNode.removeChild(s),n(l)}},s.href=t,function(e){const t=Array.from(document.querySelectorAll("matterport-viewer"));t&&t.length?t.forEach((function(t){if(t&&t.shadowRoot){if(t.shadowRoot.querySelector(`link[href="${e.getAttribute("href")}"]`))return;t.shadowRoot.appendChild(e)}})):document.head.appendChild(e)}(s)})(e,s,t,i)})),r={458:0},l.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{321:1,833:1}[e]&&t.push(r[e]=s(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{var e={458:0};l.f.j=(t,i)=>{var n=l.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise(((i,s)=>n=e[t]=[i,s]));i.push(n[2]=s);var r=l.p+l.u(t),a=new Error;l.l(r,(i=>{if(l.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,n[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,s,[r,a,o]=i,c=0;for(n in a)l.o(a,n)&&(l.m[n]=a[n]);if(o)o(l);for(t&&t(i);c<r.length;c++)s=r[c],l.o(e,s)&&e[s]&&e[s][0](),e[r[c]]=0},i=self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e=l(30935);class t{constructor(e,t){this.fetchedModules=[],this.engine=e,this.moduleLookup=t,this.messageBus=e.msgBus,this.market=new i(e.market),this.commandBinder=e.commandBinder,this.getModuleSync=e.getModuleSync.bind(e),this.getModuleBySymbolSync=e.getModuleBySymbolSync.bind(e),this.addComponent=e.addComponent.bind(e),this.getComponentByType=e.getComponentByType.bind(e),this.getComponents=e.getComponents.bind(e),this.removeComponent=e.removeComponent.bind(e),this.subscribe=e.subscribe.bind(e),this.unsubscribe=e.unsubscribe.bind(e),this.broadcast=e.broadcast.bind(e),this.claimRenderLayer=e.claimRenderLayer.bind(e),this.getRenderLayer=e.getRenderLayer.bind(e),this.disposeRenderLayer=e.disposeRenderLayer.bind(e),this.startGenerator=e.startGenerator.bind(e),this.stopGenerator=e.stopGenerator.bind(e),this.after=e.after.bind(e),this.toggleRendering=e.toggleRendering.bind(e),this.getXrFrame=e.getXrFrame.bind(e)}getModule(e){const t=Date.now();return this.engine.getModule(e).then((e=>{const i=Date.now();return this.fetchedModules.push({moduleName:e.name,isModule:!0,startAwait:t,finishAwait:i}),e}))}getModuleBySymbol(e){const t=Date.now();return this.engine.getModuleBySymbol(e).then((e=>{const i=Date.now();return this.fetchedModules.push({moduleName:this.getModuleName(e),isModule:!0,startAwait:t,finishAwait:i}),e}))}getLoadedDependencies(){return[...this.fetchedModules,...this.market.getLoadedDependencies()]}get msgBus(){return this.messageBus}getModuleName(e){for(const t in this.moduleLookup)if(e===this.moduleLookup[t].module)return t;return"[Unknown module]"}}class i{constructor(e){this.fetchedData=[],this.market=e,this.register=e.register.bind(e),this.unregister=e.unregister.bind(e),this.tryGetData=e.tryGetData.bind(e),this.getModuleNameFromData=e.getModuleNameFromData.bind(e)}waitForData(t){const i=Date.now();return this.market.waitForData(t).then((t=>{const n=Date.now();return this.fetchedData.push({moduleName:this.getModuleNameFromData((0,e.oL)(t)),isModule:!1,startAwait:i,finishAwait:n}),t}))}getLoadedDependencies(){return this.fetchedData}}var n,s=l(46950),r=l(97998);!function(e){e[e.Registered=0]="Registered",e[e.Loading=1]="Loading",e[e.Initialized=2]="Initialized",e[e.Unloaded=3]="Unloaded"}(n||(n={}));class a{constructor(){this.registeredModules={},this.typeLookup=new e.cj,this.log=new r.Z("module-loader")}registerModule(e,t){const i=this.typeLookup.addType(e),r={es6ModulePromise:t,ctorPromise:new s.Q,initPromise:new s.Q,state:n.Registered};this.registeredModules[i]=r}getTypeID(e){const t=this.typeLookup.getKeyByType(e);if(!t)throw Error("Trying to access unregistered Module");return t}getTypeFromTypeID(e){return this.typeLookup.getTypeByKey(e)}moduleRegistered(e){return!!this.typeLookup.getKeyByType(e)}moduleLoaded(e){if(!this.moduleRegistered(e))return!1;const t=this.typeLookup.getKeyByType(e),i=this.registeredModules[t].state;return![n.Registered,n.Unloaded].includes(i)}getModule(t){const i=this.typeLookup.getKeyByType(t);if(!i)throw Error(`Trying to get ${(0,e.HS)(t)} before it was registered!`);if(this.registeredModules[i].state===n.Unloaded)throw Error(`${(0,e.HS)(t)} module unloaded`);return this.registeredModules[i].initPromise.nativePromise()}getModuleSync(t){const i=this.typeLookup.getKeyByType(t);if(!i)throw new Error(`Trying to get ${(0,e.HS)(t)} before it was registered!`);const s=this.registeredModules[i];if(s.state!==n.Initialized||void 0===s.module)throw Error(`${(0,e.HS)(t)} module not loaded!`);return s.module}loadModule(t,i,s={}){const r=this.typeLookup.getKeyByType(i);if(!r)throw Error(`Attempting to load an unregistered module ${(0,e.HS)(i)}`);const a=this.registeredModules[r];if(a.state===n.Initialized)return a;if(a.state!==n.Registered&&a.state!==n.Unloaded)throw Error(`${(0,e.HS)(i)} already loading`);a.state=n.Loading;const o=(0,e.HS)(i);return a.es6ModulePromise(o).then((r=>{if(!r.default)throw new Error(`${(0,e.HS)(i)} has no default export during module loading`);const o=new r.default;a.ctorPromise.resolve(o).then((()=>{const e=Date.now();let i=!1;setTimeout((()=>{i||this.log.debug(`${o.name} init took over 2 seconds`)}),2e3),o.init(s,t).then((()=>{this.log.debug(`${o.name} init took ${(Date.now()-e)/1e3} secs.`),i=!0,a.state=n.Initialized,a.module=o,a.initPromise.resolve(o)})).catch((e=>{a.initPromise.reject(e)}))}))})).catch((t=>{this.log.error(`Failed to load es6Module for ${(0,e.HS)(i)}: ${t}`),a.initPromise.reject(t)})),a}whenQueueEmpties(e){const t=[],i=new Map;for(const e in this.registeredModules){const s=this.registeredModules[e];s.state===n.Loading&&(t.push(s.initPromise),i.set(e,s.initPromise))}for(const[t,n]of i){const i=setTimeout((()=>this.log.debugInfo("still loading",t)),e);n.then((()=>clearTimeout(i)))}return s.Q.all(t).nativePromise()}unloadModule(e){const t=this.typeLookup.getKeyByType(e);if(!t)throw Error("Attempting to unload unregistered module");const i=this.registeredModules[t];if(i.state===n.Unloaded||i.state===n.Registered)throw Error("Attempting to unload not-loaded module");i.state=n.Unloaded,i.ctorPromise=new s.Q,i.initPromise=new s.Q,i.module=void 0}}const o="Data not present.";class c{constructor(){this.log=new r.Z("market"),this.typeLookup=new e.cj,this.store={},this.moduleRegistry={},this.firstUpdatePromises={}}register(e,t,i){const n=this.typeLookup.getKeyByType(t,!0);if(this.moduleRegistry[n])throw Error("Data can only be registered to one Module");this.moduleRegistry[n]=e,this.store[n]=i,i.commit(),n in this.firstUpdatePromises&&(this.firstUpdatePromises[n].resolve(this.store[n]),delete this.firstUpdatePromises[n])}unregister(e,t){const i=this.typeLookup.getKeyByType(t,!0);if(!this.moduleRegistry[i])throw Error("No Data was registered to the Module");delete this.moduleRegistry[i],delete this.store[i]}getData(e){const t=this.typeLookup.getKeyByType(e);if(t in this.store)return this.store[t];throw Error(o)}waitForData(e){const t=this.typeLookup.getKeyByType(e,!0);return t in this.store?Promise.resolve(this.store[t]):(this.firstUpdatePromises[t]||(this.firstUpdatePromises[t]=new s.Q,setTimeout((()=>{r.Z.level>=3&&!(t in this.store)&&this.log.debug(`still waiting for ${e.name}-data after 5 seconds`)}),5e3)),this.firstUpdatePromises[t].nativePromise())}tryGetData(e){try{return this.getData(e)}catch(e){if(e.message!==o)throw this.log.error("tryGetData",e.message),e}return null}debugData(){const e={};for(const t in this.moduleRegistry){const i=this.moduleRegistry[t];i&&(e[i.name]||(e[i.name]=[]),e[i.name].push(this.store[t]))}return Object.freeze(e)}getModuleNameFromData(e){const t=this.typeLookup.getKeyByType(e);if(t){const e=this.moduleRegistry[t];if(e)return e.name}throw Error(o)}}var d=l(13693),u=l(57118),h=l(947),p=l(26256),m=l(17878),f=l(54244);class g{constructor(){this.phaseTimes=[],this.modules={},this.addAppPhase(f.nh.UNINITIALIZED),window.profilingData={phaseTimes:this.phaseTimes,modules:this.modules}}addAppPhase(e){this.phaseTimes[e]=Date.now()}addModuleLoadTime(e,t,i,n){const s=n.map((e=>e.moduleName)).join(","),r=n.reduce(((e,t)=>e+t.finishAwait-t.startAwait),0)/(i-t)*100;this.modules[e]=[e,e,null,t,i,null,r,s]}}var v=l(10374),b=l(57956);const y=new r.Z("engine");let E=h.A.End;class S{constructor(){this.moduleLookup={},this.componentLookup={},this.currentApplication=null,this.moduleProfiler=new g,this.commandBinder=new u.B,this.market=new c,this.messageBus=new d.Y,this.engineGenerators=new p.ZP,this.layers=new m.o,this.moduleLoader=new a,this.symbolLoader=new b.m,this.afterPhasePromises=[],this.afterPhaseListenerCount=[],this.resetPromises(),this.subscribe(v.LZ,(e=>this.moduleProfiler.addAppPhase(e.phase)))}async loadApplication(e,t,i){if(e===this.currentApplication)throw Error("Application already loaded");const n=(this.currentApplication?this.currentApplication.getManifest():[]).map((e=>e.type)),s=e.getManifest(),r=s.map((e=>e.type)),a=this.currentApplication;this.currentApplication=null;const o=n.filter((e=>-1===r.indexOf(e))),l=o.filter((e=>"symbol"!=typeof e)),c=o.filter((e=>"symbol"==typeof e)),d=[...l.map((e=>this.unloadModule(e))),...c.map((e=>this.unloadModuleBySymbol(e)))];a&&d.push(a.unload(this));const u=s.filter((e=>-1===n.indexOf(e.type)));for(const e of u)"symbol"==typeof e.type?this.symbolLoader.moduleRegistered(e.type)||this.registerModule(e):this.moduleLoader.moduleRegistered(e.type)||this.registerModule(e);if(d.length)try{await Promise.all(d)}catch(e){y.error(e),t&&t(e)}try{this.currentApplication=e,await e.load(this,{coldStart:null===a,autoPlay:i})}catch(e){y.error(e),t&&t(e)}}registerModule(e){if(this.currentApplication)throw Error("Cannot register modules while application is running");"symbol"==typeof e.type?this.symbolLoader.registerModule(e.type,e.promise):this.moduleLoader.registerModule(e.type,e.promise)}loadModule(e){const i=e;this.moduleLoadInjectionHook&&(i.config=this.moduleLoadInjectionHook(i.type,i.config||{}));const n=new t(this,this.moduleLookup),s=Date.now(),r=this.moduleLoader.loadModule(n,i.type,i.config);return r.ctorPromise.then((e=>this.moduleLookup[this.moduleLoader.getTypeID(i.type)]={module:e,initialized:!1})),r.initPromise.then((e=>{this.moduleProfiler.addModuleLoadTime(e.name,s,Date.now(),n.getLoadedDependencies()),this.moduleLookup[this.moduleLoader.getTypeID(i.type)].initialized=!0})),r.initPromise.nativePromise()}loadModuleBySymbol(e){const i=e,n=String(i.type);this.moduleLoadInjectionHook&&(i.config=this.moduleLoadInjectionHook(n,i.config||{}));const s=new t(this,this.moduleLookup),r=Date.now(),a=this.symbolLoader.loadModule(s,i.type,i.config);return a.ctorPromise.then((e=>this.moduleLookup[n]={symbol:i.type,module:e,initialized:!1,initPromise:a.initPromise.nativePromise()})),a.initPromise.then((e=>{this.moduleProfiler.addModuleLoadTime(e.name,r,Date.now(),s.getLoadedDependencies()),this.moduleLookup[n].initialized=!0})),a.initPromise.nativePromise()}setLoadInjection(e){if(void 0!==this.moduleLoadInjectionHook)throw Error("Hook already registered");this.moduleLoadInjectionHook=e}async unloadModule(t){if(!this.moduleLoader.moduleLoaded(t))return void y.debug(`${(0,e.HS)(t)} module already unloaded`);y.debug(`Unloading ${(0,e.HS)(t)} module`);const i=await this.getModule(t),n=this.getModuleIndex(i);this.componentLookup[n]&&(await Promise.all(this.componentLookup[n].map((async e=>{await this.removeComponent(i,e.component),e.component.dispose()}))),this.componentLookup[n]=[]),this.moduleLoader.unloadModule(t),i.dispose(this)}async unloadModuleBySymbol(e){if(!this.symbolLoader.moduleLoaded(e))return void y.debug(`${String(e)} module already unloaded`);y.debug(`Unloading ${String(e)} module`);const{module:t,initPromise:i}=this.moduleLookup[String(e)];await i;const n=this.getModuleIndex(t);this.componentLookup[n]&&(await Promise.all(this.componentLookup[n].map((async e=>{await this.removeComponent(t,e.component),e.component.dispose()}))),this.componentLookup[n]=[]),this.symbolLoader.unloadModule(e),t.dispose(this)}async waitForLoadingModules(e=1e4){await Promise.all([this.moduleLoader.whenQueueEmpties(e),this.symbolLoader.whenQueueEmpties(e)])}async getModule(e){return this.moduleLoader.getModule(e)}getModuleBySymbol(e){return this.symbolLoader.getModule(e)}getModuleSync(e){return this.moduleLoader.getModuleSync(e)}tryGetModuleSync(e){try{return this.getModuleSync(e)}catch(e){return null}}getModuleBySymbolSync(e){return this.symbolLoader.getModuleSync(e)}tryGetModuleBySymbolSync(e){try{return this.getModuleBySymbolSync(e)}catch(e){return null}}getComponentByType(e){for(const t in this.moduleLookup){const i=this.moduleLookup[t].module,n=this.getModuleIndex(i),s=this.componentLookup[n]||[];for(const t of s)if(t.component instanceof e)return t.component}return null}async addComponent(e,t){const i=this.getModuleIndex(e);let n=this.componentLookup[i];n||(this.componentLookup[i]=n=[]);let s=-1;for(let e=0;e<n.length;e++)if(n[e].component===t){s=e;break}if(-1===s&&(s=n.push({component:t,active:!1})-1,t.init()),n[s].active)throw Error("Tried to add already active component: "+typeof t);await t.activate(this),n[s].active=!0}async removeComponent(e,t){const i=this.getModuleIndex(e),n=this.componentLookup[i];if(n){let e=null;for(const i of n)if(i.component===t){e=i;break}e&&e.active&&(await t.deactivate(this),e.active=!1)}}tick(){if(E!==h.A.End)throw Error("Engine.tick called outside of waiting. Did the engine get called recursively?!");E=h.A.Begin,this.resolveAfterPhase(h.A.Begin);const e=performance.now(),t=this.lastTick?e-this.lastTick:16;this.lastTick=e,E=h.A.Logic;try{for(const e in this.moduleLookup){const i=this.moduleLookup[e];i&&i.initialized&&i.module.onUpdate(t)}}catch(e){throw y.error(e),e}this.resolveAfterPhase(h.A.Logic),this.engineGenerators.processGenerators(p.p3.Phase,h.A.Logic);try{this.renderComponents(t)}catch(e){throw y.error(e),e}try{E=h.A.Render,this.resolveAfterPhase(h.A.Render),this.engineGenerators.processGenerators(p.p3.Phase,h.A.Render),E=h.A.End,this.resolveAfterPhase(h.A.End),this.engineGenerators.processGenerators(p.p3.None),this.engineGenerators.processGenerators(p.p3.Promise),this.engineGenerators.processGenerators(p.p3.Duration)}catch(e){throw y.error(e),e}}subscribe(e,t,i=d.Q.PERMANENT){return this.messageBus.subscribe(e,t,i)}unsubscribe(e,t){this.messageBus.unsubscribe(e,t)}broadcast(e){this.messageBus.broadcast(e)}claimRenderLayer(e){return this.layers.claimLayer(e)}getRenderLayer(e){return this.layers.getLayer(e)}disposeRenderLayer(e){this.layers.disposeLayer(e)}startGenerator(e){this.engineGenerators.startGenerator(e)}stopGenerator(e){this.engineGenerators.stopGenerator(e)}after(e){return this.afterPhaseListenerCount[e]++,this.afterPhasePromises[e].nativePromise()}getModuleIndex(e){for(const t in this.moduleLookup)if(this.moduleLookup[t]&&this.moduleLookup[t].module===e)return t;return""}*getComponents(){for(const e in this.moduleLookup){const t=this.componentLookup[e];if(t)for(const e of t)yield e}}toggleRendering(e,t){const i=this.getModuleIndex(e),n=this.componentLookup[i];if(n)for(const e of n)e.active=t}renderComponents(e){for(const t in this.moduleLookup){const i=this.componentLookup[t];if(i)for(const t of i)t.active&&t.component.beforeRender&&t.component.beforeRender(e)}for(const t in this.moduleLookup){if(!t)continue;const i=this.componentLookup[t];if(i)for(const t of i)t.active&&t.component.render(e)}}resetPromises(){this.resetAfterPhasePromises()}resetAfterPhasePromises(){this.resetAfterPhasePromise(h.A.Logic),this.resetAfterPhasePromise(h.A.Render),this.resetAfterPhasePromise(h.A.Begin),this.resetAfterPhasePromise(h.A.End)}resetAfterPhasePromise(e){this.afterPhasePromises[e]=new s.Q,this.afterPhaseListenerCount[e]=0}resolveAfterPhase(e){this.afterPhaseListenerCount[e]>0&&(this.afterPhasePromises[e].resolve(),this.resetAfterPhasePromise(e))}setXrFrame(e){this.xrFrame=e}getXrFrame(){return this.xrFrame}get msgBus(){return this.messageBus}}l(55512);var T=l(31362),O=l(59279),_=l(26568),N=l(53261);var A=l(76087),w=l(80742),I=l(99610),k=l(26158),P=l(18196),L=l(2473),C=l(59323),R=l(44443),D=l(92703),M=l(95882),x=l(30365),j=l(23254),U=l(76631),H=l(16535);const F=new r.Z("AB");class B{constructor(e){this.values={};for(const t in e){const i=e[t];if(i&&i.ab)try{this.values[t]=V(i.ab)}catch(e){F.warn(`Skipping key ${t}, could not pick: ${e}`)}}}get(e){return this.values[e]}serialize(){return Object.keys(this.values).map((e=>`${e}:${this.values[e]}`))}}function V(e){if(0===e.length)throw Error("A/B cannot choose from an empty choice array");let t=0;for(const i of e){if(void 0===i.value||void 0===i.weight||i.weight<0)throw Error(`Malformed AB choice: ${i}`);t+=i.weight}const i=Math.random()*t;let n=0;for(const t of e)if(n+=t.weight,i<=n)return t.value}var G=l(53203),W=l(71776),z=l(23037),K=l(48945),Y=l(39693),$=l(8824),q=l(43736),Z=l(92001),Q=l(14439),X=l(39642),J=l(49571),ee=l(96042),te=l(80626);var ie=l(99935),ne=l(65152),se=l(76609);var re=l(71239),ae=l(96767),oe=l(12039),le=l(39880),ce=l(51454),de=l(74533);class ue{constructor(e,t,i){this.engine=e,this.renderer=t,this.onErrorCallback=i,this.start=()=>{this.renderer.setAnimationLoop(this.tick)},this.stop=()=>{this.renderer.setAnimationLoop(null)},this.tick=(e,t)=>{try{this.engine.setXrFrame(t),this.engine.tick()}catch(e){this.stop(),this.onErrorCallback(e)}}}}var he=l(17788),pe=l(11221),me=l(54161),fe=l(75125),ge=l(54559),ve=l(35895);class be{constructor(e,t){this.proxy=e,this.target=t}beginExternalTransition(){this.proxy.activeSession(this)&&this.target.beginExternalTransition()}endExternalTransition(){this.proxy.activeSession(this)&&this.target.endExternalTransition()}updateCameraPosition(e){this.proxy.activeSession(this)&&this.target.updateCameraPosition(e)}updateCameraRotation(e){this.proxy.activeSession(this)&&this.target.updateCameraRotation(e)}updateCameraFocus(e){this.proxy.activeSession(this)&&this.target.updateCameraFocus(e)}updateCameraProjection(e){this.proxy.activeSession(this)&&this.target.updateCameraProjection(e)}moveTo(e){return this.proxy.activeSession(this)?this.target.moveTo(e):s.Q.resolve()}}class ye{constructor(e,t){this.controller=e,this.data=t,this.proxies=[]}get pose(){return this.data}activeSession(e){if(0===this.proxies.length)return!1;return this.proxies[this.proxies.length-1].controller===e}newSession(e){let t=null;if(-1!==this.proxies.findIndex((t=>t.requester===e)))throw new Error("Cannot create two sessions with the same requester");return(0,ve.k1)((()=>{if(!t){if(this.proxies.length>0){const e=this.proxies[this.proxies.length-1];e.requester.onAccessRevoked(e.controller)}t=new be(this,this.controller),this.proxies.push({controller:t,requester:e}),e.onAccessGranted(t)}}),(()=>{if(t){const e=this.proxies.findIndex((e=>e.controller===t));if(-1!==e){const t=this.proxies[e],i=e===this.proxies.length-1;if(i&&t.requester.onAccessRevoked(t.controller),this.proxies.splice(e,1),this.proxies.length>0&&i){const e=this.proxies[this.proxies.length-1];e.requester.onAccessGranted(e.controller)}}}}))}}var Ee=l(25985),Se=l(63422),Te=l(25795),Oe=l(46391);var _e=l(72940),Ne=l(96365);async function Ae(e,t){if(!e)return!0;if(!window.crypto||!window.crypto.subtle)return!1;const i=new URL(e),n=(0,R.QY)(i.hostname),s=await(async e=>Array.prototype.map.call(new Uint8Array(await crypto.subtle.digest("SHA-1",(new TextEncoder).encode(e))),(e=>("0"+e.toString(16)).slice(-2))).join(""))(n);return!t.includes(s)}var we=l(83038);var Ie=l(45531);async function ke({urlValues:e,settingsData:t,flags:i,loggedIn:n,inWorkshop:s,hasPolicy:r,domainDenylist:a}){const o=null!=(0,Te.gM)(),l=e[Ne.ke.enabled],c=i.has(Ne.M3)?"0"!==l:"1"===l,d=r(Ne.FI),u=!n,h=t.tryGetProperty(Ie.sX,!1),p=e[Ne.ke.forceReferrer]||document.referrer,m=await Ae(p,a);we.L.debug("referrer eligible: ",m.toString());const f=!o&&!s,g=function(e){return e.getOverrideParam("lang",(0,T.ht)())}(t).startsWith("en"),v=c&&!h&&f&&g&&u;return{popupAllowed:v&&d&&m,bannerAllowed:v}}var Pe=l(40909),Le=l(2032),Ce=l(90365);var Re=l(52502),De=l(49827),Me=l(45611),xe=l(62496),je=l(56382),Ue=l(26209),He=l(20436),Fe=l(34029);const Be="spaces.plugins.config";var Ve=l(91860);const Ge="feature/room_bounds",We=new r.Z("showcase"),ze=window.MP_PREFETCHED_MODELDATA;class Ke{constructor(e,t={},i=!1){var n;this.inWorkshop=e,this.editModePreferred=i,this.bindings=[],this.storeQueue=new N.gO,this.apiQueue=new N.gO,this.analyticsQueue=new N.gO({concurrency:1}),this.errorPromise=new s.Q,this.autoplay=!1,this.forceLogin=!1,this.openingTool=null,this.needsFramebustToPlayXR=!0,this.uiLoading=Promise.resolve(),this.newTagPolicyPromise=new s.Q,this.sceneLoader=new Re.LazyLoader,this.modulesLoadedPromise=new s.Q,this.stopTourHook=async e=>{const t=e.market.tryGetData(L.k);t&&t.tourPlaying&&(await e.commandBinder.issueCommand(new ae.vy),await(0,le.gw)(10))},this.settingOverrides=Object.assign({},t),this.assetBasePath=this.settingOverrides.assetBasePath=function(e){e=e.replace(/\/*$/,"/");const t=new URL(e,document.baseURI).pathname;return new URL(t,document.baseURI).toString()}(null!==(n=this.settingOverrides.assetBasePath)&&void 0!==n?n:"./");const{container:r,overrideParams:a=(0,O.FU)()}=this.settingOverrides;this.overrideParams=a,this.quickstart="1"===a.qs||void 0!==a.note||void 0!==a.tag,(0,Te.P8)(a.applicationKey||t.applicationKey||null),this.apiHost=((e,t)=>{const i=e.apiHost||t.apiHost;if(i){const e=(0,R.KK)(i);if(e)return e}return window.location.origin})(a,this.settingOverrides),this.oEmbedDeferred=new s.Q,this.oEmbedConsumer=this.oEmbedDeferred.nativePromise(),this.apiHost!==window.location.origin&&(this.settingOverrides.apiHost=this.apiHost),this.container=r||document.body,this.modelUrls=(0,R.sU)(a.m||a.model,this.apiHost),this.initialViewId=this.modelUrls.sid}getManifest(){const e=[{type:b.y.GUI,promise:()=>Promise.resolve().then(l.bind(l,5016))},{type:b.y.LOADING_GUI,promise:()=>Promise.resolve().then(l.bind(l,39204))},{type:b.y.SHOWCASE_GUI,promise:()=>Promise.resolve().then(l.bind(l,76250))},{type:b.y.SDK_LANDING,promise:()=>Promise.resolve().then(l.bind(l,30945))},{type:b.y.APP_PHASE,promise:()=>Promise.resolve().then(l.bind(l,38208))},{type:b.y.SETTINGS,promise:()=>Promise.resolve().then(l.bind(l,18196))},{type:b.y.ANALYTICS,promise:()=>Promise.resolve().then(l.bind(l,15201))},{type:b.y.SDK,promise:()=>Promise.resolve().then(l.bind(l,80395))},{type:b.y.SHOWCASE_PASSWORD,promise:()=>Promise.resolve().then(l.bind(l,51194))},{type:b.y.LOGIN_REDIRECT,promise:()=>Promise.resolve().then(l.bind(l,11846))},{type:b.y.API,promise:()=>Promise.resolve().then(l.bind(l,42404))},{type:b.y.MODEL_DATA,promise:()=>Promise.resolve().then(l.bind(l,48228))},{type:b.y.RAYCASTER,promise:()=>Promise.resolve().then(l.bind(l,29958))},{type:b.y.CAMERA_START,promise:()=>Promise.resolve().then(l.bind(l,94345))},{type:b.y.SNAPSHOTS_DATA,promise:()=>Promise.resolve().then(l.bind(l,88570))},{type:b.y.LOCALE,promise:()=>Promise.resolve().then(l.bind(l,54078))},{type:b.y.SWEEP_DATA,promise:()=>Promise.resolve().then(l.bind(l,65160))},{type:b.y.SHOWCASE_ANALYTICS,promise:()=>Promise.resolve().then(l.bind(l,21068))},{type:b.y.WEBGL_RENDERER,promise:()=>Promise.resolve().then(l.bind(l,89195))},{type:b.y.CANVAS,promise:()=>Promise.resolve().then(l.bind(l,54276))},{type:b.y.INPUT,promise:()=>Promise.resolve().then(l.bind(l,12053))},{type:b.y.ERROR_UI,promise:()=>Promise.resolve().then(l.bind(l,30365))},{type:b.y.SHOWCASE_WEBGL_CONTEXT_LOSS,promise:()=>Promise.resolve().then(l.bind(l,22485))},{type:b.y.CAMERA,promise:()=>Promise.resolve().then(l.bind(l,99809))},{type:b.y.SCHEDULER,promise:()=>Promise.resolve().then(l.bind(l,79861))},{type:b.y.LAYERS,promise:()=>Promise.resolve().then(l.bind(l,95674))},{type:b.y.USERS,promise:()=>Promise.resolve().then(l.bind(l,53555))},{type:b.y.STORAGE,promise:()=>Promise.resolve().then(l.bind(l,45888))},{type:b.y.CONTAINER_DATA,promise:()=>Promise.resolve().then(l.bind(l,16512))},{type:b.y.SWEEP_VIEWDATA,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,71076))},{type:b.y.SKYBOX,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,89137))},{type:b.y.VIEWMODE,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,55450))},{type:b.y.VIEWMODE_CHANGE,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,8960))},{type:b.y.FLOORS,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,45717))},{type:b.y.RENDER_TO_TEXTURE,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,25814))},{type:b.y.TOOLS,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,44756))},{type:b.y.CONTROLS_COMMON,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,86384))},{type:b.y.CONTROLS_INSIDE,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,49219))},{type:b.y.MOUSE_CURSOR,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,65111))},{type:b.y.FLOORS_VIEWDATA,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,62226))},{type:b.y.ROOMS,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,47183))},{type:b.y.INTERACTION_MODE,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,82780))},{type:b.y.CONTROLS_DOLLHOUSE,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,93316))},{type:b.y.CONTROLS_FLOORPLAN,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,88675))},{type:b.y.CONTROLS_ZOOM,promise:()=>l.e(933).then(l.bind(l,58933))},{type:b.y.SHOWCASE_HOTKEYS,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,10059))},{type:b.y.SHOWCASE_START,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,32170))},{type:b.y.SHOWCASE_SETTINGS,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,94292))},{type:b.y.NAVIGATION,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,37611))},{type:b.y.MODEL_MESH,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,92505))},{type:b.y.MODEL_MESH_QUALITY,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,17734))},{type:b.y.MESH_QUERY,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,96782))},{type:b.y.MESH_API_FIXUP,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,83977))},{type:b.y.MESH_TRIM_DATA,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,46255))},{type:b.y.ORTHOGRAPHIC_CONTROLS,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,66445))},{type:b.y.SES,promise:()=>Promise.all([l.e(47),l.e(764),l.e(917),l.e(58),l.e(189),l.e(321)]).then(l.bind(l,24886))},{type:b.y.ANNOTATIONS,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,2290))},{type:b.y.ATTACHMENTS,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,58989))},{type:b.y.CURRENT_PANO_MARKER,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,93649))},{type:b.y.CURSORS,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,30747))},{type:b.y.CURSOR_MESH,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,90763))},{type:b.y.CURSOR_CONTROLLER,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,79565))},{type:b.y.DEEP_LINKS,promise:()=>l.e(926).then(l.bind(l,72926))},{type:b.y.FAT_RAYCAST,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,95810))},{type:b.y.FLOOR_RAYCAST,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,69582))},{type:b.y.LINES,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,98522))},{type:b.y.MATTERTAG_DATA,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,60615))},{type:b.y.MATTERTAG_VIEWDATA,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,81149))},{type:b.y.MATTERTAG_MESH,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,28812))},{type:b.y.PINS,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,32055))},{type:b.y.NOTES,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,84810))},{type:b.y.OBJECT_TAG_SUGGESTIONS_DATA,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,95153))},{type:b.y.ORDERED_LISTS,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,51366))},{type:b.y.PRE_RENDER,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,49657))},{type:b.y.QUICK_MENUS,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,42606))},{type:b.y.REACT_THREE_FIBER_EXTERNAL,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,74909))},{type:b.y.SCREENSHOTS,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,74642))},{type:b.y.SENSORS,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,77950))},{type:b.y.SNAPSHOTS_EDITOR,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,47403))},{type:b.y.SWEEP_PATH,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,65594))},{type:b.y.SWEEP_PIN,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,21580))},{type:b.y.SWEEP_PIN_NAVIGATION,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,39531))},{type:b.y.SWEEP_PORTAL,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,9162))},{type:b.y.SWEEP_PORTAL_NAVIGATION,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,87295))},{type:b.y.TAGS,promise:()=>Promise.all([l.e(995),l.e(514),l.e(189),l.e(136)]).then(l.bind(l,35e3))},{type:b.y.AUTOMATION_SUPPORT,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,48603))},{type:b.y.DWELL_ANALYTICS,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,65792))},{type:b.y.LABEL_DATA,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,36522))},{type:b.y.LABEL_RENDERER,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,88255))},{type:b.y.MEASUREMENT_MODE,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,30370))},{type:b.y.MODEL_RATING,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,76325))},{type:b.y.SEARCH,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,31992))},{type:b.y.SCAN_INFO,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,73992))},{type:b.y.SWEEP_PUCKS,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,55914))},{type:b.y.TOUR_CONTROLS,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,95806))},{type:b.y.TOUR_DATA,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,87152))},{type:b.y.TRASH,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,76539))},{type:b.y.VIDEO_RECORDER,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,10805))},{type:b.y.WEBXR,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,74681))},{type:b.y.TRASH,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,76539))},{type:b.y.AUTOMATION_SUPPORT,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,48603))},{type:b.y.PLUGIN_CONFIG_DATA_MODULE,promise:()=>l.e(324).then(l.bind(l,14057))},{type:b.y.PLUGIN,promise:()=>l.e(62).then(l.bind(l,98062))},{type:b.y.SCENE,promise:()=>Promise.all([l.e(47),l.e(633),l.e(646),l.e(330),l.e(335)]).then(l.bind(l,70335))},{type:b.y.ROOM_BOUNDS,promise:()=>Promise.all([l.e(965),l.e(662)]).then(l.bind(l,65414))}];return"0"!==this.overrideParams.tiles?e.push({type:b.y.SWEEP_PANO,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,99685))}):e.push({type:b.y.SWEEP_PANO,promise:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(833)]).then(l.bind(l,40327))}),e}getAppPhases(e){return{[f.nh.UNINITIALIZED]:[],[f.nh.WAITING]:[(async()=>{await e.getModuleBySymbol(b.y.LOADING_GUI)})()],[f.nh.LOADING]:[(async()=>(await e.getModuleBySymbol(b.y.LOADING_GUI)).waitForPlaying)()],[f.nh.STARTING]:[(async()=>(await e.getModuleBySymbol(b.y.SHOWCASE_START)).waitForFirstRender)()],[f.nh.PLAYING]:[(async()=>(await e.getModuleBySymbol(b.y.SHOWCASE_START)).waitForFlyin)()],[f.nh.ERROR]:[this.errorPromise.nativePromise()]}}setError(e){this.errorPromise.reject(e),this.engineTick&&this.engineTick.stop()}async load(e,t){var i,n,s;this.engine=e,this.engine.loadModuleBySymbol({type:b.y.APP_PHASE,config:{tasks:this.getAppPhases(e)}});const a=await this.engine.loadModuleBySymbol({type:b.y.SETTINGS,config:{useGUI:!0,queryScope:this.container.getRootNode(),overrideParams:this.overrideParams}});if(a.updateSetting("assetBasePath",this.assetBasePath),this.loadAnalytics(),e.getModuleBySymbol(b.y.APP_PHASE).then((i=>{i.updateActiveApp(f.Mx.SHOWCASE),t.coldStart||e.broadcast(new v.pB(f.Mx.SHOWCASE))})),e.market.waitForData(f.pu).then((t=>{t.onChanged((async()=>{const i=this.overrideParams.oops;if(t.phase===f.nh.ERROR||i){const n=t.error,s=await e.getModuleBySymbol(b.y.ERROR_UI);throw n instanceof H.v||"unsupported"===i?s.showError(x.ErrorType.UNSUPPORTED):n instanceof H.G||"webgl"===i?s.showError(x.ErrorType.WEBGL):s.showError(x.ErrorType.GENERIC),n}}))})),this.bindings.push((0,Le.PD)({messageBus:this.engine.msgBus}),function(e){const t=[];return e.urlValues.debug&&t.push(new Le.bc({symbol:Ce.Y.Navigation,callback:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(316)]).then(l.bind(l,76381)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.Octree,callback:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(316)]).then(l.bind(l,83718)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.PanoTiles,callback:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(316)]).then(l.bind(l,41036)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.Raycaster,callback:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(316)]).then(l.bind(l,68427)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.Snapping,callback:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(316)]).then(l.bind(l,45053)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.WebGLRenderer,callback:()=>Promise.all([l.e(995),l.e(837),l.e(514),l.e(512),l.e(316)]).then(l.bind(l,96769)).then((t=>t.default(e.engine)))})),e.urlValues.tiledmesh&&t.push(new Le.bc({symbol:Ce.Y.StreamingMesh,callback:()=>l.e(521).then(l.bind(l,50447)).then((t=>t.default(e.engine)))}),new Le.bc({symbol:Ce.Y.StreamingTexture,callback:()=>l.e(521).then(l.bind(l,1158)).then((t=>t.default(e.engine)))})),t.forEach((t=>e.messageBus.broadcast(t))),(0,ve.k1)((()=>null),(()=>t.forEach((t=>e.messageBus.broadcast(new Le.z4(t.payload))))))}({engine:this.engine,messageBus:this.engine.msgBus,urlValues:this.overrideParams})),!t.coldStart)return void(this.uiLoading=this.loadUI(!0));We.info("Showcase app version: 23.2.2_webgl-59-ge638ad60fb");const{container:o}=this;this.canvas=document.createElement("canvas"),this.canvas.className="webgl-canvas";const c=o.querySelector("#canvas-container"),d=o.querySelector("#app-container"),u=o.querySelector("main")||document.body,h=o.querySelector("#react-render-root")||document.body,p=parseInt(this.overrideParams.log,10);this.overrideParams.hasOwnProperty("log")&&!isNaN(p)&&(r.Z.level=p),this.quickstart&&We.info("Quickstart engaged. Hold on to your knickers. "+performance.now());const m=await this.engine.loadModuleBySymbol({type:b.y.API,config:{baseUrl:this.modelUrls.urlBase,apiQueue:this.apiQueue,storeQueue:this.storeQueue,prefetchedData:ze,preloadConfig:"showcase"}}),g=m.getApi(),y=await g.user;this.engine.loadModuleBySymbol({type:b.y.CONTAINER_DATA,config:{element:this.container}}),this.engine.loadModuleBySymbol({type:b.y.LOCALE,config:{isLoggedIn:y.loggedIn,queue:this.apiQueue}});const E=this.overrideParams.applicationKey||this.settingOverrides.applicationKey,S={scene:this.sceneLoader};e.loadModuleBySymbol({type:b.y.SDK_LANDING,config:{container:this.container}});const O=this.loadSdkModule(g,S,this.newTagPolicyPromise.nativePromise(),E),N=await async function(){if(E){const t=await e.getModuleBySymbol(b.y.SDK_LANDING);t.show();const i=await O;return t.hide(),i}return!1}();if(N)try{await g.modelExists(this.initialViewId,{ignorePrefetch:!0})}catch(e){We.error(e),this.engine.loadModuleBySymbol({type:b.y.ERROR_UI,config:{container:this.container}});throw(await this.engine.getModuleBySymbol(b.y.ERROR_UI)).showError(x.ErrorType.GENERIC),e}this.engine.loadModuleBySymbol({type:b.y.WEBGL_RENDERER,config:{canvas:this.canvas,useWebGL2:"1"===this.overrideParams.gl2,antialias:"1"===this.overrideParams.aa,useEffectComposer:!(!this.settingOverrides||!this.settingOverrides.hasOwnProperty("useEffectComposer"))&&!!this.settingOverrides.useEffectComposer}}),this.engine.loadModuleBySymbol({type:b.y.CAMERA}),this.engine.loadModuleBySymbol({type:b.y.CANVAS,config:{canvas:this.canvas,container:c}}),this.engine.loadModuleBySymbol({type:b.y.SCHEDULER}),this.engine.loadModuleBySymbol({type:b.y.SENSORS});const[w,I]=await Promise.all([e.getModuleBySymbol(b.y.WEBGL_RENDERER),e.getModuleBySymbol(b.y.CAMERA)]);this.engineTick=new ue(this.engine,w.threeRenderer,(e=>{this.engine.getModuleBySymbol(b.y.ERROR_UI).then((t=>{this.setError(e),t.showError(x.ErrorType.GENERIC)}))})),this.apiConfig=await g.getConfigs("showcase"),this.setupOEmbedConsumer(this.settingOverrides.embedlyKey);const C=y.getFlags("showcase/"),R=C.has(Se.AR);this.loadPrefetchedData(this.initialViewId,R);const F=(0,ee.HG)(parseFloat(this.overrideParams.wts)),{labels:V,mt:Y,play:le,search:ce,q:de,qK:he,allowRating:pe,tiledmesh:me,newtags:fe,tagIcons:ge,[Pe.qV]:be}=this.overrideParams,Te=y.loggedIn;this.engine.loadModuleBySymbol({type:b.y.ERROR_UI,config:{container:this.container}}),this.engine.loadModuleBySymbol({type:b.y.SHOWCASE_WEBGL_CONTEXT_LOSS,config:{notificationDelayFrames:60}}),this.openingTool=(0,D.u)(a.settingsData,"0"!==fe,!0),this.forceLogin=this.openingTool===U.w1.NOTES&&!Te&&!T.yL();let Ae=this.editModePreferred;Ae&&this.forceLogin&&(We.warn("Cannot start in edit mode. Need to login to view note."),Ae=!1);const we=C.has($.b),ke=(0,Oe.z)(navigator.language),Re=C.has(J.BS)&&"0"!==ce,je=C.has(_e.i)?"0"!==pe:"1"===pe,Ue=this.inWorkshop&&Te&&je,He=Ue&&C.has(_e.j)?"0"!==pe:"1"===pe,Fe="1"===this.overrideParams.modelRatingDebug,Be=C.has(K.RV)?"0"!==ge:"1"===ge,Ke=C.has(G.iT)?"0"!==me:"1"===me,Ye=this.overrideParams.minConfidence?(0,De.uZ)(parseFloat(this.overrideParams.minConfidence),.01,1):void 0,$e=!("1"!==le&&!t.autoPlay&&!this.openingTool);this.needsFramebustToPlayXR=T.Ot()&&!T.PI("xr-spatial-tracking"),this.autoplay=!this.forceLogin&&(!T.yL()||$e&&!this.needsFramebustToPlayXR);const qe=C.has(Pe.y_)?"0"!==be:"1"===be,Ze=C.has(Pe.tK)?"0"!==this.overrideParams[Pe.nE]:"1"===this.overrideParams[Pe.nE],Qe={Features:{[Z.U]:!0,[q.s]:!0,[G.iT]:Ke,[z.Nj]:"0"!==V,[W.re]:"0"!==Y,[X.w]:"0"!==this.overrideParams.f,[X.Q]:C.has(X.Q),[Q.EU]:F,[$.b]:we,[xe.I]:C.has(xe.I),[_e.i]:Ue,[_e.j]:He,[J.BS]:Re,[Ne.B_]:!1,[Se.AR]:R,[K.RV]:Be,[Pe.y_]:qe,[Pe.tK]:Ze,[Ge]:"1"===this.overrideParams.roomBounds},"User Preferences":{[k.F.UnitType]:ke,[k.F.MeasurementSnapping]:!0,[k.F.MeasurementContinuousLines]:!0,[k.F.MeasurementUserNudgeSeen]:!1,[k.F.DollhouseUserNudgeSeen]:!1,[k.F.NotesModeNudgeSeen]:!1,[k.F.LastRatingPromptTime]:null,[k.F.SubscriberPromptDismissed]:!1,[k.F.TourTextNudgeDismissed]:!1,[k.F.TourMobileNavigationPromptSeen]:!1}};for(const e in Qe)for(const t in Qe[e]){if(void 0===Qe[e][t])continue;const i="User Preferences"===e?P.SettingPersistence.LOCAL_STORAGE:P.SettingPersistence.NONE;a.registerSetting(e,t,Qe[e][t],!0,i)}const Xe={[re.YS]:null,quickstart:this.quickstart,lang:this.overrideParams.lang,perf:this.overrideParams.perf,perfInterval:this.overrideParams.perfInterval,[Ie.r4]:(null===(i=this.apiConfig)||void 0===i?void 0:i.discover_space_url)||""};for(const e in Xe)a.updateSetting(e,Xe[e]);if(this.settingOverrides)for(const e in this.settingOverrides)a.updateSetting(e,this.settingOverrides[e]);const Je=new B(this.apiConfig),et=null!==(n=null==Je?void 0:Je.serialize())&&void 0!==n?n:[];if(this.loadInitialAppModules(et,w.gpuInfo,Qe),!N)try{await this.loginToModel(this.initialViewId,m)}catch(e){return void this.setError(e)}await this.engine.loadModuleBySymbol({type:b.y.USERS,config:{baseUrl:this.modelUrls.urlBase,api:g,viewId:this.initialViewId,queue:this.apiQueue}}),this.baseModelId=await this.loadViewsAndStorage(this.initialViewId,a);const tt=await this.setUserPolicySettings(Te,a,C),{pluginPolicies:it,newTagsEnabled:nt,objectTagsEnabled:st,storyToursFeature:rt}=tt;this.forceLogin&&this.openingTool===U.w1.NOTES&&await this.loginToNote(this.baseModelId),a.hasProperty(W.lc)||a.updateSetting(W.lc,this.apiConfig.embedly_key),this.loadInitialDataModules(Qe);const at=((e,t)=>new ye(e,t))(I,(await e.market.waitForData(Ee.M)).pose);e.commandBinder.hookCommand(oe.ju,!0,(()=>this.stopTourHook(e))),e.commandBinder.hookCommand(ae.rU,!0,(()=>this.stopTourHook(e)));try{await e.waitForLoadingModules()}catch(t){this.setError(t),e.tick()}const[ot,lt]=await Promise.all([e.market.waitForData(_.T),e.getModuleBySymbol(b.y.CAMERA_START)]),{details:ct,organizationId:dt}=ot.model;document.title=ct.name;const ut=lt.getStartingPose();!this.quickstart||ut&&(0,M.vl)(ut.mode)||(We.warn("Disabling quickstart. No panorama start position."),this.quickstart=!1,a.updateSetting("quickstart",!1));const{maxMeshQuality:ht,navPanoSize:pt,zoomPanoSize:mt,textureLODThreshold:ft}=(e=>{let t,i,n,s;return(0,T.tq)()?(0,T.tq)()&&(0,ne.W)(e)?(t=ie.S.ULTRA,i=se.eE[se.SL.STANDARD],n=se.eE[se.SL.HIGH],s=10):(t=ie.S.MEDIUM,i=se.eE[se.SL.STANDARD],n=se.eE[se.SL.HIGH],s=6):(t=ie.S.ULTRA,i=se.eE[se.SL.HIGH],n=se.eE[se.SL.ULTRAHIGH],s=20),{maxMeshQuality:t,navPanoSize:i,zoomPanoSize:n,textureLODThreshold:s}})(w.gpuInfo);We.info({maxMeshQuality:ht,navPanoSize:pt,zoomPanoSize:mt,textureLODThreshold:ft,gpuInfo:w.gpuInfo}),this.sceneLoader.setLoader((async()=>{var t;const i=await e.loadModuleBySymbol({type:b.y.SCENE,config:{cameraPoseProxy:at}});return"1"===(null!==(t=this.overrideParams.loadExamples)&&void 0!==t?t:"1")&&await(0,Ve.W)(),i.startLoading(),i})),await this.engine.loadModuleBySymbol({type:b.y.SWEEP_PANO,config:{navPanoSize:pt,zoomPanoSize:mt}}),await this.engine.loadModuleBySymbol({type:b.y.SKYBOX}),this.quickstart&&(this.loadPanoControls(Ae,at),this.engineTick.start()),this.engine.loadModuleBySymbol({type:b.y.PLUGIN_CONFIG_DATA_MODULE,config:{queue:this.storeQueue,modelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,pluginPolicies:it}}),this.engine.loadModuleBySymbol({type:b.y.SES,config:{overlayRoot:u}}),await this.engine.loadModuleBySymbol({type:b.y.PLUGIN,config:{pluginPolicies:it,editMode:Ae}}),await(await e.getModuleBySymbol(b.y.LOADING_GUI)).waitForPlaying,this.engine.loadModuleBySymbol({type:b.y.MOUSE_CURSOR,config:{container:this.container}});const gt=C.has("features/meshtrim")&&"0"!==this.overrideParams.allowMeshTrim;gt&&this.engine.loadModuleBySymbol({type:b.y.MESH_TRIM_DATA,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue}});const vt=function(e,{dracoDecoderPath:t,basisTranscoderPath:i}){let n="https://static.matterport.com/webgl-vendors/three/0.146.0/";return!/^https?:\/\//.test("https://static.matterport.com/webgl-vendors/three/0.146.0/")&&(n=`${e}https://static.matterport.com/webgl-vendors/three/0.146.0/`),{dracoDecoderPath:t||`${n}libs/draco/gltf/`,basisTranscoderPath:i||`${n}libs/basis/`}}(this.assetBasePath,{dracoDecoderPath:this.settingOverrides.dracoDecoderPath,basisTranscoderPath:this.settingOverrides.basisTranscoderPath});if(this.engine.loadModuleBySymbol({type:b.y.MODEL_MESH,config:{startingMode:this.quickstart?ut.mode:null,textureLOD:te.l.RAYCAST,textureLODThreshold:ft,colorizeRooms:"1"===this.overrideParams.colorizeRooms,colorizeChunks:"1"===this.overrideParams.colorizeChunks,wireframe:"1"===this.overrideParams.wireframe,meshTrimEnabled:gt,gltfConfig:vt}}),this.engine.loadModuleBySymbol({type:b.y.MODEL_MESH_QUALITY,config:{maxQuality:ht,textureLOD:te.l.RAYCAST,textureLODThreshold:ft,meshTrimEnabled:gt}}),this.engine.loadModuleBySymbol({type:b.y.VIEWMODE_CHANGE}),this.engine.loadModuleBySymbol({type:b.y.VIEWMODE,config:{startingMode:this.quickstart?ut.mode:null}}),this.engine.loadModuleBySymbol({type:b.y.ROOMS,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:b.y.SWEEP_VIEWDATA}),this.engine.loadModuleBySymbol({type:b.y.FLOORS,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:b.y.FLOORS_VIEWDATA,config:{startingFloorsVisibility:this.quickstart?ut.floorVisibility:void 0,allowFloorChanges:Qe.Features[X.w],focusBasedNav:Qe.Features[X.Q]}}),this.engine.loadModuleBySymbol({type:b.y.RENDER_TO_TEXTURE}),this.engine.loadModuleBySymbol({type:b.y.GUI,config:{workshopApp:this.inWorkshop,container:d,mainDiv:u,reactContainer:h,queue:this.apiQueue}}),this.engine.loadModuleBySymbol({type:b.y.TOOLS}),this.engine.loadModuleBySymbol({type:b.y.SHOWCASE_GUI}),this.engine.loadModuleBySymbol({type:b.y.INTERACTION_MODE}),this.engine.loadModuleBySymbol({type:b.y.CONTROLS_DOLLHOUSE}),this.engine.loadModuleBySymbol({type:b.y.CONTROLS_FLOORPLAN}),this.engine.loadModuleBySymbol({type:b.y.ORTHOGRAPHIC_CONTROLS}),this.engine.loadModuleBySymbol({type:b.y.CONTROLS_ZOOM,config:{enabled:"1"!==this.overrideParams.nozoom,tiles:"0"!==this.overrideParams.tiles}}),this.engine.loadModuleBySymbol({type:b.y.SHOWCASE_START}),this.engine.loadModuleBySymbol({type:b.y.NAVIGATION,config:{enableWheel:"1"===this.overrideParams.nozoom,focusBasedNav:Qe.Features[X.Q]}}),this.engine.loadModuleBySymbol({type:b.y.MESH_QUERY}),this.engine.loadModuleBySymbol({type:b.y.FLOOR_RAYCAST}),this.engine.loadModuleBySymbol({type:b.y.MESH_API_FIXUP}),this.engine.loadModuleBySymbol({type:b.y.SHOWCASE_HOTKEYS}),this.quickstart||(this.engineTick.start(),this.loadPanoControls(Ae,at)),await this.engine.waitForLoadingModules(),"0"!==this.overrideParams.portal&&(this.engine.loadModuleBySymbol({type:b.y.SWEEP_PORTAL}),this.engine.loadModuleBySymbol({type:b.y.SWEEP_PORTAL_NAVIGATION})),this.engine.loadModuleBySymbol({type:b.y.SWEEP_PIN,config:{showPinsInFloorplanDollhouse:"0"!==this.overrideParams.pin}}),this.engine.loadModuleBySymbol({type:b.y.SWEEP_PIN_NAVIGATION}),this.engine.loadModuleBySymbol({type:b.y.SWEEP_PUCKS,config:{checkRenderModes:()=>{const t=e.market.tryGetData(L.k);if(t&&t.isTourActive())return!1;const i=e.market.tryGetData(j.O);return!!i&&i.isInside()}}}),this.engine.loadModuleBySymbol({type:b.y.LABEL_DATA,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:b.y.LABEL_RENDERER}),this.engine.loadModuleBySymbol({type:b.y.PINS,config:{newTagsEnabled:nt,tagIconsEnabled:Be}}),this.engine.loadModuleBySymbol({type:b.y.ANNOTATIONS}),this.loadUserPolicyModules(this.initialViewId,Te,a,C,Je,tt,Be,dt||void 0),this.engine.loadModuleBySymbol({type:b.y.FAT_RAYCAST,config:{debug:"1"===this.overrideParams.fcdbg}}),this.engine.loadModuleBySymbol({type:b.y.LINES}),this.engine.loadModuleBySymbol({type:b.y.MATTERTAG_DATA,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,parserOptions:{model:this.initialViewId,supportLinks:!this.overrideParams.mls||"0"===this.overrideParams.mls,keepLinkLabels:!0},queue:this.storeQueue,newTagsEnabled:nt}}),this.engine.loadModuleBySymbol({type:b.y.MATTERTAG_VIEWDATA}),this.engine.loadModuleBySymbol({type:b.y.MATTERTAG_MESH}),this.engine.loadModuleBySymbol({type:b.y.SWEEP_PATH}),this.engine.loadModuleBySymbol({type:b.y.TOUR_DATA,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,storyToursFeature:rt,looping:"1"===this.overrideParams.lp,queue:this.storeQueue,baseModelId:this.baseModelId}}),this.engine.loadModuleBySymbol({type:b.y.TOUR_CONTROLS}),this.engine.loadModuleBySymbol({type:b.y.PRE_RENDER}),this.engine.loadModuleBySymbol({type:b.y.CURSORS}),this.engine.loadModuleBySymbol({type:b.y.CURSOR_MESH}),this.engine.loadModuleBySymbol({type:b.y.CURSOR_CONTROLLER}),this.engine.loadModuleBySymbol({type:b.y.SCAN_INFO,config:{baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:b.y.DEEP_LINKS}),this.engine.loadModuleBySymbol({type:b.y.QUICK_MENUS}),this.engine.loadModuleBySymbol({type:b.y.CURRENT_PANO_MARKER}),this.engine.loadModuleBySymbol({type:b.y.SCREENSHOTS}),this.engine.loadModuleBySymbol({type:b.y.VIDEO_RECORDER}),this.engine.loadModuleBySymbol({type:b.y.MEASUREMENT_MODE,config:{baseUrl:this.modelUrls.urlBase,readonly:!0}}),this.engine.loadModuleBySymbol({type:b.y.SNAPSHOTS_EDITOR}),this.engine.loadModuleBySymbol({type:b.y.DWELL_ANALYTICS}),(Re||this.inWorkshop)&&this.engine.loadModuleBySymbol({type:b.y.SEARCH,config:{urlQuery:de||((0,T.Q0)()?"":de),urlQueryKeywords:he,workshop:this.inWorkshop,showcaseSearchEnabled:Re}}),st&&nt){a.updateSetting(Me.QA,!0);const e=a.settingsData.tryGetProperty(A.fc,!1);this.engine.loadModuleBySymbol({type:b.y.OBJECT_TAG_SUGGESTIONS_DATA,config:{debug:!!this.overrideParams.debug,baseUrl:this.modelUrls.urlBase,baseModelId:this.baseModelId,minConfidence:Ye,hasLayersTool:e}})}this.inWorkshop&&e.loadModuleBySymbol({type:b.y.TRASH,config:{baseModelId:this.baseModelId,queue:this.storeQueue,baseUrl:this.modelUrls.urlBase}}),this.engine.loadModuleBySymbol({type:b.y.WEBXR,config:{enableEventPositions:!1,framebufferScaling:Math.min(this.overrideParams.xrframebuffer?parseFloat(this.overrideParams.xrframebuffer):0,1),tracking:+(null!==(s=this.overrideParams.xrtracking)&&void 0!==s?s:0),navPanoSize:pt,xrBrowsersUnlocked:Ze}}),Ue&&this.engine.loadModuleBySymbol({type:b.y.MODEL_RATING,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,queue:this.storeQueue,promptEnabled:He,debug:Fe}}),Qe.Features[Ge]&&this.engine.loadModuleBySymbol({type:b.y.ROOM_BOUNDS,config:{}}),this.engine.loadModuleBySymbol({type:b.y.AUTOMATION_SUPPORT}),this.engine.loadModuleBySymbol({type:b.y.REACT_THREE_FIBER_EXTERNAL}),await this.engine.waitForLoadingModules(),this.modulesLoadedPromise.resolve()}async setUserPolicySettings(e,t,i){let n=!1;const s=await this.engine.market.waitForData(Ue.n);if(e){const e=s.hasPolicy(Y.uE),r=(await this.engine.market.waitForData(He.m)).isCommenter();n=e&&r,n&&(t.updateSetting(Y.IA,n),t.updateSetting(Y.Mp,n),t.updateSetting(Y.pE,n&&i.has(Y.pE)))}const r=this.overrideParams.newtags,a="1"===r||!this.overrideParams.applicationKey&&"0"!==r&&s.hasPolicy(K.i1),o=this.overrideParams.objectTagSuggestions,l=s.hasPolicy(Me.MW)?"0"!==o:"1"===o,c=this.overrideParams.stories,d="1"===c||"0"!==c&&s.hasPolicy(C.R3);t.updateSetting(C.lj,d),t.updateSetting(K.RY,a),this.engine.getModuleBySymbol(b.y.ANALYTICS).then((e=>{e.trackFeatures(`${K.Qy}:${a}`),e.trackFeatures(`${C.Yi}:${d}`)}));const u={enabled:s.hasPolicy("spaces.plugins"),canConfig:s.hasPolicy(Be),canDebug:s.hasPolicy("spaces.plugins.debug")};return t.settingsData.setProperty(Be,u.canConfig&&u.enabled),this.newTagPolicyPromise.resolve(),{newTagsEnabled:a,notesEnabled:n,objectTagsEnabled:l,storyToursFeature:d,pluginPolicies:u}}loadUserPolicyModules(e,t,i,n,s,r,a,o){const{notesEnabled:l,newTagsEnabled:c,objectTagsEnabled:d}=r;this.engine.market.waitForData(Ue.n).then((e=>{!async function(e,t,i,n,s,r,a,o){const l=t.subscriber_prompt_denylist||Ne.ED.domainDenylist,{popupAllowed:c,bannerAllowed:d}=await ke({urlValues:i,settingsData:e.settingsData,flags:n,loggedIn:s,inWorkshop:a,hasPolicy:r.hasPolicy.bind(r),domainDenylist:l});if(we.L.debug(`popupAllowed: ${c}, bannerAllowed: ${d}`),c||d){e.updateSetting(Ne.B_,!0);const n=c&&("1"===i[Ne.ke.forcePopup]||!!o.get("subscriber_prompt_a_popup")),s=d||"1"===i[Ne.ke.forceBanner],r=t.subscriber_prompt_a_delay_ms||Ne.ED.popupDelay;we.L.debug(`popupEnabled: ${n}, bannerEnabled: ${s}`),e.registerSetting("Subscriber Prompt",Ne.My,{popupDelay:r,popupEnabled:n,bannerEnabled:s},!1,P.SettingPersistence.NONE)}}(i,this.apiConfig,this.overrideParams,n,t,e,this.inWorkshop,s)})),(l||c)&&(this.engine.loadModuleBySymbol({type:b.y.ATTACHMENTS,config:{oEmbedConsumer:this.oEmbedConsumer,baseUrl:this.modelUrls.urlBase,organizationId:o}}),l&&this.engine.loadModuleBySymbol({type:b.y.NOTES,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase,readonly:!1}}),c&&(this.engine.loadModuleBySymbol({type:b.y.TAGS,config:{objectTagsEnabled:d,viewId:e,tagIconsEnabled:a}}),this.engine.loadModuleBySymbol({type:b.y.ORDERED_LISTS,config:{workshop:this.inWorkshop,baseUrl:this.modelUrls.urlBase}})))}async unload(e){var t;he.u.removeSharedCache(this.prefetchCache);try{await e.commandBinder.issueCommand(new ae.vy)}catch(e){We.debug("showcase unload called before tour controls registered, ignoring stopTour",e)}await this.uiLoading,await(null===(t=this.showcaseGui)||void 0===t?void 0:t.unloadUi().catch((e=>{We.error(e)}))),e.commandBinder.resetHooks(),this.bindings.forEach((e=>e.cancel())),this.bindings.length=0}async loginToModel(e,t){We.info(`Loading model view: ${e}`);const i=this.forceLogin;await t.getApi().modelExists(e,{ignorePrefetch:i}).catch((async t=>{if(i&&(t instanceof ce.GT||t instanceof ce.V2))await this.showLoginScreen(e);else{if(!(t instanceof ce.GT))throw t;await this.login()}}))}async loginToNote(e){this.forceLogin&&await this.showLoginScreen(e)}loadInitialAppModules(e,t,i){this.engine.loadModuleBySymbol({type:b.y.RAYCASTER}),this.engine.loadModuleBySymbol({type:b.y.INPUT,config:{disableWheel:"0"===this.overrideParams.wh,pointerPreventDefault:!this.settingOverrides||!this.settingOverrides.hasOwnProperty("pointerPreventDefault")||!!this.settingOverrides.pointerPreventDefault,rootNode:this.container.getRootNode()}}),this.engine.getModuleBySymbol(b.y.ANALYTICS).then((i=>{i.setOptions({gpu:t}),i.trackFeatures(...e)}))}loadPrefetchedData(e,t){let i=t?pe.h.CACHE:pe.h.NONE;const n=this.overrideParams.prefetch;n&&Object.values(pe.h).includes(n)&&(i=n),this.prefetchCache=new ge.R({baseUrl:this.apiHost,prefetchPolicy:i,initialData:fe.t.getQuery("GetModelPrefetch"),query:me.GetModelPrefetch,variables:{modelId:e}}),he.u.addSharedCache(this.prefetchCache)}async loadViewsAndStorage(e,t){await this.engine.loadModuleBySymbol({type:b.y.LAYERS,config:{viewId:e,baseUrl:this.apiHost,readonly:!0,inWorkshop:this.inWorkshop,modulesLoadedPromise:this.modulesLoadedPromise}});const i=(await this.engine.market.waitForData(w.R)).getBaseModelId();return this.engine.loadModuleBySymbol({type:b.y.STORAGE,config:{modelId:i,baseUrl:this.apiHost}}),i}async loadAnalytics(){this.engine.loadModuleBySymbol({type:b.y.ANALYTICS}),this.engine.loadModuleBySymbol({type:b.y.SHOWCASE_ANALYTICS,config:{appName:this.settingOverrides&&this.settingOverrides.appName||"showcase",provider:this.overrideParams.analytics,apiQueue:this.apiQueue,analyticsQueue:this.analyticsQueue}})}loadInitialDataModules(e){this.engine.loadModuleBySymbol({type:b.y.SHOWCASE_SETTINGS,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:b.y.MODEL_DATA,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue,tiledMeshEnabled:e.Features[G.iT]}});const t=!(T.tq()||this.needsFramebustToPlayXR),i=!!this.openingTool||void 0,n=!!this.openingTool||void 0,s=!!this.openingTool||void 0;this.engine.loadModuleBySymbol({type:b.y.LOADING_GUI,config:{noUi:this.forceLogin,inWorkshop:this.inWorkshop,viewId:this.initialViewId,baseUrl:this.modelUrls.urlBase,quickstart:this.quickstart,autoplay:this.autoplay,allowPlayInIframe:t,startNewTab:"1"===this.overrideParams.nt,hideTitle:n,hideBranding:s,hidePoweredBy:i,container:this.container}}),this.engine.loadModuleBySymbol({type:b.y.SNAPSHOTS_DATA,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:b.y.CAMERA_START,config:{baseModelId:this.baseModelId,baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}}),this.engine.loadModuleBySymbol({type:b.y.SWEEP_DATA,config:{baseUrl:this.modelUrls.urlBase,readonly:!0,queue:this.storeQueue}})}loadPanoControls(e,t){this.uiLoading=this.loadUI(!(e||this.forceLogin)),this.engine.loadModuleBySymbol({type:b.y.CONTROLS_COMMON,config:{cameraPoseProxy:t}}),this.engine.loadModuleBySymbol({type:b.y.CONTROLS_INSIDE})}async loadSdkModule(e,t,i,n){const s=this.engine,r=this.assetBasePath,a=async function(){try{const t=await e.getAppKey("showcase","sdk");if(t)return t}catch(e){}return{client:`${r}sdk/sdk-client.js`,interface:`${r}sdk/sdk-interface.js`,sandbox:`${r}sdk/sandbox.html`}}(),o=async e=>{const n=await Promise.resolve().then(l.bind(l,52502));await i,await n.loadInterface(e,s,await a,t,await this.oEmbedConsumer)};return new Promise((async e=>{await s.loadModuleBySymbol({type:b.y.SDK,config:{applicationKey:n||null,validationUrl:this.apiHost+"/api/v1/user/",getSdkConfig:a,setupExternalSdk:o,onClientConnect(t){t&&de.w.setToken(t),e(!!t),Promise.all([s.market.waitForData(w.R),s.market.waitForData(Fe.e)]).then((([e,t])=>{t.setProperty(A.Pe,!1),t.setProperty(A.Wp,!1)}))},queue:this.apiQueue}})}))}loadUI(e){return Promise.all([this.engine.getModuleBySymbol(b.y.GUI),this.engine.getModuleBySymbol(b.y.SHOWCASE_GUI)]).then((([t,i])=>{this.guiModule=t,this.showcaseGui=i,e&&t.loadUi(i.loadUi)}))}async showLoginScreen(e){var t,i;return(await this.engine.loadModuleBySymbol({type:b.y.LOGIN_REDIRECT,config:{loginUrl:(null===(t=this.apiConfig)||void 0===t?void 0:t.authn_login_url)||"",registerUrl:(null===(i=this.apiConfig)||void 0===i?void 0:i.account_register_url)||"",modelId:e,baseUrl:this.modelUrls.urlBase,container:this.container}})).loadUi()}login(){return new Promise((async e=>{const t=await this.engine.loadModuleBySymbol({type:b.y.SHOWCASE_PASSWORD,config:{modelId:this.initialViewId,baseUrl:this.modelUrls.urlBase,container:this.container}});this.engine.subscribe(I.L,(()=>{t.hidePasswordScreen(),e()})),t.showPasswordScreen()}))}setupOEmbedConsumer(e){const t={embedlyKey:e||this.apiConfig.embedly_key,instagramAppId:this.apiConfig.instagram_app_id,instagramClientToken:this.apiConfig.instagram_client_token,googleMapsApiKey:this.apiConfig.google_maps_key};this.oEmbedDeferred.resolve(new je.a_(this.apiQueue,t))}}var Ye=l(22819);window.addEventListener("app-start",(e=>{!function(e){const t=new S,i=new Ke(!1,e);t.loadApplication(i,i.setError.bind(i)),T.Jm()||document.body.classList.add("no-touch");!function(e){class t{constructor(e){this.windowContext=e}async connect(t,i={}){const n=await e.getModuleBySymbol(b.y.SDK);return Ye.tK.connect(new $e(n,i),new qe,this.windowContext)}}window.MP_SDK||Object.defineProperty(window,"MP_SDK",{get(){let e=window;return window!==window.top&&(e=window.parent),window.opener&&(e=window.opener),new t(e)}})}(t)}(e.detail.config||{})}),!0);class $e{constructor(e,t){this.sdk=e,this.options=t}connect(){return this.sdk.connect(`${window.location.protocol}//${window.location.host}`,this.options)}cancelConnecting(){}}class qe{getFactory(e){return e.messengerFactory}}})()})();